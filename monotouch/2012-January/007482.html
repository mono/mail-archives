<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Unknown selector and garbage collection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Unknown%20selector%20and%20garbage%20collection&In-Reply-To=%3CCAP-t25__kqX9wDKkDA3%2B-iyMhAUs8-nqui_SzTc-bfMaGqkBYg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007475.html">
   <LINK REL="Next"  HREF="007483.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Unknown selector and garbage collection</H1>
    <B>Rolf Bjarne Kvinge</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Unknown%20selector%20and%20garbage%20collection&In-Reply-To=%3CCAP-t25__kqX9wDKkDA3%2B-iyMhAUs8-nqui_SzTc-bfMaGqkBYg%40mail.gmail.com%3E"
       TITLE="[MonoTouch] Unknown selector and garbage collection">rolf at xamarin.com
       </A><BR>
    <I>Mon Jan 16 12:20:54 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="007475.html">[MonoTouch] Unknown selector and garbage collection
</A></li>
        <LI>Next message: <A HREF="007483.html">[MonoTouch] Unknown selector and garbage collection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7482">[ date ]</a>
              <a href="thread.html#7482">[ thread ]</a>
              <a href="subject.html#7482">[ subject ]</a>
              <a href="author.html#7482">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

We do know about this problem and we've tried to come up with at least a
partial solution, which will be included in MonoTouch 5.2 when it comes
out. I can't say much about it right now (partially because it's quite a
complex topic, and I wasn't the one adding this new support), but it is
designed to improve this situation a lot. If you download the latest beta
(5.1.1) you can try it out already (enable sgen and add --new-refcount to
mtouch additional arguments). Documentation about exactly what it fixes
(and what it doesn't) is being written, and should be done when 5.2 is
released.

Unfortunately it is impossible to fix this problem 100% (which would be to
never crash due to objects being freed, while at the same time not leak any
objects, no matter what C# code you wrote), because of the differences
between the managed world and the underlying iOS world. The GC will still
need some help from the developer, but hopefully we've been able to reduce
those cases a lot.

Rolf

On Sun, Jan 15, 2012 at 11:23 PM, rnendel &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">rnendel at yahoo.com</A>&gt; wrote:

&gt;<i> This is going to sound negative, but for all of us Monotouch enthusiasts,
</I>&gt;<i> please read between the lines at the heart of the issue and not just read
</I>&gt;<i> it
</I>&gt;<i> as &quot;flaming&quot; - for monotouch developers, please just read.
</I>&gt;<i> -------
</I>&gt;<i> The changes to the garbage collector have got to get fixed.  Getting tired
</I>&gt;<i> of chasing &lt;unrecognized selector sent to instance&gt; exceptions.  Not all
</I>&gt;<i> variables can be declared and/or initialized at class scope (that seems to
</I>&gt;<i> be the &quot;quick fix&quot; given out for the problem, but really doesn't solve
</I>&gt;<i> much)
</I>&gt;<i> and I have seen zero productive feedback to anyone reporting the issue
</I>&gt;<i> (which many have).
</I>&gt;<i>
</I>&gt;<i> Part of the c# pattern is a reliable garbage collector that behaves in a
</I>&gt;<i> predictable manner.  The use of lambda expressions and a reliance on
</I>&gt;<i> predictable behavior based on reference count is a key part of what c# is
</I>&gt;<i> all about.  Requiring variables to be declared at class scope, or allowing
</I>&gt;<i> these exceptions to continue with &quot;quick fix&quot; suggestions really doesn't
</I>&gt;<i> help much - we're talking about &quot;core language functionality&quot; here, not
</I>&gt;<i> optional features.
</I>&gt;<i>
</I>&gt;<i> The attractiveness of c# over objective C is NOT just the language
</I>&gt;<i> semantics/framework, but also the behavior of the backend components, such
</I>&gt;<i> as a reliable garbage collector.  This is c# not a &quot;kinda c# hack&quot; right?
</I>&gt;<i> The objective of MT is a &quot;quicker learning curve&quot; by removing the
</I>&gt;<i> Objective-C component.  However, if the development pattern must change
</I>&gt;<i> (and
</I>&gt;<i> take more time tracking down bugs) because of faulty behavior, then the
</I>&gt;<i> &quot;value add&quot; of MT is greatly reduced.
</I>&gt;<i>
</I>&gt;<i> So, please, do something about this or many people coming from stable c#
</I>&gt;<i> elsewhere will start to believe that learning Objective-C really isn't such
</I>&gt;<i> a bad thing after all.  MT is designed to attract existing c# developers,
</I>&gt;<i> but if the MT c# implementation and run-time behavior does not match or
</I>&gt;<i> come
</I>&gt;<i> close to what c# developers would expect will they have a &quot;positive&quot;
</I>&gt;<i> experience or a negative one.
</I>&gt;<i> --------
</I>&gt;<i> Again, to all those who would respond as MT enthusiasts - believe me, I can
</I>&gt;<i> imagine what you'll say, so please don't trash up the thread with flame @
</I>&gt;<i> me, or whatever.  The garbage collector is a real problem right now and has
</I>&gt;<i> gotta get fixed.  And, no, I'm not a noob - been developing in MT for over
</I>&gt;<i> a
</I>&gt;<i> year and have 20+ years professional development under my belt (mostly in
</I>&gt;<i> the PC/console games industry).  I simply want this solution to &quot;work&quot; as
</I>&gt;<i> expected for the language being used, as do we all I would assume.
</I>&gt;<i>
</I>&gt;<i> So, devs, please respond and let's get some information going on the
</I>&gt;<i> garbage
</I>&gt;<i> collector changes.  Which of the various errors reported are *really* due
</I>&gt;<i> to
</I>&gt;<i> an IOS bug and which are due to the collector.  So far it is all very vague
</I>&gt;<i> and no real information about a &quot;fix&quot; has been provided that I can tell.
</I>&gt;<i> I'd ask that you stop addressing specific scenarios, like &quot;when I click my
</I>&gt;<i> button I get an &lt;unrecognized selector&gt; in the event handler&quot; and begin
</I>&gt;<i> addressing the overall issue, which is the garbage collector.
</I>&gt;<i>
</I>&gt;<i> Thanks.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://monotouch.2284126.n4.nabble.com/Unknown-selector-and-garbage-collection-tp4297921p4297921.html">http://monotouch.2284126.n4.nabble.com/Unknown-selector-and-garbage-collection-tp4297921p4297921.html</A>
</I>&gt;<i> Sent from the MonoTouch mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120116/0c091a7a/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120116/0c091a7a/attachment.html</A>&gt;
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007475.html">[MonoTouch] Unknown selector and garbage collection
</A></li>
	<LI>Next message: <A HREF="007483.html">[MonoTouch] Unknown selector and garbage collection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7482">[ date ]</a>
              <a href="thread.html#7482">[ thread ]</a>
              <a href="subject.html#7482">[ subject ]</a>
              <a href="author.html#7482">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
