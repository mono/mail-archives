<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] XML Deserialization exception when using web service method that has OUT parameters - any workarounds?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20XML%20Deserialization%20exception%20when%20using%20web%20service%0A%20method%20that%20has%20OUT%20parameters%20-%20any%20workarounds%3F&In-Reply-To=%3CCAFbLP%2BgN3ynMHGo-BjRpdh6-8%3DDAbtZ3iCUAn5Fqcwaw3v%2BG0A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009080.html">
   <LINK REL="Next"  HREF="009101.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] XML Deserialization exception when using web service method that has OUT parameters - any workarounds?</H1>
    <B>Ren&#233; Ruppert</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20XML%20Deserialization%20exception%20when%20using%20web%20service%0A%20method%20that%20has%20OUT%20parameters%20-%20any%20workarounds%3F&In-Reply-To=%3CCAFbLP%2BgN3ynMHGo-BjRpdh6-8%3DDAbtZ3iCUAn5Fqcwaw3v%2BG0A%40mail.gmail.com%3E"
       TITLE="[MonoTouch] XML Deserialization exception when using web service method that has OUT parameters - any workarounds?">rene.ruppert at googlemail.com
       </A><BR>
    <I>Tue Apr 10 13:31:39 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009080.html">[MonoTouch] my app icon is now showing as a splash screen
</A></li>
        <LI>Next message: <A HREF="009101.html">[MonoTouch] Grid menu with large icons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9071">[ date ]</a>
              <a href="thread.html#9071">[ thread ]</a>
              <a href="subject.html#9071">[ subject ]</a>
              <a href="author.html#9071">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

 I have submitted a bug (4367, private) but I'm looking for a workaround.
The problem: I'm consuming a webservice (classic web services) and it has a
method

public void HasPermissionsForUser(

[...]

out bool HasPermissionsForUserResult,

[System.Xml.Serialization.XmlIgnoreAttribute()] out
boolHasPermissionsForUserResultSpecified

)


It is supposed to return a BOOL but the generated reference file (using
VS2010) instead creates a &quot;void&quot; method that has an &quot;out&quot; parameter for the
return value. It is still working, at least on Windows. In MT it crashes
with the exception below.

It is not limited to that one method. All methods that have an &quot;out bool&quot;
crash.


Any ideas how to ship around it until it has been fixed by Xamarin?


General exception: Array index is out of range.
  at (wrapper stelemref) object:virt_stelemref_object (intptr,object)
  at System.Xml.Serialization.XmlTypeMapMember.SetValueSpecified
(System.Object ob, Boolean value) [0x0000c] in
/Developer/MonoTouch/Source/mono/mcs/class/System.XML/System.Xml.Serialization/XmlTypeMapMember.cs:200
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.SetMemberValue
(System.Xml.Serialization.XmlTypeMapMember member, System.Object ob,
System.Object value, Boolean isValueList) [0x0002d] in
/Developer/MonoTouch/Source/mono/mcs/class/System.XML/System.Xml.Serialization/XmlSerializationReaderInterpreter.cs:585
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.SetMemberValueFromAttr
(System.Xml.Serialization.XmlTypeMapMember member, System.Object ob,
System.Object value, Boolean isValueList) [0x00028] in
/Developer/MonoTouch/Source/mono/mcs/class/System.XML/System.Xml.Serialization/XmlSerializationReaderInterpreter.cs:596
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadMessage
(System.Xml.Serialization.XmlMembersMapping typeMap) [0x00057] in
/Developer/MonoTouch/Source/mono/mcs/class/System.XML/System.Xml.Serialization/XmlSerializationReaderInterpreter.cs:125
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadRoot ()
[0x0004c] in
/Developer/MonoTouch/Source/mono/mcs/class/System.XML/System.Xml.Serialization/XmlSerializationReaderInterpreter.cs:92
  at System.Xml.Serialization.XmlSerializer.Deserialize
(System.Xml.Serialization.XmlSerializationReader reader) [0x0001c] in
/Developer/MonoTouch/Source/mono/mcs/class/System.XML/System.Xml.Serialization/XmlSerializer.cs:361
, ResumeMinutes=-1, ResumeTime=12/31/9999 11:59:59 PM,
ServiceFaultCode=UNKNOWN_ERROR]
[FAIL] TestHasPermissions :   Failed: [APIError: DataroomID=-1,
Description=General exception: Array index is out of range.
  at (wrapper stelemref) object:virt_stelemref_object (intptr,object)
  at System.Xml.Serialization.XmlTypeMapMember.SetValueSpecified
(System.Object ob, Boolean value) [0x0000c] in
/Developer/MonoTouch/Source/mono/mcs/class/System.XML/System.Xml.Serialization/XmlTypeMapMember.cs:200
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.SetMemberValue
(System.Xml.Serialization.XmlTypeMapMember member, System.Object ob,
System.Object value, Boolean isValueList) [0x0002d] in
/Developer/MonoTouch/Source/mono/mcs/class/System.XML/System.Xml.Serialization/XmlSerializationReaderInterpreter.cs:585
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.SetMemberValueFromAttr
(System.Xml.Serialization.XmlTypeMapMember member, System.Object ob,
System.Object value, Boolean isValueList) [0x00028] in
/Developer/MonoTouch/Source/mono/mcs/class/System.XML/System.Xml.Serialization/XmlSerializationReaderInterpreter.cs:596
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadMessage
(System.Xml.Serialization.XmlMembersMapping typeMap) [0x00057] in
/Developer/MonoTouch/Source/mono/mcs/class/System.XML/System.Xml.Serialization/XmlSerializationReaderInterpreter.cs:125
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadRoot ()
[0x0004c] in
/Developer/MonoTouch/Source/mono/mcs/class/System.XML/System.Xml.Serialization/XmlSerializationReaderInterpreter.cs:92
  at System.Xml.Serialization.XmlSerializer.Deserialize
(System.Xml.Serialization.XmlSerializationReader reader) [0x0001c] in
/Developer/MonoTouch/Source/mono/mcs/class/System.XML/System.Xml.Serialization/XmlSerializer.cs:361
, ResumeMinutes=-1, ResumeTime=12/31/9999 11:59:59 PM,
ServiceFaultCode=UNKNOWN_ERROR]
  Expected: True

Ren&#233;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120410/c5931db2/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120410/c5931db2/attachment.html</A>&gt;
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009080.html">[MonoTouch] my app icon is now showing as a splash screen
</A></li>
	<LI>Next message: <A HREF="009101.html">[MonoTouch] Grid menu with large icons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9071">[ date ]</a>
              <a href="thread.html#9071">[ thread ]</a>
              <a href="subject.html#9071">[ subject ]</a>
              <a href="author.html#9071">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
