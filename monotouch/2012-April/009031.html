<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Crash problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Crash%20problem&In-Reply-To=%3C7F97B03DB6DACB45AB6E5C5E1267AD0424550ED6%40MXXSLAUS001.xsl.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009030.html">
   <LINK REL="Next"  HREF="009032.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Crash problem</H1>
    <B>Dean Cleaver</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Crash%20problem&In-Reply-To=%3C7F97B03DB6DACB45AB6E5C5E1267AD0424550ED6%40MXXSLAUS001.xsl.com%3E"
       TITLE="[MonoTouch] Crash problem">dean.cleaver at xceptionsoftware.com
       </A><BR>
    <I>Fri Apr  6 23:38:29 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009030.html">[MonoTouch] Crash problem
</A></li>
        <LI>Next message: <A HREF="009032.html">[MonoTouch] Crash problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9031">[ date ]</a>
              <a href="thread.html#9031">[ thread ]</a>
              <a href="subject.html#9031">[ subject ]</a>
              <a href="author.html#9031">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok - have slightly more information, but no idea how to correct it.

This seems to happen every time if the UI is updated while an Action Sheet is open. My code polls in the background for updates, so if a user opens an action sheet, then it polls and finds an update, and adds the update to a table, when the user clicks a button on the action sheet it crashes - every time.

I am certain that all the polling code is invoked on the main thread for the updates etc - what else can I look at to try to fix it?

Dino

From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>] On Behalf Of Dean Cleaver
Sent: Friday, April 06, 2012 5:21 PM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
Subject: [MonoTouch] Crash problem

Can anyone shed light on this fault - looks to be a problem in dismissing an action sheet, but it doesn't appear to be a problem in my code. It's relatively random.


Exception Type:  EXC_BAD_ACCESS (SIGABRT)

Exception Codes: KERN_INVALID_ADDRESS at 0xc06fa6c8

Crashed Thread:  0



Thread 0 name:  Dispatch queue: com.apple.main-thread

Thread 0 Crashed:

0   libsystem_kernel.dylib        0x32ced32c __pthread_kill + 8

1   libsystem_c.dylib             0x30b3f208 pthread_kill + 48

2   libsystem_c.dylib             0x30b38298 abort + 88

3   ...rLogicFlashValetiPhoneValet

0x00d6c62c mono_handle_native_sigsegv (mini-exceptions.c:2255)

4   ...rLogicFlashValetiPhoneValet

0x00d4f544 mono_sigsegv_signal_handler (mini.c:5923)

5   libsystem_c.dylib             0x30b497e6 _sigtramp + 42

6   UIKit                         0x32425c14 -[UITabBar(UITabBarInternal) _alertWillShow:duration:] + 628

7   UIKit                         0x322e0fe0 -[UIActionSheet(Private) _slideSheetOut:] + 980

8   UIKit                         0x322e0b9c -[UIActionSheet dismissWithClickedButtonIndex:animated:] + 964

9   UIKit                         0x322e07c6 -[UIActionSheet(Private) _buttonClicked:] + 290

10  CoreFoundation                0x36eae3f6 -[NSObject performSelector:withObject:withObject:] + 46

11  UIKit                         0x321c1fa8 -[UIApplication sendAction:to:from:forEvent:] + 56

12  UIKit                         0x321c1f64 -[UIApplication sendAction:toTarget:fromSender:forEvent:] + 24

13  UIKit                         0x321c1f42 -[UIControl sendAction:to:forEvent:] + 38

14  UIKit                         0x321c1cb2 -[UIControl(Internal) _sendActionsForEvents:withEvent:] + 486

15  UIKit                         0x321c25ea -[UIControl touchesEnded:withEvent:] + 470

16  UIKit                         0x321c0acc -[UIWindow _sendTouchesForEvent:] + 312

17  UIKit                         0x321c04ba -[UIWindow sendEvent:] + 374

18  UIKit                         0x321a6836 -[UIApplication sendEvent:] + 350

19  UIKit                         0x321a60dc _UIApplicationHandleEvent + 5820

20  GraphicsServices              0x32f53224 PurpleEventCallback + 876

21  CoreFoundation                0x36f2851c __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 32

22  CoreFoundation                0x36f284be __CFRunLoopDoSource1 + 134

23  CoreFoundation                0x36f2730c __CFRunLoopRun + 1364

24  CoreFoundation                0x36eaa49e CFRunLoopRunSpecific + 294

25  CoreFoundation                0x36eaa366 CFRunLoopRunInMode + 98

26  GraphicsServices              0x32f52432 GSEventRunModal + 130

27  UIKit                         0x321d4e76 UIApplicationMain + 1074

28  ...rLogicFlashValetiPhoneValet

0x004cc47c wrapper_managed_to_native_MonoTouch_UIKit_UIApplication_UIApplicationMain_int_string___intptr_intptr (monotouch.dll.6.s:47515)

29  ...rLogicFlashValetiPhoneValet

0x0086db24 KleverLogic_FlashValet_iPhone_Valet_Application_Main_string__ (KleverLogicFlashValetiPhoneValet.exe.6.s:489)

30  ...rLogicFlashValetiPhoneValet

0x00c2dfc8 wrapper_runtime_invoke_object_runtime_invoke_dynamic_intptr_intptr_intptr_intptr (mscorlib.dll.6.s:166630)

31  ...rLogicFlashValetiPhoneValet

0x00d51884 mono_jit_runtime_invoke (mini.c:5786)

32  ...rLogicFlashValetiPhoneValet

0x00e0a158 mono_runtime_invoke (object.c:2757)

33  ...rLogicFlashValetiPhoneValet

0x00e0e4f0 mono_runtime_exec_main (object.c:3932)

34  ...rLogicFlashValetiPhoneValet

0x00e13a58 mono_runtime_run_main (object.c:3562)

35  ...rLogicFlashValetiPhoneValet

0x00d5867c mono_jit_exec (driver.c:1112)

36  ...rLogicFlashValetiPhoneValet

0x00d4cad4 main (main.m:1716)

37  ...rLogicFlashValetiPhoneValet

0x000020fc start + 44

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120406/66f66a71/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120406/66f66a71/attachment.html</A>&gt;
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009030.html">[MonoTouch] Crash problem
</A></li>
	<LI>Next message: <A HREF="009032.html">[MonoTouch] Crash problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9031">[ date ]</a>
              <a href="thread.html#9031">[ thread ]</a>
              <a href="subject.html#9031">[ subject ]</a>
              <a href="author.html#9031">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
