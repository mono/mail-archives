<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] SPAM-LOW: Re: Your sqlite3 version is old - please upgrade to at least v3.5.0!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20SPAM-LOW%3A%20Re%3A%20Your%20sqlite3%20version%20is%20old%20-%20please%0A%20upgrade%20to%20at%20least%20v3.5.0%21&In-Reply-To=a99678730910260355x59eb8a6dw6c129bf4bd79ce07%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001460.html">
   <LINK REL="Next"  HREF="001462.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] SPAM-LOW: Re: Your sqlite3 version is old - please upgrade to at least v3.5.0!</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20SPAM-LOW%3A%20Re%3A%20Your%20sqlite3%20version%20is%20old%20-%20please%0A%20upgrade%20to%20at%20least%20v3.5.0%21&In-Reply-To=a99678730910260355x59eb8a6dw6c129bf4bd79ce07%40mail.gmail.com"
       TITLE="[MonoTouch] SPAM-LOW: Re: Your sqlite3 version is old - please upgrade to at least v3.5.0!">jonpryor at vt.edu
       </A><BR>
    <I>Mon Oct 26 10:51:10 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001460.html">[MonoTouch] Your sqlite3 version is old - please upgrade to at	least v3.5.0!
</A></li>
        <LI>Next message: <A HREF="001462.html">[MonoTouch] Expressions?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1461">[ date ]</a>
              <a href="thread.html#1461">[ thread ]</a>
              <a href="subject.html#1461">[ subject ]</a>
              <a href="author.html#1461">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>So, after tons of debugging, we think we know part of the problem.
You're on the wrong operating system.

It works for me because I'm on Snow Leopard (10.6).  It appears to fail
for Simon because he's on Leopard (10.5).

BUT, here's where it gets funny:

        $ nm /Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator3.1.2.sdk/usr/lib/libsqlite3.dylib | grep _next
        0000c5a0 T _sqlite3_next_stmt

That should be the same everywhere (it's part of the SDK, not the OS).

So what appears to be the problem is that when running within the
simulator, instead of picking up the libsqlite3.dylib provided by
iPhoneSimulator.platform, it instead picks up /usr/lib/libsqlite3.dylib.
Snow Leopard's libsqlite3.dylib is a more recent version than Leopard's
(and Snow Leopard's apparently better matches what's on the device),
which is why it works on both Snow Leopard Simulator &amp; the device.

What I don't know is the solution for Leopard -- how do we get Mono
within the simulator to pick up iPhoneSimulator's libsqlite3.dylib
instead of /usr/lib/libsqlite3.dylib?  This will require additional
investigation.

 - Jon

On Mon, 2009-10-26 at 21:55 +1100, Ali Shafai wrote:
&gt;<i> ?ui=2&amp;view=att&amp;th=124907be3c8a79b6&amp;attid=0.1&amp;disp=attd&amp;realattid=ii_124907be3c8a79b6&amp;zw
</I>&gt;<i> 
</I>&gt;<i> 2009/10/26 Craig Dunn &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">craig.dunn at conceptdevelopment.net</A>&gt;
</I>&gt;<i>         Good news Jonathan - after a bit of fiddling with the 'unused'
</I>&gt;<i>         mainwindowxib and adding the correct references I got the
</I>&gt;<i>         following output (on simulator) from the sample
</I>&gt;<i>         at <A HREF="http://monotouch.net/Documentation/System.Data">http://monotouch.net/Documentation/System.Data</A>
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i>         (Row (PersonID '1') (FirstName 'First') (LastName 'Last'))
</I>&gt;<i>         (Row (PersonID '2') (FirstName 'Dewey') (LastName 'Cheatem'))
</I>&gt;<i>         (Row (PersonID '3') (FirstName 'And') (LastName 'How'))
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i>         I also added it to another sample, just to be sure
</I>&gt;<i>         <A HREF="http://conceptdev.blogspot.com/2009/10/monotouch-corp411-part-iii-revenge-of.html">http://conceptdev.blogspot.com/2009/10/monotouch-corp411-part-iii-revenge-of.html</A>
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i>         craig
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i>         p.s. excuse the dup post - there is another 'answer' in the
</I>&gt;<i>         ether with a too-large attachment...
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i>         On Mon, Oct 26, 2009 at 1:23 PM, Jonathan Pryor
</I>&gt;<i>         &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">jonpryor at vt.edu</A>&gt; wrote:
</I>&gt;<i>         
</I>&gt;<i>                 So I'm terribly confused.  Apparently the sample code
</I>&gt;<i>                 works for me, but not for anyone else. :-/
</I>&gt;<i>                 
</I>&gt;<i>                 
</I>&gt;<i>                 As a last-ditch effort at reproducibility, I've
</I>&gt;<i>                 updated the monocatalog-md sample to use
</I>&gt;<i>                 Mono.Data.Sqlite:
</I>&gt;<i>                 
</I>&gt;<i>                 
</I>&gt;<i>                 <A HREF="http://anonsvn.mono-project.com/source/trunk/monotouch/samples/monocatalog-md/">http://anonsvn.mono-project.com/source/trunk/monotouch/samples/monocatalog-md/</A>
</I>&gt;<i>                 
</I>&gt;<i>                 
</I>&gt;<i>                 Specifically:
</I>&gt;<i>                 
</I>&gt;<i>                 
</I>&gt;<i>                 <A HREF="http://anonsvn.mono-project.com/source/trunk/monotouch/samples/monocatalog-md/MonoDataSqlite.xib.cs">http://anonsvn.mono-project.com/source/trunk/monotouch/samples/monocatalog-md/MonoDataSqlite.xib.cs</A>
</I>&gt;<i>                 
</I>&gt;<i>                 
</I>&gt;<i>                 That sample works for me, without error, on both the
</I>&gt;<i>                 simulator and the device.  Does this work for anyone
</I>&gt;<i>                 else?
</I>&gt;<i>                 
</I>&gt;<i>                 
</I>&gt;<i>                 Thanks,
</I>&gt;<i>                  - Jon
</I>&gt;<i>                 
</I>&gt;<i>                 
</I>&gt;<i>                 On Oct 25, 2009, at 6:24 PM, Ali Shafai wrote:
</I>&gt;<i>                 
</I>&gt;<i>                 
</I>&gt;<i>                 
</I>&gt;<i>                 &gt; it was actually exactly that example that gave me
</I>&gt;<i>                 &gt; the error. I ran on simulator only. don't have
</I>&gt;<i>                 &gt; access to my mac at work. to test on device I have
</I>&gt;<i>                 &gt; to wait for another 8 hours :(
</I>&gt;<i>                 &gt; 
</I>&gt;<i>                 &gt; Cheers,
</I>&gt;<i>                 &gt; Ali
</I>&gt;<i>                 &gt; 
</I>&gt;<i>                 &gt; 2009/10/26 Simon Guindon &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">simon at nureality.ca</A>&gt;
</I>&gt;<i>                 &gt;         I ran this on the simulator first and that's
</I>&gt;<i>                 &gt;         the result I got. I'll run on device and let
</I>&gt;<i>                 &gt;         you know the results.
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         I'll give the example a run as well.
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         Thanks,
</I>&gt;<i>                 &gt;         Simon
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         ____________________________________________
</I>&gt;<i>                 &gt;         From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">jonpryor at vt.edu</A>
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         To: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">simon at nureality.ca</A>
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         Subject: Re: [MonoTouch] Your sqlite3
</I>&gt;<i>                 &gt;         version is old - please upgrade to at least
</I>&gt;<i>                 &gt;         v3.5.0!
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         Date: Sun, 25 Oct 2009 12:49:48 -0400
</I>&gt;<i>                 &gt;         CC: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">ali at platysoft.com.au</A>;
</I>&gt;<i>                 &gt;         <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         Odd. Does the example code at
</I>&gt;<i>                 &gt;         <A HREF="http://monotouch.net/Documentation/System.Data#Example">http://monotouch.net/Documentation/System.Data#Example</A> work for you?
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         Which iPhoneOS version &amp; hardware is this?
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         Thanks,
</I>&gt;<i>                 &gt;          - Jon
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         On Oct 25, 2009, at 12:01 PM, Simon Guindon
</I>&gt;<i>                 &gt;         &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">simon at nureality.ca</A>&gt; wrote:
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;                 I'm also getting this error.
</I>&gt;<i>                 &gt;                 
</I>&gt;<i>                 &gt;                 
</I>&gt;<i>                 &gt;                 I don't think it's related to using
</I>&gt;<i>                 &gt;                 a function that isn't in 3.0 because
</I>&gt;<i>                 &gt;                 I'm getting this exception on the
</I>&gt;<i>                 &gt;                 connection.Open()
</I>&gt;<i>                 &gt;                 
</I>&gt;<i>                 &gt;                 
</I>&gt;<i>                 &gt;                 I'm doing the following:
</I>&gt;<i>                 &gt;                 
</I>&gt;<i>                 &gt;                 
</I>&gt;<i>                 &gt;                 SqliteConnection.CreateFile(dbPath);
</I>&gt;<i>                 &gt;                 SqliteConnection connection = new
</I>&gt;<i>                 &gt;                 SqliteConnection(&quot;Data Source=&quot; +
</I>&gt;<i>                 &gt;                 dbPath);
</I>&gt;<i>                 &gt;                 connection.Open();
</I>&gt;<i>                 &gt;                 
</I>&gt;<i>                 &gt;                 
</I>&gt;<i>                 &gt;                 Thanks,
</I>&gt;<i>                 &gt;                 Simon
</I>&gt;<i>                 &gt;                 
</I>&gt;<i>                 &gt;                 &gt; From: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">jonpryor at vt.edu</A>
</I>&gt;<i>                 &gt;                 &gt; To: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">Ali at PlatySoft.com.au</A>
</I>&gt;<i>                 &gt;                 &gt; Date: Sun, 25 Oct 2009 08:26:22
</I>&gt;<i>                 &gt;                 -0400
</I>&gt;<i>                 &gt;                 &gt; CC: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
</I>&gt;<i>                 &gt;                 &gt; Subject: Re: [MonoTouch] Your
</I>&gt;<i>                 &gt;                 sqlite3 version is old - please
</I>&gt;<i>                 &gt;                 upgrade to at least v3.5.0!
</I>&gt;<i>                 &gt;                 &gt; 
</I>&gt;<i>                 &gt;                 &gt; On Sun, 2009-10-25 at 19:07 +1100,
</I>&gt;<i>                 &gt;                 Ali Shafai wrote:
</I>&gt;<i>                 &gt;                 &gt; &gt; I'm trying to use Sqlite in my
</I>&gt;<i>                 &gt;                 app using the lib from here :
</I>&gt;<i>                 &gt;                 &gt; &gt;
</I>&gt;<i>                 &gt;                 <A HREF="http://monotouch.net/Documentation/System.Data">http://monotouch.net/Documentation/System.Data</A>
</I>&gt;<i>                 &gt;                 &gt; &gt; 
</I>&gt;<i>                 &gt;                 &gt; &gt; when I run my app I get this
</I>&gt;<i>                 &gt;                 error: Your sqlite3 version is old -
</I>&gt;<i>                 &gt;                 &gt; &gt; please upgrade to at least
</I>&gt;<i>                 &gt;                 v3.5.0!
</I>&gt;<i>                 &gt;                 &gt; 
</I>&gt;<i>                 &gt;                 &gt; Can you provide source code that
</I>&gt;<i>                 &gt;                 demonstrates this bug?
</I>&gt;<i>                 &gt;                 &gt; 
</I>&gt;<i>                 &gt;                 &gt; Also keep in mind the limitations:
</I>&gt;<i>                 &gt;                 &gt; 
</I>&gt;<i>                 &gt;                 &gt;
</I>&gt;<i>                 &gt;                 <A HREF="http://monotouch.net/Documentation/System.Data#Mono.Data.Sqlite">http://monotouch.net/Documentation/System.Data#Mono.Data.Sqlite</A>
</I>&gt;<i>                 &gt;                 &gt; 
</I>&gt;<i>                 &gt;                 &gt; You're probably attempting to use
</I>&gt;<i>                 &gt;                 one of the functions that isn't in
</I>&gt;<i>                 &gt;                 &gt; SQLite v3.0 (which is what
</I>&gt;<i>                 &gt;                 iPhoneOS provides).
</I>&gt;<i>                 &gt;                 &gt; 
</I>&gt;<i>                 &gt;                 &gt; Thanks,
</I>&gt;<i>                 &gt;                 &gt; 
</I>&gt;<i>                 &gt;                 &gt; - Jon
</I>&gt;<i>                 &gt;                 &gt; 
</I>&gt;<i>                 &gt;                 &gt; 
</I>&gt;<i>                 &gt;                 &gt;
</I>&gt;<i>                 &gt;                 _______________________________________________
</I>&gt;<i>                 &gt;                 &gt; MonoTouch mailing list
</I>&gt;<i>                 &gt;                 &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i>                 &gt;                 &gt;
</I>&gt;<i>                 &gt;                 <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>                 &gt;                 
</I>&gt;<i>                 &gt;                 
</I>&gt;<i>                 &gt;                 
</I>&gt;<i>                 &gt;                 ____________________________________
</I>&gt;<i>                 &gt;                 CDN College or University student?
</I>&gt;<i>                 &gt;                 Get Windows 7 for only $39.99 before
</I>&gt;<i>                 &gt;                 Jan 3! Buy it now!
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         
</I>&gt;<i>                 &gt;         ____________________________________________
</I>&gt;<i>                 &gt;         Ready for a deal-of-a-lifetime? Find
</I>&gt;<i>                 &gt;         fantastic offers on Windows 7, in one
</I>&gt;<i>                 &gt;         convenient place.
</I>&gt;<i>                 &gt; 
</I>&gt;<i>                 &gt; 
</I>&gt;<i>                 &gt; 
</I>&gt;<i>                 &gt; -- 
</I>&gt;<i>                 &gt; Cheers,
</I>&gt;<i>                 &gt; Ali
</I>&gt;<i>                 &gt; 
</I>&gt;<i>                 
</I>&gt;<i>                 
</I>&gt;<i>                 
</I>&gt;<i>                 
</I>&gt;<i>                 _______________________________________________
</I>&gt;<i>                 MonoTouch mailing list
</I>&gt;<i>                 <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i>                 <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>                 
</I>&gt;<i>                 
</I>&gt;<i>         
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Cheers,
</I>&gt;<i> Ali
</I>&gt;<i> 
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001460.html">[MonoTouch] Your sqlite3 version is old - please upgrade to at	least v3.5.0!
</A></li>
	<LI>Next message: <A HREF="001462.html">[MonoTouch] Expressions?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1461">[ date ]</a>
              <a href="thread.html#1461">[ thread ]</a>
              <a href="subject.html#1461">[ subject ]</a>
              <a href="author.html#1461">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
