<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Problem with ABAddressBook on the Device
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Problem%20with%20ABAddressBook%20on%20the%20Device&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001497.html">
   <LINK REL="Next"  HREF="001499.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Problem with ABAddressBook on the Device</H1>
    <B>Peter Stockli</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Problem%20with%20ABAddressBook%20on%20the%20Device&In-Reply-To="
       TITLE="[MonoTouch] Problem with ABAddressBook on the Device">petercs at gmail.com
       </A><BR>
    <I>Sat Oct 31 05:26:53 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001497.html">[MonoTouch] List of monotouch apps on the AppStore
</A></li>
        <LI>Next message: <A HREF="001499.html">[MonoTouch] unsubscribe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1498">[ date ]</a>
              <a href="thread.html#1498">[ thread ]</a>
              <a href="subject.html#1498">[ subject ]</a>
              <a href="author.html#1498">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello

I wrote following code to read out all Phonenumbers in the Addressbook of
the iPhone:

        public static List&lt;string&gt; getPhoneNumbers() {

            List&lt;string&gt; phoneList = new List&lt;string&gt;();

            ABAddressBook mab = new ABAddressBook();

            ABPerson[] mypeople = mab.GetPeople();
            ABMultiValue&lt;string&gt; myphones;
            string[] strpeople;
            for (int i = 0; i &lt; mab.PeopleCount; i++) {
                myphones = mypeople[i].GetPhones();
                strpeople = myphones.GetValues();

                phoneList.AddRange(strpeople);

            }
            return phoneList;

        }

This works in the simulator, but crashes on the Device.

When I try to debug on the device with the new 1.2 Beta,
the app is killed before startup (most likely the 10 seconds rule)

Is there any sample code on how to properly accessing the addressbook
with monotouch?

Peter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20091031/13d0467b/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20091031/13d0467b/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001497.html">[MonoTouch] List of monotouch apps on the AppStore
</A></li>
	<LI>Next message: <A HREF="001499.html">[MonoTouch] unsubscribe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1498">[ date ]</a>
              <a href="thread.html#1498">[ thread ]</a>
              <a href="subject.html#1498">[ subject ]</a>
              <a href="author.html#1498">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
