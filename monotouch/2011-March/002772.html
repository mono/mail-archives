<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] The Size of Executables
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20The%20Size%20of%20Executables&In-Reply-To=AANLkTinE5g_dDaOtb7yb-jBip%2BLz5FiNaoJ0QOAf0ZxF%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002765.html">
   <LINK REL="Next"  HREF="002774.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] The Size of Executables</H1>
    <B>Nic Wise</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20The%20Size%20of%20Executables&In-Reply-To=AANLkTinE5g_dDaOtb7yb-jBip%2BLz5FiNaoJ0QOAf0ZxF%40mail.gmail.com"
       TITLE="[MonoTouch] The Size of Executables">nicw at fastchicken.co.nz
       </A><BR>
    <I>Mon Mar 21 06:11:28 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002765.html">[MonoTouch] The Size of Executables
</A></li>
        <LI>Next message: <A HREF="002774.html">[MonoTouch] A monotouch wrapper for the Sparrow 2D library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2772">[ date ]</a>
              <a href="thread.html#2772">[ thread ]</a>
              <a href="subject.html#2772">[ subject ]</a>
              <a href="author.html#2772">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>MonoTouch doesn't translate to Obj-c. It compiles to .NET IL, then
compiles that (in the same way a JIT compiler would, but before it's
run - hence &quot;ahead of time&quot; compiler) into native ARM code.

so:

Obj-C -&gt; GCC (or LLVM) -&gt; ARM code

vrs MT:

C# -&gt; IL -&gt; (AOT compiler) -&gt; ARM code

I believe the AOT compiler in MT 3.x is something they derived from
the ARM port of Mono, where as the one in MT 4.x (in alpha) is based
on LLVM, so I guess they wrote a IL -&gt; LLVM compiler / translator, and
then leveraged the same LLVM -&gt; ARM layer that XCode uses (Apple has
standarized, mostly, on LLVM in XCode 4 - XCode 3.x was all GCC)

The output binaries in 3.x are larger because you are also including a
lot of the .NET framework (well, Mono Framework, but same-same), so if
you, for eg, use System.Xml, it has to include that into the output -
same with System.dll etc. The linker is pretty smart, but the output
binaries are always going to be larger.

For me, the only size thing that matters is load time, and zipped
binary size. Zipped binary for a &quot;hello world&quot; app is about 2.5-3meg
(smaller in 4.x I'm told) vrs about 300k for obj-c. The difference
gets less and less the more you add, as it only includes the likes of
system.dll once. Load time for MT vrs Obj-c, doing the same things at
the same time, is close enough to the same. Either one can be made to
load slowly (just do something long running in your FinishedLaunching
without putting it on another thread).

However, while the app is bigger and may load, in theory anyway,
slower, I find I'm 5x-10x more productive with MT, so I can get apps
out in a LOT shorter time than I could with Obj-C. eg this app:

<A HREF="http://goo.gl/USPWn">http://goo.gl/USPWn</A> (website)
<A HREF="http://goo.gl/ePhKa">http://goo.gl/ePhKa</A> (itunes link)

took 2 weeks, part time (I was on holiday in New Zealand at the time,
and it was over new years - I was only working in it maybe every
second evening + around 2 full days at the end to polish it), from
opening monodevelop with an idea, to pushing it to the appstore.
MonoTouch.Dialog helped a lot too, but without MT, it'd take a lot lot
longer.






On Mon, Mar 21, 2011 at 08:41, Bing Li &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">lblabs at gmail.com</A>&gt; wrote:
&gt;<i> Hi, all,
</I>&gt;<i> It is said that the size of executables on iPhone or iPad is larger using
</I>&gt;<i> MonoTouch than the one using Objective-C. Is it true? If MonoTouch can
</I>&gt;<i> translate C# to Objective-C, the size should not be too large, right?
</I>&gt;<i> Thanks,
</I>&gt;<i> LB
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>&gt;<i>
</I>


-- 
Nic Wise
t.&#160; +44 7788 592 806 |&#160;@fastchicken | <A HREF="http://www.linkedin.com/in/nicwise">http://www.linkedin.com/in/nicwise</A>
b. <A HREF="http://www.fastchicken.co.nz/">http://www.fastchicken.co.nz/</A> | <A HREF="http://www.flickr.com/photos/nicwise">http://www.flickr.com/photos/nicwise</A>
mobileAgent (for FreeAgent): get your accounts in your pocket.
<A HREF="http://goo.gl/IuBU">http://goo.gl/IuBU</A>
Trip Wallet: Keep track of your budget on the go: <A HREF="http://goo.gl/ePhKa">http://goo.gl/ePhKa</A>
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002765.html">[MonoTouch] The Size of Executables
</A></li>
	<LI>Next message: <A HREF="002774.html">[MonoTouch] A monotouch wrapper for the Sparrow 2D library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2772">[ date ]</a>
              <a href="thread.html#2772">[ thread ]</a>
              <a href="subject.html#2772">[ subject ]</a>
              <a href="author.html#2772">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
