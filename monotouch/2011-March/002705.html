<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] &quot;System.ExecutionEngineException: Attempting to JIT compile method&quot; in System.Collections.Generic.Dictionary
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20%22System.ExecutionEngineException%3A%20Attempting%20to%20JIT%0A%20compile%20method%22%20in%20System.Collections.Generic.Dictionary&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002699.html">
   <LINK REL="Next"  HREF="002706.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] &quot;System.ExecutionEngineException: Attempting to JIT compile method&quot; in System.Collections.Generic.Dictionary</H1>
    <B>David Moles</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20%22System.ExecutionEngineException%3A%20Attempting%20to%20JIT%0A%20compile%20method%22%20in%20System.Collections.Generic.Dictionary&In-Reply-To="
       TITLE="[MonoTouch] &quot;System.ExecutionEngineException: Attempting to JIT compile method&quot; in System.Collections.Generic.Dictionary">davidmoles at thegogame.com
       </A><BR>
    <I>Thu Mar  3 12:42:53 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002699.html">[MonoTouch] OpenGL ES 1.1 : Retrieving pixel data after a texture	is bound
</A></li>
        <LI>Next message: <A HREF="002706.html">[MonoTouch] &quot;System.ExecutionEngineException: Attempting to JIT	compile method&quot; in System.Collections.Generic.Dictionary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2705">[ date ]</a>
              <a href="thread.html#2705">[ thread ]</a>
              <a href="subject.html#2705">[ subject ]</a>
              <a href="author.html#2705">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My app just crashed with the following:

   - System.ExecutionEngineException: Attempting to JIT compile method
   'System.Collections.Generic.Dictionary`2&lt;string,
   string&gt;:Do_CopyTo&lt;System.Collections.Generic.KeyValuePair`2&lt;string, string&gt;,
   System.Collections.Generic.KeyValuePair`2&lt;string, string&gt;&gt;
   (System.Collections.Generic.KeyValuePair`2&lt;string,
   string&gt;[],int,System.Collections.Generic.Dictionary`2/Transform`1&lt;string,
   string, System.Collections.Generic.KeyValuePair`2&lt;string, string&gt;&gt;)' while
   running with --aot-only.
   -   at
   System.Collections.Generic.Dictionary`2[System.String,System.String].CopyTo
   (System.Collections.Generic.KeyValuePair`2[] array, Int32 index) [0x00000]
   in &lt;filename unknown&gt;:0
   -   at
   System.Collections.Generic.Dictionary`2[System.String,System.String].System.Collections.Generic.ICollection&lt;System.Collections.Generic.KeyValuePair&lt;TKey,TValue&gt;&gt;.CopyTo
   (System.Collections.Generic.KeyValuePair`2[] array, Int32 index) [0x00000]
   in &lt;filename unknown&gt;:0
   -   at
   System.Collections.Generic.List`1[System.Collections.Generic.KeyValuePair`2[System.String,System.String]].AddCollection
   (ICollection`1 collection) [0x00015] in
   /Developer/MonoTouch/Source/mono/mcs/class/corlib/System.Collections.Generic/List.cs:119
   -   at
   System.Collections.Generic.List`1[System.Collections.Generic.KeyValuePair`2[System.String,System.String]]..ctor
   (IEnumerable`1 collection) [0x00042] in
   /Developer/MonoTouch/Source/mono/mcs/class/corlib/System.Collections.Generic/List.cs:67
   -   at GoGame.Util.Services.AbstractMultipartWriteRequest..ctor
   (GoGame.Util.Services.FailBehavior priority, System.String queryUrl,
   GoGame.Util.Services.Method method, IEnumerable`1 formFields,
   GoGame.Util.Services.Attachment attachment) [0x00014] in
   /Users/work/Projects/orbiter-mobile/gg-util/Services/MultipartWriteRequest.cs:41


The line in question is

this.formFields = new List&lt;KeyValuePair&lt;String, String&gt;&gt;(formFields);


where the *formFields* parameter is declared as an
*IEnumerable&lt;KeyValuePair&lt;String,
String&gt;&gt;*, and the value passed into it, in this case, is a *Dictionary&lt;String,
String&gt;*.

It looks to me like maybe the linker got over-aggressive? It's possible that
somewhere else in the code I used to explicitly copy a *Dictionary* into a *
List*, so the linker knew better (if that is in fact the issue), and now I'm
only doing it implicitly? But the actual code that crashed has worked fine
for the better part of two months, so to see this now scares me.

Any ideas?

-- 
David Moles
<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">davidmoles at thegogame.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20110303/6848a0eb/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20110303/6848a0eb/attachment-0001.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002699.html">[MonoTouch] OpenGL ES 1.1 : Retrieving pixel data after a texture	is bound
</A></li>
	<LI>Next message: <A HREF="002706.html">[MonoTouch] &quot;System.ExecutionEngineException: Attempting to JIT	compile method&quot; in System.Collections.Generic.Dictionary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2705">[ date ]</a>
              <a href="thread.html#2705">[ thread ]</a>
              <a href="subject.html#2705">[ subject ]</a>
              <a href="author.html#2705">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
