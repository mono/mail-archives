<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] When to use 'using' to avoid memory issues in	MonoTouch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20When%20to%20use%20%27using%27%20to%20avoid%20memory%20issues%20in%0A%09MonoTouch&In-Reply-To=EDF986966BBD644287448B96B23AA556017073DF0B%40Dkaalexch02">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003737.html">
   <LINK REL="Next"  HREF="003740.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] When to use 'using' to avoid memory issues in	MonoTouch</H1>
    <B>Jon Hopkins</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20When%20to%20use%20%27using%27%20to%20avoid%20memory%20issues%20in%0A%09MonoTouch&In-Reply-To=EDF986966BBD644287448B96B23AA556017073DF0B%40Dkaalexch02"
       TITLE="[MonoTouch] When to use 'using' to avoid memory issues in	MonoTouch">jon.hopkins at bgagroup.net
       </A><BR>
    <I>Mon Jul  4 08:06:05 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003737.html">[MonoTouch] When to use 'using' to avoid memory issues in MonoTouch
</A></li>
        <LI>Next message: <A HREF="003740.html">[MonoTouch] When to use 'using' to avoid memory issues in	MonoTouch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3739">[ date ]</a>
              <a href="thread.html#3739">[ thread ]</a>
              <a href="subject.html#3739">[ subject ]</a>
              <a href="author.html#3739">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

 

I would try a small test app and use a timer to add and remove your UI object every second. If there is a leak, it will eventually crash.

My thread shows an example.

 

Jon

 

Von: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch-bounces at lists.ximian.com</A>] Im Auftrag von Anders Kj&#230;rgaard Hansen
Gesendet: 04 July 2011 13:33
An: <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>
Betreff: [MonoTouch] When to use 'using' to avoid memory issues in MonoTouch

 

Hi

 

I am soon shipping our first iPad app using MonoTouch, and are still experiencing some crashes that might be related to memory handling. Some of it seem to somehow relate to the thread &quot;100 times Adding / removing a View + backgroundImage will always crash !&quot;

 

Once in a while my app crashes, typically flipping a lot back and forth between detailview controllers in the UISplitViewController, sometime when returning from UIImagePickerController (picture taken with camera), and sometimes when the iPad has been laying around for long time (e.g. overnight).

 

I can't seem to find anything in crash logs or instruments that make me much wiser. 

 

So thinking the using and IDisposable pattern could be some of the trouble. 

 

So my question is this - when is it advisable to use &quot;using&quot;, and when should the garbage collector be able to handle it. 

 

For now I have all UIImages as using. But stuff like UITableViewCell, UIAlertViews (which I would need a ref to - so &quot;using&quot; is not good here - but could dispose them manually), UIImagePickerController, UIBarButton etc. is not disposed by me.

 

So basically all I am disposing myself is the UIImages. 

 

Should I e.g dispose UITableViewCells once added to a UITableview - even though they run out of scope a few lines later?

 

I hope some of you might have some good advice/experience on this 

 

Best regards

/Anders

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20110704/b5de949f/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20110704/b5de949f/attachment-0001.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003737.html">[MonoTouch] When to use 'using' to avoid memory issues in MonoTouch
</A></li>
	<LI>Next message: <A HREF="003740.html">[MonoTouch] When to use 'using' to avoid memory issues in	MonoTouch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3739">[ date ]</a>
              <a href="thread.html#3739">[ thread ]</a>
              <a href="subject.html#3739">[ subject ]</a>
              <a href="author.html#3739">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
