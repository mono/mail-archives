<tt>
&lt;div&nbsp;style&gt;Dear&nbsp;MonoTouch&nbsp;subscribers,&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;The&nbsp;same&nbsp;question&nbsp;is&nbsp;here: &lt;a&nbsp;href=&quot;http://stackoverflow.com/questions/11008726/binding-of-zebra-sdk-to-monotouch&quot;&nbsp;target=&quot;_blank&quot;&nbsp;style=&quot;color:rgb(17,85,204)&quot;&gt;http://stackoverflow.com/questions/11008726/binding-of-zebra-sdk-to-monotouch&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;Short&nbsp;version:&nbsp;I&nbsp;have&nbsp;created&nbsp;a&nbsp;binding&nbsp;for&nbsp;Zebra&nbsp;native&nbsp;library&nbsp;for&nbsp;mobile&nbsp;printers&nbsp;and&nbsp;the&nbsp;basic&nbsp;functionality&nbsp;works&nbsp;fine&nbsp;(wireless&nbsp;connection&nbsp;between&nbsp;the&nbsp;printer&nbsp;and&nbsp;the&nbsp;iPad,&nbsp;writing&nbsp;data&nbsp;to&nbsp;streams,&nbsp;printing&nbsp;out&nbsp;text,&nbsp;etc.)&lt;/div&gt;<br>
&lt;div&nbsp;style&gt;I&nbsp;want&nbsp;to&nbsp;print&nbsp;out&nbsp;PDFs&nbsp;and&nbsp;images,&nbsp;and&nbsp;the&nbsp;native&nbsp;library&nbsp;provides&nbsp;the&nbsp;classes&nbsp;for&nbsp;that.&nbsp;However,&nbsp;I&nbsp;can&#39;t&nbsp;get&nbsp;it&nbsp;to&nbsp;work&nbsp;from&nbsp;Monotouch.&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;Long&nbsp;version: I&nbsp;have&nbsp;problem&nbsp;binding&nbsp;the&nbsp;structure&nbsp;described&nbsp;below.&lt;/div&gt;<br>
&lt;br&nbsp;style&gt;&lt;span&nbsp;style&gt;@protocol&nbsp;ZebraPrinterConnection&lt;/span&gt;&lt;br&nbsp;style&gt;&lt;span&nbsp;style&gt; &nbsp; &nbsp;-&nbsp;(BOOL)&nbsp;open;&lt;/span&gt;&lt;br&nbsp;style&gt;&lt;span&nbsp;style&gt; &nbsp; &nbsp;-&nbsp;(void)&nbsp;close;&lt;/span&gt;&lt;br&nbsp;style&gt;&lt;span&nbsp;style&gt; &nbsp; &nbsp;-&nbsp;(NSInteger)&nbsp;write:(NSData&nbsp;*)data&nbsp;error:(NSError&nbsp;**)error;&lt;/span&gt;&lt;br&nbsp;style&gt;<br>
&lt;span&nbsp;style&gt; &nbsp; &nbsp;-&nbsp;(NSData&nbsp;*)read:&nbsp;(NSError**)error;&lt;/span&gt;&lt;br&nbsp;style&gt;&lt;br&nbsp;style&gt;&lt;span&nbsp;style&gt;@interface&nbsp;TcpPrinterConnection&nbsp;:&nbsp;NSObject&lt;&lt;/span&gt;&lt;span&nbsp;style&gt;ZebraPrinterConnection&gt;&nbsp;{&lt;/span&gt;&lt;br&nbsp;style&gt;&lt;span&nbsp;style&gt; &nbsp; &nbsp; some&nbsp;@private&nbsp;properties&lt;/span&gt;&lt;br&nbsp;style&gt;<br>
&lt;span&nbsp;style&gt;}&lt;/span&gt;&lt;br&nbsp;style&gt;&lt;span&nbsp;style&gt; &nbsp; &nbsp; -&nbsp;(id)initWithAddress:(NSString&nbsp;*)anAddress andWithPort:(&lt;/span&gt;&lt;span&nbsp;style&gt;NSInteger)aPort;&lt;/span&gt;&lt;br&nbsp;style&gt;&lt;br&nbsp;style&gt;&lt;span&nbsp;style&gt;@interface&nbsp;ZebraPrinterFactory&nbsp;:&nbsp;NSObject&nbsp;{ }&lt;/span&gt;&lt;br&nbsp;style&gt;<br>
&lt;span&nbsp;style&gt; &nbsp;+(id&lt;ZebraPrinter,NSObject&gt;)&nbsp;getInstance:(id&lt;&lt;/span&gt;&lt;span&nbsp;style&gt;ZebraPrinterConnection,&nbsp;NSObject&gt;)&nbsp;connection error:(NSError**)&lt;/span&gt;&lt;span&nbsp;style&gt;error&lt;/span&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style&gt;The&nbsp;tricky&nbsp;part&nbsp;here&nbsp;is&nbsp;to&nbsp;obtain&nbsp;ZebraPrinter&nbsp;instance&nbsp;in&nbsp;Monotouch&nbsp;code.&nbsp;Note&nbsp;how &lt;span&nbsp;style=&quot;line-height:18px;text-align:left;font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif&quot;&gt;ZebraPrinterFactory&nbsp;wants &lt;/span&gt;ZebraPrinterConnection&lt;span&nbsp;style=&quot;line-height:18px;text-align:left;font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif&quot;&gt; to&nbsp;be&nbsp;passed&nbsp;to&nbsp;it,&nbsp;but &lt;/span&gt;onlyTcpPrinterConnection&lt;span&nbsp;style=&quot;line-height:18px;text-align:left;font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif&quot;&gt; has&nbsp;an&nbsp;actual&nbsp;constructor.&lt;/span&gt; &lt;/div&gt;<br>
&lt;div&nbsp;style&gt;The&nbsp;connection&nbsp;classes&nbsp;work&nbsp;fine&nbsp;when&nbsp;bound&nbsp;like&nbsp;this:&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;span&nbsp;style&gt;[BaseType&nbsp;(typeof&nbsp;(NSObject))] &lt;/span&gt;&lt;div&nbsp;style&gt;[Model] &lt;/div&gt;&lt;div&nbsp;style&gt;interface&nbsp;ZebraPrinterConnection &lt;/div&gt;&lt;div&nbsp;style&gt;<br>
{ &lt;/div&gt;&lt;blockquote&nbsp;style&gt;[Export&nbsp;(&quot;open&quot;)]&nbsp;bool&nbsp;Open(); &lt;/blockquote&gt;&lt;blockquote&nbsp;style&gt;&lt;div&gt;[Export&nbsp;(&quot;close&quot;)]&nbsp;void&nbsp;Close(); &lt;/div&gt;&lt;div&gt;[Export&nbsp;(&quot;write:error:&quot;)]&nbsp;int&nbsp;Write(NSData&nbsp;data,&nbsp;out&nbsp;NSError&nbsp;error); &lt;/div&gt;<br>
&lt;div&gt;[Export&nbsp;(&quot;read:&quot;)]&nbsp;NSData&nbsp;Read(out&nbsp;NSError&nbsp;error); &lt;/div&gt;&lt;/blockquote&gt;&lt;div&nbsp;style&gt;}&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;[BaseType&nbsp;(typeof(NSObject))] &lt;/div&gt;&lt;div&nbsp;style&gt;interface&nbsp;TcpPrinterConnection&nbsp;:&nbsp;ZebraPrinterConnection &lt;/div&gt;<br>
&lt;div&nbsp;style&gt;{ &lt;/div&gt;&lt;blockquote&nbsp;style&gt;[Export&nbsp;(&quot;initWithAddress:andWithPort:&quot;)]&nbsp;IntPtr&nbsp;Constructor&nbsp;(string&nbsp;anAddress,&nbsp;int&nbsp;aPort); &lt;/blockquote&gt;&lt;div&nbsp;style&gt;}&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Binding&nbsp;of&nbsp;ZebraPrinterFactory&nbsp;class&nbsp;is&nbsp;not&nbsp;as&nbsp;straightforward.&nbsp;If&nbsp;I&nbsp;bind&nbsp;it&nbsp;like&nbsp;this:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;[BaseType&nbsp;(typeof(NSObject))] &lt;/div&gt;&lt;div&nbsp;style&gt;interface&nbsp;ZebraPrinterFactory &lt;/div&gt;&lt;div&nbsp;style&gt;{ &lt;/div&gt;&lt;blockquote&nbsp;style&gt;[Static,&nbsp;Export&nbsp;(&quot;getInstance:error:&quot;)] &lt;/blockquote&gt;&lt;blockquote&nbsp;style&gt;ZebraPrinter&nbsp;getInstance(ZebraPrinterConnection&nbsp;connection,&nbsp;out&nbsp;NSError&nbsp;error); &lt;/blockquote&gt;<br>
&lt;div&nbsp;style&gt;}&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;then&nbsp;I&nbsp;try&nbsp;to&nbsp;use&nbsp;something&nbsp;like&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;style&gt;&lt;div&gt;myConn&nbsp;=&nbsp;new&nbsp;TcpPrinterConnection(ipAddress,&nbsp;port);&lt;/div&gt;&lt;div&gt;myConn.Open&nbsp;();&lt;/div&gt;&lt;div&gt;ZebraPrinter&nbsp;zPrinter&nbsp;=&nbsp;ZebraPrinterFactory.GetInstance(myConn,&nbsp;out&nbsp;err);&nbsp;//&nbsp;compile-time&nbsp;error:&nbsp;Cannot&nbsp;convert TcpPrinterConnection&nbsp;into ZebraPrinterConnection&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;span&nbsp;style&gt;I&nbsp;get&nbsp;a&nbsp;compile-time&nbsp;error.&nbsp;If&nbsp;I&nbsp;change&nbsp;the&nbsp;binding&nbsp;for&nbsp;Mono&nbsp;to&nbsp;accept TcpPrinterConnection&nbsp;as&nbsp;parameter (I&#39;ve&nbsp;tried&nbsp;multiple&nbsp;configurations),&nbsp;I&nbsp;get&nbsp;runtime&nbsp;exception&nbsp;(&lt;/span&gt;&lt;span&nbsp;style&gt;&quot;System.InvalidCastException:&nbsp;Cannot&nbsp;cast&nbsp;from&nbsp;source&nbsp;type&nbsp;to&nbsp;destination&nbsp;type.&quot;)&nbsp;which&nbsp;has&nbsp;no&nbsp;inner&nbsp;exceptions&nbsp;and&nbsp;I&nbsp;have&nbsp;no&nbsp;idea&nbsp;which&nbsp;type&nbsp;could&nbsp;not&nbsp;be&nbsp;converted&nbsp;(strongly&nbsp;suspecting&nbsp;that&nbsp;same&nbsp;conversion&nbsp;as&nbsp;above).&lt;/span&gt;&lt;div&nbsp;style&gt;<br>
&lt;span&nbsp;style=&quot;line-height:18px;text-align:left;font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif&quot;&gt;It&#39;s&nbsp;really&nbsp;frustrating&nbsp;having&nbsp;something&nbsp;ALMOST&nbsp;working,&nbsp;but&nbsp;not&nbsp;quite.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;<br>
&lt;span&nbsp;style=&quot;line-height:18px;text-align:left;font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;span&nbsp;style=&quot;line-height:18px;text-align:left;font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif&quot;&gt;Any&nbsp;ideas?&nbsp;I&#39;m&nbsp;starting&nbsp;to&nbsp;think&nbsp;of&nbsp;binding&nbsp;limitations&nbsp;already.&nbsp;Could&nbsp;someone&nbsp;tell&nbsp;me&nbsp;if&nbsp;such&nbsp;structures&nbsp;can&nbsp;be&nbsp;bound&nbsp;at&nbsp;all?&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style&gt;&lt;span&nbsp;style=&quot;line-height:18px;text-align:left;font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;span&nbsp;style=&quot;line-height:18px;text-align:left;font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif&quot;&gt;Regards,&nbsp;Dmitry&lt;/span&gt;&lt;/div&gt;<br>

</tt>
