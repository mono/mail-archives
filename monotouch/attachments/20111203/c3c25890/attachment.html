<tt>
It&nbsp;really&nbsp;depends&nbsp;-&nbsp;there&nbsp;are&nbsp;a&nbsp;few&nbsp;places&nbsp;where&nbsp;you&amp;#39;re&nbsp;taxed&nbsp;for&nbsp;images&nbsp;that&nbsp;you&nbsp;load&nbsp;and/or&nbsp;manipulate.&nbsp; The&nbsp;activity&nbsp;instrument&nbsp;doesn&amp;#39;t&nbsp;tell&nbsp;the&nbsp;whole&nbsp;story,&nbsp;because&nbsp;not&nbsp;all&nbsp;memory&nbsp;is&nbsp;the&nbsp;same&nbsp;in&nbsp;iOS.&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;You&nbsp;should&nbsp;use&nbsp;the&nbsp;VM&nbsp;tracker&nbsp;instrument,&nbsp;and&nbsp;look&nbsp;for&nbsp;these&nbsp;guys:&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Memory&nbsp;Tag&nbsp;70:&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:&nbsp;0&nbsp;0&nbsp;0&nbsp;40px;&nbsp;border:&nbsp;none;&nbsp;padding:&nbsp;0px;&quot;&gt;&lt;div&gt;this&nbsp;is&nbsp;where&nbsp;the&nbsp;decompressed&nbsp;image&nbsp;data&nbsp;gets&nbsp;stored.&nbsp; decompressed/decoded,&nbsp;but&nbsp;not&nbsp;inflated&nbsp;to&nbsp;RGB(A). so&nbsp;if&nbsp;you&nbsp;load&nbsp;a&nbsp;full&nbsp;screen&nbsp;ipad&nbsp;image&nbsp;of&nbsp;1024x768&nbsp;but&nbsp;it&amp;#39;s&nbsp;a&nbsp;256&nbsp;color&nbsp;indexed&nbsp;color,&nbsp;it&nbsp;will&nbsp;only&nbsp;take&nbsp;up&nbsp;768k.&nbsp; an&nbsp;RGBA image&nbsp;will&nbsp;set&nbsp;you&nbsp;back&nbsp;~3&nbsp;megs.&nbsp; Memory&nbsp;Tag&nbsp;70&nbsp;is&nbsp;dirty&nbsp;memory,&nbsp;and&nbsp;afaict&nbsp;it&amp;#39;s&nbsp;99-100%&nbsp;of&nbsp;the&nbsp;time&nbsp;resident,&nbsp;which&nbsp;means&nbsp;it&nbsp;counts&nbsp;against&nbsp;your&nbsp;tally&nbsp;with&nbsp;the&nbsp;OS&nbsp;watchdog,&nbsp;and&nbsp;means&nbsp;your&nbsp;app&nbsp;will&nbsp;be&nbsp;terminated&nbsp;if&nbsp;it&amp;#39;s&nbsp;in&nbsp;the&nbsp;background&nbsp;and&nbsp;the&nbsp;foreground&nbsp;app&nbsp;needs&nbsp;more&nbsp;memory.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;is&nbsp;the&nbsp;biggest&nbsp;reason&nbsp;why&nbsp;UIImage.FromBundle&nbsp;is&nbsp;a&nbsp;bad&nbsp;idea&nbsp;for&nbsp;big&nbsp;images.&nbsp; .FromBundle&nbsp;allows&nbsp;for&nbsp;caching&nbsp;which&nbsp;is&nbsp;all&nbsp;well&nbsp;and&nbsp;good&nbsp;but&nbsp;you&nbsp;have&nbsp;no&nbsp;control&nbsp;over&nbsp;when/if&nbsp;the&nbsp;image&nbsp;is&nbsp;kicked&nbsp;from&nbsp;the&nbsp;cache.&nbsp; Use&nbsp;UIImage.FromFile,&nbsp;and&nbsp;manually&nbsp;dispose&nbsp;of&nbsp;the&nbsp;UIImages&nbsp;when&nbsp;you&amp;#39;re&nbsp;done.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;CG&nbsp;Image:&lt;blockquote&nbsp;style=&quot;margin:&nbsp;0&nbsp;0&nbsp;0&nbsp;40px;&nbsp;border:&nbsp;none;&nbsp;padding:&nbsp;0px;&quot;&gt;&lt;div&gt;This&nbsp;is&nbsp;where&nbsp;you&amp;#39;ll&nbsp;see&nbsp;image&nbsp;data&nbsp;you&nbsp;build&nbsp;up&nbsp;programmatically&nbsp;(i.e.&nbsp;if&nbsp;you&nbsp;use&nbsp;CG&nbsp;Image&nbsp;bitmap&nbsp;context&nbsp;and&nbsp;then&nbsp;pull&nbsp;the&nbsp;image&nbsp;out&nbsp;of&nbsp;it&nbsp;and&nbsp;use&nbsp;it).&nbsp; You&amp;#39;re&nbsp;taxed&nbsp;for&nbsp;the&nbsp;actual&nbsp;expanded&nbsp; image&nbsp;data&nbsp;(so&nbsp;if&nbsp;you&nbsp;use&nbsp;RGBA,&nbsp;it&amp;#39;s&nbsp;w&nbsp;*&nbsp;h&nbsp;*&nbsp;4).&nbsp; This&nbsp;memory&nbsp;sticks&nbsp;around&nbsp;until&nbsp;you&nbsp;dispose&nbsp;of&nbsp;the&nbsp;UIImage,&nbsp;so&nbsp;in&nbsp;most&nbsp;cases&nbsp;it&amp;#39;s&nbsp;better&nbsp;to&nbsp;cache&nbsp;these&nbsp;images&nbsp;to&nbsp;disk,&nbsp;dispose&nbsp;of&nbsp;the&nbsp;UIImage&nbsp;you&nbsp;built&nbsp;up,&nbsp;then&nbsp;reload&nbsp;it.&nbsp; It&amp;#39;ll&nbsp;shift&nbsp;the&nbsp;memory&nbsp;burden&nbsp;over&nbsp;to&nbsp;Memory&nbsp;Tag&nbsp;70,&nbsp;but&nbsp;the&nbsp;increase&nbsp;there&nbsp;will&nbsp;often&nbsp;be&nbsp;less&nbsp;than&nbsp;the&nbsp;decrease&nbsp;to&nbsp;CG&nbsp;Image&nbsp;memory.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;Core&nbsp;Animation:&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:&nbsp;0&nbsp;0&nbsp;0&nbsp;40px;&nbsp;border:&nbsp;none;&nbsp;padding:&nbsp;0px;&quot;&gt;&lt;div&gt;I&amp;#39;m&nbsp;guessing&nbsp;about&nbsp;this&nbsp;one,&nbsp;but&nbsp;I&nbsp;assume&nbsp;this&nbsp;is&nbsp;memory&nbsp;tied&nbsp;to&nbsp;backing&nbsp;stores&nbsp;for&nbsp;UIView&nbsp;subclasses.&nbsp; A&nbsp;UIImageView&nbsp;will&nbsp;take&nbsp;up&nbsp;either&nbsp;3&nbsp;or&nbsp;4&nbsp;bytes&nbsp;per&nbsp;pixel&nbsp;for&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;view&nbsp;depending&nbsp;on&nbsp;if&nbsp;the&nbsp;data&nbsp;is&nbsp;RGB&nbsp;or&nbsp;RGBA.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;That&nbsp;said,&nbsp;loading&nbsp;64&nbsp;images&nbsp;into&nbsp;a&nbsp;scrolledview&nbsp;is&nbsp;likely&nbsp;a&nbsp;bad&nbsp;idea&nbsp;if&nbsp;they&amp;#39;re&nbsp;of&nbsp;any&nbsp;size.&nbsp; you&nbsp;can&nbsp;load&nbsp;them&nbsp;dynamically&nbsp;using&nbsp;a&nbsp;sliding&nbsp;window&nbsp;of&nbsp;3&nbsp;images&nbsp;or&nbsp;something,&nbsp;and&nbsp;it&amp;#39;ll&nbsp;save&nbsp;you&nbsp;a&nbsp;ton&nbsp;of&nbsp;memory.&nbsp; Just&nbsp;make&nbsp;sure&nbsp;you&nbsp;dispose&nbsp;of&nbsp;the&nbsp;UIImage&amp;#39;s&nbsp;manually&nbsp;when&nbsp;they&nbsp;leave&nbsp;the&nbsp;window.&lt;br&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Nov&nbsp;21,&nbsp;2011&nbsp;at&nbsp;11:19&nbsp;AM,&nbsp;kentfonager&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:kent@netcoders.dk&quot;&gt;kent@netcoders.dk&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
Hi&nbsp;everyone&lt;br&gt;<br>
&lt;br&gt;<br>
Does&nbsp;anyone&nbsp;know&nbsp;how&nbsp;a&nbsp;UIImageView&nbsp;stores&nbsp;the&nbsp;loaded&nbsp;UIImage&nbsp;in&nbsp;memory&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;made&nbsp;several&nbsp;test&nbsp;and&nbsp;have&nbsp;used&nbsp;Instruments&nbsp;(Activity)&nbsp;to&nbsp;read&nbsp;out&lt;br&gt;<br>
memory&nbsp;usage&nbsp;for&nbsp;my&nbsp;simple&nbsp;app.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;simple&nbsp;app&nbsp;loads&nbsp;64&nbsp;images&nbsp;(different&nbsp;named&nbsp;jpgs)&nbsp;into&nbsp;memory&nbsp;and&nbsp;adds&lt;br&gt;<br>
the&nbsp;views&nbsp;onto&nbsp;a&nbsp;UIScrollView.&nbsp;I&amp;#39;m&nbsp;testing&nbsp;with&nbsp;two&nbsp;different&nbsp;image&nbsp;sets.&lt;br&gt;<br>
The&nbsp;first&nbsp;one&nbsp;&amp;quot;red&amp;quot;&nbsp;is&nbsp;an&nbsp;image&nbsp;100%&nbsp;red.&nbsp;The&nbsp;second&nbsp;one&nbsp;&amp;quot;map&amp;quot;&nbsp;is&nbsp;a&nbsp;tile&lt;br&gt;<br>
from&nbsp;a&nbsp;graphical&nbsp;map.&nbsp;So&nbsp;the&nbsp;detail&nbsp;level&nbsp;is&nbsp;much&nbsp;higher&nbsp;on&nbsp;the&nbsp;map&nbsp;tiles&lt;br&gt;<br>
than&nbsp;the&nbsp;red&nbsp;one.&lt;br&gt;<br>
&lt;br&gt;<br>
But&nbsp;the&nbsp;test&nbsp;shows&nbsp;that&nbsp;when&nbsp;loaded&nbsp;into&nbsp;the&nbsp;UIImageView,&nbsp;they&nbsp;both&nbsp;consume&lt;br&gt;<br>
the&nbsp;same&nbsp;amount&nbsp;of&nbsp;memory.&nbsp;Can&nbsp;anyone&nbsp;explain&nbsp;this&nbsp;to&nbsp;me&nbsp;?&nbsp;Is&nbsp;it&nbsp;because&nbsp;the&lt;br&gt;<br>
the&nbsp;framework&nbsp;unpacks&nbsp;the&nbsp;images&nbsp;into&nbsp;some&nbsp;&amp;quot;raw&amp;quot;&nbsp;format&nbsp;or&nbsp;what&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;hope&nbsp;someone&nbsp;can&nbsp;help&nbsp;spread&nbsp;some&nbsp;light&nbsp;on&nbsp;this&nbsp;for&nbsp;me&nbsp;:-)&lt;br&gt;<br>
&lt;br&gt;<br>
Take&nbsp;care&nbsp;and&nbsp;thanks&nbsp;in&nbsp;advance,&lt;br&gt;<br>
Kent&nbsp;Fonager,&nbsp;netcoders&nbsp;aps&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://monotouch.2284126.n4.nabble.com/UIImageView-memory-model-tp4092801p4092801.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://monotouch.2284126.n4.nabble.com/UIImageView-memory-model-tp4092801p4092801.html&lt;/a&gt;&lt;br&gt;<br>
<br>
Sent&nbsp;from&nbsp;the&nbsp;MonoTouch&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
MonoTouch&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:MonoTouch@lists.ximian.com&quot;&gt;MonoTouch@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monotouch&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/monotouch&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
