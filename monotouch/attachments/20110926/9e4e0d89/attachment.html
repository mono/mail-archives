<tt>
Hi&nbsp;Walter,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Try&nbsp;this: &lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;13px;&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;&quot;&gt; /Developer/MonoTouch/usr/bin/btouch&nbsp;libTestLib.cs&nbsp;Stuff.cs&lt;/span&gt;&lt;br&gt;<br>
&lt;br&gt;(e.g.&nbsp;no&nbsp;-s:)&lt;br&gt;&lt;br&gt;Jeff&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Sep&nbsp;26,&nbsp;2011&nbsp;at&nbsp;7:28&nbsp;AM,&nbsp;retlaW&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:walterszewelanczyk@gmail.com&quot;&gt;walterszewelanczyk@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;Hi.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;am&nbsp;attempt&nbsp;to&nbsp;use&nbsp;btouch&nbsp;to&nbsp;bind&nbsp;to&nbsp;an&nbsp;obj-c&nbsp;library&nbsp;that&nbsp;needs&nbsp;to&nbsp;pass&lt;br&gt;<br>
data&nbsp;back&nbsp;and&nbsp;forth&nbsp;via&nbsp;structs.&lt;br&gt;<br>
&lt;br&gt;<br>
Ultimately&nbsp;I&nbsp;want&nbsp;to&nbsp;bind&nbsp;to&nbsp;the&nbsp;Wahoo&nbsp;Fitness&nbsp;ANT+&nbsp;API&nbsp;they&nbsp;have&nbsp;but&nbsp;have&lt;br&gt;<br>
built&nbsp;a&nbsp;test&nbsp;library&nbsp;just&nbsp;to&nbsp;ensure&nbsp;I&nbsp;get&nbsp;the&nbsp;mapping&nbsp;concepts&nbsp;working&lt;br&gt;<br>
before&nbsp;I&nbsp;attempt&nbsp;to&nbsp;bind&nbsp;to&nbsp;the&nbsp;real&nbsp;library.&lt;br&gt;<br>
&lt;br&gt;<br>
Now&nbsp;I&nbsp;can&nbsp;bind&nbsp;everything&nbsp;I&nbsp;need&nbsp;with&nbsp;the&nbsp;exception&nbsp;of&nbsp;the&nbsp;struct.&nbsp; I&nbsp;have&nbsp;a&lt;br&gt;<br>
separate&nbsp;file&nbsp;with&nbsp;the&nbsp;struct&nbsp;definition&nbsp;and&nbsp;have&nbsp;tried&nbsp;to&nbsp;include&nbsp;the&lt;br&gt;<br>
struct&nbsp;in&nbsp;the&nbsp;mappingFile&nbsp;itself.&nbsp; The&nbsp;struct&nbsp;is&nbsp;named&nbsp;Stuff&nbsp;and&nbsp;the&nbsp;error&nbsp;I&lt;br&gt;<br>
get&nbsp;is&nbsp;:&nbsp;error&nbsp;CS0246:&nbsp;The&nbsp;type&nbsp;or&nbsp;namespace&nbsp;name&nbsp;`Stuff&amp;#39;&nbsp;could&nbsp;not&nbsp;be&lt;br&gt;<br>
found.&nbsp;Are&nbsp;you&nbsp;missing&nbsp;a&nbsp;using&nbsp;directive&nbsp;or&nbsp;an&nbsp;assembly&nbsp;reference?&lt;br&gt;<br>
&lt;br&gt;<br>
now&nbsp;the&nbsp;interesting&nbsp;part&nbsp;is&nbsp;if&nbsp;I&nbsp;leave&nbsp;the&nbsp;struct&nbsp;in&nbsp;the&nbsp;mapping&nbsp;file&nbsp;and&lt;br&gt;<br>
include&nbsp;the&nbsp;separate&nbsp;struct&nbsp;file&nbsp;I&nbsp;get&nbsp;this&nbsp;error&nbsp;:&nbsp;Stuff.cs(7,23):&nbsp;error&lt;br&gt;<br>
CS0101:&nbsp;The&nbsp;namespace&nbsp;`TestOne&amp;#39;&nbsp;already&nbsp;contains&nbsp;a&nbsp;definition&nbsp;for&nbsp;`Stuff&amp;#39;&lt;br&gt;<br>
 So&nbsp;it&nbsp;appears&nbsp;to&nbsp;see&nbsp;the&nbsp;struct&nbsp;yet&nbsp;it&nbsp;wont&nbsp;let&nbsp;me&nbsp;bind&nbsp;anything&nbsp;with&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;<br>
Do&nbsp;I&nbsp;need&nbsp;to&nbsp;annotate&nbsp;the&nbsp;struct&nbsp;in&nbsp;some&nbsp;way&nbsp;for&nbsp;it&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;btouch?&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;I&nbsp;comment&nbsp;out&nbsp;the&nbsp;parts&nbsp;that&nbsp;use&nbsp;the&nbsp;struct&nbsp;the&nbsp;everything&nbsp;else&nbsp;works&nbsp;as&lt;br&gt;<br>
expected.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;command&nbsp;line&nbsp;I&nbsp;am&nbsp;using&nbsp;when&nbsp;the&nbsp;struct&nbsp;tis&nbsp;defined&nbsp;in&nbsp;the&nbsp;mapping&nbsp;file&lt;br&gt;<br>
is&lt;br&gt;<br>
/Developer/MonoTouch/usr/bin/btouch&nbsp;libTestLib.cs&lt;br&gt;<br>
&lt;br&gt;<br>
and&nbsp;when&nbsp;I&nbsp;have&nbsp;the&nbsp;struct&nbsp;in&nbsp;a&nbsp;separate&nbsp;file&nbsp;i&nbsp;use:&lt;br&gt;<br>
 /Developer/MonoTouch/usr/bin/btouch&nbsp;libTestLib.cs&nbsp;-s:Stuff.cs&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Any&nbsp;help&nbsp;would&nbsp;be&nbsp;greatly&nbsp;appreciated.&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks,&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Walt&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Below&nbsp;are&nbsp;the&nbsp;files&nbsp;in&nbsp;question&nbsp;:&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;created&nbsp;a&nbsp;Obj-C&nbsp;Lib&nbsp;with&nbsp;the&nbsp;following&nbsp;header&nbsp;:&lt;br&gt;<br>
#import&nbsp;&amp;amp;lt;Foundation/Foundation.h&amp;amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
--begin&nbsp;heder&lt;br&gt;<br>
typedef&nbsp;unsigned&nbsp;char&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UCHAR;&lt;br&gt;<br>
&lt;br&gt;<br>
typedef&nbsp;struct&lt;br&gt;<br>
{&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; UCHAR&nbsp;messageSize;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; UCHAR&nbsp;messageId;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; UCHAR&nbsp;data1;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; UCHAR&nbsp;data2;&lt;br&gt;<br>
}&nbsp;Stuff;&lt;br&gt;<br>
&lt;br&gt;<br>
@protocol&nbsp;StructDelegate&lt;br&gt;<br>
-&nbsp;(void)processStruct:(Stuff)antMessage;&lt;br&gt;<br>
@end&lt;br&gt;<br>
&lt;br&gt;<br>
@protocol&nbsp;SimpleDelegate&lt;br&gt;<br>
-&nbsp;(NSString*)process:(NSString*)msg;&lt;br&gt;<br>
@end&lt;br&gt;<br>
&lt;br&gt;<br>
@interface&nbsp;TestLib&nbsp;:&nbsp;NSObject&lt;br&gt;<br>
{&lt;br&gt;<br>
&nbsp; &nbsp; id&nbsp;&amp;lt;StructDelegate&amp;gt;&nbsp;del;&lt;br&gt;<br>
&nbsp; &nbsp; id&amp;lt;SimpleDelegate&amp;gt;&nbsp;sDel;&lt;br&gt;<br>
}&lt;br&gt;<br>
-&nbsp;(NSString&nbsp;*)&nbsp;RepeatAfterMe:(NSString*)&nbsp;repeatMe;&lt;br&gt;<br>
-&nbsp;(NSString*)&nbsp;SayHello;&lt;br&gt;<br>
-&nbsp;(int)&nbsp;HardCodedValue;&lt;br&gt;<br>
-&nbsp;(NSString*)&nbsp;Send:(Stuff)&nbsp;s;&lt;br&gt;<br>
+&nbsp;(NSString*)&nbsp;classMethod;&lt;br&gt;<br>
-&nbsp;(void)&nbsp;save:(id&nbsp;&amp;lt;StructDelegate&amp;gt;)&nbsp;d;&lt;br&gt;<br>
-&nbsp;(void)&nbsp;saveSimple:(id&nbsp;&amp;lt;SimpleDelegate&amp;gt;)&nbsp;d;&lt;br&gt;<br>
-&nbsp;(NSString*)&nbsp;callSimple:(NSString*)&nbsp;s;&lt;br&gt;<br>
@end&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;end&nbsp;header&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
and&nbsp;I&nbsp;have&nbsp;a&nbsp;mapping&nbsp;file&nbsp;for&nbsp;bTouch&nbsp;as&nbsp;:&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;begin&nbsp;mapping&nbsp;file&nbsp; (libTestLib.cs)&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
using&nbsp;System;&lt;br&gt;<br>
using&nbsp;MonoTouch.Foundation;&lt;br&gt;<br>
using&nbsp;System.Runtime.InteropServices;&lt;br&gt;<br>
using&nbsp;MonoTouch.ObjCRuntime;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
namespace&nbsp;TestOne&lt;br&gt;<br>
{&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; [BaseType&nbsp;(typeof(NSObject))]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; [Model]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; interface&nbsp;StructDelegate&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; {&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [Export&nbsp;(&amp;quot;processStruct:&amp;quot;)]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; string&nbsp;processStruct&nbsp;(Stuff&nbsp;s);&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; }&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; [BaseType&nbsp;(typeof(NSObject))]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; [Model]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; interface&nbsp;SimpleDelegate&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; {&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [Export&nbsp;(&amp;quot;process:&amp;quot;)]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; string&nbsp;process&nbsp;(string&nbsp;s);&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; }&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; [BaseType&nbsp;(typeof&nbsp;(NSObject))]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; interface&nbsp;TestLib&nbsp;{&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [Export&nbsp;(&amp;quot;RepeatAfterMe:&amp;quot;)]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; string&nbsp;RepeatAfterMe&nbsp;(string&nbsp;repeatMe);&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [Export&nbsp;(&amp;quot;SayHello&amp;quot;)]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; string&nbsp;SayHello&nbsp;{&nbsp;get;&nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [Export&nbsp;(&amp;quot;HardCodedValue&amp;quot;)]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int&nbsp;HardCodedValue&nbsp;{&nbsp;get;&nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [Static,&nbsp;Export&nbsp;(&amp;quot;classMethod&amp;quot;)]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; string&nbsp;ClassMethod&nbsp;{&nbsp;get;&nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [Export(&amp;quot;saveSimple:&amp;quot;)]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; void&nbsp;SaveSimple(SimpleDelegate&nbsp;del);&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [Export(&amp;quot;callSimple:&amp;quot;)]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; string&nbsp;CallSimple&nbsp;(string&nbsp;s);&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [Export&nbsp;(&amp;quot;save:&amp;quot;)]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; void&nbsp;Save(StructDelegate&nbsp;d);&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [Export&nbsp;(&amp;quot;Send:&amp;quot;)]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; string&nbsp;Send&nbsp;(Stuff&nbsp;s);&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; }&lt;br&gt;<br>
&lt;br&gt;<br>
/*&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; [StructLayout(LayoutKind.Sequential)]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; [Serializable]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; public&nbsp;struct&nbsp;Stuff&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; {&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public&nbsp;byte&nbsp;messageSize;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public&nbsp;byte&nbsp;messageId;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public&nbsp;byte&nbsp;data1;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public&nbsp;byte&nbsp;data2;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; }&lt;br&gt;<br>
*/&lt;br&gt;<br>
&lt;br&gt;<br>
}&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;end&nbsp;mapping&nbsp;file&lt;br&gt;<br>
&lt;br&gt;<br>
and&nbsp;I&nbsp;have&nbsp;a&nbsp;file&nbsp;for&nbsp;the&nbsp;struct&nbsp;that&nbsp;I&nbsp;pass&nbsp;in&nbsp;defined&nbsp;as&nbsp;:&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;begin&nbsp;struct&nbsp;file&nbsp; (Stuff.cs)&lt;br&gt;<br>
using&nbsp;System;&lt;br&gt;<br>
&lt;br&gt;<br>
namespace&nbsp;TestOne&lt;br&gt;<br>
{&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; //[StructLayout(LayoutKind.Sequential)]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; [Serializable&nbsp;]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; public&nbsp;struct&nbsp;Stuff&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; {&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public&nbsp;byte&nbsp;messageSize;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public&nbsp;byte&nbsp;messageId;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public&nbsp;byte&nbsp;data1;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public&nbsp;byte&nbsp;data2;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; }&lt;br&gt;<br>
}&lt;br&gt;<br>
-end&nbsp;struct&nbsp;file&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://monotouch.2284126.n4.nabble.com/btouch-and-structs-tp3843442p3843442.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://monotouch.2284126.n4.nabble.com/btouch-and-structs-tp3843442p3843442.html&lt;/a&gt;&lt;br&gt;<br>
<br>
Sent&nbsp;from&nbsp;the&nbsp;MonoTouch&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
MonoTouch&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:MonoTouch@lists.ximian.com&quot;&gt;MonoTouch@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monotouch&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/monotouch&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
