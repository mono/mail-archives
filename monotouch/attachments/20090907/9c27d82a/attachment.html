<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;Craig,&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;7-Sep-09,&nbsp;at&nbsp;6:24&nbsp;AM,&nbsp;Craig&nbsp;Dunn&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;I&nbsp;recently&nbsp;started&nbsp;playing&nbsp;around&nbsp;with&nbsp;MapKit&nbsp;via&nbsp;MonoTouch.&nbsp;At&nbsp;first&nbsp;I&nbsp;struggled,&nbsp;but&nbsp;in&nbsp;the&nbsp;end&nbsp;got&nbsp;this&nbsp;sample&nbsp;working:&lt;br&gt;&lt;a&nbsp;href=&quot;http://conceptdev.blogspot.com/2009/09/monotouch-mapkit-101.html&quot;&gt;http://conceptdev.blogspot.com/2009/09/monotouch-mapkit-101.html&lt;/a&gt;&lt;br&gt;&nbsp;&lt;br&gt;One&nbsp;of&nbsp;the&nbsp;issues&nbsp;I&nbsp;had&nbsp;was&nbsp;needing&nbsp;to&nbsp;&lt;br&gt;&lt;span&nbsp;style=&quot;background-color:&nbsp;yellow;&quot;&gt;[Export(&quot;reverseGeocoder:didFindPlacemark:&quot;)]&lt;/span&gt;&lt;br&gt;because&nbsp;it&nbsp;wasn't&nbsp;already&nbsp;on&nbsp;MKReverseGeocoderDelegate&nbsp;-&nbsp;not&nbsp;a&nbsp;big&nbsp;deal,&nbsp;just&nbsp;a&nbsp;learning&nbsp;experience.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;fixed&nbsp;this&nbsp;in&nbsp;the&nbsp;next&nbsp;release,&nbsp;thanks&nbsp;for&nbsp;pointing&nbsp;out&nbsp;the&nbsp;oversight.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&nbsp;&lt;br&gt;&lt;b&gt;BUT&nbsp;&lt;/b&gt;I&nbsp;still&nbsp;haven't&nbsp;figured&nbsp;out&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKAnnotation&lt;/span&gt;,&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKMapViewDelegate.GetViewForAnnotation()&lt;/span&gt;&nbsp;and&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKMapView.AddAnnotation()&lt;/span&gt;.&nbsp;No&nbsp;matter&nbsp;what&nbsp;combination&nbsp;of&nbsp;stuff&nbsp;I&nbsp;try,&nbsp;it&nbsp;manages&nbsp;to&nbsp;crash&nbsp;[SIGSEGV]&nbsp;&quot;warning:&nbsp;Trying&nbsp;to&nbsp;remove&nbsp;a&nbsp;section&nbsp;from&nbsp;the&nbsp;ordered&nbsp;section&nbsp;list&nbsp;that&nbsp;did&nbsp;not&nbsp;exist&nbsp;at&nbsp;0x2d2000&quot;&nbsp;(misaligned&nbsp;stack&nbsp;bug?).&lt;br&gt;&nbsp;You&nbsp;can&nbsp;look&nbsp;at&nbsp;the&nbsp;most&nbsp;recent&nbsp;'attempt'&nbsp;in&nbsp;the&nbsp;sample&nbsp;code&nbsp;at&nbsp;&lt;br&gt;&lt;a&nbsp;href=&quot;http://conceptdevelopment.net/iPhone/MapKit01/Main.cs.htm&quot;&gt;http://conceptdevelopment.net/iPhone/MapKit01/Main.cs.htm&lt;/a&gt;&lt;br&gt;(the&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;AddAnnotation()&lt;/span&gt;&nbsp;call&nbsp;is&nbsp;commented&nbsp;out,&nbsp;but&nbsp;the&nbsp;related&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKAnnotation&nbsp;&lt;/span&gt;and&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKMapViewDelegate&nbsp;&lt;/span&gt;code&nbsp;is&nbsp;all&nbsp;there).&nbsp;Based&nbsp;on&nbsp;Console.WriteLine&nbsp;it&nbsp;crashes&nbsp;after&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;GetViewForAnnotation()&lt;/span&gt;&nbsp;returns...&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;I'll&nbsp;take&nbsp;a&nbsp;look&nbsp;later&nbsp;today.&nbsp;&amp;nbsp;The&nbsp;misaligned&nbsp;stack&nbsp;bug&nbsp;is&nbsp;fixed&nbsp;in&nbsp;the&nbsp;next&nbsp;release,&nbsp;but&nbsp;its&nbsp;indicative&nbsp;that&nbsp;you're&nbsp;getting&nbsp;an&nbsp;unhandled&nbsp;exception.&nbsp;&amp;nbsp;For&nbsp;now&nbsp;I&nbsp;would&nbsp;suggesting&nbsp;wrapping&nbsp;your&nbsp;Main&nbsp;method&nbsp;with&nbsp;a&nbsp;try&nbsp;{&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;ex)&nbsp;{&nbsp;Console.WriteLine&nbsp;(ex);&nbsp;}&nbsp;to&nbsp;see&nbsp;whats&nbsp;going&nbsp;on.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&nbsp;&lt;br&gt;Basically&nbsp;I&nbsp;can't&nbsp;figure&nbsp;out&nbsp;what&nbsp;I'm&nbsp;doing&nbsp;wrong...&nbsp;suggestions&nbsp;welcome!&lt;br&gt;&lt;br&gt;&lt;br&gt;I&nbsp;also&nbsp;have&nbsp;a&nbsp;related&nbsp;question&nbsp;to&nbsp;ask&nbsp;-&nbsp;what&nbsp;is&nbsp;the&nbsp;plan&nbsp;for&nbsp;handling/implementing&nbsp;ObjC&nbsp;@protocol&nbsp;in&nbsp;C#?&nbsp;It's&nbsp;kinda&nbsp;hard&nbsp;to&nbsp;explain,&nbsp;but&nbsp;here&nbsp;goes&nbsp;(and&nbsp;apols&nbsp;in&nbsp;advance&nbsp;if&nbsp;I've&nbsp;missed&nbsp;the&nbsp;point!):&lt;br&gt;&nbsp;&lt;br&gt;1)&nbsp;@protocols&nbsp;seem&nbsp;&quot;kinda&quot;&nbsp;like&nbsp;C#&nbsp;Interfaces&nbsp;in&nbsp;that&nbsp;a&nbsp;@protocol&nbsp;defines&nbsp;interface&nbsp;ONLY,&nbsp;and&nbsp;classes&nbsp;can&nbsp;implement&nbsp;multiple&nbsp;@protocols&lt;br&gt;&lt;br&gt;2)&nbsp;@protocols&nbsp;are&nbsp;different&nbsp;to&nbsp;C#&nbsp;Interfaces&nbsp;in&nbsp;that&nbsp;members&nbsp;can&nbsp;be&nbsp;'optionally'&nbsp;implemented&lt;br&gt;&nbsp;&lt;br&gt;3)&nbsp;&lt;a&nbsp;href=&quot;http://developer.apple.com/iphone/library/documentation/MapKit/Reference/MKAnnotation_Protocol/Reference/Reference.html&quot;&gt;MKAnnotation&nbsp;&lt;/a&gt;is&nbsp;a&nbsp;@protocol,&nbsp;with&nbsp;one&nbsp;required&nbsp;property&nbsp;(coordinate)&nbsp;and&nbsp;two&nbsp;optional&nbsp;(title,&nbsp;subtitle)&lt;br&gt;&nbsp;&lt;br&gt;4)&nbsp;In&nbsp;&lt;b&gt;MonoTouch&lt;/b&gt;,&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKAnnotation&nbsp;&lt;/span&gt;is&nbsp;an&nbsp;&lt;i&gt;abstract&nbsp;class&lt;/i&gt;&nbsp;with&nbsp;(title,&nbsp;subtitle)&nbsp;properties&nbsp;and&nbsp;coordinate&nbsp;as&nbsp;an&nbsp;&lt;i&gt;abstract&nbsp;property&lt;/i&gt;.&nbsp;That&nbsp;kinda&nbsp;makes&nbsp;sense&nbsp;in&nbsp;terms&nbsp;of&nbsp;'modelling'&nbsp;the&nbsp;@protocol&lt;br&gt;&nbsp;&lt;br&gt;5)&nbsp;BUT&nbsp;in&nbsp;ObjC&nbsp;&quot;A&nbsp;&lt;a&nbsp;href=&quot;http://developer.apple.com/iphone/library/documentation/MapKit/Reference/MKPlacemark_Class/Reference/Reference.html&quot;&gt;placemark&nbsp;&lt;/a&gt;is&nbsp;also&nbsp;an&nbsp;annotation&nbsp;and&nbsp;conforms&nbsp;to&nbsp;the&nbsp;&lt;code&gt;&lt;a&nbsp;href=&quot;http://developer.apple.com/iphone/library/documentation/MapKit/Reference/MKAnnotation_Protocol/Reference/Reference.html#//apple_ref/occ/intf/MKAnnotation&quot;&nbsp;target=&quot;_top&quot;&gt;MKAnnotation&lt;/a&gt;&lt;/code&gt;&nbsp;protocol,&nbsp;whose&nbsp;properties&nbsp;and&nbsp;methods&nbsp;include&nbsp;the&nbsp;placemark&nbsp;coordinate&nbsp;and&nbsp;other&nbsp;information.&nbsp;&lt;i&gt;Because&nbsp;they&nbsp;are&nbsp;annotations,&nbsp;you&nbsp;can&nbsp;add&nbsp;them&nbsp;directly&nbsp;to&nbsp;the&nbsp;map&nbsp;view&lt;/i&gt;.&quot;&lt;br&gt;ie.&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKMapVew.AddAnnotation()&lt;/span&gt;&nbsp;takes&nbsp;an&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKAnnotation&nbsp;&lt;/span&gt;@protocol&nbsp;parameter&nbsp;which&nbsp;means&nbsp;it&nbsp;will&nbsp;accept&nbsp;an&nbsp;MKAnnotation&nbsp;class&nbsp;(or&nbsp;subclass)&nbsp;&lt;b&gt;AND&nbsp;ALSO&nbsp;an&nbsp;MKPlacemark&nbsp;instance&lt;/b&gt;.&lt;br&gt;&nbsp;&lt;br&gt;6)&nbsp;HOWEVER&nbsp;in&nbsp;C#&nbsp;the&nbsp;method&nbsp;definition&nbsp;is&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKMapView.AddAnnotation&nbsp;(MKAnnotation&nbsp;annotation)&lt;/span&gt;&nbsp;...&nbsp;meaning&nbsp;it&nbsp;will&nbsp;accept&nbsp;any&nbsp;implementation&nbsp;of&nbsp;the&nbsp;abstract&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKAnnotation&nbsp;&lt;/span&gt;subclass&nbsp;but&nbsp;NOT&nbsp;an&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKPlacemark&lt;/span&gt;.&nbsp;&lt;br&gt;&nbsp;&lt;br&gt;So&nbsp;part&nbsp;of&nbsp;my&nbsp;problem&nbsp;was&nbsp;successfully&nbsp;getting&nbsp;an&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKPlacemark&nbsp;&lt;/span&gt;back&nbsp;in&nbsp;my&nbsp;code&nbsp;but&nbsp;not&nbsp;being&nbsp;able&nbsp;to&nbsp;add&nbsp;it&nbsp;to&nbsp;the&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKMapView&lt;/span&gt;&nbsp;directly,&nbsp;and&nbsp;also&nbsp;not&nbsp;being&nbsp;able&nbsp;to&nbsp;construct&nbsp;a&nbsp;valid&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKAnnotation&nbsp;&lt;/span&gt;subclass&nbsp;that&nbsp;would&nbsp;successfully&nbsp;add&nbsp;to&nbsp;the&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKMapView&lt;/span&gt;.&nbsp;It&nbsp;seems&nbsp;more&nbsp;logical&nbsp;to&nbsp;me&nbsp;that&nbsp;MonoTouch&nbsp;provide&nbsp;both&nbsp;an&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;IMKAnnotation&nbsp;&lt;/span&gt;and&nbsp;abstract&nbsp;class&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;MKAnnotation:IMKAnnotation&nbsp;&lt;/span&gt;so&nbsp;that&nbsp;methods&nbsp;can&nbsp;accept&nbsp;the&nbsp;interface&nbsp;as&nbsp;a&nbsp;parameter...&nbsp;of&nbsp;course&nbsp;I've&nbsp;no&nbsp;idea&nbsp;how&nbsp;this&nbsp;would&nbsp;translate&nbsp;into&nbsp;the&nbsp;compiler&nbsp;(but&nbsp;it&nbsp;&lt;i&gt;is&nbsp;&lt;/i&gt;already&nbsp;stripping&nbsp;out&nbsp;the&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;ModelNotImplementedException&lt;/span&gt;s)...&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;This&nbsp;seems&nbsp;to&nbsp;be&nbsp;a&nbsp;bug,&nbsp;can&nbsp;you&nbsp;file&nbsp;this&nbsp;one&nbsp;so&nbsp;we&nbsp;can&nbsp;look&nbsp;at&nbsp;how&nbsp;to&nbsp;best&nbsp;fix&nbsp;it?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-g&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
