<tt>
&lt;html&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=windows-1256&quot;&gt;<br>
&lt;style&nbsp;type=&quot;text/css&quot;&nbsp;id=&quot;owaParaStyle&quot;&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;fpstyle=&quot;1&quot;&nbsp;ocsi=&quot;0&quot;&gt;<br>
&lt;div&nbsp;style=&quot;direction:&nbsp;ltr;font-family:&nbsp;Tahoma;color:&nbsp;#000000;font-size:&nbsp;10pt;&quot;&gt;Ok&nbsp;apparently&nbsp;what&nbsp;I&nbsp;needed&nbsp;to&nbsp;do&nbsp;was&nbsp;set&nbsp;some&nbsp;properties&nbsp;ON&nbsp;the&nbsp;bar&nbsp;before&nbsp;I&nbsp;archived&nbsp;and&nbsp;unarchived&nbsp;it..&nbsp;(don't&nbsp;ask)&nbsp;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;this&nbsp;code&nbsp;works&nbsp;for&nbsp;swapping&nbsp;out&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;UINavigationController&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;UINavigationBar&nbsp;bar&nbsp;=&nbsp;navController.NavigationBar;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;bar.TintColor&nbsp;=&nbsp;UIColor.FromRGB&nbsp;(&lt;span&nbsp;class=&quot;s1&quot;&gt;49&lt;/span&gt;,<br>
&lt;span&nbsp;class=&quot;s1&quot;&gt;37&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;27&lt;/span&gt;);&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;if&lt;/span&gt;&nbsp;((UIDevice.CurrentDevice.SystemVersion.CompareTo&nbsp;(&lt;span&nbsp;class=&quot;s1&quot;&gt;&quot;5&quot;&lt;/span&gt;)&nbsp;&gt;=<br>
&lt;span&nbsp;class=&quot;s1&quot;&gt;0&lt;/span&gt;))&nbsp;{&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;UIImage&nbsp;image&nbsp;=&nbsp;UIImage.FromBundle&nbsp;(fileLoc);&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;bar.SetBackgroundImage&nbsp;(image,&nbsp;UIBarMetrics.Default);&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;return&lt;/span&gt;&nbsp;navController;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;}&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p3&quot;&gt;&lt;span&nbsp;class=&quot;s3&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;/span&gt;//int&nbsp;bgViewTag&nbsp;=&nbsp;4242421;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;NSKeyedUnarchiver&nbsp;unarchiver&nbsp;=<br>
&lt;span&nbsp;class=&quot;s2&quot;&gt;new&lt;/span&gt;&nbsp;NSKeyedUnarchiver&nbsp;(NSKeyedArchiver.ArchivedDataWithRootObject&nbsp;(navController));&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;Class&nbsp;c&nbsp;=<br>
&lt;span&nbsp;class=&quot;s2&quot;&gt;new&lt;/span&gt;&nbsp;Class(&lt;span&nbsp;class=&quot;s2&quot;&gt;typeof&lt;/span&gt;(CustomUINavigationBar));&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;unarchiver.SetClass&nbsp;(&lt;span&nbsp;class=&quot;s2&quot;&gt;new&lt;/span&gt;&nbsp;Class&nbsp;(&lt;span&nbsp;class=&quot;s2&quot;&gt;typeof&lt;/span&gt;(CustomUINavigationBar)),<br>
&lt;span&nbsp;class=&quot;s1&quot;&gt;&quot;UINavigationBar&quot;&lt;/span&gt;);&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;UINavigationController&nbsp;controller&nbsp;=&nbsp;(UINavigationController)unarchiver.DecodeObject&nbsp;(&lt;span&nbsp;class=&quot;s1&quot;&gt;&quot;root&quot;&lt;/span&gt;);&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;((CustomUINavigationBar)&nbsp;controller.NavigationBar).BgFile&nbsp;=&nbsp;fileLoc;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;return&lt;/span&gt;&nbsp;controller;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;The&nbsp;only&nbsp;difference&nbsp;is&nbsp;that&nbsp;I&nbsp;set&nbsp;the&nbsp;UINavigationBar.TintColor..&nbsp;which&nbsp;was&nbsp;a&nbsp;minor&nbsp;tweak&nbsp;I&nbsp;was&nbsp;adding&nbsp;to&nbsp;this&nbsp;build&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;at&nbsp;least&nbsp;publish&nbsp;something&nbsp;for&nbsp;testing...&nbsp;Then&nbsp;bam&nbsp;it&nbsp;worked...&nbsp;so&nbsp;ya,&nbsp;SetClass&nbsp;must&nbsp;somehow&nbsp;be&nbsp;dependent&nbsp;on&nbsp;the<br>
&nbsp;instance&nbsp;that&nbsp;the&nbsp;archive&nbsp;was&nbsp;built&nbsp;from&nbsp;isn't&nbsp;in&nbsp;a&nbsp;default&nbsp;state..&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;Anyone&nbsp;else&nbsp;shocked&nbsp;that&nbsp;setting&nbsp;TintColor&nbsp;before&nbsp;creating&nbsp;an&nbsp;Archive&nbsp;(and&nbsp;unarchiving&nbsp;it)&nbsp;makes&nbsp;SetClass&nbsp;work???&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;Josh&lt;/p&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;Times&nbsp;New&nbsp;Roman;&nbsp;color:&nbsp;#000000;&nbsp;font-size:&nbsp;16px&quot;&gt;<br>
&lt;hr&nbsp;tabindex=&quot;-1&quot;&gt;<br>
&lt;div&nbsp;id=&quot;divRpF459154&quot;&nbsp;style=&quot;direction:&nbsp;ltr;&nbsp;&quot;&gt;&lt;font&nbsp;face=&quot;Tahoma&quot;&nbsp;size=&quot;2&quot;&nbsp;color=&quot;#000000&quot;&gt;&lt;b&gt;From:&lt;/b&gt;&nbsp;monotouch-bounces@lists.ximian.com&nbsp;[monotouch-bounces@lists.ximian.com]&nbsp;on&nbsp;behalf&nbsp;of&nbsp;jhandel@gmail.com&nbsp;[jhandel@gmail.com]&lt;br&gt;<br>
&lt;b&gt;Sent:&lt;/b&gt;&nbsp;Friday,&nbsp;March&nbsp;30,&nbsp;2012&nbsp;5:27&nbsp;PM&lt;br&gt;<br>
&lt;b&gt;To:&lt;/b&gt;&nbsp;MonoTouch&nbsp;Forums&nbsp;ý[monotouch@lists.ximian.com]ý&lt;br&gt;<br>
&lt;b&gt;Subject:&lt;/b&gt;&nbsp;[MonoTouch]&nbsp;Category&nbsp;type&nbsp;&quot;overrides&quot;&lt;br&gt;<br>
&lt;/font&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&nbsp;style=&quot;direction:ltr;&nbsp;font-family:Tahoma;&nbsp;color:#000000;&nbsp;font-size:10pt&quot;&gt;I&nbsp;am&nbsp;at&nbsp;my&nbsp;whits&nbsp;end&nbsp;trying&nbsp;to&nbsp;skin&nbsp;a&nbsp;UINavigationController&nbsp;in&nbsp;iOS&nbsp;4.X&nbsp;(yes&nbsp;iOS&nbsp;4.x&nbsp;not&nbsp;5.X,&nbsp;5&nbsp;is&nbsp;easy,&nbsp;that&nbsp;is&nbsp;taken&nbsp;care&nbsp;of).<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;So&nbsp;time&nbsp;and&nbsp;time&nbsp;again&nbsp;I&nbsp;am&nbsp;brought&nbsp;back&nbsp;to&nbsp;having&nbsp;to&nbsp;somehow&nbsp;override&nbsp;or&nbsp;otherwise&nbsp;mangle&nbsp;the&nbsp;UINavigationBar..&nbsp;So&nbsp;my&nbsp;question&nbsp;is&nbsp;this&nbsp;:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Can&nbsp;anyone&nbsp;show&nbsp;me&nbsp;how&nbsp;to&nbsp;override&nbsp;(or&nbsp;otherwise&nbsp;mangle)&nbsp;the&nbsp;UINavigationBar&nbsp;AND&nbsp;get&nbsp;it&nbsp;inside&nbsp;the&nbsp;UINavigationController&nbsp;?&nbsp;&nbsp;In&nbsp;Objective&nbsp;C,&nbsp;I&nbsp;could&nbsp;Swizzle&nbsp;to&nbsp;swap&nbsp;implementations&nbsp;or&nbsp;use&nbsp;Category&nbsp;to&nbsp;essentially&nbsp;write&nbsp;an&nbsp;override.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;If&nbsp;not,&nbsp;then&nbsp;I&nbsp;guess&nbsp;I'll&nbsp;have&nbsp;to&nbsp;roll&nbsp;my&nbsp;own&nbsp;NavigationController&nbsp;from&nbsp;scratch.&nbsp;but&nbsp;I&nbsp;really&nbsp;would&nbsp;prefer&nbsp;to&nbsp;some&nbsp;how&nbsp;register&nbsp;an&nbsp;override&nbsp;as&nbsp;a&nbsp;Category&nbsp;as&nbsp;that&nbsp;is&nbsp;probably&nbsp;the&nbsp;&quot;cleanest&quot;&nbsp;way&nbsp;to&nbsp;go.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;FYI:&nbsp;Here&nbsp;is&nbsp;some&nbsp;code&nbsp;I&nbsp;tried&nbsp;with&nbsp;no&nbsp;luck&nbsp;(this&nbsp;should&nbsp;have&nbsp;been&nbsp;an&nbsp;XIBless&nbsp;way&nbsp;to&nbsp;reconstitue&nbsp;the&nbsp;UINavigationController&nbsp;with&nbsp;an&nbsp;instance&nbsp;of&nbsp;my&nbsp;CustomNavigationBar&nbsp;but&nbsp;it&nbsp;didn't&nbsp;fly.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;[Register(&lt;/span&gt;&quot;CustomUINavigationBar&quot;&lt;span&nbsp;class=&quot;s1&quot;&gt;)]&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;public&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s2&quot;&gt;<br>
class&lt;/span&gt;&nbsp;CustomUINavigationBar:UINavigationBar{&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;public&lt;/span&gt;&nbsp;CustomUINavigationBar(IntPtr&nbsp;handler):&lt;span&nbsp;class=&quot;s2&quot;&gt;base&lt;/span&gt;(handler){}&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p3&quot;&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;/span&gt;public&lt;span&nbsp;class=&quot;s1&quot;&gt;<br>
&lt;/span&gt;string&lt;span&nbsp;class=&quot;s1&quot;&gt;&nbsp;BgFile{&lt;/span&gt;get&lt;span&nbsp;class=&quot;s1&quot;&gt;;&lt;/span&gt;set&lt;span&nbsp;class=&quot;s1&quot;&gt;;}&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;public&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;s2&quot;&gt;override&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s2&quot;&gt;void&lt;/span&gt;&nbsp;Draw&nbsp;(RectangleF&nbsp;area)&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;{&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;UIImage&nbsp;image&nbsp;=<br>
&lt;span&nbsp;class=&quot;s2&quot;&gt;new&lt;/span&gt;&nbsp;UIImage&nbsp;(BgFile);&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;image.Draw(&lt;span&nbsp;class=&quot;s2&quot;&gt;new&lt;/span&gt;&nbsp;RectangleF(&lt;span&nbsp;class=&quot;s3&quot;&gt;0&lt;/span&gt;,&lt;span&nbsp;class=&quot;s3&quot;&gt;0&lt;/span&gt;,&lt;span&nbsp;class=&quot;s2&quot;&gt;this&lt;/span&gt;.Frame.Width,<br>
&lt;span&nbsp;class=&quot;s2&quot;&gt;this&lt;/span&gt;.Frame.Height));&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;}&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;}&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;then&nbsp;this&nbsp;little&nbsp;pare&nbsp;of&nbsp;methods&nbsp;acting&nbsp;like&nbsp;a&nbsp;&quot;factory&quot;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;public&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;static&lt;/span&gt;&nbsp;UINavigationController&nbsp;CreateNavController&nbsp;(UIViewController&nbsp;rootView,&nbsp;UINavigationControllerDelegate&nbsp;navDelegate,<br>
&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;fileLoc)&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;{&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;UINavigationController&nbsp;newController&nbsp;=<br>
&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;UINavigationController&nbsp;();&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;newController&nbsp;=&nbsp;styleNavController&nbsp;(newController,&nbsp;fileLoc);&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;newController.Delegate&nbsp;=&nbsp;navDelegate;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;newController.PushViewController(rootView,&lt;span&nbsp;class=&quot;s2&quot;&gt;false&lt;/span&gt;);&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;return&lt;/span&gt;&nbsp;newController;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;}&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;public&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;s1&quot;&gt;static&lt;/span&gt;&nbsp;UINavigationController&nbsp;styleNavController&nbsp;(UINavigationController&nbsp;navController,<br>
&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;fileLoc)&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;{&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;((UIDevice.CurrentDevice.SystemVersion.CompareTo&nbsp;(&lt;span&nbsp;class=&quot;s2&quot;&gt;&quot;5&quot;&lt;/span&gt;)&nbsp;&gt;=<br>
&lt;span&nbsp;class=&quot;s2&quot;&gt;0&lt;/span&gt;))&nbsp;{&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;UINavigationBar&nbsp;bar&nbsp;=&nbsp;navController.NavigationBar;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;UIImage&nbsp;image&nbsp;=&nbsp;UIImage.FromBundle&nbsp;(fileLoc);&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;bar.TintColor&nbsp;=&nbsp;UIColor.FromRGB&nbsp;(&lt;span&nbsp;class=&quot;s2&quot;&gt;49&lt;/span&gt;,<br>
&lt;span&nbsp;class=&quot;s2&quot;&gt;37&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;s2&quot;&gt;27&lt;/span&gt;);&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;bar.SetBackgroundImage&nbsp;(image,&nbsp;UIBarMetrics.Default);&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;return&lt;/span&gt;&nbsp;navController;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;}&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p3&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;NSKeyedUnarchiver&nbsp;unarchiver&nbsp;=<br>
&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;NSKeyedUnarchiver&nbsp;(NSKeyedArchiver.ArchivedDataWithRootObject&nbsp;(navController));&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;Class&nbsp;c&nbsp;=<br>
&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;Class(&lt;span&nbsp;class=&quot;s1&quot;&gt;typeof&lt;/span&gt;(CustomUINavigationBar));&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;unarchiver.SetClass&nbsp;(&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;Class&nbsp;(&lt;span&nbsp;class=&quot;s1&quot;&gt;typeof&lt;/span&gt;(CustomUINavigationBar)),<br>
&lt;span&nbsp;class=&quot;s2&quot;&gt;&quot;UINavigationBar&quot;&lt;/span&gt;);&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;UINavigationController&nbsp;controller&nbsp;=&nbsp;(UINavigationController)unarchiver.DecodeObject&nbsp;(&lt;span&nbsp;class=&quot;s2&quot;&gt;&quot;root&quot;&lt;/span&gt;);&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p3&quot;&gt;((CustomUINavigationBar)&nbsp;controller.NavigationBar).BgFile&nbsp;=&nbsp;fileLoc;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;return&lt;/span&gt;&nbsp;controller;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&gt;&lt;/span&gt;}&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;Despite&nbsp;the&nbsp;effort,&nbsp;the&nbsp;unarchive.SetClass()&nbsp;doesn't&nbsp;seem&nbsp;to&nbsp;actually&nbsp;change&nbsp;the&nbsp;class&nbsp;of&nbsp;&quot;UINavigationBar&quot;&nbsp;like&nbsp;it&nbsp;should.&nbsp;because&nbsp;the&nbsp;DecodeObject&nbsp;call&nbsp;just&nbsp;returns&nbsp;a&nbsp;NavigationController&nbsp;with&nbsp;the&nbsp;default&nbsp;UINavigationBar&nbsp;initialized.&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Thanks&lt;/div&gt;<br>
&lt;div&gt;Josh&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
