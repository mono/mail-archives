<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;David,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;theData.ToString&nbsp;(NSStringEncoding)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;NSStringEncoding&nbsp;is&nbsp;a&nbsp;enum&nbsp;you&nbsp;probably&nbsp;want&nbsp;NSStringEncoding.UTF8&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-g&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;2011-03-02,&nbsp;at&nbsp;5:17&nbsp;PM,&nbsp;David&nbsp;Moles&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;I'm&nbsp;trying&nbsp;to&nbsp;parse&nbsp;the&nbsp;&quot;raw&nbsp;response&quot;&nbsp;from&nbsp;a&nbsp;Facebook&nbsp;request&nbsp;(using&nbsp;Kevin&nbsp;McMahon's&nbsp;MT&nbsp;binding&nbsp;of&nbsp;the&nbsp;Facebook&nbsp;SDK).&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;From&nbsp;what&nbsp;I&nbsp;can&nbsp;tell,&nbsp;in&nbsp;the&nbsp;FB&nbsp;API,&nbsp;you&nbsp;first&nbsp;get&nbsp;an&nbsp;NSUrlResponse,&nbsp;and&nbsp;then&nbsp;you&nbsp;get&nbsp;an&nbsp;NSData&nbsp;(in&nbsp;separate&nbsp;callbacks).&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now,&nbsp;I&nbsp;happen&nbsp;to&nbsp;know&nbsp;that&nbsp;what's&nbsp;in&nbsp;the&nbsp;NSData&nbsp;--&nbsp;at&nbsp;least&nbsp;for&nbsp;this&nbsp;particular&nbsp;request&nbsp;--&nbsp;is&nbsp;a&nbsp;block&nbsp;of&nbsp;JSON,&nbsp;and&nbsp;what&nbsp;I'd&nbsp;like&nbsp;to&nbsp;do&nbsp;is&nbsp;convert&nbsp;the&nbsp;NSData&nbsp;to&nbsp;a&nbsp;string&nbsp;and&nbsp;then&nbsp;parse&nbsp;it&nbsp;out.&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;From&nbsp;what&nbsp;I&nbsp;can&nbsp;tell,&nbsp;it&nbsp;looks&nbsp;like&nbsp;the&nbsp;conversion,&nbsp;in&nbsp;ObjC,&nbsp;is&nbsp;supposed&nbsp;to&nbsp;look&nbsp;something&nbsp;like:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;webkit-indent-blockquote&quot;&nbsp;style=&quot;margin:&nbsp;0&nbsp;0&nbsp;0&nbsp;40px;&nbsp;border:&nbsp;none;&nbsp;padding:&nbsp;0px;&quot;&gt;<br>
&lt;div&gt;&lt;div&gt;CFStringEncoding&nbsp;cfEncoding&nbsp;=&nbsp;CFStringConvertIANACharSetNameToEncoding((CFStringRef)&nbsp;[response&nbsp;textEncodingName]);&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;NSStringEncoding&nbsp;encoding&nbsp;=&nbsp;CFStringConvertEncodingToNSStringEncoding(cfEncoding);&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;NSString*&nbsp;string&nbsp;=&nbsp;[[NSString&nbsp;alloc]&nbsp;initWithData:data&nbsp;encoding:encoding];&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Having&nbsp;to&nbsp;go&nbsp;through&nbsp;CoreFoundation&nbsp;to&nbsp;get&nbsp;from&nbsp;an&nbsp;NSString&nbsp;property&nbsp;of&nbsp;NSUrlResponse&nbsp;to&nbsp;an&nbsp;NSStringEncoding&nbsp;is&nbsp;dopey&nbsp;as&nbsp;hell,&nbsp;but&nbsp;this&nbsp;seems&nbsp;to&nbsp;be&nbsp;the&nbsp;way&nbsp;to&nbsp;do&nbsp;it.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Unfortunately,&nbsp;CFStringEncoding&nbsp;doesn't&nbsp;appear&nbsp;to&nbsp;exist&nbsp;in&nbsp;MT,&nbsp;nor&nbsp;the&nbsp;corresponding&nbsp;convert&nbsp;method.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;a&nbsp;workaround?&nbsp;Or&nbsp;should&nbsp;I&nbsp;just&nbsp;ignore&nbsp;the&nbsp;encoding,&nbsp;pretend&nbsp;it's&nbsp;always&nbsp;going&nbsp;to&nbsp;be&nbsp;UTF-8,&nbsp;and&nbsp;cross&nbsp;my&nbsp;fingers?&lt;/div&gt;<br>
&lt;br&gt;--&nbsp;&lt;br&gt;David&nbsp;Moles&lt;div&gt;&lt;a&nbsp;href=&quot;mailto:davidmoles@thegogame.com&quot;&nbsp;target=&quot;_blank&quot;&gt;davidmoles@thegogame.com&lt;/a&gt;&lt;/div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
_______________________________________________&lt;br&gt;MonoTouch&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:MonoTouch@lists.ximian.com&quot;&gt;MonoTouch@lists.ximian.com&lt;/a&gt;&lt;br&gt;http://lists.ximian.com/mailman/listinfo/monotouch&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
