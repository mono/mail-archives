<tt>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;TITLE&gt;Re:&nbsp;[MonoTouch]&nbsp;Image&nbsp;In&nbsp;Cell&nbsp;Can&nbsp;Leak&nbsp;Memory&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;FONT&nbsp;FACE=&quot;Calibri,&nbsp;Verdana,&nbsp;Helvetica,&nbsp;Arial&quot;&gt;&lt;SPAN&nbsp;STYLE='font-size:13pt'&gt;No,&nbsp;no&nbsp;event&nbsp;handler&nbsp;registered.&nbsp;&amp;nbsp;Rather&nbsp;I&nbsp;pass&nbsp;an&nbsp;Action&nbsp;into&nbsp;the&nbsp;ctor&nbsp;of&nbsp;my&nbsp;image&nbsp;view&nbsp;and&nbsp;call&nbsp;it&nbsp;when&nbsp;touch&nbsp;happens&nbsp;like&nbsp;so:&lt;BR&gt;<br>
&lt;BR&gt;<br>
public&nbsp;override&nbsp;void&nbsp;TouchesBegan&nbsp;(NSSet&nbsp;touches,&nbsp;UIEvent&nbsp;evt)&lt;BR&gt;<br>
{&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;onTouch&nbsp;();&lt;BR&gt;<br>
}&lt;BR&gt;<br>
&lt;BR&gt;<br>
Tim&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
On&nbsp;9/14/10&nbsp;11:27&nbsp;AM,&nbsp;&amp;quot;Tiago&nbsp;Reis&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;tiago.reis@cardmobili.com&quot;&gt;tiago.reis@cardmobili.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;BLOCKQUOTE&gt;&lt;FONT&nbsp;FACE=&quot;Calibri,&nbsp;Verdana,&nbsp;Helvetica,&nbsp;Arial&quot;&gt;&lt;SPAN&nbsp;STYLE='font-size:13pt'&gt;The&nbsp;first&nbsp;part&nbsp;is&nbsp;not&nbsp;really&nbsp;a&nbsp;memory&nbsp;leak,&nbsp;you&nbsp;are&nbsp;creating&nbsp;a&nbsp;new&nbsp;image&nbsp;for&nbsp;each&nbsp;cell&nbsp;:)&lt;BR&gt;<br>
&lt;BR&gt;<br>
The&nbsp;image&nbsp;not&nbsp;being&nbsp;dispose,&nbsp;do&nbsp;you&nbsp;have&nbsp;any&nbsp;event&nbsp;registered&nbsp;on&nbsp;that&nbsp;Image&nbsp;/&nbsp;Cell?&lt;BR&gt;<br>
&lt;BR&gt;<br>
//&nbsp;Sorry&nbsp;I&nbsp;don't&nbsp;have&nbsp;a&nbsp;mac&nbsp;here&nbsp;to&nbsp;get&nbsp;&amp;quot;real&amp;quot;&nbsp;code&nbsp;to&nbsp;provide&nbsp;a&nbsp;sample,&nbsp;and&nbsp;its&nbsp;already&nbsp;been&nbsp;a&nbsp;while&nbsp;since&nbsp;I&nbsp;implemented&nbsp;something UI related&lt;BR&gt;<br>
image.onSomething&nbsp;+= new&nbsp;EventHandler(MethodName);&lt;BR&gt;<br>
&lt;BR&gt;<br>
If&nbsp;so&nbsp;you&nbsp;need&nbsp;to&nbsp;unregister&nbsp;the&nbsp;event before&nbsp;disposing&nbsp;it.  &lt;BR&gt;<br>
(image.onSomething-= new&nbsp;EventHandler(MethodName);&lt;BR&gt;<br>
&lt;BR&gt;<br>
Otherwise&nbsp;Garbage&nbsp;Collector&nbsp;will&nbsp;not&nbsp;be&nbsp;able&nbsp;to&nbsp;recall&nbsp;the&nbsp;memory&lt;BR&gt;<br>
&lt;BR&gt;<br>
Hope&nbsp;it&nbsp;helps&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
On&nbsp;Tue,&nbsp;Sep&nbsp;14,&nbsp;2010&nbsp;at&nbsp;4:44&nbsp;PM,&nbsp;Tim&nbsp;Scott&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;tscott@lunaversesoftware.com&quot;&gt;tscott@lunaversesoftware.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;BR&gt;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;BLOCKQUOTE&gt;&lt;FONT&nbsp;FACE=&quot;Calibri,&nbsp;Verdana,&nbsp;Helvetica,&nbsp;Arial&quot;&gt;&lt;SPAN&nbsp;STYLE='font-size:13pt'&gt;I&nbsp;just&nbsp;learned&nbsp;something&nbsp;that&nbsp;I&nbsp;thought&nbsp;I&nbsp;would&nbsp;share.&nbsp; Did&nbsp;you&nbsp;know&nbsp;that&nbsp;this&nbsp;will&nbsp;leak&nbsp;memory?&lt;BR&gt;<br>
&lt;BR&gt;<br>
public&nbsp;class&nbsp;MyCell&nbsp;:&nbsp;UITableViewCell&lt;BR&gt;<br>
{&lt;BR&gt;<br>
    UImageView&nbsp;myImageView;&lt;BR&gt;<br>
&lt;BR&gt;<br>
    public&nbsp;MyCell&nbsp;()&nbsp;:&nbsp;base(UITableViewCellStyle.Default,&nbsp;&amp;#8220;myCell&amp;#8221;)&lt;BR&gt;<br>
    {&lt;BR&gt;<br>
        ...&lt;BR&gt;<br>
        myImageView&nbsp;=&nbsp;new&nbsp;UIImageView(someRectF);&lt;BR&gt;<br>
        myImageView.Image&nbsp;=&nbsp;UiImage.FromFile(&amp;#8220;Images/myimage.png&amp;#8221;);&lt;BR&gt;<br>
    }&lt;BR&gt;<br>
    ...&lt;BR&gt;<br>
}&lt;BR&gt;<br>
&lt;BR&gt;<br>
It&nbsp;makes&nbsp;sense&nbsp;that&nbsp;this&nbsp;image&nbsp;is&nbsp;duplicated&nbsp;in&nbsp;memory&nbsp;for&nbsp;each&nbsp;cell.&nbsp; That&amp;#8217;s&nbsp;bad&nbsp;enough.&nbsp; The&nbsp;bigger&nbsp;problem,&nbsp;it&nbsp;seems,&nbsp; is&nbsp;that&nbsp;these&nbsp;images&nbsp;do&nbsp;not&nbsp;get&nbsp;disposed&nbsp;when&nbsp;the&nbsp;table&nbsp;controller&nbsp;is&nbsp;popped.&nbsp; If&nbsp;you&nbsp;push&nbsp;and&nbsp;pop&nbsp;this&nbsp;controller&nbsp;enough&nbsp;times&nbsp;with&nbsp;enough&nbsp;cells,&nbsp;you&nbsp;will&nbsp;run&nbsp;out&nbsp;of&nbsp;memory.&lt;BR&gt;<br>
&lt;BR&gt;<br>
I&nbsp;solved&nbsp;it&nbsp;like&nbsp;this:&lt;BR&gt;<br>
&lt;BR&gt;<br>
public&nbsp;static&nbsp;class&nbsp;Images&lt;BR&gt;<br>
{&lt;BR&gt;<br>
    static&nbsp;Images&nbsp;()&lt;BR&gt;<br>
    {&lt;BR&gt;<br>
        MyImage&nbsp;=&nbsp;UIImage.FromFile&nbsp;(&amp;quot;Images/&nbsp;myimage.png&amp;quot;);&lt;BR&gt;<br>
    }&lt;BR&gt;<br>
&lt;BR&gt;<br>
    public&nbsp;static&nbsp;UIImage&nbsp;MyImage&nbsp;{&nbsp;get;&nbsp;private&nbsp;set;&nbsp;}&lt;BR&gt;<br>
}&lt;BR&gt;<br>
&lt;BR&gt;<br>
Then&nbsp;in&nbsp;the&nbsp;ctor&nbsp;of&nbsp;the&nbsp;cell:&lt;BR&gt;<br>
&lt;BR&gt;<br>
myImageView.Image&nbsp;=&nbsp;Images&nbsp;.MyImage;&lt;BR&gt;<br>
&lt;BR&gt;<br>
Comments???&nbsp;&lt;BR&gt;<br>
&lt;BR&gt;<br>
_______________________________________________&lt;BR&gt;<br>
MonoTouch&nbsp;mailing&nbsp;list&lt;BR&gt;<br>
&lt;a&nbsp;href=&quot;MonoTouch@lists.ximian.com&quot;&gt;MonoTouch@lists.ximian.com&lt;/a&gt;&lt;BR&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monotouch&quot;&gt;http://lists.ximian.com/mailman/listinfo/monotouch&lt;/a&gt;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/BLOCKQUOTE&gt;&lt;FONT&nbsp;FACE=&quot;Calibri,&nbsp;Verdana,&nbsp;Helvetica,&nbsp;Arial&quot;&gt;&lt;SPAN&nbsp;STYLE='font-size:13pt'&gt;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/BLOCKQUOTE&gt;<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>
<br>

</tt>
