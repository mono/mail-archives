<tt>
&lt;div&gt;Hello!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;I&#39;m&nbsp;using&nbsp;the&nbsp;&lt;b&gt;HttpWebRequest&nbsp;&lt;/b&gt;to&nbsp;do&nbsp;a&nbsp;PUT&nbsp;on&nbsp;my&nbsp;server.&nbsp; The&nbsp;web-server&nbsp;is&nbsp;Node.js.&nbsp; The&nbsp;code&nbsp;is&nbsp;very&nbsp;by&nbsp;the&nbsp;book&nbsp;standard&nbsp;stuff:&lt;div&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;pre&nbsp;style=&quot;margin-top:0px;margin-bottom:0px;padding:0px;font-size:12px;line-height:1.4em;font-family:&#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&#39;,Courier,monospace&quot;&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC1&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;        &lt;span&nbsp;class=&quot;c1&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em;color:rgb(153,153,136);font-style:italic&quot;&gt;//&nbsp;Prepare&nbsp;the&nbsp;data.&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC2&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;          &lt;span&nbsp;class=&quot;kt&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em;color:rgb(68,85,136);font-weight:bold&quot;&gt;var&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;dataText&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;data&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;ToString&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;();&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC3&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;          &lt;span&nbsp;class=&quot;kt&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em;color:rgb(68,85,136);font-weight:bold&quot;&gt;var&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;byteArray&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;dataText&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;ToByteArray&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;();&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC4&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;&lt;br&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC5&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;<br>
          &lt;span&nbsp;class=&quot;c1&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em;color:rgb(153,153,136);font-style:italic&quot;&gt;//&nbsp;Setup&nbsp;the&nbsp;web-request.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC6&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;<br>
          &lt;span&nbsp;class=&quot;kt&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em;color:rgb(68,85,136);font-weight:bold&quot;&gt;var&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;req&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;WebRequest&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;Create&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;url&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;);&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC7&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;          &lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;req&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;Method&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em;color:rgb(221,17,68)&quot;&gt;&quot;PUT&quot;&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC8&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;          &lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;req&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;ContentType&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em;color:rgb(221,17,68)&quot;&gt;&quot;Content-Type:&nbsp;application/json;&nbsp;charset=utf-8&quot;&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC9&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;          &lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;req&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;ContentLength&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;byteArray&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;Length&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC10&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;    &lt;/div&gt;&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC11&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;          &lt;span&nbsp;class=&quot;c1&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em;color:rgb(153,153,136);font-style:italic&quot;&gt;//&nbsp;Process&nbsp;the&nbsp;stream.&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC12&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;          &lt;span&nbsp;style=&quot;color:rgb(68,85,136);font-weight:bold&quot;&gt;var&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;dataStream&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;req&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em;background-color:rgb(255,255,102)&quot;&gt;&lt;b&gt;GetRequestStream&lt;/b&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;();&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC13&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;          &lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;dataStream&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;Write&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;byteArray&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;m&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em;color:rgb(0,153,153)&quot;&gt;0&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;byteArray&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;Length&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;);&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC14&quot;&nbsp;style=&quot;margin:0px;padding:0px&nbsp;0px&nbsp;0px&nbsp;1em;line-height:1.4em&quot;&gt;          &lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;dataStream&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;Close&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin:0px;padding:0px;line-height:1.4em&quot;&gt;();&lt;/span&gt;&lt;/div&gt;<br>
&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;problem&nbsp;is,&nbsp;when&nbsp;I&nbsp;call &lt;b&nbsp;style=&quot;font-family:&#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&#39;,Courier,monospace;font-size:12px;line-height:16.78333282470703px;white-space:pre;background-color:rgb(255,255,102)&quot;&gt;GetRequestStream&lt;/b&gt; it&nbsp;issues&nbsp;the&nbsp;request&nbsp;to&nbsp;the&nbsp;server&nbsp;and&nbsp;the response is&nbsp;complete&nbsp;before&nbsp;the&nbsp;next&nbsp;line&nbsp;(&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;font-family:&#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&#39;,Courier,monospace;font-size:12px;line-height:1.4em;white-space:pre;margin:0px;padding:0px&quot;&gt;dataStream&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;font-family:&#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&#39;,Courier,monospace;font-size:12px;line-height:1.4em;white-space:pre;margin:0px;padding:0px&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;font-family:&#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&#39;,Courier,monospace;font-size:12px;line-height:1.4em;white-space:pre;margin:0px;padding:0px&quot;&gt;Write&lt;/span&gt;)&nbsp;executes.&nbsp; As&nbsp;a&nbsp;result&nbsp;no&nbsp;data&nbsp;is&nbsp;actually&nbsp;sent.&nbsp; It&#39;s&nbsp;like&nbsp;the&nbsp;stream&nbsp;prematurely&nbsp;flushes&nbsp;upon&nbsp;creation.&nbsp; In&nbsp;fact,&nbsp;I&nbsp;didn&#39;t&nbsp;think&nbsp;it&nbsp;was&nbsp;supposed&nbsp;to&nbsp;call&nbsp;the&nbsp;server&nbsp;at&nbsp;all&nbsp;until&nbsp;&lt;b&gt;GetResponse&lt;/b&gt;&nbsp;was&nbsp;invoked.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Am&nbsp;I&nbsp;doing&nbsp;something&nbsp;dumb&nbsp;here?&nbsp; Or,&nbsp;is&nbsp;it&nbsp;something&nbsp;with&nbsp;the&nbsp;way&nbsp;Node&nbsp;is&nbsp;behaving&nbsp;(that&nbsp;would&nbsp;be weird if&nbsp;it&nbsp;were).&nbsp; Or&nbsp;is&nbsp;HttpWebRequest&nbsp;flakey?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;works&nbsp;if&nbsp;I&nbsp;use&nbsp;&lt;b&gt;WebClient&lt;/b&gt;.&nbsp; But&nbsp;I&nbsp;need&nbsp;HttpStatus&nbsp;codes&nbsp;-&nbsp;and&nbsp;my&nbsp;understanding&nbsp;is&nbsp;you&nbsp;can&#39;t&nbsp;get&nbsp;at&nbsp;those&nbsp;from&nbsp;&lt;b&gt;WebClient&lt;/b&gt;.&nbsp; (If&nbsp;you&nbsp;can,&nbsp;I&nbsp;can&#39;t&nbsp;find&nbsp;them&nbsp;anywhere!&nbsp;:-))&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Anyone&nbsp;else&nbsp;seeing&nbsp;weirdness&nbsp;with&nbsp;&lt;b&gt;HttpWebRequest&lt;/b&gt;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&gt;&lt;b&gt;Phil&nbsp;&lt;/b&gt;&lt;font&nbsp;color=&quot;#999999&quot;&gt;Cockfield&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;img&nbsp;src=&quot;http://www.gravatar.com/avatar/99d0b4f26c68a563507c9e5a3d724126.png?s=50&quot;&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
