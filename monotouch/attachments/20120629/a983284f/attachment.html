<tt>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;Hi&nbsp;Nic,&lt;/span&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;Thanks&nbsp;a&nbsp;lot&nbsp;for&nbsp;your&nbsp;reply.&lt;/div&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;I&nbsp;am&nbsp;still&nbsp;having&nbsp;issues&nbsp;and&nbsp;the&nbsp;following&nbsp;VERY&nbsp;simple&nbsp;example&nbsp;does&nbsp;not&nbsp;reload&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;table:&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;p&gt;public partial class SearchViewController&nbsp;:&nbsp;DialogViewController&lt;br&gt;{&lt;/p&gt;&lt;p&gt;public SearchViewController&nbsp;()&nbsp;: base (UITableViewStyle.Plain, null)&lt;br&gt;{&lt;br&gt;&lt;br&gt;Root&nbsp;= new RootElement(&quot;Results&quot;)&nbsp;{&lt;br&gt; &nbsp;new Section(&quot;No&nbsp;results&quot;)&lt;br&gt;<br>
}&nbsp;;&lt;/p&gt;&lt;p&gt;EnableSearch&nbsp;= true;&lt;/p&gt;&lt;p&gt;SearchTextChanged&nbsp;+= delegate(object sender,&nbsp;SearchChangedEventArgs&nbsp;args)&nbsp;{&lt;br&gt; &nbsp;Root&nbsp;=&nbsp;GetResults();&lt;br&gt;}&nbsp;;&lt;/p&gt;&lt;p&gt;}&lt;/p&gt;&lt;p&gt;private RootElement&nbsp;GetResults&nbsp;()&lt;br&gt;{&lt;br&gt;return new RootElement(&quot;Results&quot;)&nbsp;{&lt;br&gt;<br>
 &nbsp;new Section(&quot;Sec1&quot;)&nbsp;{&lt;br&gt; &nbsp; &nbsp;new StyledStringElement(&quot;Testing1&quot;,&nbsp;&quot;test1&quot;),&lt;br&gt; &nbsp; &nbsp;new StyledStringElement(&quot;Testing2&quot;,&nbsp;&quot;test2&quot;)&lt;br&gt; &nbsp;}&lt;br&gt;}&nbsp;;&lt;/p&gt;&lt;p&gt;}&lt;br&gt;}&lt;/p&gt;&lt;div&gt;I&nbsp;have&nbsp;tried&nbsp;debugging&nbsp;and&nbsp;the&nbsp;changes&nbsp;to&nbsp;the&nbsp;Root&nbsp;property&nbsp;seems&nbsp;to&nbsp;&quot;remove&quot;&nbsp;the&nbsp;section&nbsp;object&nbsp;inside&nbsp;the&nbsp;RootElement.&nbsp;So&nbsp;that&nbsp;the&nbsp;first&nbsp;time&nbsp;I&nbsp;enter&nbsp;the&nbsp;SearchTextChanged&nbsp;and&nbsp;set&nbsp;the&nbsp;Root&nbsp;is&nbsp;has&nbsp;the&nbsp;correct&nbsp;number&nbsp;of&nbsp;sections.&nbsp;The&nbsp;second&nbsp;time&nbsp;is&nbsp;has&nbsp;no&nbsp;sections.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Do&nbsp;you&nbsp;know&nbsp;what&nbsp;the&nbsp;problem&nbsp;is?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;in&nbsp;advance&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Kim&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Jun&nbsp;28,&nbsp;2012&nbsp;at&nbsp;9:40&nbsp;AM,&nbsp;Nic&nbsp;Wise&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:nicw@fastchicken.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;nicw@fastchicken.co.nz&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;Kim&lt;br&gt;<br>
&lt;br&gt;<br>
SearchTextChanged&nbsp;it&nbsp;called&nbsp;as&nbsp;you&nbsp;type,&nbsp;so&nbsp;it&nbsp;should&nbsp;go&nbsp;each&nbsp;time&nbsp;you&lt;br&gt;<br>
hit&nbsp;a&nbsp;key.&lt;br&gt;<br>
&lt;br&gt;<br>
To&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;keyboard,&nbsp;you&nbsp;need&nbsp;to&nbsp;use&nbsp;the&nbsp;ResignFirstResponder&lt;br&gt;<br>
method,&nbsp;or&nbsp;you&nbsp;can&nbsp;try&nbsp;setting&nbsp;EndEditing&nbsp;to&nbsp;true&nbsp;(you&nbsp;need&nbsp;to&nbsp;either&lt;br&gt;<br>
call&nbsp;it&nbsp;on&nbsp;the&nbsp;searchbox,&nbsp;or&nbsp;on&nbsp;the&nbsp;dialogviewcontroller&nbsp;itself)&lt;br&gt;<br>
&lt;br&gt;<br>
As&nbsp;for&nbsp;the&nbsp;rest&nbsp;of&nbsp;it&nbsp;(pun&nbsp;kind&nbsp;of&nbsp;intended),&nbsp;I&nbsp;would:&lt;br&gt;<br>
&lt;br&gt;<br>
1.&nbsp;get&nbsp;the&nbsp;SearchTextChanged&nbsp;event,&nbsp;and&nbsp;start&nbsp;a&nbsp;timer.&nbsp;if&nbsp;the&nbsp;timer&lt;br&gt;<br>
fires,&nbsp;keep&nbsp;going.&nbsp;If&nbsp;the&nbsp;user&nbsp;hits&nbsp;another&nbsp;key,&nbsp;restart&nbsp;the&nbsp;timer.&lt;br&gt;<br>
2.&nbsp;when&nbsp;the&nbsp;timer&nbsp;fires,&nbsp;start&nbsp;a&nbsp;new&nbsp;thread&nbsp;(ThreadPool,&nbsp;or&nbsp;use&lt;br&gt;<br>
System.Threading.Tasks)&nbsp;and&nbsp;do&nbsp;your&nbsp;rest&nbsp;call.&lt;br&gt;<br>
3.&nbsp;Once&nbsp;you&nbsp;have&nbsp;the&nbsp;data,&nbsp;use&nbsp;InvokeOnMainThread&nbsp;(which&nbsp;is&nbsp;on&nbsp;any&nbsp;UI*&lt;br&gt;<br>
object,&nbsp;or&nbsp;even&nbsp;NSString&nbsp;or&nbsp;NSObject)&nbsp;to&nbsp;pass&nbsp;in&nbsp;the&nbsp;results&nbsp;of&nbsp;the&lt;br&gt;<br>
search,&nbsp;and&nbsp;update&nbsp;the&nbsp;dialogviewcontroller.&nbsp;You&nbsp;MUST&nbsp;do&nbsp;the&nbsp;update&nbsp;on&lt;br&gt;<br>
the&nbsp;UI&nbsp;thread,&nbsp;and&nbsp;unless&nbsp;you&nbsp;want&nbsp;the&nbsp;UI&nbsp;to&nbsp;jump&nbsp;and&nbsp;around&nbsp;and&nbsp;stop&lt;br&gt;<br>
and&nbsp;stutter,&nbsp;you&nbsp;need&nbsp;to&nbsp;do&nbsp;the&nbsp;rest&nbsp;call&nbsp;(and&nbsp;any&nbsp;other&nbsp;non-UI&lt;br&gt;<br>
processing)&nbsp;OFF&nbsp;the&nbsp;main&nbsp;thread.&lt;br&gt;<br>
&lt;br&gt;<br>
How&nbsp;you&nbsp;do&nbsp;the&nbsp;update&nbsp;is&nbsp;up&nbsp;to&nbsp;you.&nbsp;For&nbsp;a&nbsp;first&nbsp;attempt,&nbsp;just&nbsp;rebuild&lt;br&gt;<br>
the&nbsp;Root&nbsp;and&nbsp;reload&nbsp;it.&nbsp;If&nbsp;thats&nbsp;not&nbsp;smooth&nbsp;enough,&nbsp;you&nbsp;may&nbsp;need&nbsp;to&lt;br&gt;<br>
take&nbsp;the&nbsp;current&nbsp;root,&nbsp;insert&nbsp;the&nbsp;new&nbsp;results&nbsp;in&nbsp;the&nbsp;right&nbsp;places,&nbsp;and&lt;br&gt;<br>
allow&nbsp;it&nbsp;to&nbsp;animate&nbsp;the&nbsp;table&nbsp;cells&nbsp;(you&nbsp;get&nbsp;the&nbsp;animations&nbsp;for&nbsp;free,&lt;br&gt;<br>
pretty&nbsp;much)&lt;br&gt;<br>
&lt;br&gt;<br>
//in&nbsp;a&nbsp;thread,&nbsp;do&nbsp;the&nbsp;rest&nbsp;calls&lt;br&gt;<br>
&lt;br&gt;<br>
ThreadPool.QueueUserWorkItem(delegate&nbsp;{&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; var&nbsp;results&nbsp;=&nbsp;DoSomeWorkAndGetSomeResults(searchText);&lt;br&gt;<br>
&lt;br&gt;<br>
//once&nbsp;you&nbsp;have&nbsp;the&nbsp;results,&nbsp;update&nbsp;the&nbsp;UI&nbsp;-&nbsp;check&nbsp;to&nbsp;see&nbsp;if&nbsp;the&lt;br&gt;<br>
object&nbsp;you&nbsp;are&nbsp;using&nbsp;has&nbsp;InvokeOnMainThread,&nbsp;if&nbsp;so,&nbsp;you&nbsp;dont&nbsp;need&nbsp;to&lt;br&gt;<br>
make&nbsp;a&nbsp;string&nbsp;to&nbsp;use&nbsp;it&nbsp;:)&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; var&nbsp;temp&nbsp;=&nbsp;new&nbsp;NSString(&quot;foo&quot;);&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; temp.InvokeOnMainThread(delegate&nbsp;{&lt;br&gt;<br>
&nbsp; &nbsp; var&nbsp;localresults&nbsp;=&nbsp;results;&nbsp;//keep&nbsp;a&nbsp;reference&nbsp;to&nbsp;it&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; var&nbsp;newroot&nbsp;=&nbsp;new&nbsp;RootElement(&quot;results!&quot;);&lt;br&gt;<br>
&nbsp; &nbsp; //add&nbsp;in&nbsp;secetions&nbsp;and&nbsp;elements&nbsp;based&nbsp;on&nbsp;your&nbsp;rest&nbsp;results&lt;br&gt;<br>
&nbsp; &nbsp; foreach(var&nbsp;result&nbsp;in&nbsp;localresults)&nbsp;{&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; //do&nbsp;stuff,&nbsp;make&nbsp;objects,&nbsp;put&nbsp;them&nbsp;into&nbsp;the&nbsp;root&lt;br&gt;<br>
&nbsp; &nbsp; }&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; Root&nbsp;=&nbsp;newroot;&nbsp;//display&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; });&lt;br&gt;<br>
&lt;br&gt;<br>
});&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Wed,&nbsp;Jun&nbsp;27,&nbsp;2012&nbsp;at&nbsp;1:50&nbsp;PM,&nbsp;tiede&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:monotouch@tiede.dk&quot;&gt;monotouch@tiede.dk&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;am&nbsp;new&nbsp;to&nbsp;mono&nbsp;touch&nbsp;and&nbsp;iOs&nbsp;programming.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;am&nbsp;considering&nbsp;using&nbsp;the&nbsp;mono&nbsp;touch&nbsp;dialog&nbsp;for&nbsp;showing&nbsp;a&nbsp;search&nbsp;result&lt;br&gt;<br>
&gt;&nbsp;from&nbsp;a&nbsp;REST&nbsp;service.&nbsp;So&nbsp;the&nbsp;table&nbsp;is&nbsp;initially&nbsp;empty&nbsp;but&nbsp;by&nbsp;pressing&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;search&nbsp;button&nbsp;(search&nbsp;is&nbsp;enabled&nbsp;in&nbsp;the&nbsp;dialog&nbsp;viewcontroller).&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Is&nbsp;this&nbsp;an&nbsp;ok&nbsp;use&nbsp;of&nbsp;the&nbsp;dialogviewcontroller?&nbsp;And&nbsp;what&nbsp;it&nbsp;the&nbsp;right&nbsp;pattern&lt;br&gt;<br>
&gt;&nbsp;for&nbsp;calling&nbsp;the&nbsp;service&nbsp;and&nbsp;supplying&nbsp;the&nbsp;result&nbsp;into&nbsp;the&nbsp;&quot;model&quot;&nbsp;of&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;controller?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;have&nbsp;tried&nbsp;implementing&nbsp;in&nbsp;the&nbsp;SearchButtonClicked&nbsp;and&nbsp;that&nbsp;works&nbsp;but&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;keyboard&nbsp;does&nbsp;not&nbsp;disappear.&nbsp;I&nbsp;have&nbsp;tried&nbsp;in&nbsp;the&nbsp;SearchTextChanged&nbsp;but&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;data&nbsp;is&nbsp;not&nbsp;refreshed.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;So&nbsp;I&nbsp;am&nbsp;looking&nbsp;for&nbsp;a&nbsp;pattern&nbsp;for&nbsp;this&nbsp;kind&nbsp;of&nbsp;use&nbsp;case?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Thanks&nbsp;in&nbsp;advance&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Kim&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;--&lt;br&gt;<br>
&gt;&nbsp;View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://monotouch.2284126.n4.nabble.com/DialogViewController-and-async-search-tp4655604.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://monotouch.2284126.n4.nabble.com/DialogViewController-and-async-search-tp4655604.html&lt;/a&gt;&lt;br&gt;<br>
<br>
&gt;&nbsp;Sent&nbsp;from&nbsp;the&nbsp;MonoTouch&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;MonoTouch&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:MonoTouch@lists.ximian.com&quot;&gt;MonoTouch@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monotouch&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/monotouch&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;--&lt;br&gt;<br>
Nic&nbsp;Wise&lt;br&gt;<br>
t. &nbsp;&lt;a&nbsp;href=&quot;tel:%2B44%207788%20592%20806&quot;&nbsp;value=&quot;+447788592806&quot;&gt;+44&nbsp;7788&nbsp;592&nbsp;806&lt;/a&gt;&nbsp;| @fastchicken&nbsp;|&nbsp;&lt;a&nbsp;href=&quot;http://www.linkedin.com/in/nicwise&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.linkedin.com/in/nicwise&lt;/a&gt;&lt;br&gt;<br>
b.&nbsp;&lt;a&nbsp;href=&quot;http://www.fastchicken.co.nz/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.fastchicken.co.nz/&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Earnest:&nbsp;Self-employed?&nbsp;Track&nbsp;your&nbsp;business&nbsp;expenses&nbsp;and&nbsp;income.&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://earnestapp.com&quot;&nbsp;target=&quot;_blank&quot;&gt;http://earnestapp.com&lt;/a&gt;&lt;br&gt;<br>
Nearest&nbsp;Bus:&nbsp;find&nbsp;when&nbsp;the&nbsp;next&nbsp;bus&nbsp;is&nbsp;coming&nbsp;to&nbsp;your&nbsp;stop.&nbsp;&lt;a&nbsp;href=&quot;http://goo.gl/Vcz1p&quot;&nbsp;target=&quot;_blank&quot;&gt;http://goo.gl/Vcz1p&lt;/a&gt;&lt;br&gt;<br>
mobileAgent&nbsp;(for&nbsp;FreeAgent):&nbsp;get&nbsp;your&nbsp;accounts&nbsp;in&nbsp;your&nbsp;pocket.&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://goo.gl/IuBU&quot;&nbsp;target=&quot;_blank&quot;&gt;http://goo.gl/IuBU&lt;/a&gt;&lt;br&gt;<br>
Trip&nbsp;Wallet:&nbsp;Keep&nbsp;track&nbsp;of&nbsp;your&nbsp;budget&nbsp;on&nbsp;the&nbsp;go:&nbsp;&lt;a&nbsp;href=&quot;http://goo.gl/ePhKa&quot;&nbsp;target=&quot;_blank&quot;&gt;http://goo.gl/ePhKa&lt;/a&gt;&lt;br&gt;<br>
London&nbsp;Bike&nbsp;App:&nbsp;Find&nbsp;the&nbsp;nearest&nbsp;Boris&nbsp;Bike,&nbsp;and&nbsp;get&nbsp;riding!&nbsp;&lt;a&nbsp;href=&quot;http://goo.gl/Icp2&quot;&nbsp;target=&quot;_blank&quot;&gt;http://goo.gl/Icp2&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
