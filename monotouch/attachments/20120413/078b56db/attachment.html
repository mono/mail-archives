<tt>
a-ha!&nbsp;context&nbsp;:)&nbsp;for&nbsp;the&nbsp;record,&nbsp;I&nbsp;have&nbsp;used&nbsp;SharpZipLib&nbsp;to&nbsp;decompress&nbsp;200-500Mb&nbsp;*downloads*&nbsp;(post-install),&nbsp;which&nbsp;makes&nbsp;a&nbsp;lot&nbsp;of&nbsp;sense&nbsp;for&nbsp;certain&nbsp;applications&nbsp;(say,&nbsp;a&nbsp;magazine&nbsp;reader).&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;don&#39;t&nbsp;think&nbsp;you&nbsp;are&nbsp;getting&nbsp;much&nbsp;value&nbsp;from&nbsp;ZIPping&nbsp;something&nbsp;you&nbsp;ship&nbsp;in&nbsp;the&nbsp;IPA.&nbsp;As&nbsp;previously&nbsp;mentioned, the&nbsp;IPA&#39;s&nbsp;contents&nbsp;will&nbsp;be&nbsp;unpacked&nbsp;into&nbsp;the&nbsp;app&nbsp;home&nbsp;directory&nbsp;on&nbsp;the&nbsp;device:&nbsp;so&nbsp;if&nbsp;you&#39;ve&nbsp;compressed&nbsp;it,&nbsp;uses&nbsp;200Mb&nbsp;(but&nbsp;you&nbsp;need&nbsp;to&nbsp;unzip)&nbsp;and&nbsp;if&nbsp;you&nbsp;don&#39;t&nbsp;it&#39;s&nbsp;obviously&nbsp;taking&nbsp;up&nbsp;the&nbsp;full&nbsp;700Mb&nbsp;-&nbsp;PLUS&nbsp;another&nbsp;700mb&nbsp;when&nbsp;you&#39;ve&nbsp;decompressed&nbsp;it&nbsp;into&nbsp;a&nbsp;read/write&nbsp;file&nbsp;location.&lt;/div&gt;<br>
&lt;div&gt;&lt;div&gt;The&nbsp;problem&nbsp;of&nbsp;3&nbsp;mins&nbsp;to&nbsp;unzip&nbsp;seems&nbsp;to&nbsp;override&nbsp;any&nbsp;other&nbsp;consideration&nbsp;tho&#39;&nbsp;-&nbsp;if&nbsp;your&nbsp;app&nbsp;doesn&#39;t&nbsp;start-up&nbsp;and&nbsp;be&nbsp;usable&nbsp;quickly,&nbsp;the&nbsp;app&#39;s&nbsp;size&nbsp;doesn&#39;t&nbsp;really&nbsp;matter&nbsp;so&nbsp;much?&nbsp;So&nbsp;i&#39;d&nbsp;definitely&nbsp;consider&nbsp;just&nbsp;bundling&nbsp;the&nbsp;full-size&nbsp;file...&nbsp;anyway,&nbsp;your&nbsp;call&nbsp;:-)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now,&nbsp;regardless&nbsp;of&nbsp;what&nbsp;you&nbsp;decide&nbsp;there,&nbsp;you&nbsp;also&nbsp;need&nbsp;to&nbsp;know&nbsp;this:&nbsp;do&nbsp;NOT&nbsp;put&nbsp;the&nbsp;700Mb&nbsp;sqlite&nbsp;file&nbsp;in&nbsp;/Documents/&nbsp;as&nbsp;Apple&nbsp;will&nbsp;reject&nbsp;your&nbsp;app&nbsp;within&nbsp;seconds&nbsp;of&nbsp;it&nbsp;hitting&nbsp;the&nbsp;approval&nbsp;process!&nbsp;How&nbsp;do&nbsp;I&nbsp;know&nbsp;this?&nbsp;I&nbsp;followed&nbsp;exactly&nbsp;the&nbsp;same&nbsp;pattern&nbsp;(copy&nbsp;out&nbsp;a&nbsp;pre-built&nbsp;file&nbsp;from&nbsp;the&nbsp;bundle&nbsp;into&nbsp;/Documents/&nbsp;-&nbsp;and&nbsp;it&nbsp;was&nbsp;only&nbsp;2.3Mb!!).&nbsp;Also&nbsp;-&nbsp;there&nbsp;is&nbsp;that&nbsp;plist&nbsp;property&nbsp;that&nbsp;lets&nbsp;users&nbsp;access&nbsp;/Documents/&nbsp;from&nbsp;within&nbsp;iTunes...&nbsp;you&nbsp;may&nbsp;not&nbsp;have&nbsp;it&nbsp;enabled&nbsp;&lt;i&gt;now&lt;/i&gt;,&nbsp;but&nbsp;if&nbsp;you&nbsp;wanted&nbsp;to&nbsp;in&nbsp;a&nbsp;future&nbsp;version&nbsp;of&nbsp;your&nbsp;app,&nbsp;you&#39;ll&nbsp;be&nbsp;&#39;screwed&#39;&nbsp;if&nbsp;your&nbsp;main&nbsp;database&nbsp;is&nbsp;located&nbsp;there&nbsp;too...&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Why&nbsp;does&nbsp;it&nbsp;get&nbsp;rejected&nbsp;immediately?&nbsp;It&nbsp;violates&nbsp;the&nbsp;&lt;b&gt;iOS&nbsp;Data&nbsp;Storage&nbsp;Guidelines&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://developer.apple.com/icloud/documentation/data-storage/&quot;&gt;https://developer.apple.com/icloud/documentation/data-storage/&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;Point&nbsp;#1&nbsp;-&nbsp;your&nbsp;data&nbsp;is&nbsp;&quot;not&quot;&nbsp;user-generated,&nbsp;and&nbsp;it&nbsp;&quot;can&quot;&nbsp;be&nbsp;re-created&nbsp;from&nbsp;the&nbsp;bundle. &lt;/div&gt;&lt;div&gt;You&nbsp;might&nbsp;then&nbsp;continue&nbsp;reading&nbsp;Point&nbsp;#2,&nbsp;and&nbsp;think&nbsp;you&nbsp;should&nbsp;put&nbsp;your&nbsp;sqlite&nbsp;file&nbsp;in &lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;courier&nbsp;new&#39;,courier,monospace;font-size:14px;line-height:20px&quot;&gt;&lt;Application_Home&gt;/Library/Caches/&lt;/span&gt; BUT&nbsp;there&nbsp;is&nbsp;a&nbsp;process&nbsp;called&nbsp;&#39;&lt;a&nbsp;href=&quot;http://www.marco.org/2011/10/13/ios5-caches-cleaning&quot;&gt;Cleaning&lt;/a&gt;&#39;&nbsp;whereby&nbsp;iOS&nbsp;will&nbsp;(under&nbsp;extremely&nbsp;low&nbsp;storage&nbsp;situations)&nbsp;delete&nbsp;the&nbsp;contents&nbsp;of&nbsp;/Caches/&nbsp;without&nbsp;asking! &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;solution&nbsp;I&#39;ve&nbsp;gone&nbsp;for&nbsp;(and&nbsp;which&nbsp;I&nbsp;think&nbsp;is&nbsp;what&nbsp;Apple&nbsp;approves&nbsp;of)&nbsp;is&nbsp;storing&nbsp;the&nbsp;file&nbsp;in &lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;color:rgb(51,51,51);font-family:&#39;courier&nbsp;new&#39;,courier,monospace;font-size:14px;line-height:20px&quot;&gt;&lt;Application_Home&gt;/Library/&lt;/span&gt; (or&nbsp;in&nbsp;a&nbsp;subfolder&nbsp;that&nbsp;you&nbsp;create&nbsp;there,&nbsp;but&nbsp;NOT&nbsp;/Caches/)&nbsp;AND&nbsp;following&nbsp;Point&nbsp;#4&nbsp;whereby&nbsp;you&nbsp;mark&nbsp;the&nbsp;file&nbsp;with&nbsp;SetSkipBackupAttribute(). &lt;/div&gt;<br>
&lt;div&gt;So&nbsp;what&nbsp;does&nbsp;this&nbsp;mean? &lt;/div&gt;&lt;div&gt;Your&nbsp;700Mb&nbsp;file&nbsp;is&nbsp;safe&nbsp;from&nbsp;being&nbsp;deleted,&nbsp;is&nbsp;in&nbsp;a&nbsp;location&nbsp;that&nbsp;will&nbsp;never&nbsp;be&nbsp;exposed&nbsp;to&nbsp;the&nbsp;user,&nbsp;and&nbsp;is&nbsp;read-write.&nbsp;Good,&nbsp;right?&nbsp;HOWEVER&nbsp;it&nbsp;also&nbsp;won&#39;t&nbsp;be&nbsp;backed-up&nbsp;(not&nbsp;to&nbsp;an&nbsp;iTunes&nbsp;PC&nbsp;nor&nbsp;to&nbsp;iCloud). &lt;/div&gt;<br>
&lt;div&gt;That&#39;s&nbsp;fine&nbsp;-&nbsp;unless&nbsp;your&nbsp;user&nbsp;deletes&nbsp;and&nbsp;restores&nbsp;your&nbsp;app,&nbsp;or&nbsp;buys&nbsp;a&nbsp;new&nbsp;device&nbsp;and&nbsp;does&nbsp;a&nbsp;backup/restore&nbsp;to&nbsp;move&nbsp;everything&nbsp;from&nbsp;the&nbsp;old&nbsp;hardware&nbsp;to&nbsp;the&nbsp;new...&nbsp;your&nbsp;app&nbsp;(with&nbsp;prefs&nbsp;and&nbsp;whatever&nbsp;was&nbsp;in&nbsp;/Documents/)&nbsp;will&nbsp;be&nbsp;copied&nbsp;across&nbsp;-&nbsp;but&nbsp;your&nbsp;700Mb&nbsp;read-write&nbsp;sqlite&nbsp;database&nbsp;won&#39;t&nbsp;be! &lt;/div&gt;<br>
&lt;div&gt;In&nbsp;your&nbsp;FinishedLaunching&nbsp;you&nbsp;are&nbsp;probably&nbsp;doing&nbsp;a&nbsp;&#39;check&#39;&nbsp;to&nbsp;see&nbsp;if&nbsp;the&nbsp;database&nbsp;has&nbsp;already&nbsp;been&nbsp;moved&nbsp;(and&nbsp;moving/uncompressing&nbsp;if&nbsp;required)&nbsp;-&nbsp;the&nbsp;trick&nbsp;is&nbsp;to&nbsp;decouple&nbsp;this&nbsp;from&nbsp;any&nbsp;data&nbsp;that&nbsp;_is_&nbsp;backed-up&nbsp;(so&nbsp;don&#39;t&nbsp;store&nbsp;a&nbsp;flag&nbsp;in&nbsp;userprefs,&nbsp;or&nbsp;in&nbsp;a&nbsp;file)&nbsp;--&nbsp;because&nbsp;the&nbsp;flag&nbsp;that&nbsp;says&nbsp;&#39;sqlite&nbsp;file&nbsp;is&nbsp;loaded&#39;&nbsp;would&nbsp;be&nbsp;backed-up&nbsp;and&nbsp;restored,&nbsp;but&nbsp;the&nbsp;file&nbsp;itself&nbsp;wouldn&#39;t&nbsp;be&nbsp;(ugh,&nbsp;confusing&nbsp;eh?&nbsp;i&#39;m&nbsp;only&nbsp;explaining&nbsp;all&nbsp;this&nbsp;&#39;cause&nbsp;i&nbsp;made&nbsp;the&nbsp;mistake&nbsp;myself,&nbsp;thinking&nbsp;a&nbsp;boolean&nbsp;prefs-check&nbsp;was&nbsp;faster&nbsp;than&nbsp;a&nbsp;System.IO.File.Exists).&nbsp;I&nbsp;think&nbsp;the&nbsp;physical&nbsp;file-exists&nbsp;check&nbsp;is&nbsp;safest&nbsp;(open&nbsp;to&nbsp;other&nbsp;suggestions&nbsp;tho).&nbsp;if&nbsp;it&nbsp;doesn&#39;t&nbsp;exist,&nbsp;unpack&nbsp;from&nbsp;the&nbsp;bundle&nbsp;all-over-again...&lt;/div&gt;<br>
&lt;div&gt;also,&nbsp;don&#39;t&nbsp;store&nbsp;any&nbsp;user-generated&nbsp;data&nbsp;in&nbsp;that&nbsp;same&nbsp;700Mb&nbsp;sqlite.&nbsp;Any&nbsp;user-entered&nbsp;data&nbsp;should&nbsp;be&nbsp;in&nbsp;a&nbsp;separate&nbsp;sqlite&nbsp;that&nbsp;DOES&nbsp;get&nbsp;backed-up&nbsp;(too&nbsp;bad&nbsp;about&nbsp;FK&nbsp;dependencies)&nbsp;unless&nbsp;you&nbsp;want&nbsp;to&nbsp;get&nbsp;into&nbsp;an&nbsp;approval-argument&nbsp;with&nbsp;Apple...&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;clear&nbsp;as&nbsp;mud?&nbsp;hope&nbsp;it&nbsp;makes&nbsp;some&nbsp;sense...&nbsp;after&nbsp;two&nbsp;rejections&nbsp;my&nbsp;app&nbsp;did&nbsp;finally&nbsp;get&nbsp;approved&nbsp;with&nbsp;SetSkipBackupAttribute&nbsp;used.&nbsp;but&nbsp;if&nbsp;Apple&nbsp;was&nbsp;concerned&nbsp;about&nbsp;my&nbsp;2.3Mb&nbsp;file,&nbsp;they&#39;re&nbsp;sure&nbsp;to&nbsp;raise&nbsp;an&nbsp;eyebrow&nbsp;at&nbsp;700Mb!&lt;/div&gt;<br>
&lt;div&gt;let&nbsp;me&nbsp;know&nbsp;if&nbsp;you&nbsp;have&nbsp;questions/need&nbsp;clarification&nbsp;;-)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;HTH&lt;/div&gt;&lt;div&gt;cd&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Apr&nbsp;13,&nbsp;2012&nbsp;at&nbsp;6:10&nbsp;PM,&nbsp;johnHolmes&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:francesco.colombo@gmail.com&quot;&gt;francesco.colombo@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;br&gt;<br>
Nic&nbsp;Wise&nbsp;wrote&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Keep&nbsp;in&nbsp;mind&nbsp;that&nbsp;the&nbsp;file&nbsp;that&nbsp;is&nbsp;downloaded&nbsp;to&nbsp;the&nbsp;users&nbsp;device&nbsp;-&lt;br&gt;<br>
&gt;&nbsp;.ipa&nbsp;-&nbsp;is&nbsp;a&nbsp;ZIP&nbsp;file&nbsp;already,&nbsp;so&nbsp;you&nbsp;will&nbsp;not&nbsp;benefit&nbsp;from&nbsp;double&lt;br&gt;<br>
&gt;&nbsp;compression.&nbsp;If&nbsp;you&nbsp;need&nbsp;to&nbsp;keep&nbsp;them&nbsp;all&nbsp;together,then&nbsp;try&nbsp;using&lt;br&gt;<br>
&gt;&nbsp;store,&nbsp;see&nbsp;what&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;resulting&nbsp;.ipa&nbsp;is,&nbsp;and&nbsp;the&nbsp;speed&lt;br&gt;<br>
&gt;&nbsp;difference.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Good&nbsp;point.&nbsp;I&#39;ll&nbsp;try&nbsp;to&nbsp;explain&nbsp;why&nbsp;I&nbsp;need&nbsp;to&nbsp;compress&nbsp;the&nbsp;file&nbsp;prior&nbsp;to&nbsp;the&lt;br&gt;<br>
.ipa.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;file&nbsp;is&nbsp;a&nbsp;sqlite&nbsp;db.&nbsp;It&#39;s&nbsp;uncompressed&nbsp;size&nbsp;is&nbsp;~700mb.&nbsp;I&nbsp;need&nbsp;read/write&lt;br&gt;<br>
permission&nbsp;on&nbsp;that&nbsp;file.&nbsp;If&nbsp;I&#39;m&nbsp;not&nbsp;wrong,&nbsp;all&nbsp;&quot;content&quot;&nbsp;file&nbsp;stored&nbsp;in&nbsp;the&lt;br&gt;<br>
bundle&nbsp;is&nbsp;read&nbsp;only,&nbsp;so&nbsp;i&nbsp;need,&nbsp;once&nbsp;the&nbsp;application&nbsp;is&nbsp;installed,&nbsp;to&nbsp;copy&lt;br&gt;<br>
the&nbsp;original&nbsp;db&nbsp;to&nbsp;a&nbsp;writable&nbsp;folder.&nbsp;A&nbsp;good&nbsp;candidate&nbsp;seems&nbsp;to&nbsp;be&nbsp;the&lt;br&gt;<br>
/Document&nbsp;folder.&nbsp;At&nbsp;this&nbsp;point&nbsp;the&nbsp;user&nbsp;will&nbsp;have&nbsp;2&nbsp;copy&nbsp;of&nbsp;the&nbsp;file,&nbsp;one&lt;br&gt;<br>
compressed&nbsp;and&nbsp;one&nbsp;uncompressed,&nbsp;readable&nbsp;and&nbsp;writable,&nbsp;in&nbsp;the&nbsp;/Document&lt;br&gt;<br>
folder.&nbsp;I&nbsp;know&nbsp;it&#39;s&nbsp;not&nbsp;good&nbsp;to&nbsp;have&nbsp;rendundant&nbsp;200mb&nbsp;of&nbsp;data&nbsp;but&nbsp;I&nbsp;haven&#39;t&lt;br&gt;<br>
found&nbsp;any&nbsp;alternative&nbsp;to&nbsp;this.&lt;br&gt;<br>
&lt;br&gt;<br>
Any&nbsp;suggestion?&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://monotouch.2284126.n4.nabble.com/SharpZipLib-performances-tp4553235p4554119.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://monotouch.2284126.n4.nabble.com/SharpZipLib-performances-tp4553235p4554119.html&lt;/a&gt;&lt;br&gt;<br>
<br>
&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;Sent&nbsp;from&nbsp;the&nbsp;MonoTouch&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
MonoTouch&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:MonoTouch@lists.ximian.com&quot;&gt;MonoTouch@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monotouch&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/monotouch&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
