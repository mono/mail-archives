<tt>
Thanks&nbsp;Nic,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;ve&nbsp;tried&nbsp;taking&nbsp;the&nbsp;webclient&nbsp;out&nbsp;of&nbsp;the&nbsp;method&nbsp;and&nbsp;reuse&nbsp;it,&nbsp;but&nbsp;it&nbsp;didn&#39;t&nbsp;help&nbsp;at&nbsp;all...&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&lt;/div&gt;&lt;div&gt;Matt&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Aug&nbsp;6,&nbsp;2012&nbsp;at&nbsp;4:19&nbsp;AM,&nbsp;Nic&nbsp;Wise&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:nicw@fastchicken.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;nicw@fastchicken.co.nz&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;I&nbsp;suspect&nbsp;that&nbsp;it&#39;s&nbsp;using&nbsp;an&nbsp;internal&nbsp;buffer&nbsp;somewhere.&nbsp;Maybe&nbsp;you&nbsp;need&lt;br&gt;<br>
to&nbsp;dig&nbsp;into&nbsp;the&nbsp;source&nbsp;to&nbsp;work&nbsp;out&nbsp;whats&nbsp;being&nbsp;held&nbsp;onto.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://github.com/mono/mono/blob/master/mcs/class/System/System.Net/WebClient.cs&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/mono/mono/blob/master/mcs/class/System/System.Net/WebClient.cs&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
But&nbsp;you&nbsp;could&nbsp;use&nbsp;a&nbsp;HttpWebRequest&nbsp;and&nbsp;have&nbsp;a&nbsp;lot&nbsp;more&nbsp;control&nbsp;over&lt;br&gt;<br>
it,&nbsp;tho&nbsp;you&nbsp;then&nbsp;need&nbsp;to&nbsp;deal&nbsp;with&nbsp;streams&nbsp;and&nbsp;the&nbsp;like.&lt;br&gt;<br>
&lt;br&gt;<br>
also,&nbsp;what&nbsp;happens&nbsp;if&nbsp;you&nbsp;move&nbsp;the&nbsp;webclient&nbsp;out&nbsp;to&nbsp;object&nbsp;level,&nbsp;eg:&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
void&nbsp;DoStuff()&lt;br&gt;<br>
{&lt;br&gt;<br>
WebClient&nbsp;client&nbsp;=&nbsp;new&nbsp;WebClient();&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;becomes&lt;br&gt;<br>
&lt;br&gt;<br>
WebClient&nbsp;client;&lt;br&gt;<br>
void&nbsp;DoStuff()&lt;br&gt;<br>
{&lt;br&gt;<br>
client&nbsp;=&nbsp;new&nbsp;WebClient();&lt;br&gt;<br>
&lt;br&gt;<br>
and&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
void&nbsp;client_DownloadDataCompleted(object&nbsp;sender,&lt;br&gt;<br>
DownloadDataCompletedEventArgs&nbsp;e)&lt;br&gt;<br>
{&lt;br&gt;<br>
var&nbsp;webClient&nbsp;=&nbsp;sender&nbsp;as&nbsp;WebClient;&lt;br&gt;<br>
webClient.DownloadDataCompleted&nbsp;-=&nbsp;client_DownloadDataCompleted;&lt;br&gt;<br>
webClient.DownloadProgressChanged&nbsp;-=&nbsp;client_DownloadProgressChanged;&lt;br&gt;<br>
webClient.Dispose();&lt;br&gt;<br>
webClient&nbsp;=&nbsp;null;&lt;br&gt;<br>
&lt;/div&gt;//added&lt;br&gt;<br>
client.Dispose();&lt;br&gt;<br>
client&nbsp;=&nbsp;null;&lt;br&gt;<br>
&lt;br&gt;<br>
So,&nbsp;the&nbsp;GC&nbsp;can&nbsp;keep&nbsp;easier&nbsp;(maybe&nbsp;better,&nbsp;maybe&nbsp;not&nbsp;:)&nbsp;)&nbsp;track&nbsp;of&nbsp;it?&lt;br&gt;<br>
&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Sun,&nbsp;Aug&nbsp;5,&nbsp;2012&nbsp;at&nbsp;7:34&nbsp;PM,&nbsp;Matthieu&nbsp;Laban&lt;br&gt;<br>
&lt;&lt;a&nbsp;href=&quot;mailto:matt@flyingdevelopmentstudio.com&quot;&gt;matt@flyingdevelopmentstudio.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hello&nbsp;Guys,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;My&nbsp;quest&nbsp;for&nbsp;leaks&nbsp;continues...&nbsp;I&#39;m&nbsp;downloading&nbsp;files&nbsp;from&nbsp;our&nbsp;server,&nbsp;and&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;files&nbsp;can&nbsp;vary&nbsp;between&nbsp;1&nbsp;and&nbsp;20&nbsp;MB.&lt;br&gt;<br>
&gt;&nbsp;The&nbsp;issue&nbsp;is&nbsp;that&nbsp;after&nbsp;the&nbsp;file&nbsp;is&nbsp;downloaded,&nbsp;the&nbsp;app&#39;s&nbsp;dirty&nbsp;size&nbsp;goes&nbsp;up&lt;br&gt;<br>
&gt;&nbsp;~20MB&nbsp;and&nbsp;never&nbsp;goes&nbsp;down&nbsp;even&nbsp;if&nbsp;I&nbsp;dispose&nbsp;the&nbsp;WebClient,&nbsp;remove&nbsp;all&nbsp;event&lt;br&gt;<br>
&gt;&nbsp;listeners&nbsp;and&nbsp;call&nbsp;GC.Collect().&lt;br&gt;<br>
&gt;&nbsp;If&nbsp;I&nbsp;run&nbsp;the&nbsp;download&nbsp;code&nbsp;a&nbsp;few&nbsp;times,&nbsp;it&nbsp;climbs&nbsp;20&nbsp;MB&nbsp;about&nbsp;3x,&nbsp;then&nbsp;it&lt;br&gt;<br>
&gt;&nbsp;stops&nbsp;even&nbsp;if&nbsp;I&nbsp;call&nbsp;it&nbsp;again.&nbsp;Is&nbsp;there&nbsp;some&nbsp;kind&nbsp;of&nbsp;cache&nbsp;that&nbsp;is&nbsp;being&lt;br&gt;<br>
&gt;&nbsp;maintained&nbsp;or&nbsp;something?&nbsp;How&nbsp;can&nbsp;I&nbsp;make&nbsp;sure&nbsp;some&nbsp;of&nbsp;that&nbsp;memory&nbsp;is&lt;br&gt;<br>
&gt;&nbsp;reclaimed.&nbsp;We&#39;re&nbsp;tight&nbsp;on&nbsp;memory&nbsp;on&nbsp;the&nbsp;iPod&nbsp;Touch&nbsp;and&nbsp;we&#39;d&nbsp;love&nbsp;to&nbsp;get&nbsp;some&lt;br&gt;<br>
&gt;&nbsp;of&nbsp;it&nbsp;back&nbsp;:)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Here&#39;s&nbsp;the&nbsp;code&nbsp;that&nbsp;I&#39;m&nbsp;running:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;void&nbsp;DoStuff()&lt;br&gt;<br>
&gt;&nbsp;{&lt;br&gt;<br>
&gt;&nbsp;WebClient&nbsp;client&nbsp;=&nbsp;new&nbsp;WebClient();&lt;br&gt;<br>
&gt;&nbsp;client.DownloadProgressChanged&nbsp;+=&nbsp;client_DownloadProgressChanged;&lt;br&gt;<br>
&gt;&nbsp;client.DownloadDataCompleted&nbsp;+=&nbsp;client_DownloadDataCompleted;&lt;br&gt;<br>
&gt;&nbsp;client.DownloadDataAsync(new&lt;br&gt;<br>
&gt;&nbsp;Uri(&quot;&lt;a&nbsp;href=&quot;http://ipv4.download.thinkbroadband.com/20MB.zip&quot;&nbsp;target=&quot;_blank&quot;&gt;http://ipv4.download.thinkbroadband.com/20MB.zip&lt;/a&gt;&quot;));&lt;br&gt;<br>
&gt;&nbsp;}&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;void&nbsp;client_DownloadDataCompleted(object&nbsp;sender,&lt;br&gt;<br>
&gt;&nbsp;DownloadDataCompletedEventArgs&nbsp;e)&lt;br&gt;<br>
&gt;&nbsp;{&lt;br&gt;<br>
&gt;&nbsp;var&nbsp;webClient&nbsp;=&nbsp;sender&nbsp;as&nbsp;WebClient;&lt;br&gt;<br>
&gt;&nbsp;webClient.DownloadDataCompleted&nbsp;-=&nbsp;client_DownloadDataCompleted;&lt;br&gt;<br>
&gt;&nbsp;webClient.DownloadProgressChanged&nbsp;-=&nbsp;client_DownloadProgressChanged;&lt;br&gt;<br>
&gt;&nbsp;webClient.Dispose();&lt;br&gt;<br>
&gt;&nbsp;webClient&nbsp;=&nbsp;null;&lt;br&gt;<br>
&gt;&nbsp;GC.Collect();&lt;br&gt;<br>
&gt;&nbsp;GC.WaitForPendingFinalizers();&lt;br&gt;<br>
&gt;&nbsp;MessageBox.Show(&quot;Completed&quot;);&lt;br&gt;<br>
&gt;&nbsp;}&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;--&lt;br&gt;<br>
&gt;&nbsp;Matt&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;MonoTouch&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:MonoTouch@lists.ximian.com&quot;&gt;MonoTouch@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monotouch&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/monotouch&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
Nic&nbsp;Wise&lt;br&gt;<br>
t.&nbsp; &lt;a&nbsp;href=&quot;tel:%2B44%207788%20592%20806&quot;&nbsp;value=&quot;+447788592806&quot;&gt;+44&nbsp;7788&nbsp;592&nbsp;806&lt;/a&gt;&nbsp;|&nbsp;@fastchicken&nbsp;|&nbsp;&lt;a&nbsp;href=&quot;http://www.linkedin.com/in/nicwise&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.linkedin.com/in/nicwise&lt;/a&gt;&lt;br&gt;<br>
b.&nbsp;&lt;a&nbsp;href=&quot;http://www.fastchicken.co.nz/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.fastchicken.co.nz/&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
mobileAgent&nbsp;(for&nbsp;FreeAgent):&nbsp;get&nbsp;your&nbsp;accounts&nbsp;in&nbsp;your&nbsp;pocket.&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://goo.gl/IuBU&quot;&nbsp;target=&quot;_blank&quot;&gt;http://goo.gl/IuBU&lt;/a&gt;&lt;br&gt;<br>
Trip&nbsp;Wallet:&nbsp;Keep&nbsp;track&nbsp;of&nbsp;your&nbsp;budget&nbsp;on&nbsp;the&nbsp;go:&nbsp;&lt;a&nbsp;href=&quot;http://goo.gl/ePhKa&quot;&nbsp;target=&quot;_blank&quot;&gt;http://goo.gl/ePhKa&lt;/a&gt;&lt;br&gt;<br>
Earnest:&nbsp;Self-employed?&nbsp;Track&nbsp;your&nbsp;business&nbsp;expenses&nbsp;and&nbsp;income.&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://earnestapp.com&quot;&nbsp;target=&quot;_blank&quot;&gt;http://earnestapp.com&lt;/a&gt;&lt;br&gt;<br>
Nearest&nbsp;Bus:&nbsp;find&nbsp;when&nbsp;the&nbsp;next&nbsp;bus&nbsp;is&nbsp;coming&nbsp;to&nbsp;your&nbsp;stop.&nbsp;&lt;a&nbsp;href=&quot;http://goo.gl/Vcz1p&quot;&nbsp;target=&quot;_blank&quot;&gt;http://goo.gl/Vcz1p&lt;/a&gt;&lt;br&gt;<br>
London&nbsp;Bike&nbsp;App:&nbsp;Find&nbsp;the&nbsp;nearest&nbsp;Boris&nbsp;Bike,&nbsp;and&nbsp;get&nbsp;riding!&nbsp;&lt;a&nbsp;href=&quot;http://goo.gl/Icp2&quot;&nbsp;target=&quot;_blank&quot;&gt;http://goo.gl/Icp2&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
