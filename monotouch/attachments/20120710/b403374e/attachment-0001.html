<tt>
&quot;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:collapse;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px&quot;&gt;On&nbsp;iOS&nbsp;this&nbsp;could&nbsp;default&nbsp;to&nbsp;the&nbsp;native&nbsp;implementation&quot;&nbsp;-&nbsp;I&nbsp;really&nbsp;would&nbsp;like&nbsp;to&nbsp;know&nbsp;if&nbsp;it&nbsp;WILL.&lt;/span&gt;&lt;div&gt;<br>
&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:collapse&quot;&gt;Are&nbsp;they&nbsp;compatible?&nbsp;Meaning:&nbsp;If&nbsp;I&nbsp;used&nbsp;SHA256Managed&nbsp;so&nbsp;far&nbsp;and&nbsp;now&nbsp;switch,&nbsp;can&nbsp;data&nbsp;still&nbsp;be&nbsp;decrypted?&lt;br&gt;<br>
&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:collapse&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:collapse&quot;&gt;René&lt;br&gt;<br>
&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2012/7/10&nbsp;Alan&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:alan.mcgovern@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;alan.mcgovern@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Hey,&lt;br&gt;<br>
&lt;br&gt;<br>
Don&#39;t&nbsp;use&nbsp;&#39;new&nbsp;SHA256Managed&#39;,&nbsp;use&nbsp;&#39;SHA256.Create&nbsp;()&#39;.&nbsp;This&nbsp;way&nbsp;the&lt;br&gt;<br>
mono&nbsp;runtime&nbsp;will&nbsp;be&nbsp;able&nbsp;to&nbsp;select&nbsp;the&nbsp;&#39;best&#39;&nbsp;SHA256&nbsp;implementation&lt;br&gt;<br>
to&nbsp;use.&nbsp;On&nbsp;iOS&nbsp;this&nbsp;could&nbsp;default&nbsp;to&nbsp;the&nbsp;native&nbsp;implementation,&nbsp;on&lt;br&gt;<br>
desktop&nbsp;this&nbsp;will&nbsp;default&nbsp;to&nbsp;SHA256Managed.&lt;br&gt;<br>
&lt;br&gt;<br>
Alan&lt;br&gt;<br>
&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
On&nbsp;10&nbsp;July&nbsp;2012&nbsp;12:28,&nbsp;René&nbsp;Ruppert&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rene.ruppert@gmail.com&quot;&gt;rene.ruppert@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;from&nbsp;the&nbsp;docs&nbsp;of&nbsp;5.3:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Common&nbsp;Crypto&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;MonoTouch&nbsp;will&nbsp;now&nbsp;use&nbsp;the&nbsp;iOS&nbsp;CommonCrypto&nbsp;libraries&nbsp;to&nbsp;provide&nbsp;some&nbsp;of&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;functionality&nbsp;exposed&nbsp;by&nbsp;its&nbsp;APIs.&nbsp;This&nbsp;replaces&nbsp;our&nbsp;managed&nbsp;implementations&lt;br&gt;<br>
&gt;&nbsp;with&nbsp;the&nbsp;native&nbsp;versions.&nbsp;It&nbsp;is&nbsp;now&nbsp;used&nbsp;for&nbsp;for&nbsp;digest&nbsp;(hash)&nbsp;and&nbsp;symmetric&lt;br&gt;<br>
&gt;&nbsp;ciphers,&nbsp;leveraging&nbsp;the&nbsp;hardware&nbsp;acceleration&nbsp;for&nbsp;SHA-1&nbsp;and&nbsp;AES&nbsp;under&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;right&nbsp;circumstances.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&#39;m&nbsp;using&nbsp;code&nbsp;like&nbsp;the&nbsp;one&nbsp;below&nbsp;for&nbsp;hashing&nbsp;and&nbsp;encryption.&nbsp;How&nbsp;can&nbsp;I&nbsp;take&lt;br&gt;<br>
&gt;&nbsp;advantage&nbsp;of&nbsp;HW&nbsp;crypto?&nbsp;Or&nbsp;will&nbsp;it&nbsp;automatically&nbsp;become&nbsp;faster?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;///&nbsp;&lt;summary&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;///&nbsp;Calculates&nbsp;the&nbsp;SHA256&nbsp;hash&nbsp;value&nbsp;of&nbsp;the&nbsp;data&nbsp;&lt;c&gt;b&lt;/c&gt;.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;///&nbsp;&lt;/summary&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;///&nbsp;&lt;detail&nbsp;declaration=&quot;public&nbsp;static&quot;/&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;///&nbsp;&lt;param&nbsp;name=&quot;b&quot;&nbsp;type=&quot;byte[]&quot;&gt;The&nbsp;data&nbsp;of&nbsp;which&nbsp;the&nbsp;hash&nbsp;value&nbsp;is&lt;br&gt;<br>
&gt;&nbsp;calculated.&lt;/param&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;///&nbsp;&lt;returns&nbsp;type=&quot;byte[]&quot;&gt;The&nbsp;SHA256&nbsp;hash&nbsp;value&nbsp;of&nbsp;&lt;c&gt;b&lt;/c&gt;.&lt;/returns&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;CalculateHash&nbsp;(&nbsp;byte[]&nbsp;b&nbsp;)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;{&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;SHA256Managed&nbsp;oSha&nbsp;=&nbsp;new&nbsp;SHA256Managed&nbsp;();&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;byte[]&nbsp;aHash&nbsp;=&nbsp;oSha.ComputeHash&nbsp;(&nbsp;b&nbsp;);&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;return&nbsp;aHash;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;}&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;///&nbsp;&lt;summary&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;///&nbsp;Computes&nbsp;SHA256&nbsp;hash&nbsp;from&nbsp;a&nbsp;string&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;///&nbsp;&lt;/summary&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;///&nbsp;&lt;param&nbsp;name=&quot;sData&quot;&gt;&lt;/param&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;///&nbsp;&lt;returns&gt;&lt;/returns&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;public&nbsp;static&nbsp;string&nbsp;ComputeSHA256HashUnicode&nbsp;(&nbsp;string&nbsp;sData&nbsp;)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;{&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;byte[]&nbsp;aData,&nbsp;aHash;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;UnicodeEncoding&nbsp;oEncoding&nbsp;=&nbsp;new&nbsp;UnicodeEncoding&nbsp;();&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;aData&nbsp;=&nbsp;oEncoding.GetBytes&nbsp;(&nbsp;sData&nbsp;);&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;aHash&nbsp;=&nbsp;CalculateHash(aData);&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;string&nbsp;sResult&nbsp;=&nbsp;oEncoding.GetString&nbsp;(&nbsp;aHash&nbsp;);&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;return&nbsp;sResult;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;}&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;public&nbsp;static&nbsp;void&nbsp;Crypt&nbsp;(&nbsp;Stream&nbsp;oFileIn,&nbsp;Stream&nbsp;oFileOut,&nbsp;ICryptoTransform&lt;br&gt;<br>
&gt;&nbsp;oTrans&nbsp;)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;{&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;//&nbsp;Declare&nbsp;local&nbsp;variables&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;byte[]&nbsp;buf&nbsp;=&nbsp;new&nbsp;byte[&nbsp;4096];&nbsp;//&nbsp;Read&nbsp;buffer&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;int&nbsp;iLen;&nbsp;//&nbsp;Current&nbsp;buffer&nbsp;length&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;long&nbsp;lReadLen&nbsp;=&nbsp;0;&nbsp;//&nbsp;Total&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;long&nbsp;lTotLen&nbsp;=&nbsp;oFileIn.Length;&nbsp;//&nbsp;Total&nbsp;length&nbsp;of&nbsp;the&nbsp;input&nbsp;file.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;//&nbsp;Move&nbsp;to&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;file&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;if&nbsp;(&nbsp;oFileIn.Position&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;oFileIn.CanSeek&nbsp;)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;oFileIn.Seek&nbsp;(&nbsp;0,&nbsp;SeekOrigin.Begin&nbsp;);&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;//&nbsp;Create&nbsp;the&nbsp;cryptographic&nbsp;stream&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;CryptoStream&nbsp;encStream&nbsp;=&nbsp;new&nbsp;CryptoStream&nbsp;(oFileOut,&nbsp;oTrans,&lt;br&gt;<br>
&gt;&nbsp;CryptoStreamMode.Write);&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;//&nbsp;Read&nbsp;from&nbsp;the&nbsp;input&nbsp;file,&nbsp;then&nbsp;encrypt/decrypt&nbsp;and&nbsp;write&nbsp;to&nbsp;the&nbsp;output&lt;br&gt;<br>
&gt;&nbsp;file.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;while&nbsp;(&nbsp;lReadLen&nbsp;&lt;&nbsp;lTotLen&nbsp;)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;{&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;iLen&nbsp;=&nbsp;oFileIn.Read&nbsp;(&nbsp;buf,&nbsp;0,&nbsp;buf.Length&nbsp;);&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;encStream.Write&nbsp;(&nbsp;buf,&nbsp;0,&nbsp;iLen&nbsp;);&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;lReadLen&nbsp;+=&nbsp;iLen;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;}&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;//&nbsp;Clean&nbsp;up&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;encStream.Close&nbsp;();&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;}&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;René&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;MonoTouch&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:MonoTouch@lists.ximian.com&quot;&gt;MonoTouch@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/monotouch&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/monotouch&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
