<tt>
As&nbsp;a&nbsp;new&nbsp;to&nbsp;MonoTouch&nbsp;user&nbsp;myself,&nbsp;I&nbsp;had&nbsp;some&nbsp;issues&nbsp;with&nbsp;this&nbsp;as&nbsp;well.&nbsp; Primarily&nbsp;in&nbsp;what&nbsp;btouch&nbsp;actually&nbsp;did&nbsp;and&nbsp;how&nbsp;to&nbsp;setup&nbsp;to&nbsp;use&nbsp;it.&nbsp; &nbsp;At&nbsp;first&nbsp;I&nbsp;thought&nbsp;btouch&nbsp;would&nbsp;take&nbsp;the&nbsp;library&nbsp;itself&nbsp;(the&nbsp;.a&nbsp;file)&nbsp;and&nbsp;use&nbsp;that automatically produce&nbsp;the&nbsp;.Net&nbsp;dll,&nbsp;then&nbsp;I&nbsp;was&nbsp;thinking&nbsp;it&nbsp;would&nbsp;take&nbsp;the&nbsp;.h&nbsp;file&nbsp;and&nbsp;do&nbsp;it,&nbsp;but&nbsp;really&nbsp;thats&nbsp;not&nbsp;the&nbsp;case&nbsp;at&nbsp;all.&nbsp; &lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Really&nbsp;what&nbsp;happens&nbsp;is&nbsp;that&nbsp;you&nbsp;need&nbsp;to&nbsp;build&nbsp;a&nbsp;.cs&nbsp;file&nbsp;that&nbsp;has&nbsp;interfaces&nbsp;that&nbsp;use&nbsp;annotations&nbsp;that&nbsp;tell&nbsp;btouch&nbsp;how&nbsp;to&nbsp;build&nbsp;the&nbsp;real&nbsp;classes&nbsp;that&nbsp;do&nbsp;the&nbsp;mapping&nbsp;to&nbsp;the&nbsp;Obj-C&nbsp;lib.&nbsp; Now&nbsp;if&nbsp;you&nbsp;have&nbsp;done&nbsp;some&nbsp;basic&nbsp;p/Invoke&nbsp;you&nbsp;may&nbsp;be&nbsp;thinking&nbsp;that&nbsp;if&nbsp;you&nbsp;have&nbsp;already&nbsp;annotated&nbsp;a&nbsp;.cs&nbsp;file&nbsp;why&nbsp;do&nbsp;you&nbsp;need&nbsp;btouch&nbsp;at&nbsp;all.&nbsp; You&nbsp;technically&nbsp;dont,&nbsp;but&nbsp;btouch&nbsp;does&nbsp;save&nbsp;you&nbsp;a&nbsp;lot&nbsp;of&nbsp;effort&nbsp;as&nbsp;there&nbsp;is&nbsp;a&nbsp;lot&nbsp;more&nbsp;work&nbsp;than&nbsp;with&nbsp;a&nbsp;typical&nbsp;c&nbsp;style&nbsp;interop.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;other&nbsp;thing&nbsp;to&nbsp;note&nbsp;is&nbsp;that&nbsp;the&nbsp;interface&nbsp;file&nbsp;will&nbsp;never&nbsp;actually&nbsp;be referenced by&nbsp;your&nbsp;code&nbsp;base&nbsp;once&nbsp;you&nbsp;generate&nbsp;the&nbsp;dll&nbsp;in&nbsp;btouch.&nbsp; It&nbsp;is&nbsp;used&nbsp;only&nbsp;so&nbsp;that&nbsp;btouch&nbsp;knows&nbsp;what&nbsp;you&nbsp;need&nbsp;built,&nbsp;and&nbsp;you&nbsp;get&nbsp;real&nbsp;classes&nbsp;and&nbsp;your&nbsp;interfaces&nbsp;are&nbsp;not&nbsp;actually&nbsp;referenced.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;to&nbsp;get&nbsp;some&nbsp;experience&nbsp;with&nbsp;this&nbsp;I&nbsp;built&nbsp;a&nbsp;simple&nbsp;Obj-C&nbsp;lib&nbsp;with&nbsp;the&nbsp;following&nbsp;header&nbsp;:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;---------------&nbsp;BEGIN&nbsp;ObjC&nbsp;HEADER&nbsp;--------------------&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;#import&nbsp;&amp;lt;Foundation/Foundation.h&amp;gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;typedef&nbsp;unsigned&nbsp;char&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UCHAR;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;typedef&nbsp;struct&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;UCHAR&nbsp;messageSize;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;UCHAR&nbsp;messageId;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;UCHAR&nbsp;data1;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;UCHAR&nbsp;data2;&lt;/div&gt;&lt;div&gt;}&nbsp;Stuff;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;@protocol&nbsp;StructDelegate&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;(void)processStruct:(Stuff)antMessage;&lt;/div&gt;&lt;div&gt;@end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;@protocol&nbsp;SimpleDelegate&lt;/div&gt;&lt;div&gt;-&nbsp;(NSString*)process:(NSString*)msg;&lt;/div&gt;&lt;div&gt;@end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;@interface&nbsp;TestLib&nbsp;:&nbsp;NSObject&lt;/div&gt;<br>
&lt;div&gt;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;id&nbsp;&amp;lt;StructDelegate&amp;gt;&nbsp;del;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;id&amp;lt;SimpleDelegate&amp;gt;&nbsp;sDel;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;-&nbsp;(NSString&nbsp;*)&nbsp;RepeatAfterMe:(NSString*)&nbsp;repeatMe;&lt;/div&gt;&lt;div&gt;-&nbsp;(NSString*)&nbsp;SayHello;&lt;/div&gt;&lt;div&gt;-&nbsp;(int)&nbsp;HardCodedValue;&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;(NSString*)&nbsp;Send:(Stuff)&nbsp;s;&lt;/div&gt;&lt;div&gt;+&nbsp;(NSString*)&nbsp;classMethod;&lt;/div&gt;&lt;div&gt;-&nbsp;(void)&nbsp;save:(id&nbsp;&amp;lt;StructDelegate&amp;gt;)&nbsp;d;&nbsp; &lt;/div&gt;&lt;div&gt;-&nbsp;(void)&nbsp;saveSimple:(id&nbsp;&amp;lt;SimpleDelegate&amp;gt;)&nbsp;d;&nbsp; &lt;/div&gt;&lt;div&gt;-&nbsp;(NSString*)&nbsp;callSimple:(NSString*)&nbsp;s;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;<br>
&lt;div&gt;@end&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;---------------&nbsp;END&nbsp;ObjC&nbsp;HEADER&nbsp;--------------------&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;you&nbsp;will&nbsp;notice&nbsp;we&nbsp;have&nbsp;a&nbsp;C&nbsp;style&nbsp;struct,&nbsp;some&nbsp;protocols&nbsp;and&nbsp;an&nbsp;Objective&nbsp;C&nbsp;style&nbsp;class&nbsp;with&nbsp;static&nbsp;and&nbsp;instance&nbsp;methods.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now&nbsp;I&nbsp;wanted&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;use&nbsp;this&nbsp;in&nbsp;MonoTouch&nbsp;so&nbsp;here&nbsp;is&nbsp;the&nbsp;Interface&nbsp;file&nbsp;I&nbsp;built&nbsp;for&nbsp;bTouch&nbsp;:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;------&nbsp;BEGIN&nbsp;btouch&nbsp;Mapping&nbsp;File&nbsp;----------&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;div&gt;using&nbsp;System;&lt;/div&gt;&lt;div&gt;using&nbsp;MonoTouch.Foundation;&lt;/div&gt;&lt;div&gt;using&nbsp;System.Runtime.InteropServices;&lt;/div&gt;&lt;div&gt;using&nbsp;MonoTouch.ObjCRuntime;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;namespace&nbsp;libTestLib&lt;/div&gt;&lt;div&gt;{&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[BaseType&nbsp;(typeof(NSObject))]&nbsp; &lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[Model]&nbsp; &lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;interface&nbsp;StructDelegate&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;{&nbsp; &lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[Export&nbsp;(&amp;quot;processStruct:&amp;quot;)]&nbsp; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;string&nbsp;processStruct&nbsp;(MyStuff&nbsp;s);&nbsp; &lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[BaseType&nbsp;(typeof(NSObject))]&nbsp; &lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[Model]&nbsp; &lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;interface&nbsp;SimpleDelegate&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;{&nbsp; &lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[Export&nbsp;(&amp;quot;process:&amp;quot;)]&nbsp; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;string&nbsp;process&nbsp;(string&nbsp;s);&nbsp; &lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[BaseType&nbsp;(typeof&nbsp;(NSObject))]&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;interface&nbsp;TestLib&nbsp;{&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[Export&nbsp;(&amp;quot;RepeatAfterMe:&amp;quot;)]&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;string&nbsp;RepeatAfterMe&nbsp;(string&nbsp;repeatMe);&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[Export&nbsp;(&amp;quot;SayHello&amp;quot;)]&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;string&nbsp;SayHello&nbsp;{&nbsp;get;&nbsp;}&lt;/div&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[Export&nbsp;(&amp;quot;HardCodedValue&amp;quot;)]&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;int&nbsp;HardCodedValue&nbsp;{&nbsp;get;&nbsp;}&lt;/div&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[Static,&nbsp;Export&nbsp;(&amp;quot;classMethod&amp;quot;)]&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;string&nbsp;ClassMethod&nbsp;{&nbsp;get;&nbsp;}&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[Export(&amp;quot;saveSimple:&amp;quot;)]&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;void&nbsp;SaveSimple(SimpleDelegate&nbsp;del);&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[Export(&amp;quot;callSimple:&amp;quot;)]&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;string&nbsp;CallSimple&nbsp;(string&nbsp;s);&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[Export&nbsp;(&amp;quot;save:&amp;quot;)]&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;void&nbsp;Save(StructDelegate&nbsp;d);&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[Export&nbsp;(&amp;quot;Send:&amp;quot;)]&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;string&nbsp;Send&nbsp;(MyStuff&nbsp;s);&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;------&nbsp;END&nbsp;btouch&nbsp;Mapping&nbsp;File&nbsp;----------&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now&nbsp;notice&nbsp;the&nbsp;struct&nbsp;is&nbsp;not&nbsp;referenced&nbsp;in&nbsp;this&nbsp;file.&nbsp;Btouch&nbsp;will&nbsp;only&nbsp;output&nbsp;classes&nbsp;for&nbsp;the&nbsp;interfaces&nbsp;in&nbsp;the&nbsp;main&nbsp;file&nbsp;so&nbsp;we&nbsp;need&nbsp;to&nbsp;included&nbsp;the&nbsp;extra&nbsp;things&nbsp;we&nbsp;need&nbsp;in&nbsp;other&nbsp;files.&nbsp; In&nbsp;this&nbsp;case&nbsp;we&nbsp;need&nbsp;a&nbsp;file&nbsp;to&nbsp;define&nbsp;the&nbsp;struct.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;------&nbsp;BEGIN&nbsp;btouch&nbsp;struct&nbsp;File&nbsp;----------&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;namespace&nbsp;libTestLib&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;public&nbsp;struct&nbsp;MyStuff&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;{&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;public&nbsp;byte&nbsp;messageSize;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;public&nbsp;byte&nbsp;messageId;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;public&nbsp;byte&nbsp;data1;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;public&nbsp;byte&nbsp;data2;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;/div&gt;<br>
&lt;div&gt;}&lt;/div&gt;&lt;div&gt;------&nbsp;BEGIN&nbsp;btouch&nbsp;struct&nbsp;File&nbsp;----------&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;to&nbsp;build&nbsp;the&nbsp;.dll&nbsp;run&nbsp;btouch -v&nbsp;theInterface.cs&nbsp; &nbsp;anyExtraFilesLikeOurStructFile.cs&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;will&nbsp;produce&nbsp;a&nbsp;.dll&nbsp;that&nbsp;you&nbsp;will&nbsp;include&nbsp;into&nbsp;our&nbsp;MonoTouch&nbsp;project.&nbsp; You&nbsp;do&nbsp;not&nbsp;need&nbsp;to&nbsp;include&nbsp;the&nbsp;interface&nbsp;or&nbsp;extra&nbsp;files&nbsp;into&nbsp;the&nbsp;project&nbsp;itself&nbsp;as&nbsp;they&nbsp;are&nbsp;already&nbsp;built&nbsp;into&nbsp;the&nbsp;dll.&nbsp;(&nbsp;I&nbsp;do&nbsp;include&nbsp;them&nbsp;in&nbsp;a&nbsp;sub&nbsp;dir&nbsp;with&nbsp;the&nbsp;lib,&nbsp;but&nbsp;I&nbsp;have&nbsp;the&nbsp;build&nbsp;action&nbsp;set&nbsp;to&nbsp;nothing&nbsp;).&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Once&nbsp;you&nbsp;build&nbsp;the&nbsp;dll&nbsp;I&nbsp;would&nbsp;encourage&nbsp;you&nbsp;to&nbsp;look&nbsp;at&nbsp;the&nbsp;dll&nbsp;in&nbsp;MonoDevelop&nbsp;and&nbsp;see&nbsp;how&nbsp;much&nbsp;extra&nbsp;stuff&nbsp;is&nbsp;generated&nbsp;for&nbsp;you&nbsp;by&nbsp;using&nbsp;btouch.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;now&nbsp;in&nbsp;your&nbsp;real&nbsp;code&nbsp;you&nbsp;can&nbsp;invoke&nbsp;things&nbsp;as&nbsp;follows&nbsp;:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;var&nbsp;t&nbsp;=&nbsp;new&nbsp;TestLib();&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;var&nbsp;s&nbsp;=&nbsp;new&nbsp;MyStuff();&lt;/div&gt;&lt;div&gt;s.messageSize&nbsp;=&nbsp;1;&lt;/div&gt;&lt;div&gt;s.messageId&nbsp;=&nbsp;2;&lt;/div&gt;&lt;div&gt;<br>
s.data1&nbsp;=&nbsp;10;&lt;/div&gt;&lt;div&gt;s.data2&nbsp;=&nbsp;11;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;Console.WriteLine&nbsp;(&amp;quot;This&nbsp;is&nbsp;from&nbsp;objC&nbsp;sayHello&nbsp;:&nbsp;{0}&amp;quot;,&nbsp;t.SayHello);&lt;/div&gt;&lt;div&gt;Console.WriteLine&nbsp;(&amp;quot;This&nbsp;is&nbsp;from&nbsp;objC&nbsp;send&nbsp; :&nbsp;{0}&amp;quot;,&nbsp;t.Send&nbsp;(s));&lt;/div&gt;<br>
&lt;div&gt;Console.WriteLine&nbsp;(&amp;quot;This&nbsp;is&nbsp;from&nbsp;objC&nbsp;static&nbsp;:&nbsp;{0}&amp;quot;,&nbsp;TestLib.ClassMethod);&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Hopefully&nbsp;that&nbsp;helps&nbsp;a&nbsp;bit&nbsp;on&nbsp;how&nbsp;btouch&nbsp;actually&nbsp;works&nbsp;and&nbsp;helps&nbsp;you&nbsp;started&nbsp;in&nbsp;the&nbsp;right&nbsp;direction.&nbsp; &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Walt&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

</tt>
