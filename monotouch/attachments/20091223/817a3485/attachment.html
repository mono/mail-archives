<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;10pt;<br>
font-family:Verdana<br>
}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;<br>
&lt;BR&gt;&amp;nbsp;I&nbsp;didn't&nbsp;make&nbsp;any&nbsp;changes&nbsp;to&nbsp;the&nbsp;project&nbsp;template.&lt;BR&gt;<br>
AND&nbsp;-&nbsp;I&nbsp;use&nbsp;the&nbsp;Elements&nbsp;PointF&nbsp;SizeF&nbsp;a&nbsp;lot&nbsp;of&nbsp;time&nbsp;in&nbsp;code.&lt;BR&gt;<br>
So&nbsp;I&nbsp;guess&nbsp;the&nbsp;linker&nbsp;wouldn't&nbsp;remove&nbsp;these&nbsp;structs.&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
Last&nbsp;not&nbsp;least&nbsp;-&nbsp;I&nbsp;use&nbsp;this&nbsp;&quot;Preserve&quot;&nbsp;setting&nbsp;just&nbsp;to&nbsp;ensure&nbsp;everything&nbsp;is&nbsp;there.&lt;BR&gt;<br>
I&nbsp;guess&nbsp;it&nbsp;would&nbsp;make&nbsp;no&nbsp;difference&nbsp;if&nbsp;I&nbsp;set&nbsp;this&nbsp;or&nbsp;not.&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
Anyhow&nbsp;-&nbsp;I&nbsp;have&nbsp;some&nbsp;simple&nbsp;steps&nbsp;to&nbsp;reproduce&nbsp;the&nbsp;issue.&lt;BR&gt;<br>
Create&nbsp;a&nbsp;new&nbsp;iPhone&nbsp;project.&lt;BR&gt;<br>
In&nbsp;MainWindow&nbsp;add&nbsp;a&nbsp;view&nbsp;and&nbsp;therein&nbsp;a&nbsp;TextViewer.&lt;BR&gt;<br>
Create&nbsp;an&nbsp;outlet&nbsp;tvCheck&nbsp;for&nbsp;the&nbsp;TextViewer.&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
Then&nbsp;add&nbsp;the&nbsp;following&nbsp;code&nbsp;to&nbsp;Main.cs&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;&lt;FONT&nbsp;size=2&gt;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;public&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;override&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;bool&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;FinishedLaunching&nbsp;(UIApplication&nbsp;app,&nbsp;NSDictionary&nbsp;options)&nbsp;{&lt;BR&gt;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;color=#008000&nbsp;size=2&gt;&lt;FONT&nbsp;color=#008000&nbsp;size=2&gt;//&nbsp;If&nbsp;you&nbsp;have&nbsp;defined&nbsp;a&nbsp;view,&nbsp;add&nbsp;it&nbsp;here:&lt;BR&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;color=#008000&nbsp;size=2&gt;&lt;FONT&nbsp;color=#008000&nbsp;size=2&gt;//&nbsp;window.AddSubview&nbsp;(navigationController.View);&lt;BR&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;<br>
tvCheck.Text&nbsp;=&nbsp;SerializeIt&nbsp;();&lt;BR&gt;<br>
window.MakeKeyAndVisible&nbsp;();&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;return&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;true&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;;&lt;BR&gt;<br>
}&lt;BR&gt;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;private&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;string&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;SerializeIt&nbsp;()&nbsp;{&lt;BR&gt;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;color=#2b91af&nbsp;size=2&gt;&lt;FONT&nbsp;color=#2b91af&nbsp;size=2&gt;StringWriter&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;sW&nbsp;=&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;new&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#2b91af&nbsp;size=2&gt;&lt;FONT&nbsp;color=#2b91af&nbsp;size=2&gt;StringWriter&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;();&lt;BR&gt;<br>
XmlSerializer&nbsp;xS&nbsp;=&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;new&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;XmlSerializer&nbsp;(&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;typeof&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;(TestData));&lt;BR&gt;<br>
TestData&nbsp;tD&nbsp;=&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;new&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;TestData&nbsp;{&lt;BR&gt;<br>
Name&nbsp;=&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#a31515&nbsp;size=2&gt;&lt;FONT&nbsp;color=#a31515&nbsp;size=2&gt;&quot;One&quot;&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;,&lt;BR&gt;<br>
Number&nbsp;=&nbsp;22,&lt;BR&gt;<br>
Size&nbsp;=&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;new&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;SizeF&nbsp;(1,&nbsp;2)&lt;BR&gt;<br>
};&lt;BR&gt;<br>
xS.Serialize&nbsp;(sW,&nbsp;tD);&lt;BR&gt;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;return&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;(sW.ToString&nbsp;());&lt;BR&gt;<br>
}&lt;BR&gt;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;public&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;class&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#2b91af&nbsp;size=2&gt;&lt;FONT&nbsp;color=#2b91af&nbsp;size=2&gt;TestData&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;{&lt;BR&gt;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;public&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;string&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;Name&nbsp;{&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;get&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;set&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;;&nbsp;}&lt;BR&gt;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;public&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;SizeF&nbsp;Size&nbsp;{&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;get&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;set&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;;&nbsp;}&lt;BR&gt;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;public&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;int&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;Number&nbsp;{&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;get&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;;&nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;set&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;;&nbsp;}&lt;BR&gt;<br>
&lt;/FONT&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;FONT&nbsp;color=#0000ff&nbsp;size=2&gt;public&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;size=2&gt;&nbsp;TestData&nbsp;()&nbsp;{&lt;BR&gt;<br>
}&lt;BR&gt;<br>
}&lt;BR&gt;&lt;/FONT&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
When&nbsp;I&nbsp;run&nbsp;this&nbsp;on&nbsp;the&nbsp;simulator&nbsp;(no&nbsp;matter&nbsp;if&nbsp;debug&nbsp;or&nbsp;release)&nbsp;the&nbsp;member&nbsp;Size&nbsp;is&nbsp;correctly&nbsp;serialized.&lt;BR&gt;<br>
If&nbsp;I&nbsp;run&nbsp;it&nbsp;on&nbsp;the&nbsp;iPhone&nbsp;only&nbsp;an&nbsp;empty&nbsp;node&nbsp;is&nbsp;serialized&nbsp;like&nbsp;this:&lt;BR&gt;<br>
&amp;lt;Size&nbsp;/&amp;gt;&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
I&nbsp;didn't&nbsp;change&nbsp;any&nbsp;setting&nbsp;at&nbsp;the&nbsp;new&nbsp;projcet&nbsp;-&nbsp;just&nbsp;used&nbsp;it&nbsp;as&nbsp;it&nbsp;is.&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;&amp;gt;&nbsp;Date:&nbsp;Wed,&nbsp;23&nbsp;Dec&nbsp;2009&nbsp;11:20:16&nbsp;+0100&lt;BR&gt;&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[MonoTouch]&nbsp;XMLSerializer&nbsp;simulator&nbsp;/&nbsp;device&nbsp;differences&lt;BR&gt;&amp;gt;&nbsp;From:&nbsp;jb@nurv.fr&lt;BR&gt;&amp;gt;&nbsp;To:&nbsp;manniat@live.com&lt;BR&gt;&amp;gt;&nbsp;CC:&nbsp;monotouch@lists.ximian.com&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;Hey,&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;On&nbsp;12/23/09,&nbsp;ManniAT&nbsp;Pohler&nbsp;&amp;lt;manniat@live.com&amp;gt;&nbsp;wrote:&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;The&nbsp;thing&nbsp;works&nbsp;on&nbsp;the&nbsp;simulator&nbsp;-&nbsp;and&nbsp;it&nbsp;works&nbsp;when&nbsp;I&nbsp;use&nbsp;classes&nbsp;instead&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;of&nbsp;the&nbsp;structs&nbsp;(PointF,&nbsp;SizeF).&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;And&nbsp;it&nbsp;works&nbsp;for&nbsp;all&nbsp;other&nbsp;properties&nbsp;(which&nbsp;are&nbsp;all&nbsp;classes)&nbsp;-&nbsp;so&nbsp;I&nbsp;guess&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;it&nbsp;has&nbsp;something&nbsp;to&nbsp;do&nbsp;with&nbsp;structs.&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;Could&nbsp;it&nbsp;be&nbsp;that&nbsp;you're&nbsp;using&nbsp;the&nbsp;linker&nbsp;differently&nbsp;between&nbsp;the&lt;BR&gt;&amp;gt;&nbsp;simulator&nbsp;and&nbsp;the&nbsp;device&nbsp;build?&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;For&nbsp;instance,&nbsp;you&nbsp;could&nbsp;be&nbsp;building&nbsp;for&nbsp;the&nbsp;simulator&nbsp;with&lt;BR&gt;&amp;gt;&nbsp;linksdkonly,&nbsp;which&nbsp;wouldn't&nbsp;try&nbsp;to&nbsp;reduce&nbsp;the&nbsp;size&nbsp;of&nbsp;your&lt;BR&gt;&amp;gt;&nbsp;application,&nbsp;but&nbsp;only&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;class&nbsp;libraries.&nbsp;And&nbsp;for&nbsp;the&lt;BR&gt;&amp;gt;&nbsp;device,&nbsp;you&nbsp;would&nbsp;be&nbsp;fully&nbsp;linking&nbsp;everything,&nbsp;hence&nbsp;the&nbsp;difference.&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;You&nbsp;can&nbsp;use&nbsp;a&nbsp;[Preserve&nbsp;(AllMembers&nbsp;=&nbsp;true)]&nbsp;attribute&nbsp;on&nbsp;the&nbsp;type&nbsp;you&lt;BR&gt;&amp;gt;&nbsp;want&nbsp;to&nbsp;serialize,&nbsp;or&nbsp;switch&nbsp;to&nbsp;linksdkonly&nbsp;for&nbsp;the&nbsp;device&nbsp;as&nbsp;well.&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;--&nbsp;&lt;BR&gt;&amp;gt;&nbsp;Jb&nbsp;Evain&nbsp;&amp;lt;jb@nurv.fr&amp;gt;&lt;BR&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;br&nbsp;/&gt;&lt;hr&nbsp;/&gt;Windows&nbsp;Live:&nbsp;&nbsp;&lt;a&nbsp;href='http://www.microsoft.com/middleeast/windows/windowslive/see-it-in-action/social-network-basics.aspx?ocid=PID23461::T:WLMTAGL:ON:WL:en-xm:SI_SB_3:092010'&nbsp;target='_new'&gt;Friends&nbsp;get&nbsp;your&nbsp;Flickr,&nbsp;Yelp,&nbsp;and&nbsp;Digg&nbsp;updates&nbsp;when&nbsp;they&nbsp;e-mail&nbsp;you.&lt;/a&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
