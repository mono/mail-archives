<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Connecting to WCF via HTTPS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Connecting%20to%20WCF%20via%20HTTPS&In-Reply-To=1305176133615-3516496.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003142.html">
   <LINK REL="Next"  HREF="003168.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Connecting to WCF via HTTPS</H1>
    <B>Ois&#237;n Grehan</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20Connecting%20to%20WCF%20via%20HTTPS&In-Reply-To=1305176133615-3516496.post%40n4.nabble.com"
       TITLE="[MonoTouch] Connecting to WCF via HTTPS">oising at gmail.com
       </A><BR>
    <I>Thu May 12 16:32:38 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003142.html">[MonoTouch] Connecting to WCF via HTTPS
</A></li>
        <LI>Next message: <A HREF="003168.html">[MonoTouch] Connecting to WCF via HTTPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3165">[ date ]</a>
              <a href="thread.html#3165">[ thread ]</a>
              <a href="subject.html#3165">[ subject ]</a>
              <a href="author.html#3165">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Who's the intermediary or root CA who signed the cert? They might not be one
of the trusted roots on the iPhone. You can intercept the validation call
like this:

System.Net.ServicePointManager.ServerCertificateValidationCallback =
(sender, certificate, chain, sslPolicyErrors) =&gt; true;

Returning true will allow the connect to succeed no matter what state the
certificate is in. Of course, this is just to get yourself over the hurdle
for the moment. Replace that lambda with a fuller-featured diagnostic method
to find out exactly what is going on with the cert.

See:
<A HREF="http://msdn.microsoft.com/en-us/library/system.net.security.remotecertificatevalidationcallback.aspx">http://msdn.microsoft.com/en-us/library/system.net.security.remotecertificatevalidationcallback.aspx</A>

Hope this helps,

-Oisin

On Thu, May 12, 2011 at 12:55 AM, PCSnob &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">ralc001 at gmail.com</A>&gt; wrote:

&gt;<i> I am working on an iPhone app that needs to connect to a WCF service over
</I>&gt;<i> https.
</I>&gt;<i>
</I>&gt;<i> I have managed to get the application to work fine over HTTP, but when I
</I>&gt;<i> changed it over to https, I get the error &quot;An error occurred verifying
</I>&gt;<i> security for the message&quot;.
</I>&gt;<i>
</I>&gt;<i> I would like to note that we are able to connect to the WCF service over
</I>&gt;<i> https using a windows phone 7 version of the app, so we know the web
</I>&gt;<i> service
</I>&gt;<i> is working fine (certificate is good, etc).  Also as noted, we managed to
</I>&gt;<i> connect to it using the iphone but via http.
</I>&gt;<i>
</I>&gt;<i> I have the following code in the iphone app to connect via the webservice:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> BasicHttpBinding binding = new BasicHttpBinding();
</I>&gt;<i> binding.Security.Mode =
</I>&gt;<i> BasicHttpSecurityMode.TransportWithMessageCredential;
</I>&gt;<i>
</I>&gt;<i> Service1Client dataclient = new Service1Client(binding, new
</I>&gt;<i> EndpointAddress(&quot;<A HREF="https://serviceurlgoeshere&quot;">https://serviceurlgoeshere&quot;</A>));
</I>&gt;<i>
</I>&gt;<i> dataclient.ClientCredentials.UserName.Username = &quot;TestLogin&quot;;
</I>&gt;<i> dataclient.ClientCredentials.Username.Password = &quot;testpass&quot;;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> //Event handler to handle the asynchronous CompletedEventArgs here
</I>&gt;<i> //Call the Async method
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Any help would be greatly appreciated, thanks
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://monotouch.2284126.n4.nabble.com/Connecting-to-WCF-via-HTTPS-tp3516496p3516496.html">http://monotouch.2284126.n4.nabble.com/Connecting-to-WCF-via-HTTPS-tp3516496p3516496.html</A>
</I>&gt;<i> Sent from the MonoTouch mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;<i>
</I>


-- 

---
404 signature missing
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20110512/0fc772f4/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20110512/0fc772f4/attachment.html</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003142.html">[MonoTouch] Connecting to WCF via HTTPS
</A></li>
	<LI>Next message: <A HREF="003168.html">[MonoTouch] Connecting to WCF via HTTPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3165">[ date ]</a>
              <a href="thread.html#3165">[ thread ]</a>
              <a href="subject.html#3165">[ subject ]</a>
              <a href="author.html#3165">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
