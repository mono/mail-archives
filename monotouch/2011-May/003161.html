<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] re  async wcf question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20re%20%20async%20wcf%20question&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003159.html">
   <LINK REL="Next"  HREF="003166.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] re  async wcf question</H1>
    <B>Michael Brian Bentley</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=%5BMonoTouch%5D%20re%20%20async%20wcf%20question&In-Reply-To="
       TITLE="[MonoTouch] re  async wcf question">bentley at crenelle.com
       </A><BR>
    <I>Thu May 12 10:50:19 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003159.html">[MonoTouch] How to access support team?
</A></li>
        <LI>Next message: <A HREF="003166.html">[MonoTouch] AVMediaPlayer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3161">[ date ]</a>
              <a href="thread.html#3161">[ thread ]</a>
              <a href="subject.html#3161">[ subject ]</a>
              <a href="author.html#3161">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I should mention that I am told that the code does work when run on 
Windows, altho I believe that was a couple test jigs ago; am 
inquiring if this is still the case.

-Mike

&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>We used silverlight's slsvcutil to build &quot;an async-style WCF
</I>&gt;<i>interface&quot; file for our iOS app.
</I>&gt;<i>
</I>&gt;<i>// This code was auto-generated by slsvcutil, version 4.0.50826.0
</I>&gt;<i>
</I>&gt;<i>We also used an earlier version 3 to do the same thing to see if we
</I>&gt;<i>could resolve the problems we're seeing. Same problems occur.
</I>&gt;<i>
</I>&gt;<i>We wrote some code to use the module to chat with our web service.
</I>&gt;<i>The relevant section from a small iOS test app is below.
</I>&gt;<i>
</I>&gt;<i>This code works to a point. We usually succeed in receiving an answer
</I>&gt;<i>from our inquiries, but sometimes we don't, and when we don't receive
</I>&gt;<i>one, we eventually time out and exception.
</I>&gt;<i>
</I>&gt;<i>Based on the server logs, we believe the server is reliably
</I>&gt;<i>responding to all of the requests, but that the client on the iOS
</I>&gt;<i>side isn't seeing/getting all the responses.
</I>&gt;<i>
</I>&gt;<i>Is there something glaringly obvious we're missing that you can see
</I>&gt;<i>in the snippet below?
</I>&gt;<i>
</I>&gt;<i>We've tried building against versions of MonoTouch: 3.2.6, 4.0.1, 
</I>&gt;<i>4.0.2, 4.0.3.
</I>&gt;<i>
</I>&gt;<i>Thanks,
</I>&gt;<i>
</I>&gt;<i>-Mike
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>EndpointAddress _address = new
</I>&gt;<i>
</I>&gt;<i>EndpointAddress(&quot;<A HREF="http://ws.ourfancydomain.net/Web.AsyncServices/AuroraWcfAsync.svc&quot;">http://ws.ourfancydomain.net/Web.AsyncServices/AuroraWcfAsync.svc&quot;</A>);
</I>&gt;<i>BasicHttpBinding _binding = new BasicHttpBinding();
</I>&gt;<i>
</I>&gt;<i>partial void btnClearTest_1_Onclick (UIButton sender)
</I>&gt;<i>{
</I>&gt;<i>	Console.WriteLine(System.DateTime.Now.ToString(&quot;hh:mm:ss.fffffff&quot;) +
</I>&gt;<i>	   &quot;  GetBrokers_OnClick()&quot;);
</I>&gt;<i>	txtResults.Text
</I>&gt;<i>	  += &quot;btnTest_1_Onclick()&quot; + System.Environment.NewLine;
</I>&gt;<i>	p_client
</I>&gt;<i>	  = new AuroraWcfAsyncClient(_binding, _address);
</I>&gt;<i>
</I>&gt;<i>	((IAuroraWcfAsync)p_client).BeginGetSquareRoot(12D * 12D,
</I>&gt;<i>GetSquareRootCompleted, &quot;Cats&quot;);
</I>&gt;<i>}
</I>&gt;<i>
</I>&gt;<i>void GetSquareRootCompleted(IAsyncResult asyncResult) {
</I>&gt;<i>	this.InvokeOnMainThread (delegate() {
</I>&gt;<i>
</I>&gt;<i>	Console.WriteLine(System.DateTime.Now.ToString(&quot;hh:mm:ss.fffffff&quot;)
</I>&gt;<i>
</I>&gt;<i>		  + &quot;  GetBrokersCompleted()&quot;);
</I>&gt;<i>
</I>&gt;<i>		try {
</I>&gt;<i>			string results
</I>&gt;<i>			  =
</I>&gt;<i>((IAuroraWcfAsync)p_client).EndGetSquareRoot(asyncResult).ToString() +
</I>&gt;<i>			    &quot;  &quot; + asyncResult.AsyncState +
</I>&gt;<i>System.Environment.NewLine;
</I>&gt;<i>			txtResults.Text += results;
</I>&gt;<i>			Console.WriteLine(results);
</I>&gt;<i>		} catch (Exception ex) {
</I>&gt;<i>			txtResults.Text
</I>&gt;<i>			  += &quot;ERROR: &quot; + ex.Message +
</I>&gt;<i>System.Environment.NewLine;
</I>&gt;<i>			if (ex.InnerException != null)
</I>&gt;<i>				txtResults.Text
</I>&gt;<i>				  += &quot;	 : &quot; +
</I>&gt;<i>ex.InnerException.Message + System.Environment.NewLine;
</I>&gt;<i>			Console.WriteLine(&quot;ERROR: &quot; + ex.Message);
</I>&gt;<i>			if (ex.InnerException != null)
</I>&gt;<i>				Console.WriteLine(&quot;     : &quot; +
</I>&gt;<i>ex.InnerException.Message);
</I>&gt;<i>			Console.WriteLine(&quot; TYPE: &quot; + asyncResult.GetType());
</I>&gt;<i>		}
</I>&gt;<i>		p_client.Close();
</I>&gt;<i>	});
</I>&gt;<i>}
</I>&gt;<i>_______________________________________________
</I>&gt;<i>MonoTouch mailing list
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I></PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003159.html">[MonoTouch] How to access support team?
</A></li>
	<LI>Next message: <A HREF="003166.html">[MonoTouch] AVMediaPlayer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3161">[ date ]</a>
              <a href="thread.html#3161">[ thread ]</a>
              <a href="subject.html#3161">[ subject ]</a>
              <a href="author.html#3161">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
