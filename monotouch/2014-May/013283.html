<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Using FB SDK
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Using%20FB%20SDK&In-Reply-To=%3CCAFe9JKLx6KwCTxkBpjvMf1juJ_e9m1Gg%2B28YW6qv9DkZ2M-CuA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="013284.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Using FB SDK</H1>
    <B>Francesco Colombo</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Using%20FB%20SDK&In-Reply-To=%3CCAFe9JKLx6KwCTxkBpjvMf1juJ_e9m1Gg%2B28YW6qv9DkZ2M-CuA%40mail.gmail.com%3E"
       TITLE="[MonoTouch] Using FB SDK">francesco.colombo at gmail.com
       </A><BR>
    <I>Thu May  8 17:18:52 UTC 2014</I>
    <P><UL>
        
        <LI>Next message: <A HREF="013284.html">[MonoTouch] Using FB SDK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13283">[ date ]</a>
              <a href="thread.html#13283">[ thread ]</a>
              <a href="subject.html#13283">[ subject ]</a>
              <a href="author.html#13283">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm working on app which needs to post on an user wall some informations
about some contents. I've successfully created the FB app (with all the
settings required) and I've successfully built my binding project to use
the FB SDK. I'am able to use the FBSession to authenticate the user. Now
I'm facing a strange issue. When I try to check for &quot;publish_actions&quot;
permission in my FBSession.ActiveSession and, in case it's not present,
adding it as new publish permission, the method fails and the sessions
Permissions properties is populated with values { &quot;status,permission&quot; }.

So in brief, when i Call this method

`FBSession.ActiveSession.RequestNewPublishPermissions(
                    new[] { &quot;publish_actions&quot; },
                    FBSessionDefaultAudience.OnlyMe,
                    new FBSessionRequestPermissionResultHandler((session,
error) =&gt;
                    {
                        if(!session.Permissions.Contains(&quot;&quot;))
                        {
                            System.Diagnostics.Debug.WriteLine(&quot;Unable to
set publishing permission&quot;);
                            return;
                        }

                        if (error == null)
                        {
                            PostOnWall(null, callback);
                        }
                        else
                        {
                            System.Diagnostics.Debug.WriteLine(&quot;Error while
trying to set new permissions&quot;);
                        }
                    })
                );`

I can see the auth flow correctly, the fb native app asks me to allow the
publish permission but something goes wrong when it return control to my
app, infact there's no &quot;publis_actions&quot; permission. Only &quot;status,permission&quot;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20140508/f87972d7/attachment.html">http://lists.ximian.com/pipermail/monotouch/attachments/20140508/f87972d7/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="013284.html">[MonoTouch] Using FB SDK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13283">[ date ]</a>
              <a href="thread.html#13283">[ thread ]</a>
              <a href="subject.html#13283">[ subject ]</a>
              <a href="author.html#13283">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
