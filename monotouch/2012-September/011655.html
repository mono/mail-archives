<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] App rejected because of crash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20App%20rejected%20because%20of%20crash&In-Reply-To=%3CCACp3Zk1Svz7i7FS8Eh8raF-f2uvX1UtcWz_SQqtBgqX4bAaXfw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011654.html">
   <LINK REL="Next"  HREF="011658.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] App rejected because of crash</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20App%20rejected%20because%20of%20crash&In-Reply-To=%3CCACp3Zk1Svz7i7FS8Eh8raF-f2uvX1UtcWz_SQqtBgqX4bAaXfw%40mail.gmail.com%3E"
       TITLE="[MonoTouch] App rejected because of crash">sebastien at xamarin.com
       </A><BR>
    <I>Fri Sep  7 00:51:10 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011654.html">[MonoTouch] App rejected because of crash
</A></li>
        <LI>Next message: <A HREF="011658.html">[MonoTouch] App rejected because of crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11655">[ date ]</a>
              <a href="thread.html#11655">[ thread ]</a>
              <a href="subject.html#11655">[ subject ]</a>
              <a href="author.html#11655">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Liam,

On Thu, Sep 6, 2012 at 7:53 PM, Liam Houlahan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">liamhoulahan at gmail.com</A>&gt; wrote:
&gt;<i> Hi Everyone
</I>&gt;<i>
</I>&gt;<i> I have submitted an app to the appstore and it has been rejected because it
</I>&gt;<i> crashes.
</I>&gt;<i>
</I>&gt;<i> The description of when the app crashes by apple is vague and I cannot
</I>&gt;<i> reproduce the crash.
</I>&gt;<i>
</I>&gt;<i> I have uploaded the symbolicated crash logs too google docs hoping that you
</I>&gt;<i> guys may be able to make out what is going on?
</I>&gt;<i>
</I>&gt;<i> Here is the link
</I>&gt;<i> <A HREF="https://docs.google.com/folder/d/0B5ghoqfnILgZOWlqRFRQUUxYZlE/edit">https://docs.google.com/folder/d/0B5ghoqfnILgZOWlqRFRQUUxYZlE/edit</A>
</I>&gt;<i>
</I>&gt;<i> The problem with the crash logs is that there is not a reference to any of
</I>&gt;<i> my code in the thread which crashed. I have not seen this before. Normally
</I>&gt;<i> when my apps have crashed the crash log will show under the thread that
</I>&gt;<i> crashed a reference to some lines of code which are written by me. It looks
</I>&gt;<i> to me that the crash is occurring in mono but I cannot be sure of this.
</I>
&gt;<i>From a quick look at your first file it seems your application is
</I>crashing on thread #12...

&gt;<i> Crashed Thread:  12
</I>
... while reloading a UITableView.

Thread 12 Crashed:
0   libsystem_c.dylib             0x3221334a __abort + 138
1   libsystem_c.dylib             0x322132ba abort + 122
2   AppMonoTouch                  0x00552ffe monoeg_g_logv (goutput.c:128)
3   AppMonoTouch                  0x00553020 monoeg_assertion_message
(goutput.c:152)
4   AppMonoTouch                  0x004b0a96 mono_thread_abort (mini.c:2639)
5   AppMonoTouch                  0x004b0b00 mono_thread_abort_dummy
(mini.c:2716)
6   AppMonoTouch                  0x004bfcd0 0x1000 + 4975824
7   AppMonoTouch                  0x004bfd9e mono_handle_exception
(mini-exceptions.c:1828)
8   AppMonoTouch                  0x004d57fe handle_signal_exception
(exceptions-arm.c:532)
9   AppMonoTouch                  0x004000f0
wrapper_runtime_invoke_object_runtime_invoke_dynamic_intptr_intptr_intptr_intptr
(mscorlib.dll.7.s:159594)
10  AppMonoTouch                  0x004000f0
wrapper_runtime_invoke_object_runtime_invoke_dynamic_intptr_intptr_intptr_intptr
(mscorlib.dll.7.s:159594)
11  AppMonoTouch                  0x004b2858 mono_jit_runtime_invoke
(mini.c:5786)
12  AppMonoTouch                  0x00522580 mono_runtime_invoke (object.c:2758)
13  AppMonoTouch                  0x00562d00 monotouch_trampoline
(monotouch-glue.m:808)
14  UIKit                         0x3537568c -[UISectionRowData
refreshWithSection:tableView:tableViewRowData:] + 1484
15  UIKit                         0x353769e6 -[UITableViewRowData
numberOfRows] + 102
16  UIKit                         0x35376938 -[UITableView
noteNumberOfRowsChanged] + 112
17  UIKit                         0x35376514 -[UITableView reloadData] + 724
18  UIKit                         0x353837d8 -[UITableView
_reloadDataIfNeeded] + 60
19  UIKit                         0x353836a8 -[UITableView layoutSubviews] + 20
20  UIKit                         0x35327f0e -[UIView(CALayerDelegate)
layoutSublayersOfLayer:] + 142

Now UIKit is *not* thread-safe and _must_ be used from the main thread...

&gt;<i> Thread 0 name:  Dispatch queue: com.apple.main-thread
</I>
... which is thread #0 (not #12).

This is likely the is the root cause of your crash(es). You should try
MonoTouch 5.4 since it will (by default, for Debug builds) warns you
(throw exceptions) if you use UIKit outside the main thread. That
makes it much easier to find those cases.

Regards,
Sebastien
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011654.html">[MonoTouch] App rejected because of crash
</A></li>
	<LI>Next message: <A HREF="011658.html">[MonoTouch] App rejected because of crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11655">[ date ]</a>
              <a href="thread.html#11655">[ thread ]</a>
              <a href="subject.html#11655">[ subject ]</a>
              <a href="author.html#11655">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
