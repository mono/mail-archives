<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] App crashing at startup after a crash inside app
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20App%20crashing%20at%20startup%20after%20a%20crash%20inside%20app&In-Reply-To=%3CCC7938E4.34641%25karl%40e-magesolutions.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011778.html">
   <LINK REL="Next"  HREF="011758.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] App crashing at startup after a crash inside app</H1>
    <B>Karl Heinz Brehme Arredondo</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20App%20crashing%20at%20startup%20after%20a%20crash%20inside%20app&In-Reply-To=%3CCC7938E4.34641%25karl%40e-magesolutions.com%3E"
       TITLE="[MonoTouch] App crashing at startup after a crash inside app">karl at e-magesolutions.com
       </A><BR>
    <I>Fri Sep 14 22:43:30 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011778.html">[MonoTouch] App crashing at startup after a crash inside app
</A></li>
        <LI>Next message: <A HREF="011758.html">[MonoTouch] problem on solution in xamarin sample - mono develop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11779">[ date ]</a>
              <a href="thread.html#11779">[ thread ]</a>
              <a href="subject.html#11779">[ subject ]</a>
              <a href="author.html#11779">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Rolf. I'll try it, the question was just to try to understand what this
option makes when set.
Yes, I'm using now MT 5.4. But until last week the problem occur sometimes
and was with 5.2 (or the last version before 5.4 that I didn't remember the
number..).

Thanks,

Karl

From:  Rolf Bjarne Kvinge &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">rolf at xamarin.com</A>&gt;
Date:  sexta-feira, 14 de setembro de 2012 19:32
To:  Karl Heinz Brehme Arredondo &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">karl at e-magesolutions.com</A>&gt;
Cc:  &quot;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&gt;
Subject:  Re: [MonoTouch] App crashing at startup after a crash inside app

Hi,

On Fri, Sep 14, 2012 at 3:26 PM, Karl Heinz Brehme Arredondo
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">karl at e-magesolutions.com</A>&gt; wrote:
&gt;<i> Hi Rolf,
</I>&gt;<i> 
</I>&gt;<i> Because of the size, I'll send to you directly.
</I>&gt;<i> About --noregistrar, will this do not show anymore the &quot;wonderful&quot; clues like
</I>&gt;<i> 7 MyApp 0x007862c6 native_to_managed_trampoline_MyApp_FormLogin_ViewWillAppear
</I>&gt;<i> (registrar.m:10154)?
</I>
If you're using MonoTouch 5.4 you'll get symbolicated managed frames
(instead of all ?????) in any case (but not these types of specialized
trampolines, which may be helpful in its own right). That said, if you had
the problem since 5.2 I doubt --noregistrar will make much difference (it
won't hurt to try though :).

Rolf
 
&gt;<i> 
</I>&gt;<i> I think this was the only thing to give me some clues in 2 months&#138;
</I>&gt;<i> The second thing is that I don't know yet when this will appear again in some
</I>&gt;<i> user, but can try to make the user who begin to have this problem to change
</I>&gt;<i> the version for one compiled with --noregistrar.
</I>&gt;<i> 
</I>&gt;<i> And, I must to confess&#138; I put some try/catch with catch login things on test
</I>&gt;<i> flight to get this log and bypass what is executed on ViewDidLoad and
</I>&gt;<i> ViewWillAppear to try to workaround and get some info. So, is someone have
</I>&gt;<i> this in near future, I can remove try/catches and make a version with
</I>&gt;<i> &#139;noregistrar.
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> 
</I>&gt;<i> Karl
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> From:  Rolf Bjarne Kvinge &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">rolf at xamarin.com</A>&gt;
</I>&gt;<i> Date:  sexta-feira, 14 de setembro de 2012 05:38
</I>&gt;<i> 
</I>&gt;<i> To:  Karl Heinz Brehme Arredondo &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">karl at e-magesolutions.com</A>&gt;
</I>&gt;<i> Cc:  &quot;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">monotouch at lists.ximian.com</A>&gt;
</I>&gt;<i> Subject:  Re: [MonoTouch] App crashing at startup after a crash inside app
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> On Thu, Sep 13, 2012 at 2:35 AM, Karl Heinz Brehme Arredondo
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">karl at e-magesolutions.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I have an app that runs fine. But in some rare times (not so rare, maybe 10
</I>&gt;&gt;<i> cases per month) , something happens that crashes the App, and the it doesn't
</I>&gt;&gt;<i> open anymore.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Today I succeed to get a crash log from TestFlight for a case of that. User
</I>&gt;&gt;<i> try to open app and it doesn't open anymore. Before that is was normal.
</I>&gt;&gt;<i> Normally this could be some data, field or table missing, but I got a copy of
</I>&gt;&gt;<i> sqlite DB and it runs OK in another place (device or simulator).
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The strange thing is the failure appear to be in a UITextField (in truth in a
</I>&gt;&gt;<i> custom UITxtField), but I can't figure out why since it runs OK from almost 2
</I>&gt;&gt;<i> years&#138; indeed, is in the login screen, the first view controller, the first
</I>&gt;&gt;<i> thing made since betas.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> So I can see that ViewWillAppear has some UITextView get Text, and that could
</I>&gt;&gt;<i> be some null object reference on it. BUT&#138; isn't below missing the ViewDidLoad
</I>&gt;&gt;<i> thing? Is there a way to do not log this or do not being fired the
</I>&gt;&gt;<i> ViewDidLoad? Remembering that application run normally. Just in a few cases
</I>&gt;&gt;<i> that some users report that and the way is to uninstall and reinstall,
</I>&gt;&gt;<i> loosing all data non transferred to server. If I removed ViewWillAppear and
</I>&gt;&gt;<i> ViewDidLoad and application returned to life. I put it again and no mo error&#138;
</I>&gt;&gt;<i> So now to do more tests I need another occurrence of that problem.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 1. 0 MyApp 0x00003102 testflight_backtrace + 158
</I>&gt;&gt;<i> 2. 1 MyApp 0x00003d2c TFSignalHandler + 244
</I>&gt;&gt;<i> 3. 2 libsystem_c.dylib 0x34c857ec _sigtramp + 48
</I>&gt;&gt;<i> 4. 3 MyApp 0x0006f067 MonoTouch_UIKit_UITextField_get_Text + 99
</I>&gt;&gt;<i> 5. 4 MyApp 0x0033d493
</I>&gt;&gt;<i> wrapper_runtime_invoke_object_runtime_invoke_dynamic_intptr_intptr_intptr_int
</I>&gt;&gt;<i> ptr + 199
</I>&gt;&gt;<i> 6. 5 MyApp 0x007cf406 mono_jit_runtime_invoke (mini.c:5792)
</I>&gt;&gt;<i> 7. 6 MyApp 0x0084afd2 mono_runtime_invoke (object.c:2788)
</I>&gt;&gt;<i> 8. 7 MyApp 0x007862c6
</I>&gt;&gt;<i> native_to_managed_trampoline_MyApp_FormLogin_ViewWillAppear
</I>&gt;&gt;<i> (registrar.m:10154)
</I>&gt;&gt;<i> 9. 8 UIKit 0x306d7b94 -[UIViewController _setViewAppearState:isAnimating:] +
</I>&gt;&gt;<i> 144
</I>&gt;&gt;<i> 10. 9 UIKit 0x306da8fa -[UINavigationController
</I>&gt;&gt;<i> _startTransition:fromViewController:toViewController:] + 814
</I>&gt;&gt;<i> 11. 10 UIKit 0x306da502 -[UINavigationController
</I>&gt;&gt;<i> _startDeferredTransitionIfNeeded] + 250
</I>&gt;&gt;<i> 12. 11 UIKit 0x3077a39c -[UINavigationController defaultFirstResponder] + 124
</I>&gt;&gt;<i> 13. 12 UIKit 0x306c03b4 -[UIResponder(Internal)
</I>&gt;&gt;<i> _deepestDefaultFirstResponder] + 24
</I>&gt;&gt;<i> 14. 13 UIKit 0x306c03d0 -[UIResponder(Internal)
</I>&gt;&gt;<i> _deepestDefaultFirstResponder] + 52
</I>&gt;&gt;<i> 15. 14 UIKit 0x306c0262 -[UIResponder(Internal)
</I>&gt;&gt;<i> _promoteDeepestDefaultFirstResponder] + 30
</I>&gt;&gt;<i> 16. 15 UIKit 0x306c023e -[UIWindow makeKeyWindow] + 382
</I>&gt;&gt;<i> 17. 16 MyApp 0x0008e107
</I>&gt;&gt;<i> wrapper_managed_to_native_MonoTouch_ObjCRuntime_Messaging_void_objc_msgSend_i
</I>&gt;&gt;<i> ntptr_intptr + 67
</I>&gt;&gt;<i> 18. 17 MyApp 0x005f5ca7
</I>&gt;&gt;<i> MyApp_AppDelegate_FinishedLaunching_MonoTouch_UIKit_UIApplication_MonoTouch_F
</I>&gt;&gt;<i> oundation_NSDictionary + 371
</I>&gt;&gt;<i> 19. 18 MyApp 0x0033d493
</I>&gt;&gt;<i> wrapper_runtime_invoke_object_runtime_invoke_dynamic_intptr_intptr_intptr_int
</I>&gt;&gt;<i> ptr + 199
</I>&gt;&gt;<i> 20. 19 MyApp 0x007cf406 mono_jit_runtime_invoke (mini.c:5792)
</I>&gt;&gt;<i> 21. 20 MyApp 0x0084afd2 mono_runtime_invoke (object.c:2788)
</I>&gt;&gt;<i> 22. 21 MyApp 0x0076687c
</I>&gt;&gt;<i> native_to_managed_trampoline_MyApp_AppDelegate_FinishedLaunching
</I>&gt;&gt;<i> (registrar.m:654)
</I>&gt;&gt;<i> 23. 22 UIKit 0x306cdcaa -[UIApplication
</I>&gt;&gt;<i> _callInitializationDelegatesForURL:payload:suspended:] + 1182
</I>&gt;&gt;<i> 24. 23 UIKit 0x306c77dc -[UIApplication
</I>&gt;&gt;<i> _runWithURL:payload:launchOrientation:statusBarStyle:statusBarHidden:] + 408
</I>&gt;&gt;<i> 25. 24 UIKit 0x30695ac2 -[UIApplication handleEvent:withNewEvent:] + 1010
</I>&gt;&gt;<i> (cut due to size)
</I>&gt;<i> 
</I>&gt;<i> I had a second look at the stack trace, and now I realize it's all wrong, it
</I>&gt;<i> has nothing to do with UITextField nor your subclass, it looks like something
</I>&gt;<i> worse, frame #3 shouldn't be a call to MonoTouch_UIKit_UITextField_get_Text,
</I>&gt;<i> it should be a call to MyApp_FormLogin_ViewWillAppear (frame #7 is the method
</I>&gt;<i> where we transition from native code to managed code, but it is not the actual
</I>&gt;<i> managed implementation of the method).
</I>&gt;<i> 
</I>&gt;<i> Can you also attach the complete crash report from TestFlight (in particular
</I>&gt;<i> I'm interested in the addresses where the app and dylibs were mapped in the
</I>&gt;<i> process space)?
</I>&gt;<i> 
</I>&gt;<i> Also, can you try rebuilding your application with --noregistrar (add it to
</I>&gt;<i> the additional mtouch arguments in the projects iPhone Build options) to see
</I>&gt;<i> if it makes a difference?
</I>&gt;<i> 
</I>&gt;<i> Rolf
</I>&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Thanks,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Karl
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> MonoTouch mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/monotouch/attachments/20120914/4a7e10f7/attachment-0001.html">http://lists.ximian.com/pipermail/monotouch/attachments/20120914/4a7e10f7/attachment-0001.html</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011778.html">[MonoTouch] App crashing at startup after a crash inside app
</A></li>
	<LI>Next message: <A HREF="011758.html">[MonoTouch] problem on solution in xamarin sample - mono develop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11779">[ date ]</a>
              <a href="thread.html#11779">[ thread ]</a>
              <a href="subject.html#11779">[ subject ]</a>
              <a href="author.html#11779">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
