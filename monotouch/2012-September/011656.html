<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] Need Simple UIWebView Example to Format Text
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Need%20Simple%20UIWebView%20Example%20to%20Format%20Text&In-Reply-To=%3C1346979516806-4656912.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011651.html">
   <LINK REL="Next"  HREF="011648.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] Need Simple UIWebView Example to Format Text</H1>
    <B>Chris_M</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20Need%20Simple%20UIWebView%20Example%20to%20Format%20Text&In-Reply-To=%3C1346979516806-4656912.post%40n4.nabble.com%3E"
       TITLE="[MonoTouch] Need Simple UIWebView Example to Format Text">kungfuchris99 at yahoo.com
       </A><BR>
    <I>Fri Sep  7 00:58:36 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011651.html">[MonoTouch] Need Simple UIWebView Example to Format Text
</A></li>
        <LI>Next message: <A HREF="011648.html">[MonoTouch] Instruments stopped symbolicating methods in my app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11656">[ date ]</a>
              <a href="thread.html#11656">[ thread ]</a>
              <a href="subject.html#11656">[ subject ]</a>
              <a href="author.html#11656">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Thanks, Jason and Craig! Those were both helpful. Craig, what you're doing
is way more efficient than how I was going about things.

Of course, it turns out [1] that I'm an idiot and my problem was simpler
than that. My original inline style code was correct...but I forgot to use
string literals for the quotation marks. :-/ 


--Chris

[1] This is really falls more under the heading of &quot;Further Confirmation&quot;
than &quot;New Information&quot;.


--Chris


Craig Dunn-2 wrote
&gt;<i> 
</I>&gt;<i> in the Monospace11 app - <A HREF="https://github.com/conceptdev/Monospace11">https://github.com/conceptdev/Monospace11</A> - some
</I>&gt;<i> of the screens use webviews for formatting (found it faster to format
</I>&gt;<i> nicely, and work cross-platform with Android).
</I>&gt;<i> 
</I>&gt;<i> anyway, check out the
</I>&gt;<i> SpeakerBioViewController&lt;<A HREF="https://github.com/conceptdev/Monospace11/blob/master/iOS/TabSpeakers/SpeakerBioViewController.cs&amp;gt;,">https://github.com/conceptdev/Monospace11/blob/master/iOS/TabSpeakers/SpeakerBioViewController.cs&gt;,</A>
</I>&gt;<i> SessionViewController&lt;<A HREF="https://github.com/conceptdev/Monospace11/blob/master/iOS/TabSessions/SessionViewController.cs&amp;gt;and">https://github.com/conceptdev/Monospace11/blob/master/iOS/TabSessions/SessionViewController.cs&gt;and</A>
</I>&gt;<i> WebViewControllerBase&lt;<A HREF="https://github.com/conceptdev/Monospace11/blob/master/iOS/WebViewControllerBase.cs&amp;gt;">https://github.com/conceptdev/Monospace11/blob/master/iOS/WebViewControllerBase.cs&gt;</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> in the *WebViewControllerBase* class i have a snippet of stylesheet that
</I>&gt;<i> gets re-used on each screen
</I>&gt;<i> 
</I>&gt;<i> public string StyleHtmlSnippet
</I>&gt;<i> {
</I>&gt;<i> get
</I>&gt;<i> {   // <A HREF="http://jonraasch.com/blog/css-rounded-corners-in-all-browsers">http://jonraasch.com/blog/css-rounded-corners-in-all-browsers</A>
</I>&gt;<i> return &quot;&quot;;
</I>&gt;<i> }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> and then the code calls 'FormatText()' (which is overridden in the
</I>&gt;<i> subclasses) and display the html in a webview. notice it sets up the base
</I>&gt;<i> directory so that images from inside the app bundle can be displayed (eg.
</I>&gt;<i> background image referenced in the CSS). i've summarised the ViewDidLoad()
</I>&gt;<i> method here:
</I>&gt;<i> 
</I>&gt;<i> basedir = Environment.GetFolderPath
</I>&gt;<i> (System.Environment.SpecialFolder.Personal);
</I>&gt;<i> basedir = System.IO.Path.Combine (basedir, &quot;..&quot;, &quot;Monospace11.app&quot;); //
</I>&gt;<i> USE
</I>&gt;<i> YOUR APP BUNDLE NAME
</I>&gt;<i> webView.LoadHtmlString(FormatText(), new NSUrl(basedir, true));
</I>&gt;<i> 
</I>&gt;<i> THEN in the *subclasses*, override FormatText() to return a string of
</I>&gt;<i> HTML,
</I>&gt;<i> incorporating the StyleHtmlSnippet and using styled elements like H2, and
</I>&gt;<i> class = body or sessionspeak...
</I>&gt;<i> 
</I>&gt;<i> protected override string FormatText ()
</I>&gt;<i> {
</I>&gt;<i> StringBuilder sb = new StringBuilder ();
</I>&gt;<i> sb.Append (StyleHtmlSnippet);
</I>&gt;<i> sb.Append (&quot;
</I>&quot; + _speaker.Name + &quot;
&quot; + Environment.NewLine);
&gt;<i> if (!string.IsNullOrEmpty (_speaker.Bio)) {
</I>&gt;<i> sb.Append (&quot;&quot; + _speaker.Bio + &quot;&lt;br/&gt;&quot;);
</I>&gt;<i> }
</I>&gt;<i> sb.Append (&quot;&lt;br /&gt;&quot;);
</I>&gt;<i> foreach (var session in _speaker.Sessions) {
</I>&gt;<i> sb.Append (&quot;&lt;div class='sessionspeaker'&gt; <A HREF="http://MIX10.app/">http://MIX10.app/</A>&quot; +
</I>session.Code + &quot; &quot; + session.Title + &quot; &lt;/div&gt;&lt;br
&gt;<i> /&gt;&quot;);
</I>&gt;<i> }
</I>&gt;<i> return sb.ToString ();
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> IF you need to catch links inside the HTML and do custom stuff, for more
</I>&gt;<i> info on making the <A HREF="http://MIX10.app">http://MIX10.app</A> urls work, see the
</I>&gt;<i> WebViewDelegate.ShouldStartLoad() methods in each page...
</I>&gt;<i> 
</I>&gt;<i> HTH
</I>&gt;<i> cd
</I>&gt;<i> 
</I>&gt;<i> 
</I>



--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/Need-Simple-UIWebView-Example-to-Format-Text-tp4656902p4656912.html">http://monotouch.2284126.n4.nabble.com/Need-Simple-UIWebView-Example-to-Format-Text-tp4656902p4656912.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011651.html">[MonoTouch] Need Simple UIWebView Example to Format Text
</A></li>
	<LI>Next message: <A HREF="011648.html">[MonoTouch] Instruments stopped symbolicating methods in my app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11656">[ date ]</a>
              <a href="thread.html#11656">[ thread ]</a>
              <a href="subject.html#11656">[ subject ]</a>
              <a href="author.html#11656">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
