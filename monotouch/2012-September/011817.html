<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] StoreKit: UpdatedTransactions() not called for restores?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20StoreKit%3A%20UpdatedTransactions%28%29%20not%20called%20for%20restores%3F&In-Reply-To=%3C1347963514336-4657072.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011816.html">
   <LINK REL="Next"  HREF="011818.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] StoreKit: UpdatedTransactions() not called for restores?</H1>
    <B>dermotos</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20StoreKit%3A%20UpdatedTransactions%28%29%20not%20called%20for%20restores%3F&In-Reply-To=%3C1347963514336-4657072.post%40n4.nabble.com%3E"
       TITLE="[MonoTouch] StoreKit: UpdatedTransactions() not called for restores?">me at dermotos.com
       </A><BR>
    <I>Tue Sep 18 10:18:34 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011816.html">[MonoTouch] Invalid license. Please reactivate MonoTouch
</A></li>
        <LI>Next message: <A HREF="011818.html">[MonoTouch] StoreKit: UpdatedTransactions() not called for	restores?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11817">[ date ]</a>
              <a href="thread.html#11817">[ thread ]</a>
              <a href="subject.html#11817">[ subject ]</a>
              <a href="author.html#11817">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've implemented my in app purchasing, and the purchasing itself works fine.
I have based it on the Xamarin sample. 

However, when I do a restore purchase
(SKPaymentQueue.DefaultQueue.RestoreCompletedTransactions();)
the delegate PaymentQueueRestoreCompletedTransactionsFinished(SkPaymentQueue
queue) (phew!) gets called, but UpdatedTransactions doesn't. 

According to Apple docs:

paymentQueueRestoreCompletedTransactionsFinished:
Tells the observer that the payment queue has finished sending restored
transactions.

Discussion
This method is called after all restorable transactions have been processed
by the payment queue. *Your application is not required to do anything in
this method.*

Is this a StoreKit bug? Everything is setup correctly, if I literally just
switch the button that calls purchase to restore instead, the above behavior
occurs. Im wondering has anyone encountered similar issues? Im also having
strange problems at the moment creating test users (every user, no matter
what details I enter already exists apparently).  Hopefully Apple are just
making changes. Anyone else encounter issues with StoreKit?

One other thing, I noticed that the sandbox is verrrry slow. It can take up
to a minute sometimes for the UpdatedTransactions() method to fire during
purchases. Is this normal/limited to sandbox?

Thanks. :-)



--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/StoreKit-UpdatedTransactions-not-called-for-restores-tp4657072.html">http://monotouch.2284126.n4.nabble.com/StoreKit-UpdatedTransactions-not-called-for-restores-tp4657072.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011816.html">[MonoTouch] Invalid license. Please reactivate MonoTouch
</A></li>
	<LI>Next message: <A HREF="011818.html">[MonoTouch] StoreKit: UpdatedTransactions() not called for	restores?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11817">[ date ]</a>
              <a href="thread.html#11817">[ thread ]</a>
              <a href="subject.html#11817">[ subject ]</a>
              <a href="author.html#11817">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
