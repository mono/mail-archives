<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] StoreKit: UpdatedTransactions() not called for	restores?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20StoreKit%3A%20UpdatedTransactions%28%29%20not%20called%20for%0A%09restores%3F&In-Reply-To=%3C1348057428884-4657078.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011822.html">
   <LINK REL="Next"  HREF="011820.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] StoreKit: UpdatedTransactions() not called for	restores?</H1>
    <B>dermotos</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20StoreKit%3A%20UpdatedTransactions%28%29%20not%20called%20for%0A%09restores%3F&In-Reply-To=%3C1348057428884-4657078.post%40n4.nabble.com%3E"
       TITLE="[MonoTouch] StoreKit: UpdatedTransactions() not called for	restores?">me at dermotos.com
       </A><BR>
    <I>Wed Sep 19 12:23:48 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011822.html">[MonoTouch] StoreKit: UpdatedTransactions() not called for	restores?
</A></li>
        <LI>Next message: <A HREF="011820.html">[MonoTouch] Add constraints to an existing XIB XCode 4.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11823">[ date ]</a>
              <a href="thread.html#11823">[ thread ]</a>
              <a href="subject.html#11823">[ subject ]</a>
              <a href="author.html#11823">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, Im almost there. I've one other item that's confusing me. When I validate
my transaction on the server, I send through the receipt data, and then on
my server send it to apple and get the receipt, decode it and it looks like
this:

{
&quot;receipt&quot;:{&quot;original_purchase_date_pst&quot;:&quot;2012-09-19 05:15:32
America/Los_Angeles&quot;,
&quot;unique_identifier&quot;:&quot;44a09377a161d6009cf8a16fe3469f8c4d1c9e40&quot;,
&quot;original_transaction_id&quot;:&quot;1000000056101005&quot;, &quot;bvrs&quot;:&quot;0.7.0.0&quot;,
&quot;transaction_id&quot;:&quot;1000000056101005&quot;, &quot;quantity&quot;:&quot;1&quot;,
&quot;product_id&quot;:&quot;(removed)&quot;, &quot;item_id&quot;:&quot;560739308&quot;,
&quot;purchase_date_ms&quot;:&quot;1348056932296&quot;, &quot;purchase_date&quot;:&quot;2012-09-19 12:15:32
Etc/GMT&quot;, &quot;original_purchase_date&quot;:&quot;2012-09-19 12:15:32 Etc/GMT&quot;,
&quot;purchase_date_pst&quot;:&quot;2012-09-19 05:15:32 America/Los_Angeles&quot;,
&quot;bid&quot;:&quot;(removed)&quot;, &quot;original_purchase_date_ms&quot;:&quot;1348056932296&quot;}, &quot;status&quot;:0}

basically for an original purchase (NOT a restore in this case), Apple sends
me the above back, which has the same transaction id for the transaction AND
the original transaction. Also, the original purchase date and purchase date
are the exact same. Is this the normal way it works in the live app store?
Should I be comparing the transactionID with the original transaction ID,
and if they are the same, processing it as an original purchase?

Given my experiences over the last few days with StoreKit sandbox, I dont
want to make any assumptions!



--
View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/StoreKit-UpdatedTransactions-not-called-for-restores-tp4657072p4657078.html">http://monotouch.2284126.n4.nabble.com/StoreKit-UpdatedTransactions-not-called-for-restores-tp4657072p4657078.html</A>
Sent from the MonoTouch mailing list archive at Nabble.com.
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011822.html">[MonoTouch] StoreKit: UpdatedTransactions() not called for	restores?
</A></li>
	<LI>Next message: <A HREF="011820.html">[MonoTouch] Add constraints to an existing XIB XCode 4.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11823">[ date ]</a>
              <a href="thread.html#11823">[ thread ]</a>
              <a href="subject.html#11823">[ subject ]</a>
              <a href="author.html#11823">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
