<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MonoTouch] iOS 6 ABAddressBook.RequestAccess example
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20iOS%206%20ABAddressBook.RequestAccess%20example&In-Reply-To=%3CCANfFwGS-Adj7-XsR_S72HLcKsz7EFyjjYWcD30uwMu7SSZMqhQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012056.html">
   <LINK REL="Next"  HREF="012068.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MonoTouch] iOS 6 ABAddressBook.RequestAccess example</H1>
    <B>Nic Wise</B> 
    <A HREF="mailto:monotouch%40lists.ximian.com?Subject=Re%3A%20%5BMonoTouch%5D%20iOS%206%20ABAddressBook.RequestAccess%20example&In-Reply-To=%3CCANfFwGS-Adj7-XsR_S72HLcKsz7EFyjjYWcD30uwMu7SSZMqhQ%40mail.gmail.com%3E"
       TITLE="[MonoTouch] iOS 6 ABAddressBook.RequestAccess example">nicw at fastchicken.co.nz
       </A><BR>
    <I>Sat Sep 29 08:37:29 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="012056.html">[MonoTouch] iOS 6 ABAddressBook.RequestAccess example
</A></li>
        <LI>Next message: <A HREF="012068.html">[MonoTouch] iOS 6 ABAddressBook.RequestAccess example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12058">[ date ]</a>
              <a href="thread.html#12058">[ thread ]</a>
              <a href="subject.html#12058">[ subject ]</a>
              <a href="author.html#12058">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You can use it like this:


            iPhoneAddressBook.RequestAccess(delegate(bool granted,
NSError error) {
                //do something in here
                //this is called back with granted = true if the user
allowed it.
           });

This is an async call, so your app will continue to run until the user
says yes or no. Then the delegate gets called.

You dont need to show the dialog yourself - iOS does that for you. You
just need to handle when they say yes/no.

On Sat, Sep 29, 2012 at 3:40 AM, Stanley &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">mstrong64 at gmail.com</A>&gt; wrote:
&gt;<i> Hi there,
</I>&gt;<i>
</I>&gt;<i> I'm new to both C# and iOS and I'm looking for an example of how to
</I>&gt;<i> implement ABAddressBook.RequestAccess. Here is my code so far:
</I>&gt;<i>
</I>&gt;<i> private bool GetAddressBook ()
</I>&gt;<i> {
</I>&gt;<i>         if (UIDevice.CurrentDevice.CheckSystemVersion (6, 0)) {
</I>&gt;<i>                 NSError err;
</I>&gt;<i>                 iPhoneAddressBook = ABAddressBook.Create (out err);
</I>&gt;<i>                 var authStatus = ABAddressBook.GetAuthorizationStatus();
</I>&gt;<i>                 if (authStatus != ABAuthorizationStatus.Authorized) {
</I>&gt;<i>                         // iPhoneAddressBook.RequestAccess &lt;-- is this where to do it?? how??
</I>&gt;<i>                         using (var alert = new UIAlertView(&quot;Contacts Permission&quot;, &quot;We need your
</I>&gt;<i> permission to access your phone contacts. Please go to Settings &gt; Privacy &gt;
</I>&gt;<i> Contacts&quot;, null, &quot;OK&quot;, null)) {
</I>&gt;<i>                                 alert.Show ();
</I>&gt;<i>                                 return false;
</I>&gt;<i>                         }
</I>&gt;<i>                 }
</I>&gt;<i>                 return err == null;
</I>&gt;<i>         } else {
</I>&gt;<i>                 iPhoneAddressBook = new ABAddressBook ();
</I>&gt;<i>                 return true;
</I>&gt;<i>         }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Thanks for your help guys.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://monotouch.2284126.n4.nabble.com/iOS-6-ABAddressBook-RequestAccess-example-tp4657314.html">http://monotouch.2284126.n4.nabble.com/iOS-6-ABAddressBook-RequestAccess-example-tp4657314.html</A>
</I>&gt;<i> Sent from the MonoTouch mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> MonoTouch mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">MonoTouch at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/monotouch">http://lists.ximian.com/mailman/listinfo/monotouch</A>
</I>


-- 
Nic Wise
t.  +44 7788 592 806 | @fastchicken | <A HREF="http://www.linkedin.com/in/nicwise">http://www.linkedin.com/in/nicwise</A>
b. <A HREF="http://www.fastchicken.co.nz/">http://www.fastchicken.co.nz/</A>

mobileAgent (for FreeAgent): get your accounts in your pocket.
<A HREF="http://goo.gl/IuBU">http://goo.gl/IuBU</A>
Trip Wallet: Keep track of your budget on the go: <A HREF="http://goo.gl/ePhKa">http://goo.gl/ePhKa</A>
Earnest: Self-employed? Track your business expenses and income.
<A HREF="http://earnestapp.com">http://earnestapp.com</A>
Nearest Bus: find when the next bus is coming to your stop. <A HREF="http://goo.gl/Vcz1p">http://goo.gl/Vcz1p</A>
London Bike App: Find the nearest Boris Bike, and get riding! <A HREF="http://goo.gl/Icp2">http://goo.gl/Icp2</A>
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012056.html">[MonoTouch] iOS 6 ABAddressBook.RequestAccess example
</A></li>
	<LI>Next message: <A HREF="012068.html">[MonoTouch] iOS 6 ABAddressBook.RequestAccess example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12058">[ date ]</a>
              <a href="thread.html#12058">[ thread ]</a>
              <a href="subject.html#12058">[ subject ]</a>
              <a href="author.html#12058">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/monotouch">More information about the MonoTouch
mailing list</a><br>
</body></html>
