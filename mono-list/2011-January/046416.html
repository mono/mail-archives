<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] System.Net.NetworkInformation: network availability
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20System.Net.NetworkInformation%3A%20network%20availability&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046415.html">
   <LINK REL="Next"  HREF="046432.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] System.Net.NetworkInformation: network availability</H1>
    <B>Mattia Vitturi</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20System.Net.NetworkInformation%3A%20network%20availability&In-Reply-To="
       TITLE="[Mono-list] System.Net.NetworkInformation: network availability">m.vitturi at gmail.com
       </A><BR>
    <I>Mon Jan 10 03:34:51 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="046415.html">[Mono-list] Initalize
</A></li>
        <LI>Next message: <A HREF="046432.html">[Mono-list] System.Net.NetworkInformation: network availability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46416">[ date ]</a>
              <a href="thread.html#46416">[ thread ]</a>
              <a href="subject.html#46416">[ subject ]</a>
              <a href="author.html#46416">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello everyone!
Please welcome my first message in  here and forgive my lack of knowledge on
certain stuff.
I'm working on a multi-platform software which is primarily developed on C#
for Windows.
This application needs to recognize if it is working online or offline so on
my Windows side I added this lines of code:

var netState = NetworkInterface.GetIsNetworkAvailable();
NetworkChange.NetworkAvailabilityChanged += OnNetworkAvailabilityChanged;
Console.WriteLine(netState ? &quot;Net is available&quot; : &quot;Net is not available&quot;);   

...where OnNetworkAvailabilityChanged is implemented in this way:

private static void OnNetworkAvailabilityChanged(object sender,
NetworkAvailabilityEventArgs args)
{
	Console.WriteLine(args.IsAvailable ? &quot;Net is available&quot; : &quot;Net is not
available&quot;);
}

but ... well, it doesn't work under Mono, where with the Microsoft .Net
framework runs nicely.
GetIsNetworkAvailable always returns true and no events are thrown when I
plug on or off the cable.

Am I doing something wrong? I tried the same code with Mono 2.6.7 and 2.8.1.
Is there anyone working on implementing this features of
System.Net.NetworkInformation or there aren't plans about them?
Can you suggest me any workaround or library to do what I need?

I'd prefer to avoid pinging some servers cause the number of pings can turn
on a waste of resources between our servers and workstations.

Thank you for your kind attention,
Mat.
-- 
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/System-Net-NetworkInformation-network-availability-tp3206752p3206752.html">http://mono.1490590.n4.nabble.com/System-Net-NetworkInformation-network-availability-tp3206752p3206752.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046415.html">[Mono-list] Initalize
</A></li>
	<LI>Next message: <A HREF="046432.html">[Mono-list] System.Net.NetworkInformation: network availability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46416">[ date ]</a>
              <a href="thread.html#46416">[ thread ]</a>
              <a href="subject.html#46416">[ subject ]</a>
              <a href="author.html#46416">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
