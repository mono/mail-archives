<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] System.Diagnostic.Process and event handlers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20System.Diagnostic.Process%20and%20event%20handlers&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046510.html">
   <LINK REL="Next"  HREF="046516.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] System.Diagnostic.Process and event handlers</H1>
    <B>noda</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20System.Diagnostic.Process%20and%20event%20handlers&In-Reply-To="
       TITLE="[Mono-list] System.Diagnostic.Process and event handlers">www.bgr at free.fr
       </A><BR>
    <I>Sat Jan 29 07:28:28 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="046510.html">[Mono-list] multilingual
</A></li>
        <LI>Next message: <A HREF="046516.html">[Mono-list] System.Diagnostic.Process and event handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46515">[ date ]</a>
              <a href="thread.html#46515">[ thread ]</a>
              <a href="subject.html#46515">[ subject ]</a>
              <a href="author.html#46515">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

I'm trying to port my .net console application on mono, and I'm experiencing
strange problems with external Process running with event handlers.

Here is what I'm doing:
- creating a new System.Diagnostic.Process, to run mencoder with some
specific parameters

- redirecting standard output from this process :
proc.ErrorDataReceived += new
System.Diagnostics.DataReceivedEventHandler(proc_DataReceived);
                proc.OutputDataReceived += new
System.Diagnostics.DataReceivedEventHandler(proc_DataReceived);

- in my proc_DataReceived method, i'm doing some processing to get info and
progress about encoding, and print a new progress info string in the
console.

I'm not creating any threads to do that, as I expect the process to run on
its own, and I just need to process its output via the event handlers.

My program runs perfectly fine on windows, but on OSX using mono, once the
process has started, I received 1 update from the event handler then all the
others after the process has finished. And sometimes, the application get
stuck indefinitely (probably some deadlock between the process and event
handlers?). I'm trying to use the debugger to track the problem, without
success.

If someone has a hint for resolving this problem, I would be more than
grateful.

Thanks by advance.

noda
-- 
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/System-Diagnostic-Process-and-event-handlers-tp3246096p3246096.html">http://mono.1490590.n4.nabble.com/System-Diagnostic-Process-and-event-handlers-tp3246096p3246096.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046510.html">[Mono-list] multilingual
</A></li>
	<LI>Next message: <A HREF="046516.html">[Mono-list] System.Diagnostic.Process and event handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46515">[ date ]</a>
              <a href="thread.html#46515">[ thread ]</a>
              <a href="subject.html#46515">[ subject ]</a>
              <a href="author.html#46515">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
