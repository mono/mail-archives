<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Garbage collection and memory usage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Garbage%20collection%20and%20memory%20usage&In-Reply-To=44340DE9.9050102%40for.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031170.html">
   <LINK REL="Next"  HREF="031174.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Garbage collection and memory usage</H1>
    <B>Joe Shaw</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Garbage%20collection%20and%20memory%20usage&In-Reply-To=44340DE9.9050102%40for.net"
       TITLE="[Mono-list] Garbage collection and memory usage">joeshaw at novell.com
       </A><BR>
    <I>Wed Apr  5 19:30:59 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="031170.html">[Mono-list] Garbage collection and memory usage
</A></li>
        <LI>Next message: <A HREF="031174.html">[Mono-list] Garbage collection and memory usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31173">[ date ]</a>
              <a href="thread.html#31173">[ thread ]</a>
              <a href="subject.html#31173">[ subject ]</a>
              <a href="author.html#31173">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Wed, 2006-04-05 at 14:35 -0400, Joshua Tauberer wrote:
&gt;<i> Gavin Hamill wrote:
</I>&gt;<i> &gt; Having upgraded mono, recompiled
</I>&gt;<i> &gt; xsp+mod_mono and restarted apache, 5 hours later RAM use is at 300M
</I>&gt;<i> &gt; and I fully expect it to climb higher.
</I>&gt;<i> 
</I>&gt;<i> I'm having the exact same problem, though I've been able to deal with it
</I>&gt;<i> by periodically restarting mod-mono-server (typically two or three times
</I>&gt;<i> a day).
</I>&gt;<i> 
</I>&gt;<i> As Paolo reminded me this morning, we need to isolate the problem and
</I>&gt;<i> submit a test case.
</I>
I strongly recommend using Heap Buddy for this.  We've used it very
successfully in identifying problems in Beagle.  Whether it's doing
large, unnecessary allocations (and fragmenting the heap) or doing
allocations that are never collected by the GC (like adding objects to a
static hash table), it can help.

You can get the source from here:
<A HREF="http://blog.trowbridge.org/index.php?p=49">http://blog.trowbridge.org/index.php?p=49</A>

I blogged a bit about using it to identify a big leak in Mono a few
weeks ago:
<A HREF="http://joeshaw.org/2006/03/17/386">http://joeshaw.org/2006/03/17/386</A>

Joe

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031170.html">[Mono-list] Garbage collection and memory usage
</A></li>
	<LI>Next message: <A HREF="031174.html">[Mono-list] Garbage collection and memory usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31173">[ date ]</a>
              <a href="thread.html#31173">[ thread ]</a>
              <a href="subject.html#31173">[ subject ]</a>
              <a href="author.html#31173">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
