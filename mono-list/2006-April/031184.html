<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Garbage collection and memory usage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Garbage%20collection%20and%20memory%20usage&In-Reply-To=20060405154526.756c0825.gdh%40laterooms.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031219.html">
   <LINK REL="Next"  HREF="031188.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Garbage collection and memory usage</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Garbage%20collection%20and%20memory%20usage&In-Reply-To=20060405154526.756c0825.gdh%40laterooms.com"
       TITLE="[Mono-list] Garbage collection and memory usage">miguel at ximian.com
       </A><BR>
    <I>Fri Apr  7 00:37:47 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="031219.html">[Mono-list] Garbage collection and memory usage
</A></li>
        <LI>Next message: <A HREF="031188.html">[Mono-list] Garbage collection and memory usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31184">[ date ]</a>
              <a href="thread.html#31184">[ thread ]</a>
              <a href="subject.html#31184">[ subject ]</a>
              <a href="author.html#31184">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> Assuming this is the case, what on earth can I do to troubleshoot this?
</I>&gt;<i>  Is there something we can do in code to help the GC? I thought the
</I>&gt;<i>  whole point of languages like C# was to get /away/ from awful days of
</I>&gt;<i>  malloc + free'ing memory like in C :(
</I>
Thanks for posting the message, we need a few more data points here.

You mention that the application will go down within twenty minutes.  By
the time it goes down, what is growing out of proportion?   Is it the
Apache process with mod_mono or is it the Mono process that runs
mod-mono-server.exe?

You mentioned that requests were being received, but they were not
getting a reply.  What was the size of Mono then?

Am curious in this particular case if this is a case of Mono leaking
memory or if this is a case of Mono running out of threads to process
responses.

Your initial description sounds like Mono is hanging, not that Mono is
leaking.

This could be caused by a number of reasons: the requests might not be
completing;   You might be using some library that has a threadpool
leak;  You might be starving and deadlocking the threadpool internally.

Miguel.
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031219.html">[Mono-list] Garbage collection and memory usage
</A></li>
	<LI>Next message: <A HREF="031188.html">[Mono-list] Garbage collection and memory usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31184">[ date ]</a>
              <a href="thread.html#31184">[ thread ]</a>
              <a href="subject.html#31184">[ subject ]</a>
              <a href="author.html#31184">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
