<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Win32 API problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006438.html">
   <LINK REL="Next"  HREF="006434.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Win32 API problems
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] Win32 API problems">lupus@ximian.com
       </A><BR>
    <I>Fri, 14 Jun 2002 12:26:31 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="006438.html">[Mono-list] Win32 API problems
</A></li>
        <LI> Next message: <A HREF="006434.html">[Fwd: Re: [Mono-list] couple questions on mcs and parsing]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6441">[ date ]</a>
              <a href="thread.html#6441">[ thread ]</a>
              <a href="subject.html#6441">[ subject ]</a>
              <a href="author.html#6441">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/13/02 Adiraj, Sarat wrote:
&gt;<i> [DllImport(&quot;user32&quot;)]
</I>&gt;<i> public static extern int MessageBoxA(int hWnd, 
</I>&gt;<i> String pText ,
</I>&gt;<i> String pCaption ,
</I>&gt;<i> int uType);
</I>
What is the signature of the MessageBoxA() function in C code?
There may be two issues:
1) we currently marshal strings as utf8 char*. MessageBoxA() for all I
know may want UTF-16 (though I guess the 'A' is for ASCII?).
2) The call convention: we call the P/Invoke function with th cdecl call
convention by default. It may be that MessageBoxA() uses another
convention.

You could try to run the code with the ms runtime and check if it works
there.

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006438.html">[Mono-list] Win32 API problems
</A></li>
	<LI> Next message: <A HREF="006434.html">[Fwd: Re: [Mono-list] couple questions on mcs and parsing]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6441">[ date ]</a>
              <a href="thread.html#6441">[ thread ]</a>
              <a href="subject.html#6441">[ subject ]</a>
              <a href="author.html#6441">[ author ]</a>
         </LI>
       </UL>
</body></html>
