<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] [PATCH] Bug #26974 Struct constructor invocations not typechecking
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:adb%40tardis.ed.ac.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006679.html">
   <LINK REL="Next"  HREF="006653.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] [PATCH] Bug #26974 Struct constructor invocations not typechecking
   </H1>
    <B>Andrew Birkett
    </B> 
    <A HREF="mailto:adb%40tardis.ed.ac.uk"
       TITLE="[Mono-list] [PATCH] Bug #26974 Struct constructor invocations not typechecking">adb@tardis.ed.ac.uk
       </A><BR>
    <I>Wed, 26 Jun 2002 17:19:43 +0100 (BST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="006679.html">[Mono-list] late linking &amp; dynamic invocation ...
</A></li>
        <LI> Next message: <A HREF="006653.html">[Mono-list] [PATCH] Bug #26974 Struct constructor invocations not typechecking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6641">[ date ]</a>
              <a href="thread.html#6641">[ thread ]</a>
              <a href="subject.html#6641">[ subject ]</a>
              <a href="author.html#6641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to <A HREF="mailto:mime@docserver.cac.washington.edu">mime@docserver.cac.washington.edu</A> for more info.

---559023410-851401618-1025108383=:28427
Content-Type: TEXT/PLAIN; charset=US-ASCII

Hi,

I entered this bug into bugzilla yesterday.  This patch should fix it (at
least, I've tested it and it appears to fix it).  I've also added closing
brackets to some comments, since they confused emacs and stopped the &quot;go
to matching brace&quot; stuff working.

I've attached the patch and a new test for mcs/errors.

Andrew

- www.tardis.ed.ac.uk/~adb -

---559023410-851401618-1025108383=:28427
Content-Type: TEXT/PLAIN; charset=US-ASCII; name=patch-struct-ctr
Content-Transfer-Encoding: BASE64
Content-ID: &lt;<A HREF="mailto:Pine.GS4.4.33.0206261719430.28427@omega.tardis.ed.ac.uk">Pine.GS4.4.33.0206261719430.28427@omega.tardis.ed.ac.uk</A>&gt;
Content-Description: Patch for struct contructor invocation
Content-Disposition: attachment; filename=patch-struct-ctr

SW5kZXg6IGVycm9ycy9DaGFuZ2VMb2cNCj09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT0NClJDUyBmaWxlOiAvbW9uby9tY3MvZXJyb3JzL0NoYW5nZUxvZyx2DQpy
ZXRyaWV2aW5nIHJldmlzaW9uIDEuMQ0KZGlmZiAtdSAtcjEuMSBDaGFuZ2VM
b2cNCi0tLSBlcnJvcnMvQ2hhbmdlTG9nCTI1IEp1biAyMDAyIDE5OjIzOjE0
IC0wMDAwCTEuMQ0KKysrIGVycm9ycy9DaGFuZ2VMb2cJMjYgSnVuIDIwMDIg
MTY6MDk6MTEgLTAwMDANCkBAIC0xLDMgKzEsNyBAQA0KKzIwMDItMDYtMjYg
ICAgPGFkYkB0YXJkaXMuZWQuYWMudWs+DQorDQorCSogY3MxNTAxLTMuY3M6
IEFkZGVkIG5ldyB0ZXN0IGZvciBzdHJ1Y3QgY3RyIHR5cGVjaGVja3MuDQor
DQogMjAwMi0wNi0yNCAgQW5kcmV3IEJpcmtldHQgIDxhZGJAdGFyZGlzLmVk
LmFjLnVrPg0KIA0KIAkqIGZhaWw6IGNzMDEyMS5jcywgY3MwMTU3LmNzIGFu
ZCBjczE1MDEuY3Mgbm8gbG9uZ2VyIGZhaWwuICANCkluZGV4OiBtY3MvQ2hh
bmdlTG9nDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL21v
bm8vbWNzL21jcy9DaGFuZ2VMb2csdg0KcmV0cmlldmluZyByZXZpc2lvbiAx
LjUzMA0KZGlmZiAtdSAtcjEuNTMwIENoYW5nZUxvZw0KLS0tIG1jcy9DaGFu
Z2VMb2cJMjUgSnVuIDIwMDIgMTk6MjM6NDggLTAwMDAJMS41MzANCisrKyBt
Y3MvQ2hhbmdlTG9nCTI2IEp1biAyMDAyIDE2OjA5OjEzIC0wMDAwDQpAQCAt
MSwzICsxLDggQEANCisyMDAyLTA2LTI2ICAgIDxhZGJAdGFyZGlzLmVkLmFj
LnVrPg0KKw0KKwkqIGV4cHJlc3Npb24uY3M6IEZpeCB0byBzdHJ1Y3QgY29u
c3RydWN0b3IgbWF0Y2hpbmcuIEFsc28gcGFpcmVkIA0KKwl1cCBicmFjZXMg
aW4gY29tbWVudHMgc28gZW1hY3MgY2FuIGp1bXAgb3ZlciBibG9ja3Mgb2Yg
Y29kZS4NCisNCiAyMDAyLTA2LTI1ICBBbmRyZXcgQmlya2V0dCAgPGFkYkB0
YXJkaXMuZWQuYWMudWs+DQogDQogCSogZHJpdmVyLmNzOiBNYWRlIGVycm9y
IGhhbmRsaW5nIG1vcmUgY29uc2lzdGVudC4gIEVycm9ycyBub3cNCkluZGV4
OiBtY3MvZXhwcmVzc2lvbi5jcw0KPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
UkNTIGZpbGU6IC9tb25vL21jcy9tY3MvZXhwcmVzc2lvbi5jcyx2DQpyZXRy
aWV2aW5nIHJldmlzaW9uIDEuMjgwDQpkaWZmIC11IC1yMS4yODAgZXhwcmVz
c2lvbi5jcw0KLS0tIG1jcy9leHByZXNzaW9uLmNzCTIwIEp1biAyMDAyIDE5
OjEwOjUyIC0wMDAwCTEuMjgwDQorKysgbWNzL2V4cHJlc3Npb24uY3MJMjYg
SnVuIDIwMDIgMTY6MDk6MTQgLTAwMDANCkBAIC0zNzkwLDcgKzM3OTAsNyBA
QA0KIAkJLy8vICAgVGhlIE1ldGhvZEJhc2UgYXJndW1lbnQgbWlnaHQgYmUg
bnVsbCBpZiB0aGUNCiAJCS8vLyAgIGVtaXNzaW9uIG9mIHRoZSBhcmd1bWVu
dHMgaXMga25vd24gbm90IHRvIGNvbnRhaW4NCiAJCS8vLyAgIGEgYHBhcmFt
cycgZmllbGQgKGZvciBleGFtcGxlIGluIGNvbnN0cnVjdG9ycyBvciBvdGhl
ciByb3V0aW5lcw0KLQkJLy8vICAgdGhhdCBrZWVwIHRoZWlyIGFyZ3VtZW50
cyBpbiB0aGlzIHN0cnVjdHVyZQ0KKwkJLy8vICAgdGhhdCBrZWVwIHRoZWly
IGFyZ3VtZW50cyBpbiB0aGlzIHN0cnVjdHVyZSkNCiAJCS8vLyA8L3N1bW1h
cnk+DQogCQlwdWJsaWMgc3RhdGljIHZvaWQgRW1pdEFyZ3VtZW50cyAoRW1p
dENvbnRleHQgZWMsIE1ldGhvZEJhc2UgbWIsIEFycmF5TGlzdCBhcmd1bWVu
dHMpDQogCQl7DQpAQCAtNDA4OCwxMiArNDA4OCwxNCBAQA0KIAkJCQkJCQkJ
ICAgICBBcmd1bWVudHMsIGxvYyk7DQogCQkJCQ0KIAkJCX0NCi0JCQkNCi0J
CQlpZiAobWV0aG9kID09IG51bGwgJiYgIWlzX3N0cnVjdCkgew0KLQkJCQlF
cnJvciAoMTUwMSwgbG9jLA0KLQkJCQkgICAgICAgIk5ldyBpbnZvY2F0aW9u
OiBDYW4gbm90IGZpbmQgYSBjb25zdHJ1Y3RvciBmb3IgIiArDQotCQkJCSAg
ICAgICAidGhpcyBhcmd1bWVudCBsaXN0Iik7DQotCQkJCXJldHVybiBudWxs
Ow0KKw0KKwkJCWlmIChtZXRob2QgPT0gbnVsbCkgeyANCisgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNfc3RydWN0IHx8IEFyZ3Vt
ZW50cy5Db3VudCA+IDApIHsNCisgICAgICAgIAkJCQlFcnJvciAoMTUwMSwg
bG9jLA0KKwkgICAgICAgIAkJCSAgICAgICAiTmV3IGludm9jYXRpb246IENh
biBub3QgZmluZCBhIGNvbnN0cnVjdG9yIGZvciAiICsNCisJCSAgICAgICAg
CQkgICAgICAgInRoaXMgYXJndW1lbnQgbGlzdCIpOw0KKwkJCSAgICAgICAg
CXJldHVybiBudWxsOw0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgfQ0KIAkJCX0NCiAJCQlyZXR1cm4gdGhpczsNCiAJCX0NCkBAIC01MjY3
LDcgKzUyNjksNyBAQA0KIAkJew0KIAkJCS8vDQogCQkJLy8gV2UgYXJlIHRo
ZSBzb2xlIHVzZXJzIG9mIFJlc29sdmVXaXRoU2ltcGxlTmFtZSAoaWUsIHRo
ZSBvbmx5DQotCQkJLy8gb25lcyB0aGF0IGNhbiBjb3BlIHdpdGggaXQNCisJ
CQkvLyBvbmVzIHRoYXQgY2FuIGNvcGUgd2l0aCBpdCkNCiAJCQkvLw0KIAkJ
CUV4cHJlc3Npb24gb3JpZ2luYWwgPSBleHByOw0KIAkJCWV4cHIgPSBleHBy
LlJlc29sdmVXaXRoU2ltcGxlTmFtZSAoZWMpOw0K
---559023410-851401618-1025108383=:28427
Content-Type: TEXT/PLAIN; charset=US-ASCII; name=&quot;cs1501-3.cs&quot;
Content-Transfer-Encoding: BASE64
Content-ID: &lt;<A HREF="mailto:Pine.GS4.4.33.0206261719431.28427@omega.tardis.ed.ac.uk">Pine.GS4.4.33.0206261719431.28427@omega.tardis.ed.ac.uk</A>&gt;
Content-Description: New test for mcs/tests
Content-Disposition: attachment; filename=&quot;cs1501-3.cs&quot;

Ly8gQ1MxNTAxOiBObyBvdmVybG9hZCBmb3IgbWV0aG9kICdYJyB0YWtlcyAn
MicgYXJndW1lbnRzDQ0KcHVibGljIHN0cnVjdCBYIHsNDQogICAgICAgIHB1
YmxpYyBYKGludCBpKSB7IH0NDQogICAgICAgIA0NCiAgICAgICAgcHVibGlj
IHN0YXRpYyB2b2lkIE1haW4oKSB7DQ0KICAgICAgICAgICAgICAgIFggeCA9
IG5ldyBYKCJmb28iLCAiYmFyIik7DQ0KICAgICAgICB9DQ0KfQ0NCg==
---559023410-851401618-1025108383=:28427--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006679.html">[Mono-list] late linking &amp; dynamic invocation ...
</A></li>
	<LI> Next message: <A HREF="006653.html">[Mono-list] [PATCH] Bug #26974 Struct constructor invocations not typechecking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6641">[ date ]</a>
              <a href="thread.html#6641">[ thread ]</a>
              <a href="subject.html#6641">[ subject ]</a>
              <a href="author.html#6641">[ author ]</a>
         </LI>
       </UL>
</body></html>
