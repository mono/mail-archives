<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] bootstrapping System.dll
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006535.html">
   <LINK REL="Next"  HREF="006540.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] bootstrapping System.dll
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] bootstrapping System.dll">lupus@ximian.com
       </A><BR>
    <I>Wed, 19 Jun 2002 17:39:59 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="006535.html">[Mono-list] CSMail - An Announcement
</A></li>
        <LI> Next message: <A HREF="006540.html">[Mono-list] bootstrapping System.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6537">[ date ]</a>
              <a href="thread.html#6537">[ thread ]</a>
              <a href="subject.html#6537">[ subject ]</a>
              <a href="author.html#6537">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>mcs can compile the System assembly on Linux.
I added a list.unix file to cvs in the mcs/class/System dir
that you can use to compile it until we get nant working,
just issue:

	mcs @list.unix

There are still a couple of open issues with the generated binary, but
it seems to work well enough that I changed my csc-compiled System.dll
with it and mcs still bootstraps and I could also compile about 350
test cases.
So, if, you want to contribute to the classes in the System assembly you
can do it now, without the need of the ms runtime.

The issues I found so far are:
1) <A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=26463">http://bugzilla.ximian.com/show_bug.cgi?id=26463</A> (simple mcs bug
in the field flags that has no practical consequences)
2) <A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=26469">http://bugzilla.ximian.com/show_bug.cgi?id=26469</A> (another mcs bug
that will bite you only if you use the regular exception support).
3) there is another issue with the TypeDef metadata table (two rows look
corrupted): this is a reflection bug I'm going to track down, but it
doesn't appear to cause too much trouble.
4) I had to exclude from the build System.ComponentModel/TypeDescriptor.cs:
this is a bootstrap issue because the System assembly references
System.Drawing.ColorConverter and returns it, but since it's defined in
another assembly, it's parent type TypeConverter is different from the
TypeConverter that is being defined in the currently building assembly.
We should change this code so that system doesn't depend on
System.Drawing.

Of course there may be other issues: please compile the System assembly
on Linux, install it and tell us if things break for you! :-)

Happy hacking!

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006535.html">[Mono-list] CSMail - An Announcement
</A></li>
	<LI> Next message: <A HREF="006540.html">[Mono-list] bootstrapping System.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6537">[ date ]</a>
              <a href="thread.html#6537">[ thread ]</a>
              <a href="subject.html#6537">[ subject ]</a>
              <a href="author.html#6537">[ author ]</a>
         </LI>
       </UL>
</body></html>
