<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Specifying assemblies on mcs command line
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jonpryor%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006442.html">
   <LINK REL="Next"  HREF="006452.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Specifying assemblies on mcs command line
   </H1>
    <B>Jonathan Pryor
    </B> 
    <A HREF="mailto:jonpryor%40vt.edu"
       TITLE="[Mono-list] Specifying assemblies on mcs command line">jonpryor@vt.edu
       </A><BR>
    <I>14 Jun 2002 07:17:33 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="006442.html">[Mono-list] Specifying assemblies on mcs command line
</A></li>
        <LI> Next message: <A HREF="006452.html">[Mono-list] Specifying assemblies on mcs command line
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6443">[ date ]</a>
              <a href="thread.html#6443">[ thread ]</a>
              <a href="subject.html#6443">[ subject ]</a>
              <a href="author.html#6443">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Comments Inline.

On Fri, 2002-06-14 at 06:46, Paolo Molaro wrote:
&lt;snip&gt;

    My proposal is to change mcs to not add the dll extension if LoadFrom()
    fails (or at least to add it only if it's not there already). This way
    we could document better the behaviour of the -r and -L options.
    
I disagree, slightly.  On .NET, I have noticed on occasion that a
&quot;Fusion Log&quot; is printed to the console when I attempted to load an
Assembly at runtime and it failed.  The fusion log usually lists both
the name I passed to the Load/LoadFrom method, and my provided name with
&quot;.dll&quot; appended.

I believe that the .NET documentation lists (somewhere) the locations
and names searched for when looking for Assemblies.  Alas, I'm not able
to look up the documentation right now, but if you search for Assembly
Loading (and related), you should find it.

So, I think we need to search for *both* the assembly with the specified
name, plus the assembly file with &quot;.dll&quot; appended.

    -r takes either an assembly name or a filename. If given an assembly
    name, the runtime tries to load the assembly from the runtime-specific
    search paths (default path + MONO_PATH with the mono runtime, dunno what
    the ms runtime uses). If given a filename, mcs tries to load the
    assembly in the current directory and in the directories specified with
    the -L option.

IIRC, `csc' also behaves this way with its `/r' argument.
    
    How does that sound?
    
Sounds good, but we should look up Assembly loading in the .NET
documentation and try to stay compatible with what's documented.

    lupus

    -- 
    -----------------------------------------------------------------
    <A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
    <A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better
    

 - Jon




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006442.html">[Mono-list] Specifying assemblies on mcs command line
</A></li>
	<LI> Next message: <A HREF="006452.html">[Mono-list] Specifying assemblies on mcs command line
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6443">[ date ]</a>
              <a href="thread.html#6443">[ thread ]</a>
              <a href="subject.html#6443">[ subject ]</a>
              <a href="author.html#6443">[ author ]</a>
         </LI>
       </UL>
</body></html>
