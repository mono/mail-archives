<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Error: mcs.exe: cannot execute binary file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006490.html">
   <LINK REL="Next"  HREF="006557.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Error: mcs.exe: cannot execute binary file
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] Error: mcs.exe: cannot execute binary file">lupus@ximian.com
       </A><BR>
    <I>Mon, 17 Jun 2002 19:31:48 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="006490.html">[Mono-list] Error: mcs.exe: cannot execute binary file
</A></li>
        <LI> Next message: <A HREF="006557.html">[Mono-list] Error: mcs.exe: cannot execute binary file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6495">[ date ]</a>
              <a href="thread.html#6495">[ thread ]</a>
              <a href="subject.html#6495">[ subject ]</a>
              <a href="author.html#6495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/16/02 Piers Haken wrote:
&gt;<i> what's the status on building corlib with mono? last time I looked there
</I>&gt;<i> were some pretty tricky problems to work around, has any progress been
</I>&gt;<i> made on this? it's definitely one of the last major barriers to full
</I>&gt;<i> self-hosting.
</I>
The System assembly is basically done, the only blocker seems to be
<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=26223.">http://bugzilla.ximian.com/show_bug.cgi?id=26223.</A>

The status with corlib is this (note: it needs to be compiled with the mono
runtime, since the ms runtime can't handle the issues of compiling
corlib):
<A HREF="mailto:lupus@luna">lupus@luna</A>:/mnt/net/mcs/class/corlib$ mcs --timestamp -o S.dll @list
[05:615] Loading references
[00:018]    References loaded
[00:008] Initializing Core Types
[00:022]    Core Types done
[00:002] Resolving tree
[00:089] Populate tree
[02:252] Emitting code
System/Double.cs(151) error CS0029: Cannot convert implicitly from `int'
to `double+State'
System/String.cs(773) error CS0030: Cannot convert type 'int' to 'uint'
System/String.cs(820) error CS-00-6: Could not find any applicable
function for this argument list
System/Enum.cs(168) error CS0029: Cannot convert implicitly from
`object' to `string'

** (process:21377): WARNING **: unhandled exception
System.InvalidOperationException: &quot;typebuilder: System.Enum&quot;
in &lt;0x000ec&gt; System.Reflection.Emit.TypeBuilder:get_UnderlyingSystemType ()
in &lt;0x0001c&gt; Mono.CSharp.TypeManager:EnumToUnderlying (System.Type)
[...]

I could not isolate the the first 4 errors: the first seems related to
a mismatch between what the compiler considers the int type and the type
of the enum. The others may be similar issues with the types returned by
the runtime library and the internal types of the compiler.
The exception is weird: mcs should not try to get the underlying type of
System.Enum, since it's not an enumeration.

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006490.html">[Mono-list] Error: mcs.exe: cannot execute binary file
</A></li>
	<LI> Next message: <A HREF="006557.html">[Mono-list] Error: mcs.exe: cannot execute binary file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6495">[ date ]</a>
              <a href="thread.html#6495">[ thread ]</a>
              <a href="subject.html#6495">[ subject ]</a>
              <a href="author.html#6495">[ author ]</a>
         </LI>
       </UL>
</body></html>
