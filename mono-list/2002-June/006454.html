<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] PATCH: Unary.ResolveOperator
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:hestilow%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006521.html">
   <LINK REL="Next"  HREF="006460.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] PATCH: Unary.ResolveOperator
   </H1>
    <B>Rachel Hestilow
    </B> 
    <A HREF="mailto:hestilow%40ximian.com"
       TITLE="[Mono-list] PATCH: Unary.ResolveOperator">hestilow@ximian.com
       </A><BR>
    <I>14 Jun 2002 23:58:16 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="006521.html">[Mono-list] DllImport ... help
</A></li>
        <LI> Next message: <A HREF="006460.html">[Mono-list] PATCH: Unary.ResolveOperator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6454">[ date ]</a>
              <a href="thread.html#6454">[ thread ]</a>
              <a href="subject.html#6454">[ subject ]</a>
              <a href="author.html#6454">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-BSKQ2NyQEyc3wo1VrVID
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Unary contains old type lookup code instead of using TypeManager; this
breaks the Gtk# build. May I commit?



--=-BSKQ2NyQEyc3wo1VrVID
Content-Disposition: inline; filename=expr.diff
Content-Transfer-Encoding: quoted-printable
Content-Type: text/x-patch; name=expr.diff; charset=ISO-8859-1

Index: ChangeLog
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
RCS file: /cvs/public/mcs/mcs/ChangeLog,v
retrieving revision 1.509
diff -u -r1.509 ChangeLog
--- ChangeLog	13 Jun 2002 13:09:18 -0000	1.509
+++ ChangeLog	15 Jun 2002 01:12:12 -0000
@@ -1,3 +1,8 @@
+2002-06-14  Rachel Hestilow  &lt;<A HREF="mailto:hestilow@ximian.com">hestilow@ximian.com</A>&gt;
+
+	* expression.cs (Unary.ResolveOperator): Use TypeManager
+	to resolve the type.
+=09
 2002-06-13  Ravi Pratap  &lt;<A HREF="mailto:ravi@ximian.com">ravi@ximian.com</A>&gt;
=20
 	* cs-parser.jay (enum_member_declaration): Pass in the attributes
Index: expression.cs
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
RCS file: /cvs/public/mcs/mcs/expression.cs,v
retrieving revision 1.276
diff -u -r1.276 expression.cs
--- expression.cs	13 Jun 2002 00:16:03 -0000	1.276
+++ expression.cs	15 Jun 2002 01:12:16 -0000
@@ -428,15 +428,8 @@
 					return null;
 				}
 			=09
-				//
-				// This construct is needed because dynamic types
-				// are not known by Type.GetType, so we have to try then to use
-				// ModuleBuilder.GetType.
-				//
 				string ptr_type_name =3D Expr.Type.FullName + &quot;*&quot;;
-				type =3D Type.GetType (ptr_type_name);
-				if (type =3D=3D null)
-					type =3D CodeGen.ModuleBuilder.GetType (ptr_type_name);
+				type =3D TypeManager.LookupType (ptr_type_name);
 			=09
 				return this;
 			}

--=-BSKQ2NyQEyc3wo1VrVID--



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006521.html">[Mono-list] DllImport ... help
</A></li>
	<LI> Next message: <A HREF="006460.html">[Mono-list] PATCH: Unary.ResolveOperator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6454">[ date ]</a>
              <a href="thread.html#6454">[ thread ]</a>
              <a href="subject.html#6454">[ subject ]</a>
              <a href="author.html#6454">[ author ]</a>
         </LI>
       </UL>
</body></html>
