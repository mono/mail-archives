<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Re: Java VM for .NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006568.html">
   <LINK REL="Next"  HREF="006617.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Re: Java VM for .NET
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] Re: Java VM for .NET">lupus@ximian.com
       </A><BR>
    <I>Fri, 21 Jun 2002 18:30:47 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="006568.html">[Mono-list] Re: Java VM for .NET
</A></li>
        <LI> Next message: <A HREF="006617.html">[Mono-list] Re: Java VM for .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6571">[ date ]</a>
              <a href="thread.html#6571">[ thread ]</a>
              <a href="subject.html#6571">[ subject ]</a>
              <a href="author.html#6571">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/21/02 Jeroen Frijters wrote:
&gt;<i> (process:3972): ** WARNING **: unhandled exception
</I>&gt;<i> System.NotImplementedException: &quot;The requested feature is not yet
</I>&gt;<i> implemented&quot;
</I>&gt;<i> in &lt;0x00032&gt; System.Reflection.Emit.TypeBuilder:GetMethodImpl
</I>&gt;<i> (string,System.Reflection.BindingFlags,System.Reflection.Binder,System.R
</I>&gt;<i> eflection.CallingConventions,System.Type[],System.Reflection.ParameterMo
</I>&gt;<i> difier[])
</I>&gt;<i> in &lt;0x0006a&gt; System.Type:GetMethod (string)
</I>&gt;<i> in &lt;0x002d4&gt; .Test:Main ()
</I>&gt;<i> 
</I>&gt;<i> RESULT: -1
</I>&gt;<i> 
</I>&gt;<i> I haven't yet submitted a bug, should this go under runtime or BCL?
</I>
This is a runtime bug: we still don't support the use of a on the fly generated
assembly, i.e. you need to first save the assembly to disk
and then load it.
The CreateType() call still returns the TypeBuilder and not a
fully-built and runnable type (and GetMethodImpl() doesn't work on
TypeBuilders, but I guess that may happen with the ms runtime, too).

And, no, it won't be an easy bug to fix: you're creating a type
and a method of this type references a type that has not been created,
and we currently 'fix' the token of a method only when the type that
owns it is created (because the method indexes need to be in sequence
for each type).
I need to think more about it.
...
Probably we'll need to use a special token type, like DynamicMethodDef
(and borrow an unused table number for it) so that the the token can't
change under us. That should work. Proposals and suggestions are
welcome, of course.

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006568.html">[Mono-list] Re: Java VM for .NET
</A></li>
	<LI> Next message: <A HREF="006617.html">[Mono-list] Re: Java VM for .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6571">[ date ]</a>
              <a href="thread.html#6571">[ thread ]</a>
              <a href="subject.html#6571">[ subject ]</a>
              <a href="author.html#6571">[ author ]</a>
         </LI>
       </UL>
</body></html>
