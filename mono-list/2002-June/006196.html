<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] [PATCH] kill warnings part 1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006191.html">
   <LINK REL="Next"  HREF="006212.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] [PATCH] kill warnings part 1
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] [PATCH] kill warnings part 1">lupus@ximian.com
       </A><BR>
    <I>Sat, 1 Jun 2002 15:19:56 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="006191.html">[Mono-list] [PATCH] kill warnings part 1
</A></li>
        <LI> Next message: <A HREF="006212.html">[Mono-list] [PATCH] kill warnings part 1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6196">[ date ]</a>
              <a href="thread.html#6196">[ thread ]</a>
              <a href="subject.html#6196">[ subject ]</a>
              <a href="author.html#6196">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/01/02 Dennis Haney wrote:
&gt;<i> I've made a small patch to make most of the mono/mono subdir compile
</I>&gt;<i> without warnings. Please verify that I've not introduced some strange
</I>&gt;<i> error. Particularly in the assembly code (a change which actually
</I>&gt;<i> makes it compile in gcc-3.1).
</I>
Well, it seems the build breaker was the atomic.h bits.
Anyway, I applied some of your fixes.
The assembly code changes are wrong and have not been applied
(I fixed the warnings though). An AssemblyName is not the same thing as
the assembly name: it contains also the info on version, culture etc.
You can't just ignore all the info and use only the bare string name.

&gt;<i> Index: metadata/appdomain.h
</I>&gt;<i> ===================================================================
</I>&gt;<i> RCS file: /mono/mono/mono/metadata/appdomain.h,v
</I>&gt;<i> retrieving revision 1.18
</I>&gt;<i> diff -u -b -B -r1.18 appdomain.h
</I>&gt;<i> --- metadata/appdomain.h	23 May 2002 07:44:00 -0000	1.18
</I>&gt;<i> +++ metadata/appdomain.h	1 Jun 2002 00:03:32 -0000
</I>&gt;<i> @@ -65,7 +65,7 @@
</I>&gt;<i>  	GHashTable         *env;
</I>&gt;<i>  	GHashTable         *assemblies;
</I>&gt;<i>  	MonoAppDomainSetup *setup;
</I>&gt;<i> -	char*              *friendly_name;
</I>&gt;<i> +	char               *friendly_name;
</I>
Thanks for catching this one!

&gt;<i> --- metadata/metadata.c	31 May 2002 09:50:46 -0000	1.83
</I>&gt;<i> +++ metadata/metadata.c	1 Jun 2002 00:03:33 -0000
</I>&gt;<i> @@ -2182,19 +2182,21 @@
</I>&gt;<i>   * Computes an hash value for @t1 to be used in GHashTable.
</I>&gt;<i>   */
</I>&gt;<i>  guint
</I>&gt;<i> -mono_metadata_type_hash (MonoType *t1)
</I>&gt;<i> +//mono_metadata_type_hash (const MonoType *t1)
</I>&gt;<i> +mono_metadata_type_hash (gconstpointer t1)
</I>
I prefer keeping the current prototype for type safety and
adding a cast when the function is used in the hash table creation.

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006191.html">[Mono-list] [PATCH] kill warnings part 1
</A></li>
	<LI> Next message: <A HREF="006212.html">[Mono-list] [PATCH] kill warnings part 1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6196">[ date ]</a>
              <a href="thread.html#6196">[ thread ]</a>
              <a href="subject.html#6196">[ subject ]</a>
              <a href="author.html#6196">[ author ]</a>
         </LI>
       </UL>
</body></html>
