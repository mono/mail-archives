<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Cannot find assembly `nunit.framework.dll'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Cannot%20find%20assembly%20%60nunit.framework.dll%27&In-Reply-To=233e11330606070820k6886ec15xf648f6ddf0f966ec%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031853.html">
   <LINK REL="Next"  HREF="031860.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Cannot find assembly `nunit.framework.dll'</H1>
    <B>A Rafael D Teixeira</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Cannot%20find%20assembly%20%60nunit.framework.dll%27&In-Reply-To=233e11330606070820k6886ec15xf648f6ddf0f966ec%40mail.gmail.com"
       TITLE="[Mono-list] Cannot find assembly `nunit.framework.dll'">rafael.teixeirabr at terra.com.br
       </A><BR>
    <I>Wed Jun  7 13:03:14 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="031853.html">[Mono-list] Cannot find assembly `nunit.framework.dll'
</A></li>
        <LI>Next message: <A HREF="031860.html">[Mono-list] DotNetFirebird Ultimate Appliance released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31854">[ date ]</a>
              <a href="thread.html#31854">[ thread ]</a>
              <a href="subject.html#31854">[ subject ]</a>
              <a href="author.html#31854">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Professor Boykin, comments inlined

On Wed, 2006-06-07 at 11:20 -0400, P. Oscar Boykin wrote:
&gt;<i> I am running Debian unstable with libnunit2.2.6-cil and mono 1.1.13.6.
</I>&gt;<i> 
</I>&gt;<i> I have nunit.framework.dll installed:
</I>&gt;<i> 
</I>&gt;<i> -rw-r--r-- 1 root root 29184 Apr 30
</I>&gt;<i> 13:44 /usr/lib/mono/gac/nunit.framework/2.2.8.0__96d09a1eb7f44a77/nunit.framework.dll 
</I>&gt;<i> 
</I>&gt;<i> The GAC seems to know about it:
</I>&gt;<i> 
</I>&gt;<i> gacutil -l | grep nunit
</I>&gt;<i> nunit.core, Version=2.2.8.0, Culture=neutral,
</I>&gt;<i> PublicKeyToken=96d09a1eb7f44a77
</I>&gt;<i> nunit.framework, Version=2.2.8.0, Culture=neutral,
</I>&gt;<i> PublicKeyToken=96d09a1eb7f44a77
</I>&gt;<i> nunit.util, Version=2.2.8.0, Culture=neutral,
</I>&gt;<i> PublicKeyToken=96d09a1eb7f44a77
</I>&gt;<i> 
</I>&gt;<i> But when I try to compile a program using &quot;-r: nunit.framework.dll&quot; it
</I>&gt;<i> does not work:
</I>&gt;<i> 
</I>&gt;<i> ===
</I>&gt;<i> mcs -t:library *.cs -out:testout.dll -define:BRUNET_NUNIT -
</I>&gt;<i> r:nunit.framework.dll
</I>&gt;<i> error CS0006: Cannot find assembly `nunit.framework.dll'
</I>&gt;<i> Log:
</I>&gt;<i> 
</I>&gt;<i> Compilation failed: 1 error(s), 0 warnings 
</I>&gt;<i> ===
</I>&gt;<i> If I by-pass the GAC, it works:
</I>&gt;<i> 
</I>&gt;<i> ===
</I>&gt;<i> mcs -t:library *.cs -out:pob_test.dll -define:BRUNET_NUNIT -
</I>&gt;<i> r:/usr/lib/mono/gac/nunit.framework/2.2.8.0__96d09a1eb7f44a77/nunit.framework.dll
</I>&gt;<i> ConnectToMessage.cs (294,24): warning CS0219: The variable `ctm3a' is
</I>&gt;<i> assigned but its value is never used
</I>&gt;<i> ConnectionTable.cs(1121,26): warning CS0168: The variable `c' is
</I>&gt;<i> declared but never used
</I>&gt;<i> ConnectionTable.cs(1128,26): warning CS0168: The variable `c' is
</I>&gt;<i> declared but never used 
</I>&gt;<i> ConnectionTable.cs(1134,26): warning CS0168: The variable `c' is
</I>&gt;<i> declared but never used
</I>&gt;<i> Compilation succeeded - 4 warning(s)
</I>&gt;<i> ===
</I>&gt;<i> 
</I>&gt;<i> Am I misunderstanding the role of the GAC?  
</I>
Surely yes. The GAC is a runtime-only repository for common managed
dlls.

&gt;<i> Shouldn't I be able to do -r: to reference assemblies there? 
</I>
No, you can't do that in .NET, and you can't do that (without that
hacked full GAC path). 

In VS.NET, for instance, when someone adds a &quot;reference&quot; to a library,
it has to navigate to an instance of its dll (not needed for the core
framework libs that IDE knows where to find), and the IDE copies the dll
to your project folder so that during compilation it can use that copy.
It boils down to an enforced policy to guarantee versioning, so that
side-by-side installation of multiple versions of the referenced library
is possible because they coexist peacefully.
&gt;<i> 
</I>&gt;<i> Am I doing something incorrectly?
</I>
You need to have the original non-GACed dll somewhere you can point to
in the command line, or where the compiler automatically looks for it:
in the current dir or in the dir that contains the compiler and core
framework libraries.

Nunit libs, when correctly installed, are normally copied to where mono
core libs live and then GACed. (Our GAC implementation moves it to its
own directories and leave a symbolic link in the original place, except
on Windows that lacks symlinks, where I believe a copy is made instead
of a move).

If the Nunit package (I'm thinking about the one Mono packages) was
installed to a different prefix than Mono, the libs can't be
automatically found by the compiler, and a full path (not the GAC one)
must be given in the compiler command line or the libs need to be copied
to the directory where the compilation is taking place.

:<i>)
</I>
&gt;<i> -- 
</I>&gt;<i> P. Oscar Boykin                            <A HREF="http://boykin.acis.ufl.edu">http://boykin.acis.ufl.edu</A>
</I>&gt;<i> Assistant Professor, Department of Electrical and Computer
</I>&gt;<i> Engineering 
</I>&gt;<i> University of Florida 
</I>
Hope it helps,

-- 
Rafael &quot;Monoman&quot; Teixeira 
Mono Hacker since 16 Jul 2001 - <A HREF="http://www.mono-project.com/">http://www.mono-project.com/</A>
Mono Brasil Founding Member - <A HREF="http://monobrasil.softwarelivre.org/">http://monobrasil.softwarelivre.org/</A>
Simios Proud Member - <A HREF="http://www.simios.org/">http://www.simios.org/</A> 
English Blog: <A HREF="http://thespoke.net/blogs/monoman/default.aspx">http://thespoke.net/blogs/monoman/default.aspx</A>
Brazilian Portuguese Blog: <A HREF="http://www.simios.org/blog/monoman">http://www.simios.org/blog/monoman</A>

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031853.html">[Mono-list] Cannot find assembly `nunit.framework.dll'
</A></li>
	<LI>Next message: <A HREF="031860.html">[Mono-list] DotNetFirebird Ultimate Appliance released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31854">[ date ]</a>
              <a href="thread.html#31854">[ thread ]</a>
              <a href="subject.html#31854">[ subject ]</a>
              <a href="author.html#31854">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
