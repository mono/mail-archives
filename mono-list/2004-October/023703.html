<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Array benchmark
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="023670.html">
   <LINK REL="Next"  HREF="023671.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Array benchmark
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] Array benchmark">lupus@ximian.com
       </A><BR>
    <I>Mon, 11 Oct 2004 17:38:26 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="023670.html">[Mono-list] Array benchmark
</A></li>
        <LI> Next message: <A HREF="023671.html">[Mono-list] VB?  Or just C#?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23703">[ date ]</a>
              <a href="thread.html#23703">[ thread ]</a>
              <a href="subject.html#23703">[ subject ]</a>
              <a href="author.html#23703">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/09/04 Sijmen Mulder wrote:
&gt;<i> With all methods with all resolutions, Mono -is- slowest. Until..
</I>&gt;<i> maximum optimalization is used. Then the Mono results are about 5
</I>&gt;<i> times as good as with Microsoft.NET. Another weird thing is that
</I>&gt;<i> normally, method 1 is way faster, but when Mono is used with maximum
</I>&gt;<i> optimalization, method 2 is faster. And when the version with a
</I>&gt;<i> resolution of a power of two is ran, both method 2 and 3 are faster.
</I>&gt;<i> Just take a look at the pdf :)
</I>&gt;<i> 
</I>&gt;<i> Could someone explain this odd behaviour? And why the speed difference
</I>&gt;<i> between non-optimized and optimized mono is so big? And why such
</I>&gt;<i> optimalization is not used by default?
</I>
-O=all also enables dead code elimination. It currently is very aggressive,
so, since your benchmark does nothing useful, it figures it can eliminate 
most of the content of the loops. If you change your program to do something
that seems useful, like storing temp in a static field, you'll get
results closer to what you'd expect.
The optimization is not enabled by default since it makes for higher 
jit times and it has not been fully tested.

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="023670.html">[Mono-list] Array benchmark
</A></li>
	<LI> Next message: <A HREF="023671.html">[Mono-list] VB?  Or just C#?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23703">[ date ]</a>
              <a href="thread.html#23703">[ thread ]</a>
              <a href="subject.html#23703">[ subject ]</a>
              <a href="author.html#23703">[ author ]</a>
         </LI>
       </UL>
</body></html>
