<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Windows to Linux Remoting problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zbigniewb%40hotmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="023781.html">
   <LINK REL="Next"  HREF="023700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Windows to Linux Remoting problem
   </H1>
    <B>Zbigniew Babiej
    </B> 
    <A HREF="mailto:zbigniewb%40hotmail.com"
       TITLE="[Mono-list] Windows to Linux Remoting problem">zbigniewb@hotmail.com
       </A><BR>
    <I>Mon, 11 Oct 2004 11:23:37 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="023781.html">[Mono-list] Re: [Mono-devel-list] Presentation for Microsoft Belgium about Mono
</A></li>
        <LI> Next message: <A HREF="023700.html">[Mono-list] C#/C/OpenGL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23721">[ date ]</a>
              <a href="thread.html#23721">[ thread ]</a>
              <a href="subject.html#23721">[ subject ]</a>
              <a href="author.html#23721">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Robert,

As per your suggestion, I run the network traffic analyzer and discovered 
that there were some
problems with the DNS on that linux box. After correcting the settings it 
works OK now.
Thank you for your input. I should haved taken that error message literally, 
but as I new
that the compatibility between windows and linux was not guaranteed, I 
thought
this error was just a manifest of that incompatibility.

Thank you all for the help,

ZiBi


&gt;<i>From: &quot;Robert Remen&quot; &lt;<A HREF="mailto:Robert.Remen@nextranet.at">Robert.Remen@nextranet.at</A>&gt;
</I>&gt;<i>To: &quot;Zbigniew Babiej&quot; &lt;<A HREF="mailto:zbigniewb@hotmail.com">zbigniewb@hotmail.com</A>&gt;
</I>&gt;<i>CC: &lt;<A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>&gt;
</I>&gt;<i>Subject: RE: [Mono-list] Windows to Linux Remoting problem
</I>&gt;<i>Date: Fri, 8 Oct 2004 10:39:06 +0200
</I>&gt;<i>
</I>&gt;<i>Hi!
</I>&gt;<i>
</I>&gt;<i>This seems to be an DNS-resolving issue. You provided no source code so
</I>&gt;<i>i can only guess. When the runtime is marshaling object into another
</I>&gt;<i>appdomain (from server to client), it creates an ObjRef class wich
</I>&gt;<i>contains all relevant info to create a proxy (on client) for the
</I>&gt;<i>marshaled object in the another appdomain. Inside this info is also an
</I>&gt;<i>uri wich is used when invokig methods on the marshaled object. The
</I>&gt;<i>problem ist, that this uri is generated on the server. The server uses
</I>&gt;<i>ist hostname to create this uri. If the hostname can not be roselved on
</I>&gt;<i>the client machine, then you get an exception when you try to invoke a
</I>&gt;<i>method on the mashaled object.
</I>&gt;<i>
</I>&gt;<i>Example:
</I>&gt;<i>
</I>&gt;<i>Client calls new MXSRemoteQuote.QuoteProviderController(...) (the
</I>&gt;<i>remoting knows that this is a client activated type, so it sends a
</I>&gt;<i>request to the url from your client config file)
</I>&gt;<i>Server creates an instance of MXSRemoteQuote.QuoteProviderController,
</I>&gt;<i>generates an ObjRef for it (with unique uri for the marshaled instance,
</I>&gt;<i>part of this uri ist the hostname eg &quot;server-xyz&quot;) and send is as
</I>&gt;<i>response to the client
</I>&gt;<i>Client creates a proxy object from the ObjRef received from the server
</I>&gt;<i>Client tryes to invoke a method on the proxy class, wich causes the
</I>&gt;<i>remoting to try to send a request to the server, but this fails, because
</I>&gt;<i>the hostname part of the uri (&quot;server-xyz&quot;) can not be resolved on the
</I>&gt;<i>client
</I>&gt;<i>
</I>&gt;<i>I hope this helps you to resolve your problem
</I>&gt;<i>
</I>&gt;<i>Robert
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>-----Original Message-----
</I>&gt;<i>From: <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>
</I>&gt;<i>[mailto:<A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>] On Behalf Of Zbigniew Babiej
</I>&gt;<i>Sent: Donnerstag, 07. Oktober 2004 15:53
</I>&gt;<i>To: <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
</I>&gt;<i>Subject: [Mono-list] Windows to Linux Remoting problem
</I>&gt;<i>
</I>&gt;<i>Hello All,
</I>&gt;<i>I was wondering if anyone had encountered the following problem.
</I>&gt;<i>I have a simple remoting test program (binaries compiled with MS .NET C#
</I>&gt;<i>(VS
</I>&gt;<i>2003 ver. 7.1.3088 .NET Runtime 1.1.4322 SP1).
</I>&gt;<i>This works OK in the scenarios Windows -&gt; Windows(both local and remote
</I>&gt;<i>server) and Linux -&gt; Linux (local server only, did not test remote
</I>&gt;<i>server), but does not work in the scenarions Windows-&gt;Linux and
</I>&gt;<i>Linux-&gt;Windows.
</I>&gt;<i>
</I>&gt;<i>In the scenario Windows-&gt;Linux, the client throws the following
</I>&gt;<i>exception when trying to activate the first object:
</I>&gt;<i>
</I>&gt;<i>A) When hosted by Mono (ver. 1.0.2):
</I>&gt;<i>
</I>&gt;<i>Unhandled Exception: System.Runtime.Remoting.RemotingException: No such
</I>&gt;<i>host is known Server stack trace:
</I>&gt;<i>in &lt;0x000c4&gt;
</I>&gt;<i>System.Runtime.Remoting.Channels.Tcp.HostConnectionPool:CreateConnection
</I>&gt;<i>() in &lt;0x00112&gt;
</I>&gt;<i>System.Runtime.Remoting.Channels.Tcp.HostConnectionPool:GetConnection ()
</I>&gt;<i>in &lt;0x00105&gt;
</I>&gt;<i>System.Runtime.Remoting.Channels.Tcp.TcpConnectionPool:GetConnection
</I>&gt;<i>(string,int)
</I>&gt;<i>in &lt;0x00146&gt;
</I>&gt;<i>System.Runtime.Remoting.Channels.Tcp.TcpClientTransportSink:Process
</I>&gt;<i>Message
</I>&gt;<i>(System.Runtime.Remoting.Messaging.IMessage,System.Runtime.Remoting.Chan
</I>&gt;<i>nels.ITransportHeaders,System.IO.Stream,System.Runtime.Remoting.Channels
</I>&gt;<i>.ITransportHeaders&amp;,System.IO.Stream&amp;)
</I>&gt;<i>in &lt;0x002bc&gt;
</I>&gt;<i>System.Runtime.Remoting.Channels.BinaryClientFormatterSink:SyncProcessMe
</I>&gt;<i>ssage
</I>&gt;<i>(System.Runtime.Remoting.Messaging.IMessage)
</I>&gt;<i>
</I>&gt;<i>Exception rethrown at [0]:
</I>&gt;<i>
</I>&gt;<i>in &lt;0x00583&gt; System.Runtime.Remoting.Proxies.RealProxy:PrivateInvoke
</I>&gt;<i>(System.Runtime.Remoting.Proxies.RealProxy,System.Runtime.Remoting.Messa
</I>&gt;<i>ging.IMessage,System.Exception&amp;,object[]&amp;)
</I>&gt;<i>
</I>&gt;<i>B) When hosted by .NET
</I>&gt;<i>Error: The requested name is valid and was found in the database, but it
</I>&gt;<i>does not have the correct associated data being resolved for
</I>&gt;<i>Source: mscorlib
</I>&gt;<i>Stack:
</I>&gt;<i>Server stack trace:
</I>&gt;<i>    at System.Net.Dns.GetHostByName(String hostName)
</I>&gt;<i>    at System.Net.Dns.Resolve(String hostName)
</I>&gt;<i>    at
</I>&gt;<i>System.Runtime.Remoting.Channels.RemoteConnection..ctor(SocketCache
</I>&gt;<i>socketCache, String machineAndPort)
</I>&gt;<i>    at System.Runtime.Remoting.Channels.SocketCache.GetSocket(String
</I>&gt;<i>machineAndPort)
</I>&gt;<i>    at
</I>&gt;<i>System.Runtime.Remoting.Channels.Tcp.TcpClientTransportSink.SendRequestW
</I>&gt;<i>it
</I>&gt;<i>hRetry(IMessage msg, ITransportHeaders requestHeaders, Stream
</I>&gt;<i>requestStream)
</I>&gt;<i>    at
</I>&gt;<i>System.Runtime.Remoting.Channels.Tcp.TcpClientTransportSink.ProcessMessa
</I>&gt;<i>ge
</I>&gt;<i>(IMessage msg, ITransportHeaders requestHeaders, Stream requestStream,
</I>&gt;<i>ITransportHeaders&amp; responseHeaders, Stream&amp; responseStream)
</I>&gt;<i>    at
</I>&gt;<i>System.Runtime.Remoting.Channels.BinaryClientFormatterSink.SyncProcessMe
</I>&gt;<i>ssage(IMessage
</I>&gt;<i>msg)
</I>&gt;<i>
</I>&gt;<i>Exception rethrown at [0]:
</I>&gt;<i>    at
</I>&gt;<i>System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage
</I>&gt;<i>reqMsg, IMessage retMsg)
</I>&gt;<i>    at
</I>&gt;<i>System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData&amp;
</I>&gt;<i>msgData, Int32 type)
</I>&gt;<i>    at MXSRemoteQuote.QuoteProvider.AddQuoteListener(IQuoteListener
</I>&gt;<i>listener)
</I>&gt;<i>    at MXSRemoteClient.RemoteClient.Run()
</I>&gt;<i>Inner:
</I>&gt;<i>
</I>&gt;<i>In the scenario Linux-&gt;Windows , the same errors are reported, but this
</I>&gt;<i>time by the server.
</I>&gt;<i>
</I>&gt;<i>The windows version is Win2K SP4 and the linux is Fedora Core 2. Both
</I>&gt;<i>machines are in the same lan (switch).
</I>&gt;<i>I tested both IP and hostname, but no success.
</I>&gt;<i>I run other services(like ftp, samba etc.) on that Linux box and can
</I>&gt;<i>access them from Windows clients using both IP and hostname without any
</I>&gt;<i>problems.
</I>&gt;<i>
</I>&gt;<i>Would you have any hints about how resolve this issue ?
</I>&gt;<i>The sample binaries can be downloaded from the following link:
</I>&gt;<i><A HREF="http://members.chello.nl/z.babiej/MXSRemote.zip">http://members.chello.nl/z.babiej/MXSRemote.zip</A>
</I>&gt;<i>
</I>&gt;<i>Thank you in advance for your help.
</I>&gt;<i>
</I>&gt;<i>Zbigniew Babiej, MarketXS.COM
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Here is the server side .config:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>&lt;configuration&gt;
</I>&gt;<i>    &lt;system.runtime.remoting&gt;
</I>&gt;<i>       &lt;application&gt;
</I>&gt;<i>          &lt;service&gt;
</I>&gt;<i>            &lt;activated
</I>&gt;<i>              type=&quot;MXSRemoteQuote.QuoteProviderController,
</I>&gt;<i>MXSRemoteQuote&quot;
</I>&gt;<i>            /&gt;
</I>&gt;<i>           &lt;activated
</I>&gt;<i>              type=&quot;MXSRemoteQuote.QuoteProvider, MXSRemoteQuote&quot;
</I>&gt;<i>            /&gt;
</I>&gt;<i>          &lt;/service&gt;
</I>&gt;<i>          &lt;channels&gt;
</I>&gt;<i>              &lt;channel ref=&quot;tcp&quot; port=&quot;8787&quot;&gt;
</I>&gt;<i>                  &lt;serverProviders&gt;
</I>&gt;<i>                      &lt;formatter ref=&quot;binary&quot; typeFilterLevel=&quot;Full&quot; /&gt;
</I>&gt;<i>                   &lt;/serverProviders&gt;
</I>&gt;<i>                  &lt;clientProviders&gt;
</I>&gt;<i>                      &lt;formatter ref=&quot;binary&quot; /&gt;
</I>&gt;<i>                  &lt;/clientProviders&gt;
</I>&gt;<i>               &lt;/channel&gt;
</I>&gt;<i>          &lt;/channels&gt;
</I>&gt;<i>       &lt;/application&gt;
</I>&gt;<i>    &lt;/system.runtime.remoting&gt;
</I>&gt;<i>&lt;/configuration&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>... and the client side .config:
</I>&gt;<i>
</I>&gt;<i>&lt;configuration&gt;
</I>&gt;<i>   &lt;system.runtime.remoting&gt;
</I>&gt;<i>     &lt;application name=&quot;MXSRemoteTerminal&quot;&gt;
</I>&gt;<i>        &lt;channels&gt;
</I>&gt;<i>           &lt;channel ref=&quot;tcp&quot; port=&quot;0&quot;&gt;
</I>&gt;<i>              &lt;clientProviders&gt;
</I>&gt;<i>                 &lt;formatter ref=&quot;binary&quot; /&gt;
</I>&gt;<i>              &lt;/clientProviders&gt;
</I>&gt;<i>              &lt;serverProviders&gt;
</I>&gt;<i>                 &lt;formatter ref=&quot;binary&quot; typeFilterLevel=&quot;Full&quot; /&gt;
</I>&gt;<i>              &lt;/serverProviders&gt;
</I>&gt;<i>           &lt;/channel&gt;
</I>&gt;<i>        &lt;/channels&gt;
</I>&gt;<i>        &lt;client url=&quot;<A HREF="tcp://10.1.3.13:8787"">tcp://10.1.3.13:8787&quot;</A>&gt;
</I>&gt;<i>          &lt;activated type=&quot;MXSRemoteQuote.QuoteProviderController,
</I>&gt;<i>MXSRemoteQuote&quot; /&gt;
</I>&gt;<i>          &lt;activated type=&quot;MXSRemoteQuote.QuoteProvider, MXSRemoteQuote&quot;
</I>&gt;<i>/&gt;
</I>&gt;<i>       &lt;/client&gt;
</I>&gt;<i>     &lt;/application&gt;
</I>&gt;<i>   &lt;/system.runtime.remoting&gt;
</I>&gt;<i>&lt;/configuration&gt;
</I>&gt;<i>
</I>&gt;<i>_________________________________________________________________
</I>&gt;<i>Tired of spam? Get advanced junk mail protection with MSN 8.
</I>&gt;<i><A HREF="http://join.msn.com/?page=features/junkmail">http://join.msn.com/?page=features/junkmail</A>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>
_________________________________________________________________
Help STOP SPAM with the new MSN 8 and get 2 months FREE*  
<A HREF="http://join.msn.com/?page=features/junkmail">http://join.msn.com/?page=features/junkmail</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="023781.html">[Mono-list] Re: [Mono-devel-list] Presentation for Microsoft Belgium about Mono
</A></li>
	<LI> Next message: <A HREF="023700.html">[Mono-list] C#/C/OpenGL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23721">[ date ]</a>
              <a href="thread.html#23721">[ thread ]</a>
              <a href="subject.html#23721">[ subject ]</a>
              <a href="author.html#23721">[ author ]</a>
         </LI>
       </UL>
</body></html>
