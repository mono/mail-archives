<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Enum problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:adyler%40winisp.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="023817.html">
   <LINK REL="Next"  HREF="023824.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Enum problem
   </H1>
    <B>gennady wexler
    </B> 
    <A HREF="mailto:adyler%40winisp.net"
       TITLE="[Mono-list] Enum problem">adyler@winisp.net
       </A><BR>
    <I>Sat, 16 Oct 2004 11:52:00 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="023817.html">[Mono-list] Enum problem
</A></li>
        <LI> Next message: <A HREF="023824.html">[Mono-list] Enum problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23818">[ date ]</a>
              <a href="thread.html#23818">[ thread ]</a>
              <a href="subject.html#23818">[ subject ]</a>
              <a href="author.html#23818">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think what we wanted to know was why based on different execution sources
we get:

case 1: Negativo prints first
case 2: Neutro prints first

it appears they are aligned differently by compiler (jit in this case).

it is not a question anymore whether these two values are of the same
weight/value.

there are attributes you can specify for enum declaration, I think mono
defaults to something different than what .net does.

it doesn't hurt final product here though, program wont break in such cases=
.
it will just behave differently than what coder expects it to. :)

we are just being a bit too perfectionist here, we want print out look
exactly the same as it comes out from under .net environment.

so to write this code cleanly you would have to use recommended practices,
that is it would be something like this:

enum EnumVal {
    enFirstValue =3D 1,
    enSecondValue,
    enThirdValue =3D 20,
    enFourthValue
}

this way compilers will take care of assigning unique values to each of the
values, then your code will behave as you expect it to.

now, to make the original code in this mail thread to work, you will need t=
o
tell compiler the base type of enum construct:

enum DoubleEnumVal : double { // or whatever type you want
    enFirstVal =3D .3, // or I presume 1/3 should also work
    enSecond,
    enThird
}

however, I almost never see anyone had a need for this kind of precision,
have you?

so there really is no problem here, just matter of proper use of the
language.

does this make sense?


On 10/16/04 11:28 AM, &quot;Kirk Marple&quot; &lt;<A HREF="mailto:kirk-public@agnostic-media.com">kirk-public@agnostic-media.com</A>&gt; wrote:

&gt;<i> The real issue here is about rounding to integers, and enums are ints by
</I>&gt;<i> default, so really the numbers are equivalent to:
</I>&gt;<i>=20
</I>&gt;<i> Positivo =3D 0,
</I>&gt;<i> Negativo =3D 1,
</I>&gt;<i> Neutro =3D 1
</I>&gt;<i>=20
</I>&gt;<i> Which would make sense by what you see printed out.
</I>&gt;<i>=20
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>] On Behalf Of gennady wexler
</I>&gt;<i> Sent: Saturday, October 16, 2004 10:54 AM
</I>&gt;<i> To: Iain McCoy; <A HREF="mailto:francis@aspl.es">francis@aspl.es</A>
</I>&gt;<i> Cc: mono
</I>&gt;<i> Subject: Re: [Mono-list] Enum problem
</I>&gt;<i>=20
</I>&gt;<i> On 10/16/04 4:33 AM, &quot;Iain McCoy&quot; &lt;<A HREF="mailto:iain@mccoy.id.au">iain@mccoy.id.au</A>&gt; wrote:
</I>&gt;<i>=20
</I>&gt;&gt;<i> On Sat, 2004-10-16 at 13:17 +0200, Francis Brosnan Bl=E1zquez wrote:
</I>&gt;&gt;&gt;<i> Hi.
</I>&gt;&gt;&gt;<i>=20
</I>&gt;&gt;&gt;<i> Working with enumerations I've found an strange behaviour. If you
</I>&gt;&gt;&gt;<i> compile the following source code and run it:
</I>&gt;&gt;&gt;<i>=20
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> using System;
</I>&gt;&gt;&gt;<i>=20
</I>&gt;&gt;&gt;<i> public class EnumTest {
</I>&gt;&gt;&gt;<i>=20
</I>&gt;&gt;&gt;<i> public enum TipoCarga {
</I>&gt;&gt;&gt;<i> Positivo =3D 1/3,
</I>&gt;&gt;&gt;<i> Negativo =3D 1 + (1/3),
</I>&gt;&gt;&gt;<i> Neutro   =3D 1,
</I>&gt;&gt;&gt;<i> }
</I>&gt;<i>=20
</I>&gt;&gt;<i> suspect what you're seeing is the compiler automatically coercing all
</I>&gt;&gt;<i> of your enum values to ints. This means that 1/3 =3D 0, so 1 + 1/3 =3D 0
</I>&gt;&gt;<i> and
</I>&gt;<i>=20
</I>&gt;<i> if 1/3 is 0 then how would 1 + 1/3 be 0 too?
</I>&gt;<i>=20
</I>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="023817.html">[Mono-list] Enum problem
</A></li>
	<LI> Next message: <A HREF="023824.html">[Mono-list] Enum problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23818">[ date ]</a>
              <a href="thread.html#23818">[ thread ]</a>
              <a href="subject.html#23818">[ subject ]</a>
              <a href="author.html#23818">[ author ]</a>
         </LI>
       </UL>
</body></html>
