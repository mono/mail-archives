<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> FW: [Mono-list] Linux version of DPAPI to encrypt Web.config data?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:spouliot%40videotron.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023777.html">
   <LINK REL="Next"  HREF="023789.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>FW: [Mono-list] Linux version of DPAPI to encrypt Web.config data?
   </H1>
    <B>Sebastien Pouliot
    </B> 
    <A HREF="mailto:spouliot%40videotron.ca"
       TITLE="FW: [Mono-list] Linux version of DPAPI to encrypt Web.config data?">spouliot@videotron.ca
       </A><BR>
    <I>Thu, 14 Oct 2004 12:00:04 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="023777.html">[Mono-list] System.Data.SqlClient.SqlException: 'int' is not a recognized CURSOR option
</A></li>
        <LI> Next message: <A HREF="023789.html">[Mono-list] Gtk-sharp and mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23782">[ date ]</a>
              <a href="thread.html#23782">[ thread ]</a>
              <a href="subject.html#23782">[ subject ]</a>
              <a href="author.html#23782">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>forgot the list :(

-----Original Message-----
From: Sebastien Pouliot [mailto:<A HREF="mailto:spouliot@videotron.ca">spouliot@videotron.ca</A>]
Sent: 14 octobre 2004 08:21
To: Bacchus Hraphanidousai
Subject: RE: [Mono-list] Linux version of DPAPI to encrypt Web.config
data?


Hello Bacchus,

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>]On Behalf Of Bacchus
</I>&gt;<i> Hraphanidousai
</I>&gt;<i> Sent: 13 octobre 2004 08:42
</I>&gt;<i> To: <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
</I>&gt;<i> Subject: [Mono-list] Linux version of DPAPI to encrypt Web.config data?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I would like to explore my options in encrypting
</I>&gt;<i> sensitive data in the Web.config file and I came
</I>&gt;<i> across the DPAPI in Windows.
</I>
DAPI is very interesting because of it's key management.

However it wasn't exposed in the framework before 2.0 and a similar API
isn't (yet) implemented in Mono.

&gt;<i> First, here are my constraints:
</I>&gt;<i> [1] I am storing credentials that will be passed to
</I>&gt;<i> other processes, so a one-way hash won't work
</I>&gt;<i> [2] I prefer a symmetrical encryption algorithm for
</I>&gt;<i> simplicity and performance
</I>&gt;<i> [3] I cannot store the encryption key as a constant in
</I>&gt;<i> my code-behind file since this can easily be
</I>&gt;<i> disassembled
</I>
Note that it could only be disassembled if someone got a copy of it (and no
I'm NOT suggesting keeping any key inside compiled code ;-).

&gt;<i> On Windows, DPAPI addresses these constraints, since
</I>&gt;<i> it manages encryption keys at the OS level.
</I>
Yes, DAPI strength is exposing a simple API to hide a complex problem (key
management). However it's important to note that this solve all problems.

Hiding &quot;correctly&quot; any secret (like a key) is hard on a computer, even more
in a server environment. The best way to see potential problems is to have a
threat model. Sadly you'll see that DAPI isn't the solution for most of the
problems related to web server applications.

What DAPI solves
- key management issues (that are rarely considered inside applications);
- ensure good cryptography practice (i.e. avoid common errors) with it's
simple API;

What DAPI doesn't solves
- access to the secret. Any person (directly or indirectly) that can run
executable code on the server (with the same OS identity as your
application) can call DAPI itself and retrieve the unencrypted data. So the
question is &quot;if/how they can get your data, then could they get your key ?&quot;

Conclusion:
DAPI is great but may not be enough (only your threat model can tell ;-)


&gt;<i> My question is: when running ASP.NET applications on a
</I>&gt;<i> Slackware 10 Linux server using Mono 1.0.2, do I have
</I>&gt;<i> any similar options?
</I>
You could build something similar to DAPI (if key management is important),
keeping a secret key outside what the web server can access.

&gt;<i> Has anyone tried to encrypt data
</I>&gt;<i> in Web.config and App.config files for Mono
</I>&gt;<i> applications? Are there any articles or code samples
</I>&gt;<i> that I can refer to?
</I>
I'm sure there are a lot of documents on the subject (as DAPI is only
available in Windows 2000+). Maybe not specific to Mono but for other
technologies (classic ASP, PHP ...) as this is a very common problem.

&gt;<i> It seems like there should be a very good API layer
</I>&gt;<i> for managing data encryption in Linux, but what are
</I>&gt;<i> those APIs and how can I access those them from
</I>&gt;<i> managed code?
</I>&gt;<i>
</I>&gt;<i> Thanks for any help or advice you can offer!
</I>
Sebastien Pouliot
home: <A HREF="mailto:spouliot@videotron.ca">spouliot@videotron.ca</A>
blog: <A HREF="http://pages.infinit.net/ctech/poupou.html">http://pages.infinit.net/ctech/poupou.html</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="023777.html">[Mono-list] System.Data.SqlClient.SqlException: 'int' is not a recognized CURSOR option
</A></li>
	<LI> Next message: <A HREF="023789.html">[Mono-list] Gtk-sharp and mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23782">[ date ]</a>
              <a href="thread.html#23782">[ thread ]</a>
              <a href="subject.html#23782">[ subject ]</a>
              <a href="author.html#23782">[ author ]</a>
         </LI>
       </UL>
</body></html>
