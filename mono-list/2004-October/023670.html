<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Array benchmark
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:421621%40ingta.unizar.es">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="023698.html">
   <LINK REL="Next"  HREF="023703.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Array benchmark
   </H1>
    <B>tei
    </B> 
    <A HREF="mailto:421621%40ingta.unizar.es"
       TITLE="[Mono-list] Array benchmark">421621@ingta.unizar.es
       </A><BR>
    <I>Sat, 09 Oct 2004 13:18:22 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="023698.html">[Mono-list] Re: Array benchmark
</A></li>
        <LI> Next message: <A HREF="023703.html">[Mono-list] Array benchmark
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23670">[ date ]</a>
              <a href="thread.html#23670">[ thread ]</a>
              <a href="subject.html#23670">[ subject ]</a>
              <a href="author.html#23670">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OFF-TOPIC

--


Sijmen Mulder wrote:

&gt;<i> On a game development forum, someone asked what method of storing 2D
</I>&gt;<i> arrays is faster. On .NET, there are three possibilities:
</I>&gt;<i> 
</I>&gt;<i> 1. [y*width+x]
</I>&gt;<i> 2. [x,y]
</I>&gt;<i> 3. [x][y]
</I>
4. [offset + x]

offset = columOffset[y]
cellContent = map[ offset + x ]

will be need to populate columoffset with values:

  columOffset[i]= (i - 1) * width

I cheat because I dont use a 2D array. I know is Ok to cheat coding 
videogames, anyway. You dont really need to draw 2 zimbillions of trigs 
If you can cheat and draw only 200 and gamers will not notice.

&gt;<i> 
</I>&gt;<i> I was wondering too, so I wrote a benchmarker.
</I>
cool.

&gt;<i>I attached the source
</I>&gt;<i> and the results (as pdf). The results are remarkable!
</I>&gt;<i> 
</I>
where? maybe this mail list remove attchs.

&gt;<i> With all methods with all resolutions, Mono -is- slowest. Until..
</I>&gt;<i> maximum optimalization is used. Then the Mono results are about 5
</I>&gt;<i> times as good as with Microsoft.NET. Another weird thing is that
</I>&gt;<i> normally, method 1 is way faster, but when Mono is used with maximum
</I>&gt;<i> optimalization, method 2 is faster. And when the version with a
</I>&gt;<i> resolution of a power of two is ran, both method 2 and 3 are faster.
</I>&gt;<i> Just take a look at the pdf :)
</I>&gt;<i> 
</I>
Looks like you may need to force il code and compare what code is 
generated.  You are optimizing very tigth loops, so its critical the 
compiler optimizations.  Its Mono cool enough to temporaly disable 
optimizations???

#pragma disable &quot;inline expansion&quot;

code that work better with inline disabled

#pragma enable &quot;inlince expansion&quot;

????

Even gamercoders get more speed switching to better algoritms. You can't 
optimize bubblesort beyond some limit. Better algoritms exist out here 
for most stuff... Compiler oriented optimizations may result slow with a 
different compiler, version, client hardware, etc..

--Tei

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="023698.html">[Mono-list] Re: Array benchmark
</A></li>
	<LI> Next message: <A HREF="023703.html">[Mono-list] Array benchmark
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23670">[ date ]</a>
              <a href="thread.html#23670">[ thread ]</a>
              <a href="subject.html#23670">[ subject ]</a>
              <a href="author.html#23670">[ author ]</a>
         </LI>
       </UL>
</body></html>
