<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Re: Npgsql doesn't work anymore
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:fxjrlists%40yahoo.com.br">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="019077.html">
   <LINK REL="Next"  HREF="019114.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Re: Npgsql doesn't work anymore
   </H1>
    <B>Francisco Figueiredo Jr.
    </B> 
    <A HREF="mailto:fxjrlists%40yahoo.com.br"
       TITLE="[Mono-list] Re: Npgsql doesn't work anymore">fxjrlists@yahoo.com.br
       </A><BR>
    <I>Fri, 19 Mar 2004 17:35:10 -0300 (ART)</I>
    <P><UL>
        <LI> Previous message: <A HREF="019077.html">[Mono-list] Npgsql doesn't work anymore
</A></li>
        <LI> Next message: <A HREF="019114.html">[Mono-list] Re: Npgsql doesn't work anymore
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19113">[ date ]</a>
              <a href="thread.html#19113">[ thread ]</a>
              <a href="subject.html#19113">[ subject ]</a>
              <a href="author.html#19113">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> --- Jaroslaw Kowalski &lt;<A HREF="mailto:jaak@zd.com.pl">jaak@zd.com.pl</A>&gt; escreveu: 
&gt;<i> 
</I>&gt;<i> I'm using Fedora Core 1 with &quot;postgresql-server-7.3.4-11&quot; installed from RPM
</I>&gt;<i> and Npgsql (from Mono/CVS) doesn't work for me (while it used to work
</I>&gt;<i> properly about one month ago).
</I>&gt;<i> 
</I>&gt;<i> I get &quot;System.NullReferenceException : Object reference not set to an
</I>&gt;<i> instance of an object&quot; when connecting. The problem seems to occur in
</I>&gt;<i> NpgsqlConnection.ProcessServerVersion().
</I>&gt;<i> 
</I>

&gt;<i> 
</I>&gt;<i>              if (BackendProtocolVersion == ProtocolVersion.Version2)
</I>&gt;<i>              {
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> and it prints &quot;_serverVersion is null&quot;. It obviously fails on
</I>&gt;<i> _serverVersion.IndexOf() right after that.
</I>&gt;<i> 
</I>&gt;<i> My ConnectionString is:
</I>&gt;<i> 
</I>&gt;<i> 'Server=fw.home.lan;Initial Catalog=SoodaUnitTests;User
</I>&gt;<i> Id=mono;Password=mono'
</I>&gt;<i> 
</I>&gt;<i> I can provide more debug info but I don't know what exactly is needed here.
</I>&gt;<i> Any ideas?
</I>

Hi Jaroslaw.

I'm checking that.
In my nunit tests here I'm not getting this problem.
We had this problem some time ago, but we already fixed it. But may there is
some case which is still getting problems.

In the Open method, near its end, and before the call to ProcessServerVersion
there is a line:

ServerVersion = Connector.ServerVersion;

Could you check what is the value of ServerVersion when this code executes?

Also, a little bit above, is where we set the Connector.ServerVersion. Could
you also check what value is being set?

Thanks in advance.

Regards,

Francisco Figueiredo Jr.







______________________________________________________________________

Yahoo! Mail - O melhor e-mail do Brasil! Abra sua conta agora:
<A HREF="http://br.yahoo.com/info/mail.html">http://br.yahoo.com/info/mail.html</A>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="019077.html">[Mono-list] Npgsql doesn't work anymore
</A></li>
	<LI> Next message: <A HREF="019114.html">[Mono-list] Re: Npgsql doesn't work anymore
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19113">[ date ]</a>
              <a href="thread.html#19113">[ thread ]</a>
              <a href="subject.html#19113">[ subject ]</a>
              <a href="author.html#19113">[ author ]</a>
         </LI>
       </UL>
</body></html>
