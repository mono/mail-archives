<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Directory.cs : PathTooLongException not thrown.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:NRathna%40novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="018684.html">
   <LINK REL="Next"  HREF="018687.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Directory.cs : PathTooLongException not thrown.
   </H1>
    <B>Rathna N
    </B> 
    <A HREF="mailto:NRathna%40novell.com"
       TITLE="[Mono-list] Directory.cs : PathTooLongException not thrown.">NRathna@novell.com
       </A><BR>
    <I>Tue, 02 Mar 2004 06:45:02 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="018684.html">[Mono-list] mod_mono and DasBlog difficulties / stack trace with line
 numbers
</A></li>
        <LI> Next message: <A HREF="018687.html">[Mono-list] Directory.cs : PathTooLongException not thrown.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18685">[ date ]</a>
              <a href="thread.html#18685">[ thread ]</a>
              <a href="subject.html#18685">[ subject ]</a>
              <a href="author.html#18685">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a MIME message. If you are reading this text, you may want to 
consider changing to a mail reader or gateway that understands how to 
properly handle MIME multipart messages.

--=__Part2D0C24CE.0__=
Content-Type: multipart/alternative; boundary=&quot;=__Part2D0C24CE.1__=&quot;

--=__Part2D0C24CE.1__=
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

Hi,
I wrote a TestFixture to test PathTooLongException and executed same
against .Net and Mono, 
 
In Mono methods in the Directory class, which are expected to throw
PathTooLongException are not throwing this exception as it does in .NET.

 
Different kinds of exceptions are thrown for same input instead of an
expected PathTooLongException exception.
For example,
a. Create throws --&gt; System.IO.IOException : Win32 IO returned
ERROR_FILENAME_EXCED_RANGE and returned path is correct.
b. Delete()  --&gt; returns  &quot;Win32 IO returned
ERROR_FILENAME_EXCED_RANGE&quot;, but returned path is empty.
c. Directory(path,true) --&gt; returns 
&quot;System.IO.DirectoryNotFoundException&quot; and path returned is correct.
d. Directory(path,false) --&gt; returns  &quot;Win32 IO returned
ERROR_FILENAME_EXCED_RANGE&quot;, but returned path is empty.
 
and so on .....
 
Attached zip file contains 3 files.
1. PathTooLongExceptionTest.cs
2. mono output
3. .Net output.
 
Please guide me, if i should file separate bugs for individual
methods?
 
thanks,
Rathna.

--=__Part2D0C24CE.1__=
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

&lt;HTML&gt;&lt;HEAD&gt;
&lt;META http-equiv=3DContent-Type content=3D&quot;text/html; charset=3Diso-8859-1&quot;=
&gt;<i>
</I>&lt;META content=3D&quot;MSHTML 6.00.2800.1400&quot; name=3DGENERATOR&gt;&lt;/HEAD&gt;
&lt;BODY style=3D&quot;MARGIN: 4px 4px 1px; FONT: 10pt Microsoft Sans Serif&quot;&gt;
&lt;DIV&gt;Hi,&lt;/DIV&gt;
&lt;DIV&gt;I wrote a TestFixture to test PathTooLongException and executed same =
against .Net and Mono, &lt;/DIV&gt;
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;In Mono&amp;nbsp;methods in the Directory class, which are expected to =
throw PathTooLongException are not throwing this exception as it does in =
.NET. &lt;/DIV&gt;
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;Different kinds of exceptions are thrown for same input instead of an =
expected PathTooLongException exception.&lt;/DIV&gt;
&lt;DIV&gt;For example,&lt;/DIV&gt;
&lt;DIV&gt;a. Create throws&amp;nbsp;--&amp;gt; System.IO.IOException : Win32 IO =
returned ERROR_FILENAME_EXCED_RANGE and returned path is correct.&lt;/DIV&gt;
&lt;DIV&gt;b. Delete()&amp;nbsp; --&amp;gt; returns&amp;nbsp; &quot;Win32 IO returned ERROR_FILENA=
ME_EXCED_RANGE&quot;, but returned path is empty.&lt;/DIV&gt;
&lt;DIV&gt;c. Directory(path,true) --&amp;gt; returns &amp;nbsp;&quot;System.IO.DirectoryNotFo=
undException&quot; and path returned is correct.&lt;/DIV&gt;
&lt;DIV&gt;d. Directory(path,false) --&amp;gt; returns&amp;nbsp;&amp;nbsp;&quot;Win32 IO returned =
ERROR_FILENAME_EXCED_RANGE&quot;, but returned path is empty.&lt;/DIV&gt;
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;and so on .....&lt;/DIV&gt;
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;Attached zip file contains 3 files.&lt;/DIV&gt;
&lt;DIV&gt;1. PathTooLongExceptionTest.cs&lt;/DIV&gt;
&lt;DIV&gt;2. mono output&lt;/DIV&gt;
&lt;DIV&gt;3. .Net output.&lt;/DIV&gt;
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;Please&amp;nbsp;guide me, if i should file separate bugs for individual =
methods?&lt;/DIV&gt;
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;thanks,&lt;/DIV&gt;
&lt;DIV&gt;Rathna.&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;

--=__Part2D0C24CE.1__=--

--=__Part2D0C24CE.0__=
Content-Type: application/x-zip-compressed; name=&quot;PathTooLongTest.zip&quot;
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename=&quot;PathTooLongTest.zip&quot;

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

--=__Part2D0C24CE.0__=--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="018684.html">[Mono-list] mod_mono and DasBlog difficulties / stack trace with line
 numbers
</A></li>
	<LI> Next message: <A HREF="018687.html">[Mono-list] Directory.cs : PathTooLongException not thrown.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18685">[ date ]</a>
              <a href="thread.html#18685">[ thread ]</a>
              <a href="subject.html#18685">[ subject ]</a>
              <a href="author.html#18685">[ author ]</a>
         </LI>
       </UL>
</body></html>
