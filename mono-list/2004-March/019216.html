<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] bootstrapping mono with free software?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cwitty%40newtonlabs.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="019208.html">
   <LINK REL="Next"  HREF="019201.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] bootstrapping mono with free software?
   </H1>
    <B>Carl Witty
    </B> 
    <A HREF="mailto:cwitty%40newtonlabs.com"
       TITLE="[Mono-list] bootstrapping mono with free software?">cwitty@newtonlabs.com
       </A><BR>
    <I>Tue, 23 Mar 2004 14:21:26 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="019208.html">[Mono-list] bootstrapping mono with free software?
</A></li>
        <LI> Next message: <A HREF="019201.html">[Mono-list] bootstrapping mono with free software?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19216">[ date ]</a>
              <a href="thread.html#19216">[ thread ]</a>
              <a href="subject.html#19216">[ subject ]</a>
              <a href="author.html#19216">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2004-03-23 at 10:22, Ben Maurer wrote:
&gt;<i> fdOn Tue, 2004-03-23 at 12:34, Noa Resare wrote: 
</I>&gt;<i> &gt; A solution to this problem would be to have the ability to bootstrap the
</I>&gt;<i> &gt; mono environment from a verifiable source. I immediately come to think
</I>&gt;<i> &gt; about Portable.NET, since the cscc compiler is written in c and the
</I>&gt;<i> &gt; system bootstraps from a standard c environment without any binary code.
</I>
Thanks for bringing this up.  While I don't worry about such issues
myself (I download prepackaged binaries all the time), I do enjoy
thinking about them.

&gt;<i> How did you get gcc on your system? Did you compile it from source? With
</I>&gt;<i> what, another gcc compiler? How did you get that gcc compiler? Did it
</I>&gt;<i> come with your operating system? I am betting that somewhere along the
</I>&gt;<i> line, you got a gcc compiler from somebody else.
</I>
I have several options for making sure my gcc binaries match the
sources, depending on my level of paranoia: bootstrap from a commercial
compiler; bootstrap from two different commercial compilers (under
different operating systems) and make sure the results are identical;
write a C interpreter and bootstrap from that.

&gt;<i> What kind of cpu are you running? Intel? AMD? Did you make the chip
</I>&gt;<i> yourself, where you there to see it made? Have you inspected it for a
</I>&gt;<i> backdoor?
</I>
Depending on how paranoid you are:

Maybe you're worried that some rogue engineer at WizzyCorp added a back
door into the WizzyCorp processor.  The back door is probably small and
subtle (or somebody would have noticed that the engineer's module takes
way too much board area, or runs too slowly).  It's unlikely to be
something like noticing the login process, and accepting a certain
password; the engineer doesn't have enough bits of storage for anything
that complex.  It's more likely to be something like: if you execute
some strange instruction sequence, then you get to execute kernel-level
code (ring 0, supervisor, whatever).  The instruction sequence has to be
sufficiently unlikely that people won't stumble across it by accident;
only people who know about it ahead of time will create it.  Then the
solution is never to execute binary code you didn't compile yourself
(since the compiler is very unlikely to create this sequence).  You
could execute untrusted code under a VM like .NET or JVM, or you could
execute untrusted machine code under an emulator like bochs or
mips64emul.

If you're worried about a more pervasive backdoor (due to a conspiracy
among several engineers, or authorized by WizzyCorp management), one
which might be capable of noticing the login process, then your options
get a lot more expensive and worse-performing.  One idea is to have two
boxes with different processors running the same software.  They
communicate to the outside world through a single link; all input from
the outside world is duplicated to both machines, and output is only
allowed back to the outside world if both machines say the same thing.

&gt;<i> How about your RAM? Did you see it being made? Is it possible that there
</I>&gt;<i> is some back door hidden in there?
</I>
I doubt that a rogue engineer could insert a back door into a RAM chip;
I'll bet that every RAM design has several engineers who know exactly
how many transistors the data goes through and can explain the reason
that each transistor is required.  If you're still worried about the
RAM, then fall back to the multiple-system idea described above; or run
under a modified version of bochs, where the emulated machine's main
memory is encrypted.

&gt;<i> Compared to something like, say a CPU, the mcs/corlib binary that you
</I>&gt;<i> get is pretty inspectable. A dedicated person could probably
</I>&gt;<i> hand-inspect the output of monodis/ildasm/whatever pnet has in a
</I>&gt;<i> reasonable amount of time. Monodis is written 100% in C, so that meets
</I>&gt;<i> your trust requirements. The other two implementations could serve as
</I>&gt;<i> verification that monodis does not have a backdoor.
</I>&gt;<i> 
</I>&gt;<i> In short, the verification of mcs is probably the least of your
</I>&gt;<i> problems. There are much bigger things you would really need to verify,
</I>&gt;<i> and mcs is easy in comparison.
</I>
Even if mcs is easy to verify with a disassembler, that's no reason not
to verify the compilation as well.

&gt;<i> Or, in essence `We all need somebody to lean on'. Be it the distributor
</I>&gt;<i> of your operating system, Intel, AMD, whoever makes your ram (Who does
</I>&gt;<i> make ram?), you are going to be relying on something.
</I>&gt;<i> 
</I>&gt;<i> So, what makes distributing binaries secure? There are a few factors
</I>&gt;<i> that help out:
</I>&gt;<i> 
</I>&gt;<i>       * Who is in charge of the creation process -- the monocharge
</I>&gt;<i>         tarballs are cooked up inside Novell. This gives you alot of
</I>&gt;<i>         security. If there were to be a backdoor inside the tarball, you
</I>&gt;<i>         would have a clear target for blame. This is different than,
</I>&gt;<i>         say, some random project on SourceForge where there is no clear
</I>&gt;<i>         path back to the origionator of the binaries. Somebody cant do a
</I>&gt;<i>         `hit and run'
</I>&gt;<i>       * How wide of distribution there is -- There are many people using
</I>&gt;<i>         monocharge binaries. That means that there are more people that
</I>&gt;<i>         could notice if there was a backdoor. Real life example: if you
</I>&gt;<i>         are going to murder somebody, where would you do it, in a dark
</I>&gt;<i>         alley or in the middle of a busy street with cars and people. Am
</I>&gt;<i>         betting the first, because fewer people to observe the crime. In
</I>&gt;<i>         the same way, if many people use monocharge, inserting a
</I>&gt;<i>         backdoor has a high risk of getting caught
</I>
I'm not convinced by this argument.  While a backdoor in a high-profile
project is more likely to be detected, it's also a more attractive
target.

[...]
&gt;<i> For the reasons stated above, I think this is an effort that will not
</I>&gt;<i> net you any additional security.
</I>
Let me also point out that verifying that compiler sources and binaries
match up really only helps if somebody has audited the compiler sources.

Carl Witty


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="019208.html">[Mono-list] bootstrapping mono with free software?
</A></li>
	<LI> Next message: <A HREF="019201.html">[Mono-list] bootstrapping mono with free software?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19216">[ date ]</a>
              <a href="thread.html#19216">[ thread ]</a>
              <a href="subject.html#19216">[ subject ]</a>
              <a href="author.html#19216">[ author ]</a>
         </LI>
       </UL>
</body></html>
