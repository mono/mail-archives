<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] bootstrapping mono with free software?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bmaurer%40users.sourceforge.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="019211.html">
   <LINK REL="Next"  HREF="019214.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] bootstrapping mono with free software?
   </H1>
    <B>Ben Maurer
    </B> 
    <A HREF="mailto:bmaurer%40users.sourceforge.net"
       TITLE="[Mono-list] bootstrapping mono with free software?">bmaurer@users.sourceforge.net
       </A><BR>
    <I>Tue, 23 Mar 2004 14:37:37 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="019211.html">[Mono-list] More Mac OS X problems
</A></li>
        <LI> Next message: <A HREF="019214.html">[Mono-list] bootstrapping mono with free software?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19209">[ date ]</a>
              <a href="thread.html#19209">[ thread ]</a>
              <a href="subject.html#19209">[ subject ]</a>
              <a href="author.html#19209">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2004-03-23 at 14:24, Noa Resare wrote:
&gt;<i> &gt; In short, the verification of mcs is probably the least of your
</I>&gt;<i> &gt; problems. There are much bigger things you would really need to verify,
</I>&gt;<i> &gt; and mcs is easy in comparison.
</I>&gt;<i> 
</I>&gt;<i> I disagree. Yes, mcs is &quot;easy&quot; to verify, but it is also a very powerful
</I>&gt;<i> point of entry for some black hat since the abstraction level is much
</I>&gt;<i> higher than say the CPU or even your average lib/c compiler.
</I>&gt;<i> 
</I>&gt;<i> One can never be totally secure, but an attack that propgagates a trojan
</I>&gt;<i> from my cc/libc by the way of the Portable.NET runtime into mcs is
</I>&gt;<i> several orders of magnitude more difficult to execute than the attack
</I>&gt;<i> that I described in my original post.
</I>
Not really. If you can get a backdoor into the C compiler, you can make
any kernel routine do anything. So, rather than just your app accepting
a backdoor password, i have a nice little rootkit.


&gt;<i> Then there is hack value, and that is of course the most important
</I>&gt;<i> reason for trying bootstrapping mono from Portable.NET.
</I>Yep, there is a hack value to this. Just dont trick yourself into
thinking that you are enhancing security when you are doing a hack ;-).

&gt;<i> &gt; &gt; I just tried to this, with mixed success. A trivial patch to mcs/decl.cs
</I>&gt;<i> &gt; &gt; to work around a bug in enum initialization in cscc made mcs.exe
</I>&gt;<i> &gt; &gt; compile. Some more kluges applied to to the mcs sources made mcs.exe
</I>&gt;<i> &gt; &gt; work in the Portable.NET environment for simple test cases, like
</I>&gt;<i> &gt; &gt; compiling a runnable HelloWorld.exe.
</I>&gt;<i> &gt; The correct way to go about this is to fix up cscc. MCS's source is
</I>&gt;<i> &gt; valid, it can be compiled with csc. 
</I>&gt;<i> 
</I>&gt;<i> Of course. But hacknig mcs is so much easier since it's written in a
</I>&gt;<i> better language :) If there is ever an officially supported way of
</I>&gt;<i> bootstrapping mono with Portable.NET all fixes would of course be
</I>&gt;<i> applied on the appropriate places in the respective trees first.
</I>I don't think shifting around mcs source code is the correct way to fix
cscc. Anyways, where is that hack value? Don't you want to make the
software you are touching *less* buggy.

&gt;<i> &gt; Also, you can just compile our corlib with cscc, (that is how it was
</I>&gt;<i> &gt; created in the first place, mcs and corlib were compiled with csc, and
</I>&gt;<i> &gt; scp'd over to linux).
</I>&gt;<i> 
</I>&gt;<i> True, but that would mean that I'd need to buy windows licenses that I
</I>&gt;<i> won't use for anything else.
</I>What i mean to say is:
You do not have to use mcs to compile corlib, you can just use any other
c# compiler. MCS is not able to compile corlib on the MS runtime, I
would not expect any runtime other than Mono to bootstrap corlib with
mcs.

&gt;<i> &gt; 
</I>&gt;<i> &gt; For the reasons stated above, I think this is an effort that will not
</I>&gt;<i> &gt; net you any additional security.
</I>&gt;<i> 
</I>&gt;<i> I fail to see how you draw that conclusion. The total security is equal
</I>&gt;<i> to the security of the &quot;weakest link&quot; in the chain and you can't know
</I>&gt;<i> beforehand which link is weakest. Therefore improving the safeguards
</I>&gt;<i> against a certain class of attacks against the distributed mcs/corlib
</I>&gt;<i> binaries will give additional security. It might not be much though. And
</I>&gt;<i> then there is hack value :)
</I>
I am pretty sure that the potential to have a rootkit inside your kernel
is much greater than the risk that mcs is corrupt. And the ability to
detect the former is very low, given that you would pretty much have to
inspect the bytes on your disk with a `clean' computer. MCS on the other
hand, you could just disassemble.

Again, there is a hack value here, but the security benefit is very
marginal, I argue that it does not even exist.

-- Ben


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="019211.html">[Mono-list] More Mac OS X problems
</A></li>
	<LI> Next message: <A HREF="019214.html">[Mono-list] bootstrapping mono with free software?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19209">[ date ]</a>
              <a href="thread.html#19209">[ thread ]</a>
              <a href="subject.html#19209">[ subject ]</a>
              <a href="author.html#19209">[ author ]</a>
         </LI>
       </UL>
</body></html>
