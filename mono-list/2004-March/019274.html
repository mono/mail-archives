<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Fwd: [Mono-list] sqlsharpgtk patches - (gtk-sharp 0.17, editor,
 open reader)]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:egonia%40mail15.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="019273.html">
   <LINK REL="Next"  HREF="019275.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Fwd: [Mono-list] sqlsharpgtk patches - (gtk-sharp 0.17, editor,
 open reader)]
   </H1>
    <B>Gonia Eric - egonia
    </B> 
    <A HREF="mailto:egonia%40mail15.com"
       TITLE="[Fwd: [Mono-list] sqlsharpgtk patches - (gtk-sharp 0.17, editor,
 open reader)]">egonia@mail15.com
       </A><BR>
    <I>Fri, 26 Mar 2004 16:27:25 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="019273.html">[Mono-list] mono+gtk#+running with other programs
</A></li>
        <LI> Next message: <A HREF="019275.html">[Fwd: [Mono-list] sqlsharpgtk patches - (gtk-sharp 0.17, editor,
 open reader)]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19274">[ date ]</a>
              <a href="thread.html#19274">[ thread ]</a>
              <a href="subject.html#19274">[ subject ]</a>
              <a href="author.html#19274">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-gc1CVbJjA+fOaRgYgReq
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Here are also some patches for sqlsharpgtk that I sent in Febuary. They
were not applied and I did not receive feedback on them. Please advise
as to what I should do differently to submit patches. Should I file a
bug report first, and then attach the patches?

The patch for gtk-sharp 0.17 probably overlaps the one sent by
Francisco. Ignore this one for now.

Thanks,
Eric

-----Forwarded Message-----
From: Gonia Eric - egonia &lt;<A HREF="mailto:egonia@mail15.com">egonia@mail15.com</A>&gt;
To: <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
Subject: [Mono-list] sqlsharpgtk patches - (gtk-sharp 0.17, editor, open reader)
Date: Sat, 28 Feb 2004 15:07:58 -0600

Attached are three patches for sqlsharpgtk. I am guessing this would be
the list to post these to instead of mono-devel since they are dealing
with a tool and not directly with mono.

gtkupgrade.diff
Upgrade to gtk-sharp 0.17

editorfix.diff
Fix problem with returns at the end of a line in the Sql Editor.
Fix highlight and type over problem.

openreaderfix.diff
Fix reader left open after update sql statements run.

This is my first time to contribute changes back to an open source
project so it is very possible I have done this wrong, so please feel
free to correct me or provide suggestions on how to submit or create
these in the future.

Eric

--=-gc1CVbJjA+fOaRgYgReq
Content-Disposition: attachment; filename=editorfix.diff
Content-Type: text/x-patch; name=editorfix.diff; charset=
Content-Transfer-Encoding: 7bit

Index: sqlsharpgtk/sqlsharpgtk/SqlEditorSharp.cs
===================================================================
RCS file: /mono/sqlsharpgtk/sqlsharpgtk/SqlEditorSharp.cs,v
retrieving revision 1.2
diff -u -r1.2 SqlEditorSharp.cs
--- sqlsharpgtk/sqlsharpgtk/SqlEditorSharp.cs	11 Jan 2004 05:27:58 -0000	1.2
+++ sqlsharpgtk/sqlsharpgtk/SqlEditorSharp.cs	28 Feb 2004 22:01:10 -0000
@@ -410,7 +410,7 @@
 			int i;
 			char ch;
 
-			for (i = 0; i &lt; char_count; i++) {
+			for (i = 0; i &lt; text.Length; i++) {
 				match_start1 = start_iter;
 				match_end1 = start_iter;

--=-gc1CVbJjA+fOaRgYgReq
Content-Disposition: attachment; filename=openreaderfix.diff
Content-Type: text/x-patch; name=openreaderfix.diff; charset=
Content-Transfer-Encoding: 7bit

Index: sqlsharpgtk/sqlsharpgtk/sqlsharpgtk.cs
===================================================================
RCS file: /mono/sqlsharpgtk/sqlsharpgtk/sqlsharpgtk.cs,v
retrieving revision 1.3
diff -u -r1.3 sqlsharpgtk.cs
--- sqlsharpgtk/sqlsharpgtk/sqlsharpgtk.cs	26 Jan 2004 02:11:09 -0000	1.3
+++ sqlsharpgtk/sqlsharpgtk/sqlsharpgtk.cs	28 Feb 2004 22:01:13 -0000
@@ -1638,7 +1637,11 @@
 				}
 			}
 			AppendText(&quot;Status: &quot; + status);
-
+			
+			if (reader != null &amp;&amp; ! reader.IsClosed)
+			{
+				reader.Close();
+			}
 			adapter.Dispose();
 			adapter = null;
 

--=-gc1CVbJjA+fOaRgYgReq--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="019273.html">[Mono-list] mono+gtk#+running with other programs
</A></li>
	<LI> Next message: <A HREF="019275.html">[Fwd: [Mono-list] sqlsharpgtk patches - (gtk-sharp 0.17, editor,
 open reader)]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19274">[ date ]</a>
              <a href="thread.html#19274">[ thread ]</a>
              <a href="subject.html#19274">[ subject ]</a>
              <a href="author.html#19274">[ author ]</a>
         </LI>
       </UL>
</body></html>
