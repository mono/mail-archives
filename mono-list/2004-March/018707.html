<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Simple code - differences in output between mono &amp; .Net
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jonathan.cooper%40syntegra.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="018705.html">
   <LINK REL="Next"  HREF="018709.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Simple code - differences in output between mono &amp; .Net
   </H1>
    <B>jonathan.cooper@syntegra.com
    </B> 
    <A HREF="mailto:jonathan.cooper%40syntegra.com"
       TITLE="[Mono-list] Simple code - differences in output between mono &amp; .Net">jonathan.cooper@syntegra.com
       </A><BR>
    <I>Wed, 3 Mar 2004 14:31:46 -0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="018705.html">[Mono-list] RE:Mono and Local Date Format
</A></li>
        <LI> Next message: <A HREF="018709.html">[Mono-list] Simple code - differences in output between mono &amp; .Net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18707">[ date ]</a>
              <a href="thread.html#18707">[ thread ]</a>
              <a href="subject.html#18707">[ subject ]</a>
              <a href="author.html#18707">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a multi-part message in MIME format.

------_=_NextPart_001_01C4012C.418A80A2
Content-Type: text/plain; charset=&quot;us-ascii&quot;
Content-Transfer-Encoding: quoted-printable

I have code (at the end of this message) in a .cs file, compiled with mcs a=
nd
csc on Windows XP. When compiled with either compiler the executable works =
on
both runtimes (.Net and mono). However, the output is different.

Run under .Net:
------------------------
Disk:  A:\
Disk:  C:\
Disk:  D:\
Disk:  K:\
Disk:  L:\
Disk:  Q:\
Disk:  T:\
Disk:  U:\
Disk:  X:\
c:\
Dir:  c:\Compaq
Dir:  c:\Config.Msi
Dir:  c:\Documents and Settings
Dir:  c:\Program Files
Dir:  c:\RECYCLER
Dir:  c:\System Volume Information
Dir:  c:\WINNT


Basically the contents of the root c:\ drive

Run under mono:
--------------------------
Disk:  A:\
Disk:  C:\
c:\
&gt;&gt;<i> a list of directories in the current directory rather than the root c:\ =
</I>&lt;&lt;

Is this due to an incomplete feature, or am I missing something?

Thanks in advance,
Jon Cooper


------------------------ CODE in drives.cs ------------------------

using System;
using System.IO;

namespace test
{=20
   class test
   {
      [STAThread]
      static void Main(string[] args)=20
      {
	 string[] s =3D Directory.GetLogicalDrives();
	 foreach(string drive in s)
	    Console.WriteLine(&quot;Disk:  {0}&quot;,drive);

	 string mydrive =3D Console.ReadLine();

	 if(mydrive.Length !=3D 0)
	 {
	   foreach(string d in Directory.GetDirectories(mydrive))
	      Console.WriteLine(&quot;Dir:  {0}&quot;,d);

	   Console.Read();  //pause
	 }
      }
   }
}


********************************************************************

This email may contain information which is privileged or confidential. If =
you are not the intended recipient of this email, please notify the sender =
immediately and delete it without reading, copying, storing, forwarding or =
disclosing its contents to any other person
Thank you

Check us out at <A HREF="http://www.syntegra.com">http://www.syntegra.com</A>

********************************************************************


------_=_NextPart_001_01C4012C.418A80A2
Content-Type: text/html; charset=&quot;us-ascii&quot;
Content-Transfer-Encoding: quoted-printable

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 3.2//EN&quot;&gt;
&lt;HTML&gt;
&lt;HEAD&gt;
&lt;META HTTP-EQUIV=3D&quot;Content-Type&quot; CONTENT=3D&quot;text/html; charset=3Dus-ascii&quot;&gt;
&lt;META NAME=3D&quot;Generator&quot; CONTENT=3D&quot;MS Exchange Server version 6.0.6487.1&quot;&gt;
&lt;TITLE&gt;Simple code - differences in output between mono &amp;amp; .Net&lt;/TITLE&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
&lt;!-- Converted from text/rtf format --&gt;

&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;I have code (at the end of this message) i=
n a .cs file, compiled with mcs and csc on Windows XP. When compiled with e=
ither compiler the executable works on both runtimes (.Net and mono). Howev=
er, the output is different.&lt;/FONT&gt;&lt;/P&gt;

&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Run under .Net:&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;------------------------&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Disk:&amp;nbsp; A:\&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Disk:&amp;nbsp; C:\&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Disk:&amp;nbsp; D:\&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Disk:&amp;nbsp; K:\&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Disk:&amp;nbsp; L:\&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Disk:&amp;nbsp; Q:\&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Disk:&amp;nbsp; T:\&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Disk:&amp;nbsp; U:\&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Disk:&amp;nbsp; X:\&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;c:\&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Dir:&amp;nbsp; c:\Compaq&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Dir:&amp;nbsp; c:\Config.Msi&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Dir:&amp;nbsp; c:\Documents and Settings&lt;/FON=
T&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Dir:&amp;nbsp; c:\Program Files&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Dir:&amp;nbsp; c:\RECYCLER&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Dir:&amp;nbsp; c:\System Volume Information&lt;/=
FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Dir:&amp;nbsp; c:\WINNT&lt;/FONT&gt;
&lt;/P&gt;
&lt;BR&gt;

&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Basically the contents of the root c:\ dri=
ve&lt;/FONT&gt;
&lt;/P&gt;

&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Run under mono:&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;--------------------------&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Disk:&amp;nbsp; A:\&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Disk:&amp;nbsp; C:\&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;c:\&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&amp;gt;&amp;gt; a list of directories in the cur=
rent directory rather than the root c:\ &amp;lt;&amp;lt;&lt;/FONT&gt;
&lt;/P&gt;

&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Is this due to an incomplete feature, or a=
m I missing something?&lt;/FONT&gt;
&lt;/P&gt;

&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Thanks in advance,&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Jon Cooper&lt;/FONT&gt;
&lt;/P&gt;
&lt;BR&gt;

&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;------------------------ CODE in drives.cs=
 ------------------------&lt;/FONT&gt;
&lt;/P&gt;

&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;using System;&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;using System.IO;&lt;/FONT&gt;
&lt;/P&gt;

&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;namespace test&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;{ &lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp; class test&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp; {&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; [STAThread=
]&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; static voi=
d Main(string[] args) &lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;/FONT&gt;

&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;FONT SIZE=3D2 FACE=3D&quot;=
Arial&quot;&gt; string[] s =3D Directory.GetLogicalDrives();&lt;/FONT&gt;

&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;FONT SIZE=3D2 FACE=3D&quot;=
Arial&quot;&gt; foreach(string drive in s)&lt;/FONT&gt;

&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;FONT SIZE=3D2 FACE=3D&quot;Arial=
&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Console.WriteLine(&amp;quot;Disk:&amp;nbsp; {0}&amp;quot;,drive);&lt;=
/FONT&gt;
&lt;/P&gt;

&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;FONT SIZE=3D2 FACE=3D&quot;A=
rial&quot;&gt; string mydrive =3D Console.ReadLine();&lt;/FONT&gt;
&lt;/P&gt;

&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;FONT SIZE=3D2 FACE=3D&quot;A=
rial&quot;&gt; if(mydrive.Length !=3D 0)&lt;/FONT&gt;

&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;FONT SIZE=3D2 FACE=3D&quot;=
Arial&quot;&gt; {&lt;/FONT&gt;

&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;FONT SIZE=3D2 FACE=3D&quot;Arial=
&quot;&gt;&amp;nbsp;&amp;nbsp; foreach(string d in Directory.GetDirectories(mydrive))&lt;/FONT&gt;

&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;FONT SIZE=3D2 FACE=3D&quot;Arial=
&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Console.WriteLine(&amp;quot;Dir:&amp;nbsp; {0}&amp;quo=
t;,d);&lt;/FONT&gt;
&lt;/P&gt;

&lt;P&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;=
&gt;<i>&amp;nbsp;&amp;nbsp; Console.Read();&amp;nbsp; //pause&lt;/FONT&gt;
</I>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;FONT SIZE=3D2 FACE=3D&quot;=
Arial&quot;&gt; }&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp; }&lt;/FONT&gt;

&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;}&lt;/FONT&gt;
&lt;/P&gt;

&lt;CODE&gt;&lt;FONT SIZE=3D3&gt;&lt;BR&gt;
&lt;BR&gt;
********************************************************************&lt;BR&gt;
&lt;BR&gt;
This email may contain information which is privileged or confidential. If =
you are not the intended recipient of this email, please notify the sender =
immediately and delete it without reading, copying, storing, forwarding or =
disclosing its contents to any other person&lt;BR&gt;
Thank you&lt;BR&gt;
&lt;BR&gt;
Check us out at <A HREF="http://www.syntegra.com<BR">http://www.syntegra.com&lt;BR</A>&gt;
&lt;BR&gt;
********************************************************************&lt;BR&gt;
&lt;/FONT&gt;&lt;/CODE&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;
------_=_NextPart_001_01C4012C.418A80A2--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="018705.html">[Mono-list] RE:Mono and Local Date Format
</A></li>
	<LI> Next message: <A HREF="018709.html">[Mono-list] Simple code - differences in output between mono &amp; .Net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18707">[ date ]</a>
              <a href="thread.html#18707">[ thread ]</a>
              <a href="subject.html#18707">[ subject ]</a>
              <a href="author.html#18707">[ author ]</a>
         </LI>
       </UL>
</body></html>
