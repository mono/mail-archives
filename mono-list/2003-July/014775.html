<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] How do you debug?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:blackhawk%40ivanhawkes.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="014771.html">
   <LINK REL="Next"  HREF="014787.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] How do you debug?
   </H1>
    <B>Ivan Hawkes
    </B> 
    <A HREF="mailto:blackhawk%40ivanhawkes.com"
       TITLE="[Mono-list] How do you debug?">blackhawk@ivanhawkes.com
       </A><BR>
    <I>Fri, 4 Jul 2003 17:04:33 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="014771.html">[Mono-list] How do you debug?
</A></li>
        <LI> Next message: <A HREF="014787.html">[Mono-list] How do you debug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14775">[ date ]</a>
              <a href="thread.html#14775">[ thread ]</a>
              <a href="subject.html#14775">[ subject ]</a>
              <a href="author.html#14775">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>=2D----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Friday 04 Jul 2003 4:40 pm, Marco Canini wrote:
&gt;<i> On Fri, 2003-07-04 at 17:23, Ivan Hawkes wrote:
</I>&gt;<i> &gt; -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> &gt; Hash: SHA1
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Are there any indications of how long it will be before it is operation=
</I>al
&gt;<i> &gt; again?
</I>&gt;<i>
</I>&gt;<i> For what i know Martin, the debugger mantainer, is working hard on it,
</I>&gt;<i> but i don't know when it will works again.
</I>
Oh well, they say patience is a virtue. It's going to be pretty tedious=20
without one though.=20

&lt;SNIP&gt;
&gt;<i> &gt; Unhandled Exception: System.InvalidCastException: Cannot cast from sour=
</I>ce
&gt;<i> &gt; type to destination type
</I>&gt;<i> &gt; in &lt;0x0007a&gt; 00 System.Data.SqlClient.SqlDataReader:GetInt32 (int)
</I>&gt;<i> &gt; in &lt;0x00189&gt; 00 Interesource.Publish.Client.ContentList:.ctor
</I>&gt;<i> &gt; (System.Data.IDataReader,bool)
</I>&gt;<i> &gt; in &lt;0x00012&gt; 00 Interesource.Publish.Client.ContentList:.ctor
</I>&gt;<i> &gt; (System.Data.IDataReader)
</I>&gt;<i> &gt; in &lt;0x000a2&gt; 00
</I>&gt;<i> &gt; Interesource.Publish.Client.ContentProvider:ListContentItems
</I>&gt;<i> &gt; (Interesource.Publish.Entities.ContentTypeKey)
</I>&gt;<i> &gt; in &lt;0x0009e&gt; 00 simpletest.SimpleTest:Main (string[])
</I>&gt;<i>
</I>&gt;<i> this could be a different type mapping between mono's SqlClient and
</I>&gt;<i> .net's SqlClient
</I>&gt;<i>
</I>&gt;<i> Could you report the table definition (sql), the datacolumn definition,
</I>&gt;<i> and the code that raises the exception.
</I>
Ok, it looks like this line of code:

NOTE: These are relevant variables in code and their types.
IDataReader reader
int uniqueId;

uniqueId =3D reader.GetInt32(reader.GetOrdinal(&quot;OriginalVersionId&quot;));

and OriginalVersionId is an Int (4) NULL in SQL (MS SQL Server 2000)

Weird, it doesn't seem to leave a lot of room for error there since the rec=
ord=20
in question has an Int value (not a NULL or anything else).


&gt;<i> btw, with some pain you can get some dbg information my compiling with
</I>&gt;<i> /g and running with mono --debug
</I>&gt;<i>
</I>&gt;<i> i said with some pain because the line numbers in exception backtrace
</I>&gt;<i> are many times wrong
</I>
Yeh, I've got them switched on now. At least I have decent error handling i=
n=20
this program to help me trace the offending lines.

&gt;<i> &gt; Now, this code works on both Framework 1.0 and 1.1, so I'm guessing the=
</I>re
&gt;<i> &gt; is a little work needed on the type casting for Mono. Without a debugger
</I>&gt;<i> &gt; it's going to be a nightmare trying to get it all working, so I'm hoping
</I>&gt;<i> &gt; that debugger will be available again soon.
</I>&gt;<i>
</I>&gt;<i> we all hope so
</I>=2D----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)

iQIVAwUBPwWlkfr1e7bH1pzBAQKXuw//f+HhmTg69lN+WeKMJQzDV2yrKosr6Q5P
RWZbMfpV6PTmUA3UjZkC1cjIWDy5MELa7iSWMUwM+xOfXoI/xuS7JlBpojR2SjiA
R2qx5G9V+4GzYco8q+v2EIpli1OvHxn3PFr1tgqyEOXrQXiHdVkdBMmyVyczU8yg
NbqLY+kwBKj9qtYZ+YKgKcEg/pKn088lZOFCBOgTHoJKIzw2Q8TMQebA8DMeeFTv
x3N9cRa9dV0TOeM4BXJodwsLfct/QYxow8Nk7+O9C36XPAVA5p1rF162C9zomrnF
cZC1oVdB2HgO4Q7wXIa9fccoyp6XoPMlE5vQWHYKi9cdFAYhLed2X3Rsu+xn/nQI
OkUv4RROsvw0HNmbT0v1tNgsE67Cqfr/kWNHtX3So4BVFSvJuNjJH0YJBVCqFIBP
fjGbi5gkeqoyKkhE8SMa60R5H395vz27cKt0si8O8YhDNQvSOYEJSNvO7IrGxbkY
ne+bT2/YLDfUbM1s/mvt757OTzp3vRBuK8X3++j1YLC00qLU9NxC4aiuZCd92T48
oDqywVPeRAgSO2IUaOQgJDW8J313KfNDxZgQJwPt56EzG/QtxQ9bbvb2e8NiC7X5
1g6r76jSkp+6Apbu9TxHXHOoieqpqZYFlGbRJwaF4TkvXUXHfvWQ1hFTE9x4ARHl
+ffRuWNCqdc=3D
=3DmagN
=2D----END PGP SIGNATURE-----

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="014771.html">[Mono-list] How do you debug?
</A></li>
	<LI> Next message: <A HREF="014787.html">[Mono-list] How do you debug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14775">[ date ]</a>
              <a href="thread.html#14775">[ thread ]</a>
              <a href="subject.html#14775">[ subject ]</a>
              <a href="author.html#14775">[ author ]</a>
         </LI>
       </UL>
</body></html>
