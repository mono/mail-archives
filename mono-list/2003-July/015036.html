<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Trouble with XSP ServiceClient example
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bruce.krautbauer%40medtronic.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="015032.html">
   <LINK REL="Next"  HREF="015037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Trouble with XSP ServiceClient example
   </H1>
    <B>Krautbauer, Bruce
    </B> 
    <A HREF="mailto:bruce.krautbauer%40medtronic.com"
       TITLE="[Mono-list] Trouble with XSP ServiceClient example">bruce.krautbauer@medtronic.com
       </A><BR>
    <I>Thu, 17 Jul 2003 16:03:13 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="015032.html">[Mono-list] monodoc patch
</A></li>
        <LI> Next message: <A HREF="015037.html">[Mono-list] Trouble building from CVS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15036">[ date ]</a>
              <a href="thread.html#15036">[ thread ]</a>
              <a href="subject.html#15036">[ subject ]</a>
              <a href="author.html#15036">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Lluis, thanks for the tip!  I should have realized that.  The sample
is running now on one of my systems, but not on the other.  I'll start a
new post on that.

Thanks again!
Bruce

-----Original Message-----
From: Lluis Sanchez [mailto:<A HREF="mailto:lluis@ideary.com">lluis@ideary.com</A>]=20
Sent: Tuesday, July 15, 2003 5:47 PM
To: Krautbauer, Bruce; <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
Subject: Re: [Mono-list] Trouble with XSP ServiceClient example

Hi Bruce

Support for server web services was added after releasing Mono 0.25, so
you'll need to update from CVS (don't forget to update your
machine.config).

- Lluis

----- Original Message -----=20
From: &quot;Krautbauer, Bruce&quot; &lt;<A HREF="mailto:bruce.krautbauer@medtronic.com">bruce.krautbauer@medtronic.com</A>&gt;
To: &lt;<A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>&gt;
Sent: Tuesday, July 15, 2003 10:43 PM
Subject: [Mono-list] Trouble with XSP ServiceClient example


Hi,

I've installed Mono 0.25 from the distribution RPMs and XSP from CVS on
RH9 with all of the current updates.

When I try to run the ServiceClient example I get the following on the
console:

[<A HREF="mailto:root@rfc172020130139">root@rfc172020130139</A> test]# mono ServiceClient.exe localhost:8080
Testing simple web service

Unhandled Exception: System.Exception: Return value is not XML:
text/html
in &lt;0x001bd&gt; 00
System.Web.Services.Protocols.SoapHttpClientProtocol:ReceiveResponse
(System.Net.WebResponse,System.Web.Services.Protocols.SoapClientMessage)
in &lt;0x00075&gt; 08
System.Web.Services.Protocols.SoapHttpClientProtocol:ReceiveResponse
(System.Net.WebResponse,System.Web.Services.Protocols.SoapClientMessage)
in &lt;0x00173&gt; 00
System.Web.Services.Protocols.SoapHttpClientProtocol:Invoke
(string,object[])
in &lt;0x00075&gt; 08
System.Web.Services.Protocols.SoapHttpClientProtocol:Invoke
(string,object[])
in &lt;0x0005e&gt; 00 WebServiceTest.TestService:Echo (string)
in &lt;0x00063&gt; 08 WebServiceTest.TestService:Echo (string)
in &lt;0x000e3&gt; 00 WebServiceTest.ServiceClientTest:Main (string[])

I captured the TCP stream with Ethereal and it looks like this:

POST /TestService.asmx HTTP/1.1
User-Agent: Mono Web Services Client Protocol 0.0
SOAPAction: <A HREF="http://tempuri.org/Echo">http://tempuri.org/Echo</A>
Content-Type: text/xml; charset=3Dutf-8
Content-Length: 422
Expect: 100-continue
Host: localhost

HTTP/1.0 200 OK
Server: Mono-XSP Server/0.2.99.0 Unix
X-Powered-By: Mono
Date: Tue, 15 Jul 2003 18:41:13 GMT
Content-Type: text/html; charset=3Dutf-8
Set-Cookie: ASPSESSION=3D97b76268-5d93-47d2-bec2-1663dea88d8e; path=3D/
Content-Length: 989

&lt;html&gt;
&lt;title&gt;Error&lt;/title&gt;&lt;body bgcolor=3D&quot;white&quot;&gt;&lt;h1&gt;&lt;font =
color=3D&quot;red&quot;&gt;Error in
'/' Application&lt;/font&gt;&lt;/h1&gt;&lt;hr&gt;
&lt;h2&gt;&lt;font color=3D&quot;maroon&quot;&gt;&lt;i&gt;Error&lt;/i&gt;&lt;/font&gt;&lt;/h2&gt;
&lt;b&gt;Description: &lt;/b&gt;Error processing request.
&lt;p&gt;
&lt;b&gt;Error Message: &lt;/b&gt;Forbidden
&lt;p&gt;
&lt;b&gt;Stack Trace: &lt;/b&gt;&lt;table summary=3D&quot;Stack Trace&quot; width=3D&quot;100%&quot;
bgcolor=3D&quot;#ffffc&quot;&gt;
&lt;tr&gt;&lt;td&gt;&lt;code&gt;&lt;pre&gt;
System.Web.HttpException: Forbidden&lt;br /&gt;in &amp;lt;0x00037&amp;gt; 00
System.Web.HttpMethodNotAllowedHandler:ProcessRequest
(System.Web.HttpContext)&lt;br /&gt;in &amp;lt;0x001b0&amp;gt; 00
.ExecuteHandlerState:Execute ()&lt;br /&gt;in &amp;lt;0x0004e&amp;gt; 00
.StateMachine:ExecuteState (IStateHandler,bool&amp;amp;)&lt;br /&gt;&lt;/pre&gt;&lt;/code&gt;
&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;
&lt;hr&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;!--
System.Web.HttpException: Forbidden&lt;br /&gt;in &amp;lt;0x00037&amp;gt; 00
System.Web.HttpMethodNotAllowedHandler:ProcessRequest
(System.Web.HttpContext)&lt;br /&gt;in &amp;lt;0x001b0&amp;gt; 00
.ExecuteHandlerState:Execute ()&lt;br /&gt;in &amp;lt;0x0004e&amp;gt; 00
.StateMachine:ExecuteState (IStateHandler,bool&amp;amp;)&lt;br /&gt;
--&gt;

I think it looks like I have a permissions problem somewhere, but I'm
not sure where.

Any ideas?

Thanks,
Bruce


_______________________________________________
Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="015032.html">[Mono-list] monodoc patch
</A></li>
	<LI> Next message: <A HREF="015037.html">[Mono-list] Trouble building from CVS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15036">[ date ]</a>
              <a href="thread.html#15036">[ thread ]</a>
              <a href="subject.html#15036">[ subject ]</a>
              <a href="author.html#15036">[ author ]</a>
         </LI>
       </UL>
</body></html>
