<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Why mono_marshal_get_runtime_invoke() ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jonpryor%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="014776.html">
   <LINK REL="Next"  HREF="014902.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Why mono_marshal_get_runtime_invoke() ?
   </H1>
    <B>Jonathan Pryor
    </B> 
    <A HREF="mailto:jonpryor%40vt.edu"
       TITLE="[Mono-list] Why mono_marshal_get_runtime_invoke() ?">jonpryor@vt.edu
       </A><BR>
    <I>04 Jul 2003 12:39:48 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="014776.html">[Mono-list] Why mono_marshal_get_runtime_invoke() ?
</A></li>
        <LI> Next message: <A HREF="014902.html">AW: [Mono-list] Why mono_marshal_get_runtime_invoke() ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14778">[ date ]</a>
              <a href="thread.html#14778">[ thread ]</a>
              <a href="subject.html#14778">[ subject ]</a>
              <a href="author.html#14778">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is just a guess, but it's probably because we *don't* know the
managed applications entry point.  We certainly can't assume that it's
&quot;Main&quot;.

There are two (related) reasons why:
 1: CIL uses the .entrypoint instruction to specify the entry point, not
    the function name.  This is done because not all languages require
    that the entrypoint function be named &quot;Main&quot; (ILASM and Java are two
    examples).
 2: Consider an assembly that has multiple &quot;Main&quot; functions.  This is
    permitted by CSC and mcs, you just need to provide the
    -class:&lt;ClassName/&gt; parameter.  In such a situation, you can't &quot;just
    load&quot; the &quot;Main&quot; function, as you wouldn't know which one to
    execute.

 - Jon

On Fri, 2003-07-04 at 12:23, Vivek, Bharath Varma (IE10) wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I noticed that there is some dynamic generation of IL wrapper code happening
</I>&gt;<i> within the runtime when I run a managed application using mono. 
</I>&gt;<i> 
</I>&gt;<i> For the &quot;Main&quot; of my HelloWorld.exe application, this dynamically generated
</I>&gt;<i> IL code gets compiled to a function that in turn makes a call to the
</I>&gt;<i> runtime's function called &quot;mono_ldftn&quot;(load function token), which
</I>&gt;<i> eventually goes on to compile my HelloWorld.exe's &quot;Main&quot;. 
</I>&gt;<i> If we know the managed application's entry point method(&quot;Main&quot;) why don't we
</I>&gt;<i> compile and call it directly? Why do we create a function which in turn
</I>&gt;<i> calls the entry point method? 
</I>&gt;<i> 
</I>&gt;<i> I found that this mechanism is used for certain other functions too(some of
</I>&gt;<i> which are functions that support opcode emulation). What's basis for
</I>&gt;<i> deciding which functions in the runtime will need this dynamic IL wrapper
</I>&gt;<i> mechanism?
</I>&gt;<i> 
</I>&gt;<i> Any pointers to this please..
</I>&gt;<i> Hope the question is clear, if not I guess I'll write a longer email with
</I>&gt;<i> more details....
</I>&gt;<i> 
</I>&gt;<i> TIA
</I>&gt;<i> Vivek
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="014776.html">[Mono-list] Why mono_marshal_get_runtime_invoke() ?
</A></li>
	<LI> Next message: <A HREF="014902.html">AW: [Mono-list] Why mono_marshal_get_runtime_invoke() ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14778">[ date ]</a>
              <a href="thread.html#14778">[ thread ]</a>
              <a href="subject.html#14778">[ subject ]</a>
              <a href="author.html#14778">[ author ]</a>
         </LI>
       </UL>
</body></html>
