<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] A couple of SWF questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20A%20couple%20of%20SWF%20questions&In-Reply-To=1141743509.11890.47.camel%40mrwibble.mrwobble">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030859.html">
   <LINK REL="Next"  HREF="030865.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] A couple of SWF questions</H1>
    <B>Brian Pickles</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20A%20couple%20of%20SWF%20questions&In-Reply-To=1141743509.11890.47.camel%40mrwibble.mrwobble"
       TITLE="[Mono-list] A couple of SWF questions">brian at bsquaredsen.co.uk
       </A><BR>
    <I>Tue Mar  7 11:35:23 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="030859.html">[Mono-list] A couple of SWF questions
</A></li>
        <LI>Next message: <A HREF="030865.html">[Mono-list] A couple of SWF questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30863">[ date ]</a>
              <a href="thread.html#30863">[ thread ]</a>
              <a href="subject.html#30863">[ subject ]</a>
              <a href="author.html#30863">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Paul,

Your program seems to work fine in VisualStudio 2005.

Address label appears but is truncated because the size you set is too short
(90 rather than 72 displays it all).
KeyPress is being entered.

I hope this is helpfull but probably not.

Brian


On 3/7/06, Paul F. Johnson &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">paul at all-the-johnsons.co.uk</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> The code attached works fine with Mono. VC# moans like crazy and I'm not
</I>&gt;<i> sure why - comments would be welcome.
</I>&gt;<i>
</I>&gt;<i> The code also has 2 problems. The first is that then Address label
</I>&gt;<i> doesn't appear and it should (could someone confirm this so that I can
</I>&gt;<i> file it in Bugzilla) and the second is the KeyPress event for the
</I>&gt;<i> NumberBox is being ignored (from what I can see). Again, if someone can
</I>&gt;<i> confirm this, I'd appreciate it.
</I>&gt;<i>
</I>&gt;<i> The code compiles without a hitch under Mono 1.1.13. I'm using the
</I>&gt;<i> Fedora Core RPMs over the build from source (don't ask).
</I>&gt;<i>
</I>&gt;<i> Sorry about the length...
</I>&gt;<i>
</I>&gt;<i> using System.Windows.Forms;
</I>&gt;<i> using System.ComponentModel;
</I>&gt;<i> using System.Collections;
</I>&gt;<i> using System.Drawing;
</I>&gt;<i>
</I>&gt;<i> public class testwindow : Form
</I>&gt;<i> {
</I>&gt;<i>   private Label ServerAddress;
</I>&gt;<i>   private Label Address;
</I>&gt;<i>   private Label User;
</I>&gt;<i>   private Label Pass;
</I>&gt;<i>   private Button Connect;
</I>&gt;<i>   private TextBox Username;
</I>&gt;<i>   private TextBox Password;
</I>&gt;<i>   private ComboBox IPAddress;
</I>&gt;<i>   private NumberBox[] IP;
</I>&gt;<i>
</I>&gt;<i>   private GroupBox box;
</I>&gt;<i>
</I>&gt;<i>   private StatusBar StateBar;
</I>&gt;<i>   private ProgressBar Progress;
</I>&gt;<i>   private Label Connection;
</I>&gt;<i>
</I>&gt;<i>   private System.ComponentModel.Container components = null;
</I>&gt;<i>
</I>&gt;<i>   private testwindow()
</I>&gt;<i>   {
</I>&gt;<i>     InitializeComponent();
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i>   protected override void Dispose(bool disposing)
</I>&gt;<i>   {
</I>&gt;<i>     if (disposing)
</I>&gt;<i>     {
</I>&gt;<i>       if (components != null)
</I>&gt;<i>       {
</I>&gt;<i>         components.Dispose();
</I>&gt;<i>       }
</I>&gt;<i>     }
</I>&gt;<i>     base.Dispose(disposing);
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i>   private void InitializeComponent()
</I>&gt;<i>   {
</I>&gt;<i>     this.SuspendLayout();
</I>&gt;<i>
</I>&gt;<i>     this.Size = new Size(300, 150);
</I>&gt;<i>     this.Text = &quot;Server connection&quot;;
</I>&gt;<i>
</I>&gt;<i>     this.ServerAddress = new Label();
</I>&gt;<i>     this.ServerAddress.Size = new Size(72, 12);
</I>&gt;<i>     this.ServerAddress.Name = &quot;address&quot;;
</I>&gt;<i>     this.ServerAddress.Text = &quot;Server Address&quot;;
</I>&gt;<i>     this.ServerAddress.Location = new Point(11, 14);
</I>&gt;<i>     this.ServerAddress.TabIndex = 0;
</I>&gt;<i>
</I>&gt;<i>     this.IPAddress = new ComboBox();
</I>&gt;<i>     this.IPAddress.DropDownStyle = ComboBoxStyle.DropDownList;
</I>&gt;<i>     this.IPAddress.BackColor = Color.White;
</I>&gt;<i>     this.IPAddress.ForeColor = Color.Black;
</I>&gt;<i>     this.IPAddress.Size = new Size(160, 8);
</I>&gt;<i>     this.IPAddress.Name = &quot;ipaddress&quot;;
</I>&gt;<i>     this.IPAddress.Location = new Point(100, 12);
</I>&gt;<i>     this.IPAddress.Items.Add(&quot;Localhost&quot;);
</I>&gt;<i>     this.IPAddress.Items.Add(&quot;Other&quot;);
</I>&gt;<i>     this.IPAddress.SelectedIndex = 0;
</I>&gt;<i>     this.IPAddress.SelectedIndexChanged += new
</I>&gt;<i> System.EventHandler(this.IPAddress_SelectedIndexChanged);
</I>&gt;<i>     this.IPAddress.TabIndex = 1;
</I>&gt;<i>
</I>&gt;<i>     this.Address = new Label();
</I>&gt;<i>     this.Address.Size = new Size (72, 12);
</I>&gt;<i>     this.Address.Name = &quot;numaddr&quot;;
</I>&gt;<i>     this.Address.Text = &quot;IP Address&quot;;
</I>&gt;<i>     this.Address.Enabled = false;
</I>&gt;<i>     this.Address.Location = new Point(11, 36);
</I>&gt;<i>     this.Address.TabIndex = 2;
</I>&gt;<i>
</I>&gt;<i>     this.IP = new NumberBox[4];
</I>&gt;<i>     for (int i = 0; i &lt; 4; ++i)
</I>&gt;<i>     {
</I>&gt;<i>       this.IP[i] = new NumberBox();
</I>&gt;<i>       this.IP[i].Size = new Size(44, 8);
</I>&gt;<i>       this.IP[i].Enabled = false;
</I>&gt;<i>       this.IP[i].Location = new Point(100 + (48 * i), 34);
</I>&gt;<i>       this.IP[i].TabIndex = 3 + i;
</I>&gt;<i>       this.IP[i].MaxLength = 3;
</I>&gt;<i>     }
</I>&gt;<i>
</I>&gt;<i>     this.User = new Label();
</I>&gt;<i>     this.User.Size = new Size(54, 12);
</I>&gt;<i>     this.User.Name = &quot;user&quot;;
</I>&gt;<i>     this.User.Text = &quot;Username&quot;;
</I>&gt;<i>     this.User.Location = new Point(11, 64);
</I>&gt;<i>     this.User.TabIndex = 7;
</I>&gt;<i>
</I>&gt;<i>     this.Username = new TextBox();
</I>&gt;<i>     this.Username.Size = new Size(80, 8);
</I>&gt;<i>     this.Username.Name = &quot;username&quot;;
</I>&gt;<i>     this.Username.Location = new Point(70, 62);
</I>&gt;<i>     this.Username.TextChanged += new
</I>&gt;<i> System.EventHandler(this.Username_TextChanged);
</I>&gt;<i>     this.Username.TabIndex = 8;
</I>&gt;<i>
</I>&gt;<i>     this.Pass = new Label();
</I>&gt;<i>     this.Pass.Size = new Size(48, 12);
</I>&gt;<i>     this.Pass.Name = &quot;pass&quot;;
</I>&gt;<i>     this.Pass.Text = &quot;Password&quot;;
</I>&gt;<i>     this.Pass.Location = new Point(150, 64);
</I>&gt;<i>     this.Pass.TabIndex = 9;
</I>&gt;<i>
</I>&gt;<i>     this.Password = new TextBox();
</I>&gt;<i>     this.Password.Size = new Size(80, 12);
</I>&gt;<i>     this.Password.Name = &quot;password&quot;;
</I>&gt;<i>     this.Password.PasswordChar = (char)'*';
</I>&gt;<i>     this.Password.Location = new Point (200, 62);
</I>&gt;<i>     this.Password.TextChanged += new
</I>&gt;<i> System.EventHandler(this.Password_TextChanged);
</I>&gt;<i>     this.Password.TabIndex = 10;
</I>&gt;<i>
</I>&gt;<i>     this.box = new GroupBox();
</I>&gt;<i>     this.box.SuspendLayout();
</I>&gt;<i>     this.box.Controls.AddRange(new Control[]
</I>&gt;<i>         {this.ServerAddress, this.IPAddress, this.Address, this.IP[0],
</I>&gt;<i>          this.IP[1], this.IP[2], this.IP[3], this.User, this.Username,
</I>&gt;<i>          this.Pass, this.Password});
</I>&gt;<i>     this.box.Location = new Point(8, 4);
</I>&gt;<i>     this.box.Name = &quot;groupbox&quot;;
</I>&gt;<i>     this.box.Size = new Size(290, 86);
</I>&gt;<i>     this.box.Text = &quot;Connection details&quot;;
</I>&gt;<i>     this.box.TabIndex = 11;
</I>&gt;<i>
</I>&gt;<i>     this.Connect = new Button();
</I>&gt;<i>     this.Connect.Size = new Size(70, 20);
</I>&gt;<i>     this.Connect.Name = &quot;connect&quot;;
</I>&gt;<i>     this.Connect.Enabled = false;
</I>&gt;<i>     this.Connect.Text = &quot;Connect&quot;;
</I>&gt;<i>     this.Connect.Location = new Point (200, 100);
</I>&gt;<i>     this.Connect.Click += new System.EventHandler(this.Connect_Click);
</I>&gt;<i>     this.Connect.TabIndex = 12;
</I>&gt;<i>
</I>&gt;<i>     this.StateBar = new StatusBar();
</I>&gt;<i>     this.StateBar.Location = new Point(0, 130);
</I>&gt;<i>     this.StateBar.Height = 20;
</I>&gt;<i>     this.StateBar.Name = &quot;status&quot;;
</I>&gt;<i>     this.StateBar.ForeColor = Color.Blue;
</I>&gt;<i>     this.StateBar.Text = &quot;Disconnected&quot;;
</I>&gt;<i>     this.StateBar.TabIndex = 13;
</I>&gt;<i>
</I>&gt;<i>     this.Connection = new Label();
</I>&gt;<i>     this.Connection.Size = new Size(50, 12);
</I>&gt;<i>     this.Connection.Text = &quot;Progress&quot;;
</I>&gt;<i>     this.Connection.Enabled = false;
</I>&gt;<i>     this.Connection.Name = &quot;connprog&quot;;
</I>&gt;<i>     this.Connection.Location = new Point(11, 106);
</I>&gt;<i>     this.Connection.TabIndex = 14;
</I>&gt;<i>
</I>&gt;<i>     this.Progress = new ProgressBar();
</I>&gt;<i>     this.Progress.Location = new Point(68,100);
</I>&gt;<i>     this.Progress.Minimum = 0;
</I>&gt;<i>     this.Progress.Step = 1;
</I>&gt;<i>     this.Progress.Maximum = 10;
</I>&gt;<i>     this.Progress.Name = &quot;progbar&quot;;
</I>&gt;<i>     this.Progress.Enabled = false;
</I>&gt;<i>     this.Progress.TabIndex = 15;
</I>&gt;<i>
</I>&gt;<i>     this.AutoScaleBaseSize = new System.Drawing.Size(5, 13);
</I>&gt;<i>     this.Controls.AddRange(new Control[] {this.box,
</I>&gt;<i>                                           this.Connect, this.Connection,
</I>&gt;<i>                                           this.StateBar, this.Progress,
</I>&gt;<i>                                           this.Address});
</I>&gt;<i>     this.box.ResumeLayout();
</I>&gt;<i>     this.ResumeLayout();
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i>   public static void Main()
</I>&gt;<i>   {
</I>&gt;<i>     testwindow t = new testwindow();
</I>&gt;<i>     Application.Run(t);
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i>   private void Password_TextChanged(object sender, System.EventArgs e)
</I>&gt;<i>   {
</I>&gt;<i>     if (Username.Text.Length &gt; 0 &amp;&amp; Password.Text.Length &gt; 0)
</I>&gt;<i>       Connect.Enabled = true;
</I>&gt;<i>     else
</I>&gt;<i>       Connect.Enabled = false;
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i>   private void Username_TextChanged(object sender, System.EventArgs e)
</I>&gt;<i>   {
</I>&gt;<i>     if (Username.Text.Length &gt; 0 &amp;&amp; Password.Text.Length &gt; 0)
</I>&gt;<i>       Connect.Enabled = true;
</I>&gt;<i>     else
</I>&gt;<i>       Connect.Enabled = false;
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i>   private void IPAddress_SelectedIndexChanged(object sender,
</I>&gt;<i> System.EventArgs e)
</I>&gt;<i>   {
</I>&gt;<i>     Address.Enabled = IPAddress.SelectedIndex == 1 ? true : false;
</I>&gt;<i>     for (int i = 0; i &lt; 4; ++i)
</I>&gt;<i>     {
</I>&gt;<i>       IP[i].Enabled = IPAddress.SelectedIndex == 1 ? true : false;
</I>&gt;<i>     }
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i>   private void Connect_Click(object sender, System.EventArgs e)
</I>&gt;<i>   {
</I>&gt;<i>   }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> class NumberBox : TextBox
</I>&gt;<i> {
</I>&gt;<i>   public NumberBox()
</I>&gt;<i>   {
</I>&gt;<i>     this.KeyPress += new KeyPressEventHandler(NumberBox_KeyPress);
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i>   private void NumberBox_KeyPress(object sender, KeyPressEventArgs kpe)
</I>&gt;<i>   {
</I>&gt;<i>     int KeyCode = (int)kpe.KeyChar;
</I>&gt;<i>     if (!IsNumberInRange(KeyCode, 48, 57) &amp;&amp; KeyCode != 8)
</I>&gt;<i>       kpe.Handled = true;
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i>   private bool IsNumberInRange(int Val, int Min, int Max)
</I>&gt;<i>   {
</I>&gt;<i>     return (Val &gt;= Min &amp;&amp; Val &lt;= Max);
</I>&gt;<i>   }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> TTFN
</I>&gt;<i>
</I>&gt;<i> Paul
</I>&gt;<i> --
</I>&gt;<i> &quot;Logic, my dear Zoe, is merely the ability to be wrong with authority&quot; -
</I>&gt;<i> Dr Who
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>


--
Brian Pickles
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20060307/16b7f415/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20060307/16b7f415/attachment.html</A>
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030859.html">[Mono-list] A couple of SWF questions
</A></li>
	<LI>Next message: <A HREF="030865.html">[Mono-list] A couple of SWF questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30863">[ date ]</a>
              <a href="thread.html#30863">[ thread ]</a>
              <a href="subject.html#30863">[ subject ]</a>
              <a href="author.html#30863">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
