<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mod_mono doesn't work
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mod_mono%20doesn%27t%20work&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030916.html">
   <LINK REL="Next"  HREF="030922.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mod_mono doesn't work</H1>
    <B>Matthias Leonhardt</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mod_mono%20doesn%27t%20work&In-Reply-To="
       TITLE="[Mono-list] mod_mono doesn't work">mono at mleo.net
       </A><BR>
    <I>Sat Mar 11 12:33:35 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="030916.html">[Mono-list] Re: Mono and LVS...
</A></li>
        <LI>Next message: <A HREF="030922.html">[Mono-list] Re: mod_mono doesn't work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30919">[ date ]</a>
              <a href="thread.html#30919">[ thread ]</a>
              <a href="subject.html#30919">[ subject ]</a>
              <a href="author.html#30919">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

within the last days I tried to get mod_mono working with my Apache2
(2.0.49, SuSE9.0).
I have a working Mono installation (1.1.13). I tested the mod_mono from
RPM and I now compiled it for myself.
The module is definitly loaded at start of apache2 but the handler isn't
used anytime. I switched the debugging in the module to on and it
doesn't matter, what I write to mod_mono.conf (i tested
MonoAutoApplication enabled or disabled, SetHandler mono in various
positions - the requested URL doesn't use the mono-handler anywhere).
I've installed many other apache installations and -modules so I know
the syntax and backgrounds of the apache config directives like
&lt;directory&gt; or &lt;location&gt;...

thanks for your help!

kind regards,
Matthias Leonhardt
<A HREF="http://www.happyarts.net">http://www.happyarts.net</A>

I added more debugging code to mod_mono.c:

_____
static int
mono_handler (request_rec *r)
{
        module_cfg *config;

        if (r-&gt;handler != NULL)
        {
                DEBUG_PRINT (1, &quot;current handler: %s&quot;, r-&gt;handler);
        }

        if (r-&gt;handler != NULL &amp;&amp; !strcmp (r-&gt;handler, &quot;mono&quot;)) {
                DEBUG_PRINT (1, &quot;mono-handler: %s&quot;, r-&gt;handler);
                return mono_execute_request (r, FALSE);
        }

________
as you see, I'm logging the handler if set - but there is never a string
in it - it seems that r-&gt;handler holds a pointer or anything comparable
but never a string like &quot;mono&quot;.
The module uses the apache includes in /usr/include/apache2 which are
from the default apache2-devel.rpm.


[Sat Mar 11 18:18:07 2006] [warn] current handler: \xa0\xa60\b\x0c
[Sat Mar 11 18:18:07 2006] [warn] current handler: 0\x071\b\x0c
[Sat Mar 11 18:18:07 2006] [warn] current handler: \xa8\xc60\b\x0c
[Sat Mar 11 18:18:08 2006] [warn] Mono Child Init
[Sat Mar 11 18:18:08 2006] [warn] Socket file name
/tmp/mod_mono_server_happyarts.net
[Sat Mar 11 18:18:08 2006] [warn] try_connect: 0
[Sat Mar 11 18:18:08 2006] [warn] connected myserver.name
[Sat Mar 11 18:18:08 2006] [warn] current handler: \xa0\xa60\b\x0c
[Sat Mar 11 18:18:08 2006] [warn] Mono Child Init
[Sat Mar 11 18:18:08 2006] [warn] Socket file name
/tmp/mod_mono_server_happyarts.net
[Sat Mar 11 18:18:08 2006] [warn] try_connect: 0
[Sat Mar 11 18:18:08 2006] [warn] connected happyarts.net
[Sat Mar 11 18:18:08 2006] [warn] current handler: \xa0\xa60\b\x0c
[Sat Mar 11 18:18:08 2006] [warn] Mono Child Init
[Sat Mar 11 18:18:08 2006] [warn] Socket file name
/tmp/mod_mono_server_happyarts.net
[Sat Mar 11 18:18:08 2006] [warn] try_connect: 0
[Sat Mar 11 18:18:08 2006] [warn] connected happyarts.net
[Sat Mar 11 18:18:08 2006] [warn] Mono Child Init
[Sat Mar 11 18:18:08 2006] [warn] Socket file name
/tmp/mod_mono_server_happyarts.net
[Sat Mar 11 18:18:08 2006] [warn] try_connect: 0
[Sat Mar 11 18:18:15 2006] [warn] try_connect: 0
[Sat Mar 11 18:18:15 2006] [warn] connected myserver.name
[Sat Mar 11 18:18:15 2006] [warn] current handler: \xa8\xc60\b\x0c
[Sat Mar 11 18:18:17 2006] [warn] current handler: \xa8\xc60\b\x0c
[Sat Mar 11 18:18:18 2006] [warn] current handler: \xb0\xe60\b\x0c
[Sat Mar 11 18:18:18 2006] [warn] current handler: \x90j5\b\x0c
[Sat Mar 11 18:18:18 2006] [warn] current handler: \xa0\xa60\b\x0c
[Sat Mar 11 18:18:18 2006] [warn] current handler: \bL5\b\x0c
[Sat Mar 11 18:18:19 2006] [warn] current handler: \xa8G5\b\x0c
[Sat Mar 11 18:18:20 2006] [warn] current handler: \xa8\xc60\b\x0c
[Sat Mar 11 18:18:21 2006] [warn] current handler: \xa0\xa60\b\x0c
[Sat Mar 11 18:18:22 2006] [warn] current handler: \xb8G5\b\x0c
[Sat Mar 11 18:18:22 2006] [warn] current handler: \xc0G5\b\x0c
[Sat Mar 11 18:18:23 2006] [warn] current handler: \xa8\xc60\b\x0c
[Sat Mar 11 18:18:23 2006] [warn] current handler: \xa0\xa60\b\x0c
[Sat Mar 11 18:18:23 2006] [warn] current handler: \xb0\xe60\b\x0c

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030916.html">[Mono-list] Re: Mono and LVS...
</A></li>
	<LI>Next message: <A HREF="030922.html">[Mono-list] Re: mod_mono doesn't work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30919">[ date ]</a>
              <a href="thread.html#30919">[ thread ]</a>
              <a href="subject.html#30919">[ subject ]</a>
              <a href="author.html#30919">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
