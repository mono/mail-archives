<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Question about encoding and tricky stuff.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Question%20about%20encoding%20and%20tricky%20stuff.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045679.html">
   <LINK REL="Next"  HREF="045685.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Question about encoding and tricky stuff.</H1>
    <B>Rampage</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Question%20about%20encoding%20and%20tricky%20stuff.&In-Reply-To="
       TITLE="[Mono-list] Question about encoding and tricky stuff.">atomikramp at email.it
       </A><BR>
    <I>Mon Aug 23 09:14:36 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="045679.html">[Mono-list] StyleCop on Mono
</A></li>
        <LI>Next message: <A HREF="045685.html">[Mono-list] Question about encoding and tricky stuff.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45684">[ date ]</a>
              <a href="thread.html#45684">[ thread ]</a>
              <a href="subject.html#45684">[ subject ]</a>
              <a href="author.html#45684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello everyone

i'm going to use an example to show you what i'm trying to do, i know that
by the example it may appear that it can be done in an alternative way, but
about the console command it's mandatory for me to use it, so here goes my
situation.

suppose that i have a BINARY file.
if from terminal i do something like
# cat binaryfile &gt; newbinaryfile

i obtain that newbinaryfile == binaryfile as the two files are exactly the
same.

let's say that the file is an image file.

for reason i'm not going to explain here couse it would take long, i need to
rely on cat for my purposes.

so i've written a method like this:

------------------------------------------------------
                public string StartProcess(string sProgram, string
sArguments)
		{
			Process prc = new Process();
			prc.StartInfo.UseShellExecute = false;
			prc.StartInfo.FileName = sProgram;
			prc.StartInfo.Arguments = sArguments;
			prc.StartInfo.RedirectStandardOutput = true;
			prc.Start();
			
			string stdout;
			stdout = prc.StandardOutput.ReadToEnd();
			return stdout;
		}

------------------------------------------------------

so that by invokint:
StartProcess(&quot;cat&quot;, &quot;binaryfile&quot;);
i can fork the process.

the problem is that when i use the Process class StandardOutput is returned
as a string, wich is subject to encoding.

so if for some reasons i would like to take for example a binary image file
(a jpg or png or something else)
and do something like

-----------------------------------------------------------------------------
string sOutput = StartProcess(&quot;cat&quot;, picture.png&quot;);
byte[] imagebytes = System.Text.Encoding.Default.GetBytes(sOutput);

Gdk.Pixbuf pb = new Gdk.PixBuf(imagebytes);

Image img = new Image(pb);
--------------------------------------------------------------------------------

the program returns me with an exception saying that the file format for the
pixbuf is not valid.

so i was wondering, is there a way to fork a terminal process and obtain the
output as raw? or have it encoded so that informations are not lost?

Thanks in advice.


-- 
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Question-about-encoding-and-tricky-stuff-tp2335084p2335084.html">http://mono.1490590.n4.nabble.com/Question-about-encoding-and-tricky-stuff-tp2335084p2335084.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045679.html">[Mono-list] StyleCop on Mono
</A></li>
	<LI>Next message: <A HREF="045685.html">[Mono-list] Question about encoding and tricky stuff.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45684">[ date ]</a>
              <a href="thread.html#45684">[ thread ]</a>
              <a href="subject.html#45684">[ subject ]</a>
              <a href="author.html#45684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
