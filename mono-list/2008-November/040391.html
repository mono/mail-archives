<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] ldtoken with ByRef, question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20ldtoken%20with%20ByRef%2C%20question&In-Reply-To=20629989.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040389.html">
   <LINK REL="Next"  HREF="040393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] ldtoken with ByRef, question</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20ldtoken%20with%20ByRef%2C%20question&In-Reply-To=20629989.post%40talk.nabble.com"
       TITLE="[Mono-list] ldtoken with ByRef, question">kumpera at gmail.com
       </A><BR>
    <I>Fri Nov 21 16:58:37 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="040389.html">[Mono-list] ldtoken with ByRef, question
</A></li>
        <LI>Next message: <A HREF="040393.html">[Mono-list] ldtoken with ByRef, question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40391">[ date ]</a>
              <a href="thread.html#40391">[ thread ]</a>
              <a href="subject.html#40391">[ subject ]</a>
              <a href="author.html#40391">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>As you have found out ldtoken can only reference types and not type
signatures.

Could you post an example of you test that throws an exception under MS and
not under mono, please?

Thanks,
Rodrigo


On Fri, Nov 21, 2008 at 7:42 PM, DraconisBG &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">draconisbg at yahoo.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> Well I solved it via calling MakeByRef, too bad it doesnt work when run on
</I>&gt;<i> MS.NET:
</I>&gt;<i>
</I>&gt;<i>  if (argtypes[j].IsByRef)
</I>&gt;<i>  {
</I>&gt;<i>    ilgen.Emit(OpCodes.Call, makeByRefType);
</I>&gt;<i>  }
</I>&gt;<i>
</I>&gt;<i> I realized ldtoken cant produce int32&amp;, as ByRef is actually nothing else
</I>&gt;<i> than an address.
</I>&gt;<i>
</I>&gt;<i> The above solution runs on Mono properly. MS.NET throws a
</I>&gt;<i> NotSupportedException, saying that &quot;MakeByRefType&quot; is not supported for the
</I>&gt;<i> class...
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://www.nabble.com/ldtoken-with-ByRef%2C-question-tp20629727p20629989.html">http://www.nabble.com/ldtoken-with-ByRef%2C-question-tp20629727p20629989.html</A>
</I>&gt;<i> Sent from the Mono - General mailing list archive at Nabble.com.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20081121/e0e78d9c/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20081121/e0e78d9c/attachment.html</A> 
</PRE>
































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040389.html">[Mono-list] ldtoken with ByRef, question
</A></li>
	<LI>Next message: <A HREF="040393.html">[Mono-list] ldtoken with ByRef, question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40391">[ date ]</a>
              <a href="thread.html#40391">[ thread ]</a>
              <a href="subject.html#40391">[ subject ]</a>
              <a href="author.html#40391">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
