<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mono.Simd - Phylosophical comments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono.Simd%20-%20Phylosophical%20comments&In-Reply-To=8cca42d80811161318v533a2cedwa7241b7794b2ba51%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040339.html">
   <LINK REL="Next"  HREF="040340.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mono.Simd - Phylosophical comments</H1>
    <B>efortin</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono.Simd%20-%20Phylosophical%20comments&In-Reply-To=8cca42d80811161318v533a2cedwa7241b7794b2ba51%40mail.gmail.com"
       TITLE="[Mono-list] Mono.Simd - Phylosophical comments">etienne.fortin at sympatico.ca
       </A><BR>
    <I>Mon Nov 17 12:19:24 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="040339.html">[Mono-list] Mono.Simd - Phylosophical comments
</A></li>
        <LI>Next message: <A HREF="040340.html">[Mono-list] Mono.Simd - Phylosophical comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40338">[ date ]</a>
              <a href="thread.html#40338">[ thread ]</a>
              <a href="subject.html#40338">[ subject ]</a>
              <a href="author.html#40338">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>


Rodrigo Kumpera wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1) Why calling it something that ties it to the underlying technology
</I>&gt;&gt;<i> used?
</I>&gt;&gt;<i> Why not calling it Mono.Math.Advanced, or Mono.Math.Vectors, or
</I>&gt;&gt;<i> Mono.Math.Matrix? It doesn't have a big impact and it's just a question
</I>&gt;&gt;<i> of
</I>&gt;&gt;<i> taste I guess, but I find that Mono.Simd relates too much to the
</I>&gt;&gt;<i> implementation technology.
</I>&gt;<i> 
</I>&gt;<i> The idea is to expose the Single Instruction Multiple Data extensions of
</I>&gt;<i> modern cpus.
</I>&gt;<i> It's not specific to vector or matrix math as it can be used with
</I>&gt;<i> cryptography and image
</I>&gt;<i> processing with the same degree of success.
</I>&gt;<i> 
</I>&gt;<i> 
</I>
With your explanation, now I understand better the scope of this effort.
It'll be building blocks for higher level libraries to build on. However, I
would still make it less tightly linked with the underlying hardware. Two
examples : AccelMode mention SSEx. I would rater take an abstract approach
and make, for example, an &quot;Hardware Acceleration Capabilities Flags&quot; (packed
byte addition, packed float additions). A certain &quot;signature&quot; would be
equivalent to a certain SSEx version. However, these flags would be usable
for any SIMD technology (x86, Altivec, Larabee, and any other in the
future). Maybe hard to factorize these capabilities though.

Second example is the types themselves. They make assumption of 128-bits
wide SSE units, very specific to a particular technology. But what about
256-bits units (Larabee for example)? What about Altivec? What about the
Cell processor (why not)? What about GPGPU (why not as well)? That's why I
was talking about generics and making it abstract enough to hide these
things and open-up the vector hardware of modern processing units. 


Rodrigo Kumpera wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Generics would pose some of very complicated problems to solve, such as
</I>&gt;<i> the default implementation (can't do math over generic arguments), and
</I>&gt;<i> confusion
</I>&gt;<i> with the users as to what would get accelerated or not. The second issue
</I>&gt;<i> is
</I>&gt;<i> due to the
</I>&gt;<i> fact that not all operations are available for all element types and the
</I>&gt;<i> vector unit is 128 bits
</I>&gt;<i> long - so a Vector16&lt;double&gt; would not flight.
</I>&gt;<i> 
</I>&gt;<i> 
</I>
I think there'll be confusion anyway as not all users will have the same
hardware in the current state of how the library is made. So not all the
same methods will be accelerated. Besides, there's already a facility to get
if a method is accelerated or not in Mono.Simd as it is right now. The same
could be used. 

As for your example, a Vector16&lt;double&gt; may not flight, but the Vector16&lt;T&gt;
type can do with the hardware it has to accelerate it as much as it can,
doing multiple passes if needed. Personally, but I'm still no expert in the
backbone of the Mono runtime, I don't see any big issue. 


Rodrigo Kumpera wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> 3) I would add more high level constructs like Matrix that make use of
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> SIMD hardware.
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> We first need to expose a rich and usable set of intrinsics to what SSE
</I>&gt;<i> currently has.
</I>&gt;<i> Once we do finish with that, we might look at exposing more high level
</I>&gt;<i> functionality.
</I>&gt;<i> 
</I>&gt;<i> On the other hand, such experimentation should happens outside of
</I>&gt;<i> Mono.Simd
</I>&gt;<i> to be
</I>&gt;<i> more agile and not bound to mono's own release schedule.
</I>&gt;<i> 
</I>&gt;<i> 
</I>
Understood, and I'm perfectly in sync with that. 


Etienne

-- 
View this message in context: <A HREF="http://www.nabble.com/Mono.Simd---Phylosophical-comments-tp20503986p20543815.html">http://www.nabble.com/Mono.Simd---Phylosophical-comments-tp20503986p20543815.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040339.html">[Mono-list] Mono.Simd - Phylosophical comments
</A></li>
	<LI>Next message: <A HREF="040340.html">[Mono-list] Mono.Simd - Phylosophical comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40338">[ date ]</a>
              <a href="thread.html#40338">[ thread ]</a>
              <a href="subject.html#40338">[ subject ]</a>
              <a href="author.html#40338">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
