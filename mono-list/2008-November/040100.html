<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mod_mono process list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mod_mono%20process%20list&In-Reply-To=490B306C.2090706%40occams.info">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040119.html">
   <LINK REL="Next"  HREF="040157.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mod_mono process list</H1>
    <B>Ben Clewett</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mod_mono%20process%20list&In-Reply-To=490B306C.2090706%40occams.info"
       TITLE="[Mono-list] mod_mono process list">ben at roadrunner.uk.com
       </A><BR>
    <I>Mon Nov  3 04:28:49 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="040119.html">[Mono-list] Fast Passing Strings to Interop without Marshaling
</A></li>
        <LI>Next message: <A HREF="040157.html">[Mono-list] mod_mono process list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40100">[ date ]</a>
              <a href="thread.html#40100">[ thread ]</a>
              <a href="subject.html#40100">[ subject ]</a>
              <a href="author.html#40100">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Jo Josh,

Thanks for your advise.

In this case there is only one instance of the mod_mono handler, and it 
it not restarting, I am sure of this.  The lock casing process delay is 
probably in our code-space.  However it's nearly impossibly to work out 
what mod_mono is handling at any one time.

Therefore I have to obtain a list of what mod_mono is calling so I can 
trace our problem.

(I don't know it attachments work on this, but I have enclosed a graph 
showing how our mod_mono process count just goes up and up until the 
server crashes.)

I may have to look at the mod_mono source code to try and get a result 
if non is available now!

(Which will also allow me to make an XML version of the mod_mono Control 
Panel for easier reading of the displayed metrics in 2.0.1...)

Thanks for the advise,

Ben



Joshua Tauberer wrote:
&gt;<i> Ben Clewett wrote:
</I>&gt;&gt;<i> We are experiencing a scenario where the number of running processes 
</I>&gt;&gt;<i> under mod_mono will ramp up quite fast from near zero to 60 or 70, then 
</I>&gt;&gt;<i> return to zero some time soon afterwards.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We suspect that we have something locking the processes, causing this 
</I>&gt;&gt;<i> behaviour, but can't find anything.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It would be extremely useful if mod_mono or xsp daemon could be queried 
</I>&gt;&gt;<i> in order to list the currently running process, by the external URL 
</I>&gt;&gt;<i> called to mod_mono.  Or maybe this can be done in the webservice c# code?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can any user suggest how this might be done?
</I>&gt;<i> 
</I>&gt;<i> What you're describing is probably mod_mono starting up new 
</I>&gt;<i> mod-mono-server instances when it finds that there's none running and an 
</I>&gt;<i> incoming request needs to be processed. Only one mod-mono-server handles 
</I>&gt;<i> all of the requests (unless it's configured otherwise), so you shouldn't 
</I>&gt;<i> see the number of mod-mono-servers increase according to the number of 
</I>&gt;<i> requests being processed. Except that mod_mono may start a new 
</I>&gt;<i> mod-mono-server for each incoming request until it finds one running.
</I>&gt;<i> 
</I>&gt;<i> I don't remember the details of how this works so I don't have 
</I>&gt;<i> suggestions off hand, though.
</I>&gt;<i> 
</I>&gt;<i> Josh
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> 
</I>


*************************************************************************
This e-mail is confidential and may be legally privileged. It is intended
solely for the use of the individual(s) to whom it is addressed. Any
content in this message is not necessarily a view or statement from Road
Tech Computer Systems Limited but is that of the individual sender. If
you are not the intended recipient, be advised that you have received
this e-mail in error and that any use, dissemination, forwarding,
printing, or copying of this e-mail is strictly prohibited. We use
reasonable endeavours to virus scan all e-mails leaving the company but
no warranty is given that this e-mail and any attachments are virus free.
You should undertake your own virus checking. The right to monitor e-mail
communications through our networks is reserved by us

  Road Tech Computer Systems Ltd. Shenley Hall, Rectory Lane, Shenley,
  Radlett, Hertfordshire, WD7 9AN. - VAT Registration No GB 449 3582 17
  Registered in England No: 02017435, Registered Address: Charter Court, 
  Midland Road, Hemel Hempstead,  Hertfordshire, HP2 5GE. 
*************************************************************************
-------------- next part --------------
A non-text attachment was scrubbed...
Name: graph_mono_proc.png
Type: image/png
Size: 0 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20081103/47b1a02e/attachment-0001.png">http://lists.ximian.com/pipermail/mono-list/attachments/20081103/47b1a02e/attachment-0001.png</A> 
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040119.html">[Mono-list] Fast Passing Strings to Interop without Marshaling
</A></li>
	<LI>Next message: <A HREF="040157.html">[Mono-list] mod_mono process list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40100">[ date ]</a>
              <a href="thread.html#40100">[ thread ]</a>
              <a href="subject.html#40100">[ subject ]</a>
              <a href="author.html#40100">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
