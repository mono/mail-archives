<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list]  Licenses.licx issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20%20Licenses.licx%20issues&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040495.html">
   <LINK REL="Next"  HREF="040493.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list]  Licenses.licx issues</H1>
    <B>Shunyata Kharg</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20%20Licenses.licx%20issues&In-Reply-To="
       TITLE="[Mono-list]  Licenses.licx issues">shunyata.kharg at gmail.com
       </A><BR>
    <I>Fri Nov 28 06:10:08 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="040495.html">[Mono-list] MDBTools installation failed
</A></li>
        <LI>Next message: <A HREF="040493.html">[Mono-list]  How to get the DNS server address?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40492">[ date ]</a>
              <a href="thread.html#40492">[ thread ]</a>
              <a href="subject.html#40492">[ subject ]</a>
              <a href="author.html#40492">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello!

I have a .net dll built under windows .NET which implements the
LicenseProviderAttribute class. Under windows .NET, I can do the following:

lc /target:helloworld.exe /complist:licenses.licx /i:mylibrary.dll
csc /reference:mylibrary.dll /resource:helloworld.exe.licenses helloworld.cs

where lc.exe is the &quot;License Compiler&quot;. This produces an executable,
helloworld.exe, which I can run under windows .NET without the need for
either the public or private license-enabling registry keys to be present in
the registry. However, when I try and run this executable under Mono, I get
the following error:

Unhandled Exception: System.ComponentModel.LicenseException: A system
exception has occurred.
  at System.ComponentModel.LicenseManager.Validate (System.Type type,
System.Object instance) [0x00000] 

The only way I can get helloworld.exe to run under Mono is to install the
private registry key of the license. I think the issue is related to the way
Mono implements the method
System.ComponentModel.Design.RuntimeLicenseContext.GetSavedLicenseKey. Under
windows .NET, this method checks the manifest resources of all assemblies in
the domain for the existence of the embedded licenses.licx. Under Mono, this
does not happen. It seems that under Mono, the license key somehow has to be
previously assigned using the
System.ComponentModel.Design.RuntimeLicenseContext.SetSavedLicenseKey
method. Can anybody please give me some more details on how this is supposed
to work?

The other thing I would like to know, if possible, is: does Mono ship with
an equivalent of lc.exe which I can use to compile in the licenses.licx file
when building assemblies under Mono? 

Thank you in advance for any comments.
-- 
View this message in context: <A HREF="http://www.nabble.com/Licenses.licx-issues-tp20732636p20732636.html">http://www.nabble.com/Licenses.licx-issues-tp20732636p20732636.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040495.html">[Mono-list] MDBTools installation failed
</A></li>
	<LI>Next message: <A HREF="040493.html">[Mono-list]  How to get the DNS server address?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40492">[ date ]</a>
              <a href="thread.html#40492">[ thread ]</a>
              <a href="subject.html#40492">[ subject ]</a>
              <a href="author.html#40492">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
