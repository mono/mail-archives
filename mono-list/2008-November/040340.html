<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mono.Simd - Phylosophical comments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono.Simd%20-%20Phylosophical%20comments&In-Reply-To=20543815.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040338.html">
   <LINK REL="Next"  HREF="040307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mono.Simd - Phylosophical comments</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono.Simd%20-%20Phylosophical%20comments&In-Reply-To=20543815.post%40talk.nabble.com"
       TITLE="[Mono-list] Mono.Simd - Phylosophical comments">kumpera at gmail.com
       </A><BR>
    <I>Mon Nov 17 12:48:43 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="040338.html">[Mono-list] Mono.Simd - Phylosophical comments
</A></li>
        <LI>Next message: <A HREF="040307.html">[Mono-list] What's in your GAC?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40340">[ date ]</a>
              <a href="thread.html#40340">[ thread ]</a>
              <a href="subject.html#40340">[ subject ]</a>
              <a href="author.html#40340">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Nov 17, 2008 at 3:19 PM, efortin &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">etienne.fortin at sympatico.ca</A>&gt;wrote:

&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Rodrigo Kumpera wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 1) Why calling it something that ties it to the underlying technology
</I>&gt;<i> &gt;&gt; used?
</I>&gt;<i> &gt;&gt; Why not calling it Mono.Math.Advanced, or Mono.Math.Vectors, or
</I>&gt;<i> &gt;&gt; Mono.Math.Matrix? It doesn't have a big impact and it's just a question
</I>&gt;<i> &gt;&gt; of
</I>&gt;<i> &gt;&gt; taste I guess, but I find that Mono.Simd relates too much to the
</I>&gt;<i> &gt;&gt; implementation technology.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The idea is to expose the Single Instruction Multiple Data extensions of
</I>&gt;<i> &gt; modern cpus.
</I>&gt;<i> &gt; It's not specific to vector or matrix math as it can be used with
</I>&gt;<i> &gt; cryptography and image
</I>&gt;<i> &gt; processing with the same degree of success.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> With your explanation, now I understand better the scope of this effort.
</I>&gt;<i> It'll be building blocks for higher level libraries to build on. However, I
</I>&gt;<i> would still make it less tightly linked with the underlying hardware. Two
</I>&gt;<i> examples : AccelMode mention SSEx. I would rater take an abstract approach
</I>&gt;<i> and make, for example, an &quot;Hardware Acceleration Capabilities Flags&quot;
</I>&gt;<i> (packed
</I>&gt;<i> byte addition, packed float additions). A certain &quot;signature&quot; would be
</I>&gt;<i> equivalent to a certain SSEx version. However, these flags would be usable
</I>&gt;<i> for any SIMD technology (x86, Altivec, Larabee, and any other in the
</I>&gt;<i> future). Maybe hard to factorize these capabilities though.
</I>&gt;<i>
</I>
The capabilities model doesn't work with SSE as a given operation
availability is
spread across many revisions of the instruction set. As said before, right
now this
is considered an implementation internal detail.

The fact is that intrinsics availability queries must be done on a per
method basis.
It's a bit unfortunate, but a requirement if you want to squeeze as much
performance as possible.
What I would expect to is that high level tools are build around the query
primitive to automate this task.

If the attributes emerge to be close to a feature the users want, we'll
rework then to be part of the
public interface.

Our design fits reasonable well to general purpose processors with simd
units.
Stream/vector processors with a very different design such as cell or
Larabee are
on our radar, but I don't know if it's possible to design such a library
that's equally
usable and functional over all these chips.


&gt;<i>
</I>&gt;<i> Second example is the types themselves. They make assumption of 128-bits
</I>&gt;<i> wide SSE units, very specific to a particular technology. But what about
</I>&gt;<i> 256-bits units (Larabee for example)? What about Altivec? What about the
</I>&gt;<i> Cell processor (why not)? What about GPGPU (why not as well)? That's why I
</I>&gt;<i> was talking about generics and making it abstract enough to hide these
</I>&gt;<i> things and open-up the vector hardware of modern processing units.
</I>&gt;<i>
</I>&gt;<i>
</I>Right now, our main target is SSE, Altivec/VMX and ARM VFP/Neon which all
maps very well to 128-bits vector types.
Honestly, as much fun extending Mono.Simd to Cell/Larabee/GPGPUs would be,
this is the kind of work
that is of reach for us now for a few reasons.

First we lack enough expertise on these processors as one doesn't use them
in the same way as an ordinary cpu;
second, we lack enough man power to research on how to do it; and, at last,
I believe in evolutionary and incremental
design, so I rather deliver a great experience for our current goals and
then look into what needs to be adjusted for
the next set of stuff we might want to add. If we were do to a BDUF I can
assure you that right now we would not
be beyond the design board and no single line of code would have been
written.

This doesn't mean we won't take any feedback on Mono.Simd, right now we are
about in second-to-third interaction of
the design. The first one was thrown out after a round of reviews and a lot
of changes have happened to the second
one - you can find in the svn history, if you want to.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20081117/2aa126a4/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20081117/2aa126a4/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040338.html">[Mono-list] Mono.Simd - Phylosophical comments
</A></li>
	<LI>Next message: <A HREF="040307.html">[Mono-list] What's in your GAC?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40340">[ date ]</a>
              <a href="thread.html#40340">[ thread ]</a>
              <a href="subject.html#40340">[ subject ]</a>
              <a href="author.html#40340">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
