<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Security exception on MS.NET with remoting example from Mono Handbook
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:nazgul%40nemerle.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="026683.html">
   <LINK REL="Next"  HREF="026684.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Security exception on MS.NET with remoting example from Mono Handbook
   </H1>
    <B>Kamil Skalski
    </B> 
    <A HREF="mailto:nazgul%40nemerle.org"
       TITLE="[Mono-list] Security exception on MS.NET with remoting example from Mono Handbook">nazgul@nemerle.org
       </A><BR>
    <I>Tue, 19 Apr 2005 18:20:05 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="026683.html">[Mono-list] Cairo tutorials
</A></li>
        <LI> Next message: <A HREF="026684.html">[Mono-list] Cairo tutorials
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26681">[ date ]</a>
              <a href="thread.html#26681">[ thread ]</a>
              <a href="subject.html#26681">[ subject ]</a>
              <a href="author.html#26681">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

I'm getting an ugly exception when trying out code from
<A HREF="http://monohandbook.monoforge.com/monkeyguide/remoting/introduction.html">http://monohandbook.monoforge.com/monkeyguide/remoting/introduction.html</A>

on MS.NET 1.1

$ ./client.exe
Getting instance ...
Creating two remote items...

Creating two client items...
ServerObject Created at client 1: setting 333
ServerObject Created at client 2: setting 444

Adding items...

Wyjtek nieobsuony: System.Runtime.Serialization.SerializationException: Z=20
powodu ogranicze=EF=BF=BDzabezpieczajcych nie mona uzyska dostpu do typu=20
System.Runtime.Remoting.ObjRef. ---&gt; System.Security.SecurityException: dan=
ie=20
nie powiodo si.
   at=20
System.Security.SecurityRuntime.FrameDescSetHelper(FrameSecurityDescriptor=
=20
secDesc, PermissionSet demandSet, PermissionSet&amp; alteredDemandSet)
   at=20
System.Runtime.Serialization.FormatterServices.nativeGetSafeUninitializedOb=
ject(RuntimeType=20
type)
   at=20
System.Runtime.Serialization.FormatterServices.GetSafeUninitializedObject(T=
ype=20
type)
   --- Koniec ladu stosu wyjtkw wewntrznych ---

Server stack trace:
   at=20
System.Runtime.Serialization.FormatterServices.GetSafeUninitializedObject(T=
ype=20
type)
   at=20
System.Runtime.Serialization.Formatters.Binary.ObjectReader.ParseObject(Par=
seRecord=20
pr)
   at=20
System.Runtime.Serialization.Formatters.Binary.ObjectReader.Parse(ParseReco=
rd=20
pr)
   at=20
System.Runtime.Serialization.Formatters.Binary.__BinaryParser.ReadObjectWit=
hMapTyped(BinaryObjectWithMapTyped=20
record)
   at=20
System.Runtime.Serialization.Formatters.Binary.__BinaryParser.ReadObjectWit=
hMapTyped(BinaryHeaderEnum=20
binaryHeaderEnum)
   at System.Runtime.Serialization.Formatters.Binary.__BinaryParser.Run()
   at=20
System.Runtime.Serialization.Formatters.Binary.ObjectReader.Deserialize(Hea=
derHandler=20
handler, __BinaryParser serParser, Boolean fCheck, IMethodCallMessage=20
methodCallMessage)
   at=20
System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize(=
Stream=20
serializationStream, HeaderHandler handler, Boolean fCheck,=20
IMethodCallMessage methodCallMessage)
   at=20
System.Runtime.Remoting.Channels.CoreChannel.DeserializeBinaryRequestMessag=
e(String=20
objectUri, Stream inputStream, Boolean bStrictBinding, TypeFilterLevel=20
securityLevel)
   at=20
System.Runtime.Remoting.Channels.BinaryServerFormatterSink.ProcessMessage(I=
ServerChannelSinkStack=20
sinkStack, IMessage requestMsg, ITransportHeaders requestHeaders, Stream=20
requestStream, IMessage&amp; responseMsg, ITransportHeaders&amp; responseHeaders,=20
Stream&amp; responseStream)

Exception rethrown at [0]:
   at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessag=
e=20
reqMsg, IMessage retMsg)
   at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData&amp;=
=20
msgData, Int32 type)
   at RemotingTest.ServerList.Add(ServerObject v)
   at RemotingTest.RemotingClient.Main()
Unknown signal 79


On mono it works and that is no problem at all. But as it fails on MS.NET, =
the=20
code probably should be corrected, so people won't learn incompatible usage=
=20
of remoting.

Also I would like to know what is wrong with that code.

=2D--
Kamil Skalski
<A HREF="http://nazgul.omega.pl">http://nazgul.omega.pl</A>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="026683.html">[Mono-list] Cairo tutorials
</A></li>
	<LI> Next message: <A HREF="026684.html">[Mono-list] Cairo tutorials
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26681">[ date ]</a>
              <a href="thread.html#26681">[ thread ]</a>
              <a href="subject.html#26681">[ subject ]</a>
              <a href="author.html#26681">[ author ]</a>
         </LI>
       </UL>
</body></html>
