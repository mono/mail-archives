<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Winform App Failure
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:peter%40novonyx.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="026701.html">
   <LINK REL="Next"  HREF="026704.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Winform App Failure
   </H1>
    <B>Peter Dennis Bartok
    </B> 
    <A HREF="mailto:peter%40novonyx.com"
       TITLE="[Mono-list] Winform App Failure">peter@novonyx.com
       </A><BR>
    <I>Wed, 20 Apr 2005 21:06:03 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="026701.html">[Mono-list] Winform App Failure
</A></li>
        <LI> Next message: <A HREF="026704.html">[Mono-list] Raw graphics data to a Gtk# control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26702">[ date ]</a>
              <a href="thread.html#26702">[ thread ]</a>
              <a href="subject.html#26702">[ subject ]</a>
              <a href="author.html#26702">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alex,

Can you give some details as to what it is you're doing (API call)? And 
maybe some details on the version of Mono you're using.
It's not the swf.dll that's the problem in this case, the failure is most 
likely in System.Drawing (or libgdiplus).

Are you using packages or did you build mono from source? If you built from 
source, did libgdiplus 'configure' properly detect your png library? (when 
it completes it prints what image libraries it detected and will enable 
support for).

Can you check if the picture works when used directly from disk and only 
fails when used as an embedded resource?

And ultimately, if everything else checks out, can you create a little test 
app that uses the picture that's failing and log a bug? Or, if you don't 
have the original source, can you attach the app (or provide a means to get 
it to reproduce and fix the bug)?

Cheers,
  Peter

PS: Winforms has it's own mailing list at <A HREF="mailto:mono-winforms-list@ximian.com">mono-winforms-list@ximian.com</A> , 
for real winforms problems (this I don't think is one) you might find a 
better audience there.

-----Original Message-----
From: &quot;Alex James&quot; &lt;<A HREF="mailto:alex00james@adelphia.net">alex00james@adelphia.net</A>&gt;
To: &lt;<A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>&gt;
Date: 20 April, 2005 18:07
Subject: [Mono-list] Winform App Failure


&gt;<i>To all:
</I>&gt;<i>
</I>&gt;<i>I am getting this error when trying to run my winform app.  The app will
</I>&gt;<i>seem to appear for a moment and then crash with this error:
</I>&gt;<i>
</I>&gt;<i>The images used in the form were originally of .png format ... but I
</I>&gt;<i>believe that they were turned into resource files (on Windows) before
</I>&gt;<i>they were compiled.
</I>&gt;<i>
</I>&gt;<i>Just for notes; I have libpng v1.2.8 installed and I am trying to run
</I>&gt;<i>this on a debian (ubuntu) system.  It should also be noted that I tried
</I>&gt;<i>to replace the existing System.Windows.Forms.dll with the one on
</I>&gt;<i><A HREF="http://svn.myrealbox.com/blog/">http://svn.myrealbox.com/blog/</A> but I can't tell if it is using it or not.
</I>&gt;<i>
</I>&gt;<i>Any help would be great!
</I>&gt;<i>
</I>&gt;<i>Thanks,
</I>&gt;<i>Alex
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Mono System.Windows.Forms Assembly [Revision: 41928; built: 2005/2/18
</I>&gt;<i>22:24:56]
</I>&gt;<i>Keyboard: United States keyboard layout (phantom key version)
</I>&gt;<i>
</I>&gt;<i>Unhandled Exception: System.Reflection.TargetInvocationException:
</I>&gt;<i>Exception has been thrown by the target of an invocation. ---&gt;
</I>&gt;<i>System.NotSupportedException: Either image format is unknown or you
</I>&gt;<i>don't have the required libraries for this format.
</I>&gt;<i>in &lt;0x0016e&gt; System.Drawing.GDIPlus:CheckStatus (Status status)
</I>&gt;<i>in &lt;0x000cd&gt; System.Drawing.Image:InitFromStream (System.IO.Stream stream)
</I>&gt;<i>in (wrapper remoting-invoke-with-check)
</I>&gt;<i>System.Drawing.Image:InitFromStream (System.IO.Stream)
</I>&gt;<i>in &lt;0x00104&gt; System.Drawing.Bitmap:.ctor
</I>&gt;<i>(System.Runtime.Serialization.SerializationInfo info, StreamingContext
</I>&gt;<i>context)
</I>&gt;<i>in &lt;0x00000&gt; &lt;unknown method&gt;
</I>&gt;<i>in (wrapper managed-to-native)
</I>&gt;<i>System.Reflection.MonoCMethod:InternalInvoke (object,object[])
</I>&gt;<i>in &lt;0x0006f&gt; System.Reflection.MonoCMethod:Invoke (System.Object obj,
</I>&gt;<i>BindingFlags invokeAttr, System.Reflection.Binder binder,
</I>&gt;<i>System.Object[] parameters, System.Globalization.CultureInfo culture)--- 
</I>&gt;<i>End of inner exception stack trace ---
</I>&gt;<i>
</I>&gt;<i>in &lt;0x00107&gt; System.Reflection.MonoCMethod:Invoke (System.Object obj,
</I>&gt;<i>BindingFlags invokeAttr, System.Reflection.Binder binder,
</I>&gt;<i>System.Object[] parameters, System.Globalization.CultureInfo culture)
</I>&gt;<i>in &lt;0x00017&gt; System.Reflection.MethodBase:Invoke (System.Object obj,
</I>&gt;<i>System.Object[] parameters)
</I>&gt;<i>in &lt;0x0021d&gt; System.Runtime.Serialization.ObjectRecord:LoadData
</I>&gt;<i>(System.Runtime.Serialization.ObjectManager manager, ISurrogateSelector
</I>&gt;<i>selector, StreamingContext context)
</I>&gt;<i>in &lt;0x00104&gt; System.Runtime.Serialization.ObjectManager:DoFixups ()
</I>&gt;<i>in &lt;0x0003f&gt;
</I>&gt;<i>System.Runtime.Serialization.Formatters.Binary.ObjectReader:ReadNextObject
</I>&gt;<i>(System.IO.BinaryReader reader)
</I>&gt;<i>in &lt;0x000b0&gt;
</I>&gt;<i>System.Runtime.Serialization.Formatters.Binary.ObjectReader:ReadObjectGraph
</I>&gt;<i>(System.IO.BinaryReader reader, Boolean readHeaders, System.Object
</I>&gt;<i>result, System.Runtime.Remoting.Messaging.Header[] headers)
</I>&gt;<i>in &lt;0x00126&gt;
</I>&gt;<i>System.Runtime.Serialization.Formatters.Binary.BinaryFormatter:Deserialize
</I>&gt;<i>(System.IO.Stream serializationStream,
</I>&gt;<i>System.Runtime.Remoting.Messaging.HeaderHandler handler)
</I>&gt;<i>in &lt;0x00012&gt;
</I>&gt;<i>System.Runtime.Serialization.Formatters.Binary.BinaryFormatter:Deserialize
</I>&gt;<i>(System.IO.Stream serializationStream)
</I>&gt;<i>in &lt;0x0052b&gt; System.Resources.ResourceReader:ResourceValue (Int32 index)
</I>&gt;<i>in &lt;0x00023&gt; System.Resources.ResourceReader+ResourceEnumerator:get_Value 
</I>&gt;<i>()
</I>&gt;<i>in &lt;0x00090&gt; System.Resources.ResourceSet:ReadResources ()
</I>&gt;<i>in &lt;0x00039&gt; System.Resources.ResourceSet:GetObject (System.String name,
</I>&gt;<i>Boolean ignoreCase)
</I>&gt;<i>in &lt;0x00081&gt; System.Resources.ResourceManager:GetObject (System.String
</I>&gt;<i>name, System.Globalization.CultureInfo culture)
</I>&gt;<i>in &lt;0x00010&gt; System.Resources.ResourceManager:GetObject (System.String 
</I>&gt;<i>name)
</I>&gt;<i>in &lt;0x00509&gt; iControlWin.mainForm:InitializeComponent ()
</I>&gt;<i>in &lt;0x000fa&gt; iControlWin.mainForm:.ctor ()
</I>&gt;<i>in (wrapper remoting-invoke-with-check) iControlWin.mainForm:.ctor ()
</I>&gt;<i>in &lt;0x0001a&gt; iControlWin.mainForm:Main ()
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>&gt;<i> 
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="026701.html">[Mono-list] Winform App Failure
</A></li>
	<LI> Next message: <A HREF="026704.html">[Mono-list] Raw graphics data to a Gtk# control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26702">[ date ]</a>
              <a href="thread.html#26702">[ thread ]</a>
              <a href="subject.html#26702">[ subject ]</a>
              <a href="author.html#26702">[ author ]</a>
         </LI>
       </UL>
</body></html>
