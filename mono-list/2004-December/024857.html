<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mixing languages within
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Michal%20Moskal%20%3Cmichal.moskal%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="024855.html">
   <LINK REL="Next"  HREF="024861.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mixing languages within
   </H1>
    <B>Michal Moskal
    </B> 
    <A HREF="mailto:Michal%20Moskal%20%3Cmichal.moskal%40gmail.com%3E"
       TITLE="[Mono-list] Mixing languages within">Michal Moskal &lt;michal.moskal@gmail.com&gt;
       </A><BR>
    <I>Fri, 10 Dec 2004 17:01:25 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="024855.html">[Mono-list] Mixing languages within
</A></li>
        <LI> Next message: <A HREF="024861.html">[Mono-list] Mixing languages within
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24857">[ date ]</a>
              <a href="thread.html#24857">[ thread ]</a>
              <a href="subject.html#24857">[ subject ]</a>
              <a href="author.html#24857">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 10 Dec 2004 14:49:44 +0000, Colin JN Breame
&lt;<A HREF="mailto:colinb@chameleonnet.co.uk">colinb@chameleonnet.co.uk</A>&gt; wrote:
&gt;<i> Michal Moskal wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;The problem is cross references -- that is if part in language A needs
</I>&gt;<i> &gt;part in language B and vice versa. Then the compilers need to agree
</I>&gt;<i> &gt;much more -- upon some internal APIs, which seems quite difficult in
</I>&gt;<i> &gt;general.
</I>&gt;<i> &gt;
</I>&gt;<i> Not that I'm an expert, but the 'common' parts would probably be
</I>&gt;<i> something like:
</I>&gt;<i>  - a shared symbol table
</I>&gt;<i>  - shared intermediate representation (does mcs or the vb compiler use
</I>&gt;<i> an intermediate representation?  how about ironpython and nemerle?)
</I>&gt;<i>  - shared error reporting mechnism
</I>
The last one seems easy :)

As for the shard symbol table -- you would also need to share
information about partially built types (that is without all method
already compiled and so on). This could have been
System.Reflection.Emit stuff, but... If I checked correctly even mcs
doesn't use S.R.E.TypeBuilder as the internal class representation.
This is even less the case for Nemerle, as we need type system
features absent from .net 1.1 and 2.0 (like algebraic types, and
function types). Dunno about IronPython.

As for the intermediate representation -- mcs uses syntax trees, that
are later modified during the compilation. Nemerle compiler uses 3
kinds of trees during the compilation, and 2 more are in the plans.

Yet another problem is the scale -- you need to expose lots of
previously internal API, which makes all your compilers one big
compiler and this isn't any good.

So the bottom line is: the only way to merge two existing compilers is
to write them from the beginning... OTOH designing the compiler to be
extensible from the beginning seems possible ;)

-- 
:<i> Michal Moskal ::: <A HREF="http://nemerle.org/~malekith/">http://nemerle.org/~malekith/</A> :: GCS !tv h e&gt;+++ b++
</I>:<i> ::: Logic is a nice contrast to the Real World. :: UL++++$ C++ E--- a?
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="024855.html">[Mono-list] Mixing languages within
</A></li>
	<LI> Next message: <A HREF="024861.html">[Mono-list] Mixing languages within
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24857">[ date ]</a>
              <a href="thread.html#24857">[ thread ]</a>
              <a href="subject.html#24857">[ subject ]</a>
              <a href="author.html#24857">[ author ]</a>
         </LI>
       </UL>
</body></html>
