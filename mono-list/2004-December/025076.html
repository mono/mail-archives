<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Connection pooling?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:fxjrlists%40yahoo.com.br">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="025073.html">
   <LINK REL="Next"  HREF="025074.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Connection pooling?
   </H1>
    <B>Francisco Figueiredo Jr.
    </B> 
    <A HREF="mailto:fxjrlists%40yahoo.com.br"
       TITLE="[Mono-list] Connection pooling?">fxjrlists@yahoo.com.br
       </A><BR>
    <I>Wed, 29 Dec 2004 13:56:22 -0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="025073.html">[Mono-list] Connection pooling?
</A></li>
        <LI> Next message: <A HREF="025074.html">[Mono-list] Problem converting a string to double
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25076">[ date ]</a>
              <a href="thread.html#25076">[ thread ]</a>
              <a href="subject.html#25076">[ subject ]</a>
              <a href="author.html#25076">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Aleksandar Dezelin wrote:
|<i> Eric Scott wrote:
</I>|<i>
</I>|&gt;<i> Yo;
</I>|&gt;<i>
</I>|&gt;<i> I've got the mono 1.0.4 release with XSP and all that fun stuff.  I
</I>|&gt;<i> keep getting a &quot;object was used after it was disposed&quot; error with my
</I>|&gt;<i> Npgsql C#/ASP apps.  I found with google that I can get around the
</I>|&gt;<i> problem by disabling connection pooling... how do I do that?
</I>|&gt;<i>
</I>|&gt;<i> Thanx,
</I>|&gt;<i>    Sigma
</I>|<i>
</I>|<i>
</I>

Hi Sigma.
|<i> Look for the SqlConnection class in MSDN and pay attention to connection
</I>|<i> string property - there's a parametar which you can pass inside it to
</I>|<i> disable connection pooling. It's something like 'Polling=false'. You may
</I>|<i> also check Npgsql classes and search for the method that parses the
</I>|<i> connection string.
</I>|<i>
</I>
Yeap. It is the Pooling=false.
This problem has been fixed in Npgsql 0.7beta3. Note that if you are
getting that it has a high probability you may be leaking
Npgsqlconnections. If you can't get 0.7beta3, please check your code to
see if you don't get any Npgsqlconnection out of scope. When this
happens, Npgsql incorrectly returns a disposed networkstream to
connection pool and this is why you are getting this problem.

Sorry for any problem this may have caused.

|<i> Another thing I will submit as a bug: when you have enough opened
</I>|<i> connection and connection pooling is on, when you reach the number of
</I>|<i> opened connections test application hangs. But it never thow an
</I>|<i> exception, just hangs until (I think) some of the connections closes.
</I>|<i>
</I>
Hmmmm, it should be throwning an exception of not being able to get a
connection.
I did a little test here and I could get the timeout exception.
The default timeout value is 15 seconds. Try to lower it to see if you
get the exception. timeout=3. Thanks for feedback Aleksandar.

I hope it helps.


- --
Regards,

Francisco Figueiredo Jr.
Membro Fundador do Projeto MonoBrasil - MonoBrasil Project Founder Member
<A HREF="http://monobrasil.softwarelivre.org">http://monobrasil.softwarelivre.org</A>



- -------------
&quot;Science without religion is lame;
religion without science is blind.&quot;

~                  ~ Albert Einstein
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.6 (GNU/Linux)
Comment: Using GnuPG with Thunderbird - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iQEVAwUBQdLTpv7iFmsNzeXfAQIZPQf/YvIx4fXvBMPgSTciR+LilRDLlZ4P5YkF
5tweVghZlwV3OSZfToaJfGaINmvlGjRPgAo6q56NS8/6gnjYVxZo50Eg3TbkMpnh
g3+roDFu9705/YlEmNwfR6N6GC0kHj32Oad4x7GsU3Kvr2HBjpFCbfWyKF8kMpHY
8UsgFN7UdHMfy6u8uo5450KM0h2zZ5trVN6pNm//USDjz6OupVNPjS9bvsVu+4Ja
UXSwSwvPjho3GeG5EWgpRWZ42HEtcDfAjaPo4BleZv6JVRapYJ7mTHr+FblrybxK
ip1/yKKLjjql0dZCbHcH+Fnv977aruMbxYpovqOsx3HOiGMDyhus/g==
=Ymt6
-----END PGP SIGNATURE-----

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="025073.html">[Mono-list] Connection pooling?
</A></li>
	<LI> Next message: <A HREF="025074.html">[Mono-list] Problem converting a string to double
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25076">[ date ]</a>
              <a href="thread.html#25076">[ thread ]</a>
              <a href="subject.html#25076">[ subject ]</a>
              <a href="author.html#25076">[ author ]</a>
         </LI>
       </UL>
</body></html>
