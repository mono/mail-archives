<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] SslStream.AuthenticateAsServer() private key	issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20SslStream.AuthenticateAsServer%28%29%20private%20key%09issues&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037807.html">
   <LINK REL="Next"  HREF="037818.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] SslStream.AuthenticateAsServer() private key	issues</H1>
    <B>lists at peterschen.de</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20SslStream.AuthenticateAsServer%28%29%20private%20key%09issues&In-Reply-To="
       TITLE="[Mono-list] SslStream.AuthenticateAsServer() private key	issues">lists at peterschen.de
       </A><BR>
    <I>Fri Feb 15 07:58:00 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="037807.html">[Mono-list] A question about the build process
</A></li>
        <LI>Next message: <A HREF="037818.html">[Mono-list] x86_64
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37808">[ date ]</a>
              <a href="thread.html#37808">[ thread ]</a>
              <a href="subject.html#37808">[ subject ]</a>
              <a href="author.html#37808">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;&gt;<i> I'm porting a application I started to develop on Windows to Linux. On
</I>&gt;&gt;<i> Windows I can link the private key in the Storage and the application
</I>&gt;&gt;<i> (or better: the authentication) works fine.
</I>&gt;<i>
</I>&gt;<i> Could you provide more information about what is &quot;Storage&quot; since this is
</I>&gt;<i> not a framework class ?
</I>
Storage is the internal Windows certificate storage where all the  
certificates are placed you possible can use. You can access this  
storage via the MMC. With Mono this is a directory managed by the  
certmgr tool which can import certificates.

&gt;&gt;<i> In several attempts to get the stuff running I tried a lot of
</I>&gt;&gt;<i> different Storages and it seems that he just &quot;forgets&quot; to import the
</I>&gt;&gt;<i> private key. Are there any hints how I can import the private key in
</I>&gt;&gt;<i> order to get my app running?
</I>&gt;<i>
</I>&gt;<i> Please supply a (as small as possible) test case that works on MS.NET.
</I>&gt;<i> It will make it a lot easier to see if, and where, the problem may be.
</I>
I can tell you where the problem lies. Mono raises an error  
complaining that there was no private key for the server certificate  
found. I'm using PEM formatted certificates on Linux created by  
OpenSSL. I also tried PKCS#12 but the same result. The following line  
is responsible for importing the actual certificate for the server  
application.

  serverCertificate = X509Certificate2.CreateFromCertFile(&quot;./certificate.crt&quot;);

Hope this helps a bit.

BR
Christoph

</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037807.html">[Mono-list] A question about the build process
</A></li>
	<LI>Next message: <A HREF="037818.html">[Mono-list] x86_64
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37808">[ date ]</a>
              <a href="thread.html#37808">[ thread ]</a>
              <a href="subject.html#37808">[ subject ]</a>
              <a href="author.html#37808">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
