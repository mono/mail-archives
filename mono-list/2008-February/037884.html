<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Detecting mono version
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Detecting%20mono%20version&In-Reply-To=001201c873bc%24ac3ace00%2404b06a00%24%40nl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037883.html">
   <LINK REL="Next"  HREF="037846.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Detecting mono version</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Detecting%20mono%20version&In-Reply-To=001201c873bc%24ac3ace00%2404b06a00%24%40nl"
       TITLE="[Mono-list] Detecting mono version">robertj at gmx.net
       </A><BR>
    <I>Sun Feb 24 08:41:52 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="037883.html">[Mono-list] Detecting mono version
</A></li>
        <LI>Next message: <A HREF="037846.html">[Mono-list] libgdiplus/mono rpm package
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37884">[ date ]</a>
              <a href="thread.html#37884">[ thread ]</a>
              <a href="subject.html#37884">[ subject ]</a>
              <a href="author.html#37884">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Erik Renes wrote:
&gt;<i> Is there any 'supported' way to detect the mono version? Or another way to
</I>&gt;<i> achieve my goal of graceful degredation?
</I>&gt;<i> 
</I>&gt;<i> My current code (proof of concept): 
</I>&gt;<i>   Type t = Type.GetType(&quot;Mono.Runtime&quot;);
</I>&gt;<i>   MethodInfo mi = t.GetMethod(&quot;GetDisplayName&quot;, BindingFlags.NonPublic |
</I>&gt;<i> BindingFlags.Static );
</I>&gt;<i>   string s = (string)mi.Invoke(null, null);
</I>&gt;<i>   if (mi!= null)
</I>&gt;<i>     Console.WriteLine(s);
</I>
It is not recommended to parse the output of GetDisplayName as it
might change in future. Its output is intended to be used
unparsed in bug reports (or for similar purposes).

The best way to detect a specific version *at runtime*
is calling a method that used to throw NotImplementedException
on earlier monos.

If you wonder why there is no reliable version check: it's
not necessary if the application is distributed the Linux
way (rpm, deb): you can add a dependency for the required
mono version.

If your application is distributed in source, you could
add a pkg-config check to its build script:

pkg-config --atleast-version=1.2.4 mono

Robert

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037883.html">[Mono-list] Detecting mono version
</A></li>
	<LI>Next message: <A HREF="037846.html">[Mono-list] libgdiplus/mono rpm package
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37884">[ date ]</a>
              <a href="thread.html#37884">[ thread ]</a>
              <a href="subject.html#37884">[ subject ]</a>
              <a href="author.html#37884">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
