<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Using System.Data.SQLite from both windows and linux
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Using%20System.Data.SQLite%20from%20both%20windows%20and%20linux&In-Reply-To=F276036850359C4D8F93F7B19189838204755B20%40exchmbox.omaha.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044268.html">
   <LINK REL="Next"  HREF="044279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Using System.Data.SQLite from both windows and linux</H1>
    <B>Andrew York</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Using%20System.Data.SQLite%20from%20both%20windows%20and%20linux&In-Reply-To=F276036850359C4D8F93F7B19189838204755B20%40exchmbox.omaha.org"
       TITLE="[Mono-list] Using System.Data.SQLite from both windows and linux">andy at brdstudio.net
       </A><BR>
    <I>Mon Jan 18 16:27:51 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="044268.html">[Mono-list] Using System.Data.SQLite from both windows and linux
</A></li>
        <LI>Next message: <A HREF="044279.html">[Mono-list] Using System.Data.SQLite from both windows and linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44269">[ date ]</a>
              <a href="thread.html#44269">[ thread ]</a>
              <a href="subject.html#44269">[ subject ]</a>
              <a href="author.html#44269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have had a much better time using Mono.Data.SqliteClient than the 
SystemData method. I'm not saying anything negative about the 
System.Data method only that the Mono.Data method just seemed to work 
better for me.

Have you tried the Mono version yet? You may like it better for cross 
platform usage.
Spoody Goon

On 1/18/2010 2:46 PM, Dan Winslow wrote:
&gt;<i>
</I>&gt;<i> I am trying to write a single source that can run on both windows and 
</I>&gt;<i> linux, and that uses Sqlite as its data storage. I am using the 
</I>&gt;<i> current mono build ( I built from latest tarball ). Linux is EL5 ( 
</I>&gt;<i> CentOS ). I started off getting it to work in VS Studio on windows :
</I>&gt;<i>
</I>&gt;<i>    1. I downloaded and installed the System.Data.SQLite ado provider
</I>&gt;<i>       from phxsoftware.
</I>&gt;<i>    2. I wrote a simple test in VS studio 2008 ( writing to a
</I>&gt;<i>       samba-mount on the linux box ):
</I>&gt;<i>
</I>&gt;<i> using System;
</I>&gt;<i>
</I>&gt;<i> using System.Collections.Generic;
</I>&gt;<i>
</I>&gt;<i> using System.Linq;
</I>&gt;<i>
</I>&gt;<i> using System.Text;
</I>&gt;<i>
</I>&gt;<i> namespace test
</I>&gt;<i>
</I>&gt;<i> {
</I>&gt;<i>
</I>&gt;<i> class Program
</I>&gt;<i>
</I>&gt;<i>   {
</I>&gt;<i>
</I>&gt;<i> static void Main(string[] args)
</I>&gt;<i>
</I>&gt;<i>     {
</I>&gt;<i>
</I>&gt;<i>       System.Data.SQLite.SQLiteConnection dbh=new 
</I>&gt;<i> System.Data.SQLite.SQLiteConnection();
</I>&gt;<i>
</I>&gt;<i>       dbh.ConnectionString = &quot;Data Source=test.db; Version=3;&quot;;
</I>&gt;<i>
</I>&gt;<i>       dbh.Open();
</I>&gt;<i>
</I>&gt;<i>     }
</I>&gt;<i>
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>    3. I added in a reference to the System.Data.SQLite.DLL ( not the
</I>&gt;<i>       managed-only version )
</I>&gt;<i>    4. Built in VS, then ran. Worked.
</I>&gt;<i>    5. Went to the linux box, ran mono bin/Debug/test.exe, and got :
</I>&gt;<i>
</I>&gt;<i> Unhandled Exception: System.DllNotFoundException: System.Data.SQLite.DLL
</I>&gt;<i>
</I>&gt;<i>   at (wrapper managed-to-native) 
</I>&gt;<i> System.Data.SQLite.UnsafeNativeMethods:sqlite3_open_interop 
</I>&gt;<i> (byte[],int,intptr&amp;)
</I>&gt;<i>
</I>&gt;<i>   at System.Data.SQLite.SQLite3.Open (System.String strFilename, 
</I>&gt;<i> SQLiteOpenFlagsEnum flags, Int32 maxPoolSize, Boolean usePool) 
</I>&gt;<i> [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>
</I>&gt;<i>   at System.Data.SQLite.SQLiteConnection.Open () [0x00000] in 
</I>&gt;<i> &lt;filename unknown&gt;:0
</I>&gt;<i>
</I>&gt;<i>   at test.Program.Main (System.String[] args) [0x00000] in &lt;filename 
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i>
</I>&gt;<i>    6. did a gacutl --i System.Data.SQLite.DLL. Ran, same result as in 5.
</I>&gt;<i>    7. did an xbuild of test.sln, it (worked) and also said :
</I>&gt;<i>
</I>&gt;<i> Copying file from 
</I>&gt;<i> '/aim/eventus_agent/Sqlite.Net.Binaries/System.Data.SQLite.DLL' to 
</I>&gt;<i> '/aim/eventus_agent/test/bin/Debug/System.Data.SQLite.DLL'
</I>&gt;<i>
</I>&gt;<i>    8. looked in bin/Debug, saw that I now had a System.Data.SQLite.dll
</I>&gt;<i>       as well as a System.Data.SQLite.DLL. Ok, taking care of
</I>&gt;<i>       case-sensitivity issues I suppose.
</I>&gt;<i>    9. Ran as in 5, same result.
</I>&gt;<i>   10.  Went back to VS, removed the ref, and added the 'Managed Only'
</I>&gt;<i>       version. Ran, worked.
</I>&gt;<i>   11. Went back to linux, did an xbuild, ran, and got :
</I>&gt;<i>
</I>&gt;<i> Unhandled Exception: System.EntryPointNotFoundException: sqlite3_open_v2
</I>&gt;<i>
</I>&gt;<i>   at (wrapper managed-to-native) 
</I>&gt;<i> System.Data.SQLite.UnsafeNativeMethods:sqlite3_open_v2 
</I>&gt;<i> (byte[],intptr&amp;,int,intptr)
</I>&gt;<i>
</I>&gt;<i>   at System.Data.SQLite.SQLite3.Open (System.String strFilename, 
</I>&gt;<i> SQLiteOpenFlagsEnum flags, Int32 maxPoolSize, Boolean usePool) 
</I>&gt;<i> [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>
</I>&gt;<i>   at System.Data.SQLite.SQLiteConnection.Open () [0x00000] in 
</I>&gt;<i> &lt;filename unknown&gt;:0
</I>&gt;<i>
</I>&gt;<i>   at test.Program.Main (System.String[] args) [0x00000] in &lt;filename 
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i>
</I>&gt;<i>   12. This looked to me like it was having trouble locating the .so
</I>&gt;<i>       file, so I downloaded the latest .so from sqlite.org, and placed
</I>&gt;<i>       it in the build directory as libsqlite3.so.
</I>&gt;<i>   13. ran, got same result as in 11. Messed around with MONO_PATH and
</I>&gt;<i>       LD_LIBRARY_PATH...did not help.
</I>&gt;<i>
</I>&gt;<i> I am currently out of ideas..I would really like to be able to use the 
</I>&gt;<i> same source on windows and linux, as that's kind of the idea of Mono 
</I>&gt;<i> to my mind. I know I could probably use the Mono sqlite package on 
</I>&gt;<i> linux, but I'd have to have separate builds as far as I know.
</I>&gt;<i>
</I>&gt;<i> Dan Winslow
</I>&gt;<i> Director of Information Technology, AIM INSTITUTE
</I>&gt;<i> 1905 Harney Street, Suite 700
</I>&gt;<i> Omaha, NE 68102
</I>&gt;<i> 402-345-5025 x156
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">dwinslow at aiminstitute.org</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">dwinslow at aiminstitute.org</A>&gt;
</I>&gt;<i> www.aiminstitute.org &lt;<A HREF="http://www.aiminstitute.org">http://www.aiminstitute.org</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>    
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20100118/26bb2412/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20100118/26bb2412/attachment.html</A> 
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044268.html">[Mono-list] Using System.Data.SQLite from both windows and linux
</A></li>
	<LI>Next message: <A HREF="044279.html">[Mono-list] Using System.Data.SQLite from both windows and linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44269">[ date ]</a>
              <a href="thread.html#44269">[ thread ]</a>
              <a href="subject.html#44269">[ subject ]</a>
              <a href="author.html#44269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
