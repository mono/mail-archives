<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Change mono process name in ps/top
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Change%20mono%20process%20name%20in%20ps/top&In-Reply-To=hjet4t%24f39%241%40ger.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044312.html">
   <LINK REL="Next"  HREF="044317.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Change mono process name in ps/top</H1>
    <B>Michael Hutchinson</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Change%20mono%20process%20name%20in%20ps/top&In-Reply-To=hjet4t%24f39%241%40ger.gmane.org"
       TITLE="[Mono-list] Change mono process name in ps/top">m.j.hutchinson at gmail.com
       </A><BR>
    <I>Sat Jan 23 16:41:18 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="044312.html">[Mono-list] Change mono process name in ps/top
</A></li>
        <LI>Next message: <A HREF="044317.html">[Mono-list] Change mono process name in ps/top
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44314">[ date ]</a>
              <a href="thread.html#44314">[ thread ]</a>
              <a href="subject.html#44314">[ subject ]</a>
              <a href="author.html#44314">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Jan 23, 2010 at 8:21 AM, Robert Jordan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">robertj at gmx.net</A>&gt; wrote:
&gt;<i> On 23.01.2010 06:02, Bryan Murphy wrote:
</I>&gt;&gt;<i> Is there a way I can change the name of a mono process for when I'm looking
</I>&gt;&gt;<i> at it via ps or top?
</I>&gt;<i>
</I>&gt;<i> First, there is no portable way to change the process name.
</I>
Though there is a similar call you can make on BSD (hence MacOS X), so
you can use runtime platform detection to choose which call to make.

See the SetProcessName method in
main/src/core/MonoDevelop.Core/MonoDevelop.Core/Runtime.cs

&gt;<i> Under Linux, prctl(2) can be used to change the name. It seems
</I>&gt;<i> that &quot;ps&quot; is still showing the command line, whereas &quot;top&quot; is
</I>&gt;<i> actually considering the new name.
</I>
For setting the name that ps uses you can use the -a argument to exec.
Some older systems may not support this, such as MacOS 10.4, but we do
it in MonoDevelop and haven't seen any problems reported with Linuxes.

exec -a processname mono your.exe

You need to use both tricks to make sure the name shows up everywhere.

And on MacOSX, there is a third call you can use to override the name
shown in the top menu bar, which is useful if your exe isn't running
from an app bundle. See Carbon.SetProcessName in
monodevelop/main/src/addins/MacPlatform/Framework/Carbon.cs

-- 
Michael Hutchinson
<A HREF="http://mjhutchinson.com">http://mjhutchinson.com</A>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044312.html">[Mono-list] Change mono process name in ps/top
</A></li>
	<LI>Next message: <A HREF="044317.html">[Mono-list] Change mono process name in ps/top
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44314">[ date ]</a>
              <a href="thread.html#44314">[ thread ]</a>
              <a href="subject.html#44314">[ subject ]</a>
              <a href="author.html#44314">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
