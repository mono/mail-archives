<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] ipv6/ipv4 multiple IP's,	MONO uses wrong interface for reply
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20ipv6/ipv4%20multiple%20IP%27s%2C%0A%09MONO%20uses%20wrong%20interface%20for%20reply&In-Reply-To=%3C1399546217304-4662709.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050899.html">
   <LINK REL="Next"  HREF="050901.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] ipv6/ipv4 multiple IP's,	MONO uses wrong interface for reply</H1>
    <B>pjsmith</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20ipv6/ipv4%20multiple%20IP%27s%2C%0A%09MONO%20uses%20wrong%20interface%20for%20reply&In-Reply-To=%3C1399546217304-4662709.post%40n4.nabble.com%3E"
       TITLE="[Mono-list] ipv6/ipv4 multiple IP's,	MONO uses wrong interface for reply">pjsmith at mtgsy.net
       </A><BR>
    <I>Thu May  8 10:50:17 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="050899.html">[Mono-list] very basic lost beginner - help please
</A></li>
        <LI>Next message: <A HREF="050901.html">[Mono-list] MONO_CONFIG not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50900">[ date ]</a>
              <a href="thread.html#50900">[ thread ]</a>
              <a href="subject.html#50900">[ subject ]</a>
              <a href="author.html#50900">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

When binding to IPv6 any on Linux, the dual-stack also binds to IPv4. This
means I have disabled ipv4 support in my app and only listen on ipv6 any and
still get the ipv4 responses with ::ffff: type IPv4 addresses. This part is
OK. 

The problem is that although I can receive packets sent to any of the IP's,
mono seems to use any arbitrary interface to send the packets back out. The
client does not get the response. If you do a tcpdump on the client end, you
will in fact get the packets back to the client, but as they are addressed
from the wrong IP (not the one the query was sent to), the client does not
associate them with the request.

I guess binding to specific IP's might be the only way forward.

Does anyone know if there is a way to correct this behaviour? I'd have
throught it would have made sense to have packets when listening on 'any' go
back out the interface they came in?

Thanks.



--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/ipv6-ipv4-multiple-IP-s-MONO-uses-wrong-interface-for-reply-tp4662709.html">http://mono.1490590.n4.nabble.com/ipv6-ipv4-multiple-IP-s-MONO-uses-wrong-interface-for-reply-tp4662709.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050899.html">[Mono-list] very basic lost beginner - help please
</A></li>
	<LI>Next message: <A HREF="050901.html">[Mono-list] MONO_CONFIG not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50900">[ date ]</a>
              <a href="thread.html#50900">[ thread ]</a>
              <a href="subject.html#50900">[ subject ]</a>
              <a href="author.html#50900">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
