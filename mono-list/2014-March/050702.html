<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Problem with Syscall (or how to bind port 443 as a non-privileged user)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Problem%20with%20Syscall%20%28or%20how%20to%20bind%20port%20443%20as%20a%0A%20non-privileged%20user%29&In-Reply-To=%3C531502C7.6030604%40silentorbit.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050697.html">
   <LINK REL="Next"  HREF="050705.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Problem with Syscall (or how to bind port 443 as a non-privileged user)</H1>
    <B>Peter Hultqvist</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Problem%20with%20Syscall%20%28or%20how%20to%20bind%20port%20443%20as%20a%0A%20non-privileged%20user%29&In-Reply-To=%3C531502C7.6030604%40silentorbit.com%3E"
       TITLE="[Mono-list] Problem with Syscall (or how to bind port 443 as a non-privileged user)">phq at silentorbit.com
       </A><BR>
    <I>Mon Mar  3 22:31:35 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="050697.html">[Mono-list] Problem with Syscall (or how to bind port 443 as a non-privileged user)
</A></li>
        <LI>Next message: <A HREF="050705.html">[Mono-list] Problem with Syscall (or how to bind port 443 as a non-privileged user)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50702">[ date ]</a>
              <a href="thread.html#50702">[ thread ]</a>
              <a href="subject.html#50702">[ subject ]</a>
              <a href="author.html#50702">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2014-03-03 03:11, Edward Ned Harvey (mono) wrote:
&gt;<i> I have a service that needs to bind to port 443, and as far as I can tell, the best way to do this is to start as root (or sudo) and bind 443, and then lower privileges by using Mono.Unix.Native.Syscall.setuid.  Unfortunately my actual service product was failing to do this, so I created a *really* simple test project, and it still fails.
</I>&gt;<i>
</I>&gt;<i> If there's a better way to solve this problem, I'd love to know.   ;-)  I am not married to Syscall.setuid.
</I>&gt;<i>
</I>I have used mkbundle together with &quot;setcap 'cap_net_bind_service=+ep'
/path/to/my-bin&quot;
That way I get a binary which can listen to privileged ports without
running as root.

Your method is probably better since it prevents further use of
privileged ports.

Also you could possible use iptables to redirect to a higher port number.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050697.html">[Mono-list] Problem with Syscall (or how to bind port 443 as a non-privileged user)
</A></li>
	<LI>Next message: <A HREF="050705.html">[Mono-list] Problem with Syscall (or how to bind port 443 as a non-privileged user)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50702">[ date ]</a>
              <a href="thread.html#50702">[ thread ]</a>
              <a href="subject.html#50702">[ subject ]</a>
              <a href="author.html#50702">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
