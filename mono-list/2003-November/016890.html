<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] SWF question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mark%40dawebber.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="016889.html">
   <LINK REL="Next"  HREF="016905.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] SWF question
   </H1>
    <B>Mark Gimelfarb
    </B> 
    <A HREF="mailto:mark%40dawebber.com"
       TITLE="[Mono-list] SWF question">mark@dawebber.com
       </A><BR>
    <I>Wed, 12 Nov 2003 11:43:00 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="016889.html">[Mono-list] MonoBASIC now understands most literals
</A></li>
        <LI> Next message: <A HREF="016905.html">[Mono-list] Problem Compiling Debugger
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16890">[ date ]</a>
              <a href="thread.html#16890">[ thread ]</a>
              <a href="subject.html#16890">[ subject ]</a>
              <a href="author.html#16890">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all!
I have been compiling several example programs from the Wine sample page on the 
Mono Wiki under WinXP XP1 w/ Mono 0.28 dist. One of the examples, CheckBox, 
fails to run, although it compiles nicely. A blank window comes up widgets get 
initialized and then it quits. The error in the console window states:
&lt;snip&gt;
** (swf-checkbox.exe:3068): WARNING **: Failed to load function wine_get_unix_fi
le_name from kernel32.dll
&lt;/snip&gt;
while looking at 
mcs/class/System.Windows.Forms/System.Windows.Forms/win32functions.cs,
I've noticed that when _get_unix_file_name() gets called, it checks to see 
whether it's running under Unix by testing for the file separator for the 
target platform. This piece of code seems to do &quot;the right thing&quot;, and I know 
that there is a better way to do it (there is a FIXME comment above it), but I 
think that this boolean is to blame for the reaason that wine_get_unix_file_name
() get called at all under Windows, when it shouldn't. I also don't understand, 
why a checkbox would want to call such function even under Linux, but looking 
at CheckBox.cs, I think that it gets called during Control Style inits or 
winControlProcMask calls by one of the lower-lever Win32 API functions. I would 
love to be able to debug this issue and make a patch, but unfortunately, I have 
not been able to either get the mono debugger working under Windoze, nor 
compile SWF libraries under VS.NET for debugging.

Further on, in ctor for the Win32 class the following code exists:
&lt;snip&gt;
[DllImport (&quot;libwinnt.dll.so&quot;, EntryPoint=&quot;PROCESS_InitWine&quot;)]
                extern static void PROCESS_InitWine (int argc, string [] args);

[DllImport (&quot;libwinnt.dll.so&quot;, EntryPoint=&quot;LoadLibraryA&quot;)]
               extern static void NTDLL_LoadLibraryA (string s);
&lt;/snip&gt;

Such declarations will of course, fail under windows and produce warnings on 
the console.

I would love to hear whether I'm totally wrong, or whether this makes any 
sense. If it does, and I can help fix this, I would love to be able to help.

Regards,
        Mark.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="016889.html">[Mono-list] MonoBASIC now understands most literals
</A></li>
	<LI> Next message: <A HREF="016905.html">[Mono-list] Problem Compiling Debugger
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16890">[ date ]</a>
              <a href="thread.html#16890">[ thread ]</a>
              <a href="subject.html#16890">[ subject ]</a>
              <a href="author.html#16890">[ author ]</a>
         </LI>
       </UL>
</body></html>
