<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] assertion error in mcs (OS-X with boehmgc)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:david%40morford.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="017072.html">
   <LINK REL="Next"  HREF="017074.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] assertion error in mcs (OS-X with boehmgc)
   </H1>
    <B>Dave Morford
    </B> 
    <A HREF="mailto:david%40morford.org"
       TITLE="[Mono-list] assertion error in mcs (OS-X with boehmgc)">david@morford.org
       </A><BR>
    <I>Thu, 27 Nov 2003 11:59:15 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="017072.html">[Mono-list] assertion error in mcs (OS-X with boehmgc)
</A></li>
        <LI> Next message: <A HREF="017074.html">[Mono-list] Gcc summit...interesting stuff
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17097">[ date ]</a>
              <a href="thread.html#17097">[ thread ]</a>
              <a href="subject.html#17097">[ subject ]</a>
              <a href="author.html#17097">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> When executing mcs, I'll get the following error:
</I>&gt;<i> ---
</I>&gt;<i> mww% mcs hello.cs
</I>&gt;<i> ** ERROR **: file interp.c: line 297 (get_virtual_method): assertion  
</I>&gt;<i> failed: (res)
</I>&gt;<i> aborting...
</I>&gt;<i> /opt/local/bin/mcs: line 2:  2078 Abort trap               
</I>&gt;<i> /opt/local/bin/mint /opt/local/bin/mcs.exe &quot;$@&quot;
</I>&gt;<i> mww%
</I>&gt;<i> ---
</I>&gt;<i> mono 0.28, on MacOS-X 10.3.1, compiled with boehmgc 6.2, glib 2.2.3,  
</I>&gt;<i> ./configure --disable-shared
</I>&gt;<i> The problem seems to be the garbage collector - when compiled w/o  
</I>&gt;<i> boehmgc, mcs works;
</I>&gt;<i> Is mcs using the gc? (I suppose that the vm does which won't run with  
</I>&gt;<i> or w/o gc here)
</I>&gt;<i>
</I>&gt;<i> mint works fine with &amp; w/o boehmgc (I assume it doesn't use it?)
</I>

I have some URLs that helped building for OS X if your interested,  
mostly for building from CVS. There is a good set of general directions  
here:

<A HREF="http://www.beatthesystem.co.uk/osx/mono-cvs.html">http://www.beatthesystem.co.uk/osx/mono-cvs.html</A>

These have also helped out:
<A HREF="http://lists.ximian.com/archives/public/mono-devel-list/2003-November/">http://lists.ximian.com/archives/public/mono-devel-list/2003-November/</A> 
002892.html
<A HREF="http://lists.ximian.com/archives/public/mono-devel-list/2003-November/">http://lists.ximian.com/archives/public/mono-devel-list/2003-November/</A> 
002823.html

I use DarwinPorts rather than Fink and built with glib 2.2.3, boehm 6.2  
and pkgconfig 0.15. From CVS, everything builds and mcs via mint works.  
mcs via mono usually dies in the JITter at this point. The default  
build config for the darwin profile is w/o the gc, in that case mono  
does not use internal or external gc. mcs does not use the gc and I do  
not believe mint uses it either, definitely not in the default profile  
from CVS. Problems may still exist with boehmgc 6.2 as an external lib,  
I could never get it working under FreeBSD 5.x.

.dpm


david [at] morford [dot] org
<A HREF="http://www.morford.org/">http://www.morford.org/</A>
&quot;Computation is about insight, not numbers.&quot; - Richard Hamming


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="017072.html">[Mono-list] assertion error in mcs (OS-X with boehmgc)
</A></li>
	<LI> Next message: <A HREF="017074.html">[Mono-list] Gcc summit...interesting stuff
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17097">[ date ]</a>
              <a href="thread.html#17097">[ thread ]</a>
              <a href="subject.html#17097">[ subject ]</a>
              <a href="author.html#17097">[ author ]</a>
         </LI>
       </UL>
</body></html>
