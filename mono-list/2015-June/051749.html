<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Problem with mono and HtttpWebRequest (ssl)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Problem%20with%20mono%20and%20HtttpWebRequest%20%28ssl%29&In-Reply-To=%3CBN3PR0801MB115483131CEDDDB8B372E0BEFAA70%40BN3PR0801MB1154.namprd08.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051748.html">
   <LINK REL="Next"  HREF="051750.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Problem with mono and HtttpWebRequest (ssl)</H1>
    <B>Edward Ned Harvey (mono)</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Problem%20with%20mono%20and%20HtttpWebRequest%20%28ssl%29&In-Reply-To=%3CBN3PR0801MB115483131CEDDDB8B372E0BEFAA70%40BN3PR0801MB1154.namprd08.prod.outlook.com%3E"
       TITLE="[Mono-list] Problem with mono and HtttpWebRequest (ssl)">edward.harvey.mono at clevertrove.com
       </A><BR>
    <I>Tue Jun 16 13:13:10 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="051748.html">[Mono-list] Problem with mono and HtttpWebRequest (ssl)
</A></li>
        <LI>Next message: <A HREF="051750.html">[Mono-list] Problem with mono and HtttpWebRequest (ssl)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51749">[ date ]</a>
              <a href="thread.html#51749">[ thread ]</a>
              <a href="subject.html#51749">[ subject ]</a>
              <a href="author.html#51749">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A> [mailto:mono-list-
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">bounces at lists.ximian.com</A>] On Behalf Of Edward Ned Harvey (mono)
</I>&gt;<i> 
</I>&gt;<i> Try using these guys on your company server, and see what they say. If you
</I>&gt;<i> have a broken server SSL configuration, they'll expose it for you.
</I>&gt;<i> <A HREF="https://www.ssllabs.com/ssltest/index.html">https://www.ssllabs.com/ssltest/index.html</A>
</I>
Oh, sorry - I just saw that you already did that. And also helpful, in the SSLLabs report, it says your hostname, www.mars-solutions.de, and also helpful, when I repeat my test run, connecting to *your* company server, I get the exception just like you. Exception in mono only, not in windows.

The most obvious explanation would be if the server cert (or chain) used Elliptic Curve, which isn't supported by mono - so I looked for that, but I didn't see any reason to suspect it. I didn't look *exhaustively* so I could be wrong (need to check the server cert, the chain, and root), but at a quick glance, I don't think you're bumping into an EC problem.

I noticed, on the SSLLabs report, every single client handshake negotiated ECDHE, which isn't supported by mono. So maybe your server has disabled protocols that don't use ECDHE?

Mono only supports up to TLS 1.0, but I noticed in SSLLabs, that your server *does* support TLS1.0, so that's good.

The next most obvious thing to check for would be to ensure the CA root is trusted - I know it's Comodo, and seems like it's common and should be expected to be trusted, but perhaps Comodo pushed out a new cert that just hasn't propagated down through Mozilla yet. It'll take a little bit of effort to scan through ~/.config/.mono/certs (or the equivalent system directory) and ensure the root CA is present.

My best guess is that your server doesn't support below ECDHE.

They are working on pulling the Microsoft code into the mono TLS stack, which will solve lots of problems, but I don't know how soon it will be ready. Could it be years away still? Don't know.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051748.html">[Mono-list] Problem with mono and HtttpWebRequest (ssl)
</A></li>
	<LI>Next message: <A HREF="051750.html">[Mono-list] Problem with mono and HtttpWebRequest (ssl)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51749">[ date ]</a>
              <a href="thread.html#51749">[ thread ]</a>
              <a href="subject.html#51749">[ subject ]</a>
              <a href="author.html#51749">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
