<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] [Mono-dev] Cross-compiling Mono for ARM
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20%5BMono-dev%5D%20Cross-compiling%20Mono%20for%20ARM&In-Reply-To=%3CGRUPR80MB1547C6A5E36E075EBCCE637A7A40%40GRUPR80MB154.lamprd80.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051756.html">
   <LINK REL="Next"  HREF="051758.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] [Mono-dev] Cross-compiling Mono for ARM</H1>
    <B>Gutemberg Ribeiro</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20%5BMono-dev%5D%20Cross-compiling%20Mono%20for%20ARM&In-Reply-To=%3CGRUPR80MB1547C6A5E36E075EBCCE637A7A40%40GRUPR80MB154.lamprd80.prod.outlook.com%3E"
       TITLE="[Mono-list] [Mono-dev] Cross-compiling Mono for ARM">gutemberg at fgrit.com
       </A><BR>
    <I>Fri Jun 19 19:44:32 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="051756.html">[Mono-list] Cross-compiling Mono for ARM
</A></li>
        <LI>Next message: <A HREF="051758.html">[Mono-list] Mono-list Digest, Vol 122, Issue 12
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51757">[ date ]</a>
              <a href="thread.html#51757">[ thread ]</a>
              <a href="subject.html#51757">[ subject ]</a>
              <a href="author.html#51757">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes&#8230; We was looking at it and looks that they changed lots of standard headers&#8230;

Unfortunately, here in Brazil they don&#8217;t have a dev team, only in France and take ages to get a reply&#8230;

Will try get them on table and see what we can do&#8230;

Thank you,

Best regards,
Gutemberg

From: Rafael Teixeira [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">monoman at gmail.com</A>]
Sent: Friday, June 19, 2015 2:52 PM
To: Gutemberg Ribeiro &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">gutemberg at fgrit.com</A>&gt;
Cc: Andres G. Aragoneses &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">knocte at gmail.com</A>&gt;; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-devel-list at lists.xamarin.com</A>; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.xamarin.com</A>
Subject: Re: [Mono-dev] Cross-compiling Mono for ARM

From these:
...arm-elf/include/stdint.h:243: error: conflicting types for 'intptr_t'
...arm-elf/include/stdint.h:244: error: conflicting types for 'uintptr_t'

it is pretty clear that ingenico messed with the standard header files, and guard clauses (#IFDEFs) aren't thus able to avoid such duplications, You'll need to see how to avoid the duplication but that may instead define things wrongly for symbols mono uses.

I wish you luck,

Rafael Teixeira
O..:.)oooo

On Fri, Jun 19, 2015 at 2:11 PM, Gutemberg Ribeiro &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">gutemberg at fgrit.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">gutemberg at fgrit.com</A>&gt;&gt; wrote:
Hello Andres...

I think I finally got it compiled but, now when I'm including on my C project the mono headers, my app don't compile anymore:

In file included from ../../Desktop/mono-build/usr/local/include/mono-2.0/mono/utils/mono-publib.h:45,
                 from ../../Desktop/mono-build/usr/local/include/mono-2.0/mono/metadata/appdomain.h:13,
                 from ../../Desktop/mono-build/usr/local/include/mono-2.0/mono/jit/jit.h:11,
                 from C:/Users/Gutemberg/IngeDev7_workspace/MonoWrapper/Inc/mono_loader.h:1,
                 from Src/Entry.c:43:
/cygdrive/c/Ingenico/IngeDev_7.22.2.1/plugins/com.ingenico.ingedev.telium.bin.win32.gnuarm.v434_7.20.0.1/os/win32/GNUARM/4.3.4/bin/../lib/gcc/arm-elf/4.3.4/../../../../arm-elf/include/stdint.h:243: error: conflicting types for 'intptr_t'
C:/Ingenico/TeliumSDK/SDK 9.20.2.04/SDKTPLUS/HW_T2/gnu_434/inc/oem_vfs_def.h:35&lt;<A HREF="http://9.20.2.04/SDKTPLUS/HW_T2/gnu_434/inc/oem_vfs_def.h:35">http://9.20.2.04/SDKTPLUS/HW_T2/gnu_434/inc/oem_vfs_def.h:35</A>&gt;: error: previous declaration of 'intptr_t' was here
/cygdrive/c/Ingenico/IngeDev_7.22.2.1/plugins/com.ingenico.ingedev.telium.bin.win32.gnuarm.v434_7.20.0.1/os/win32/GNUARM/4.3.4/bin/../lib/gcc/arm-elf/4.3.4/../../../../arm-elf/include/stdint.h:244: error: conflicting types for 'uintptr_t'
C:/Ingenico/TeliumSDK/SDK 9.20.2.04/SDKTPLUS/HW_T2/gnu_434/inc/oem_vfs_def.h:38&lt;<A HREF="http://9.20.2.04/SDKTPLUS/HW_T2/gnu_434/inc/oem_vfs_def.h:38">http://9.20.2.04/SDKTPLUS/HW_T2/gnu_434/inc/oem_vfs_def.h:38</A>&gt;: error: previous declaration of 'uintptr_t' was here
C:\Ingenico\IngeDev_7.22.2.1\plugins\com.ingenico.ingedev.generic.bin.win32_7.16.0.1\os\win32\tools\make.exe: *** [Obj/GNU_ARM_DEBUG/Entry.o] Error 1
C:\Ingenico\IngeDev_7.22.2.1\plugins\com.ingenico.ingedev.generic.bin.win32_7.16.0.1\os\win32\tools\make.exe: Target `build' not remade because of errors.

Any clues?


Thanks

-----Original Message-----
From: Andres G. Aragoneses [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">knocte at gmail.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">knocte at gmail.com</A>&gt;]
Sent: Friday, June 19, 2015 8:58 AM
To: Gutemberg Ribeiro &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">gutemberg at fgrit.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">gutemberg at fgrit.com</A>&gt;&gt;
Subject: Re: Cross-compiling Mono for ARM

On 18/06/15 21:03, Gutemberg Ribeiro wrote:
&gt;<i> Hello guys,
</I>&gt;<i>
</I>&gt;<i> I'm trying to cross-compile (from Ubuntu 14.04) Mono for ARM following
</I>&gt;<i> this tutorial
</I>&gt;<i> <A HREF="http://www.mono-project.com/docs/about-mono/supported-platforms/arm/">http://www.mono-project.com/docs/about-mono/supported-platforms/arm/</A>
</I>&gt;<i> but the links that show how configure ScratchBox are outdated and I
</I>&gt;<i> can't find anything on the internet on how to successful setup an
</I>&gt;<i> environment and cross-compile mono for ARM...
</I>&gt;<i>
</I>&gt;<i> The idea is to build it as a static library so I can use it embedded
</I>&gt;<i> as suggested here:
</I>&gt;<i> <A HREF="http://www.mono-project.com/docs/advanced/embedding/">http://www.mono-project.com/docs/advanced/embedding/</A>
</I>&gt;<i>
</I>&gt;<i> For the sake of information, the target ARM device runs a proprietary
</I>&gt;<i> striped down distribution based on debian and we have no access to its
</I>&gt;<i> terminal or any kind of access to the OS. It is a payment terminal
</I>&gt;<i> from www.ingenico.com&lt;<A HREF="http://www.ingenico.com">http://www.ingenico.com</A>&gt; &lt;<A HREF="http://www.ingenico.com">http://www.ingenico.com</A>&gt; and it has an ARM9
</I>&gt;<i> processor and uses a proprietary SDK that looks like uses GNU ARM
</I>&gt;<i> 4.3.4 toolchain with an IDE based on Eclipse as you can see in the following picture:
</I>&gt;<i>
</I>&gt;<i> The only way we have to use mono on it is by adding it as a static lib
</I>&gt;<i> and import the header in order to embedded it, create a thin C layer
</I>&gt;<i> that will only bootstrap the .net app (all their API calls will be
</I>&gt;<i> PInvoked after add Mono to it).
</I>&gt;<i>
</I>&gt;<i> Anyone has has a good documentation on:
</I>&gt;<i>
</I>&gt;<i> 1.How to setup a cross-compile environment on Ubuntu
</I>&gt;<i>
</I>&gt;<i> 2.Compile Mono to ARM as an static library
</I>&gt;<i>
</I>&gt;<i> Any help would be very appreciated.
</I>&gt;<i>
</I>&gt;<i> Thank you very much!
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>
Hey, I recommend you to put more details on what you have already tried.
For example the details you already posted on the gitter channel when you were talking with Miguel about using CC='armv6-cc' ./configure.

_______________________________________________
Mono-devel-list mailing list
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-devel-list at lists.ximian.com</A>&lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-devel-list at lists.ximian.com</A>&gt;
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20150619/290852cf/attachment-0001.html">http://lists.ximian.com/pipermail/mono-list/attachments/20150619/290852cf/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051756.html">[Mono-list] Cross-compiling Mono for ARM
</A></li>
	<LI>Next message: <A HREF="051758.html">[Mono-list] Mono-list Digest, Vol 122, Issue 12
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51757">[ date ]</a>
              <a href="thread.html#51757">[ thread ]</a>
              <a href="subject.html#51757">[ subject ]</a>
              <a href="author.html#51757">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
