<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] late linking &amp; dynamic invocation ...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ben.hutchison%40intamission.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006719.html">
   <LINK REL="Next"  HREF="006724.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] late linking &amp; dynamic invocation ...
   </H1>
    <B>Ben Hutchison
    </B> 
    <A HREF="mailto:ben.hutchison%40intamission.com"
       TITLE="[Mono-list] late linking &amp; dynamic invocation ...">ben.hutchison@intamission.com
       </A><BR>
    <I>Mon, 1 Jul 2002 17:45:37 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="006719.html">[Mono-list] report generator
</A></li>
        <LI> Next message: <A HREF="006724.html">[Mono-list] newbie looking for testing work and/or clues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6721">[ date ]</a>
              <a href="thread.html#6721">[ thread ]</a>
              <a href="subject.html#6721">[ subject ]</a>
              <a href="author.html#6721">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Michael,

It took me a while to understand the issues you raise, but I think I now
appreciate your points. Generic delegate declaration seems to be missing (in
fact deliberately disabled)  from the C# &amp; .Net framework at present, but Im
not sure its a big problem.

&gt;<i> a) A way to specify that a certain object is extremely late
</I>&gt;<i>    linked, such that I can invoke arbitrary methods on it, and
</I>&gt;<i>    the compiler will do ~no checking eg.
</I>&gt;<i>
</I>&gt;<i> LateLinkType t = (LateLinkType) myObject;
</I>&gt;<i> t.unknownMethod (&quot;astring&quot;);
</I>
My short answer: Reflection. I know from other posts you dont like it ...
but in a type-safe language like C#, type checking is assumed to be a Good
Thing and no way is provided to directly circumvent it; delegates and
reflection are provided for more dynamism when you need it. Some of your
later posts gave the impression you dont much like type-safe languages,
which is fine, but C# is one.

Could you give an example (from above) where you would want to invoke
&quot;unknownMethod()&quot; at compile time, yet not know the type of &quot;myObject&quot; until
runtime, nor have an polymorphic interface/superclass to cast to? Seems
dubious to me. More likely you'll have both object and method in variables
known only at runtime, and thus reflection is suitable.

&gt;<i> b) A way to handle delegates that is elegant; eg. I wish to
</I>   implement the following (or similar):

private void sizeAllocate (Widget w, Allocation a,
   Object closure);
...
w.addHandler (&quot;size_allocate&quot;, sizeAllocate, myObject);
[snip]
&gt;<i>    Is it possible to coerce the type information out of a method
</I>&gt;<i> name by some clever casting ? and if so, how in the (seemingly
</I>&gt;<i> unexpandable) delegate constructon scheme ?
</I>
There are two seperate issues in this question: (1) generic runtime delegate
definition, and (2) a code shortcut from methods to delegates.

re 1. There are 3 phases to a delegate: declaration, creation and
invocation. Declaration sets the type signature and defines a Type extending
System.Delegate. This appears to be impossible at runtime, and furthermore,
deriving a class from System.Delegate is permitted only by the system itself
(via &quot;delegate&quot; keyword) and not the developer (presumably to strengthen
type-checking).

Delegate creation can be performed at runtime generically using
Delegate.CreateDelegate(), and invocation similarly.

Although I would like a way to create delegates at runtime for completeness,
Im unsure how much of an improvement it is over reflection: they both would
seem to support a list of methods which can be invoked, with much the same
behavior.

re 2. I cant see a nice way to express this in C#; would you care to propose
a syntax (which handles method overloading) ?

Regards
Ben



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006719.html">[Mono-list] report generator
</A></li>
	<LI> Next message: <A HREF="006724.html">[Mono-list] newbie looking for testing work and/or clues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6721">[ date ]</a>
              <a href="thread.html#6721">[ thread ]</a>
              <a href="subject.html#6721">[ subject ]</a>
              <a href="author.html#6721">[ author ]</a>
         </LI>
       </UL>
</body></html>
