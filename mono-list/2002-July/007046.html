<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] GTK#/Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:serge%40wildwestsoftware.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="007036.html">
   <LINK REL="Next"  HREF="007047.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] GTK#/Windows
   </H1>
    <B>Serge
    </B> 
    <A HREF="mailto:serge%40wildwestsoftware.com"
       TITLE="[Mono-list] GTK#/Windows">serge@wildwestsoftware.com
       </A><BR>
    <I>Wed, 17 Jul 2002 18:49:58 +0300</I>
    <P><UL>
        <LI> Previous message: <A HREF="007036.html">[Mono-list] GTK#/Windows
</A></li>
        <LI> Next message: <A HREF="007047.html">[Mono-list] GTK#/Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7046">[ date ]</a>
              <a href="thread.html#7046">[ thread ]</a>
              <a href="subject.html#7046">[ subject ]</a>
              <a href="author.html#7046">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> How did you build the dlls? Reportedly, it works if they are built with
</I>&gt;<i> the ms tools, but they don't work if build with gcc.
</I>
I have only built the glue library myself and used pre-built GTK DLLs and they were built with GCC.
In fact, I can't think of any reasons why GCC-build libraries shouldn't work with .NET runtime.
One reason is mangling, but GTK-exported names are not mangled.
Another one is calling convention, but even though it's set to winapi in GTK# libraries (whereas exports
in GTK libs are cdecl), it works anyway (compiler expects callee to clean up the stack, so stack of the
caller grows after every such call, but it will be reclaimed in the method's epilogue anyway: ESP restored from EBP).
All in all, both .NET &amp; Mono use LoadLibrary/GetAddress API to load DLLs (Mono uses it indirectly via gmodule).
So any valid Windows DLL should work fine.

Sergey


----- Original Message ----- 
From: &quot;Paolo Molaro&quot; &lt;<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>&gt;
To: &lt;<A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>&gt;
Sent: Wednesday, July 17, 2002 4:11 PM
Subject: Re: [Mono-list] GTK#/Windows


&gt;<i> On 07/17/02 Serge wrote:
</I>&gt;<i> &gt; I'm not following GTK# development closely, but it was mentioned several times on this list and elsewhere
</I>&gt;<i> &gt; (e.g. on Phonic's page <A HREF="http://www.atoker.com/phonic/">http://www.atoker.com/phonic/</A>) that GTK# doesn't work under Windows/.NET
</I>&gt;<i> &gt; Framework because of some P/Invoke issues.
</I>&gt;<i> [...]
</I>&gt;<i> &gt; What else I am missing?
</I>&gt;<i> 
</I>&gt;<i> How did you build the dlls? Reportedly, it works if they are built with
</I>&gt;<i> the ms tools, but they don't work if build with gcc.
</I>&gt;<i> 
</I>&gt;<i> lupus
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> -----------------------------------------------------------------
</I>&gt;<i> <A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
</I>&gt;<i> <A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> 
</I>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="007036.html">[Mono-list] GTK#/Windows
</A></li>
	<LI> Next message: <A HREF="007047.html">[Mono-list] GTK#/Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7046">[ date ]</a>
              <a href="thread.html#7046">[ thread ]</a>
              <a href="subject.html#7046">[ subject ]</a>
              <a href="author.html#7046">[ author ]</a>
         </LI>
       </UL>
</body></html>
