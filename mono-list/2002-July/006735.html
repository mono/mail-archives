<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] [Fwd: [Mono-cvs-list] Mono CVS: mcs gonzalo]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gonzalo%40gnome-db.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006733.html">
   <LINK REL="Next"  HREF="006738.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] [Fwd: [Mono-cvs-list] Mono CVS: mcs gonzalo]
   </H1>
    <B>Gonzalo Paniagua Javier
    </B> 
    <A HREF="mailto:gonzalo%40gnome-db.org"
       TITLE="[Mono-list] [Fwd: [Mono-cvs-list] Mono CVS: mcs gonzalo]">gonzalo@gnome-db.org
       </A><BR>
    <I>Wed, 3 Jul 2002 01:32:46 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="006733.html">[Mono-list] [Fwd: [Mono-cvs-list] Mono CVS: mcs gonzalo]
</A></li>
        <LI> Next message: <A HREF="006738.html">[Mono-list] [Fwd: [Mono-cvs-list] Mono CVS: mcs gonzalo]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6735">[ date ]</a>
              <a href="thread.html#6735">[ thread ]</a>
              <a href="subject.html#6735">[ subject ]</a>
              <a href="author.html#6735">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>* [ Mike Kestner &lt;<A HREF="mailto:mkestner@speakeasy.net">mkestner@speakeasy.net</A>&gt;
* Tue, 02 Jul 2002 23:45:21 +0200 ]
&gt;<i> I think this change is incorrect.  
</I>&gt;<i> 
</I>&gt;<i> If the stream is not seekable, there is no way to back up from the peek,
</I>&gt;<i> and peek is not supposed to consume. Besides, the MS docs on the method
</I>&gt;<i> explicitly state that -1 is supposed to be returned if Peek is called on
</I>&gt;<i> a non-seekable stream.
</I>
I was getting an error in a StreamReader that wraps a NetworkStream.

I got a &quot;\r&quot; from StreamReader.ReadLine cause Peek always returned -1
cause you cannot seek a NetworkStream.

With MS runtime, it worked fine, so i supposed they don't check for
CanSeek in StreamReader.Peek (), which does not need any seek operation to
be done, just reading one more char and keep it buffered.

Do you still think that i'm wrong?

-- 
Gonzalo Paniagua Javier &lt;<A HREF="mailto:gonzalo@gnome-db.org">gonzalo@gnome-db.org</A>&gt;
<A HREF="http://www.gnome-db.org/~gonzalo/">http://www.gnome-db.org/~gonzalo/</A>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006733.html">[Mono-list] [Fwd: [Mono-cvs-list] Mono CVS: mcs gonzalo]
</A></li>
	<LI> Next message: <A HREF="006738.html">[Mono-list] [Fwd: [Mono-cvs-list] Mono CVS: mcs gonzalo]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6735">[ date ]</a>
              <a href="thread.html#6735">[ thread ]</a>
              <a href="subject.html#6735">[ subject ]</a>
              <a href="author.html#6735">[ author ]</a>
         </LI>
       </UL>
</body></html>
