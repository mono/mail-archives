<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Performance measurements / garbage collection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="007002.html">
   <LINK REL="Next"  HREF="007011.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Performance measurements / garbage collection
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] Performance measurements / garbage collection">lupus@ximian.com
       </A><BR>
    <I>Wed, 17 Jul 2002 12:15:08 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="007002.html">[Mono-list] Performance measurements / garbage collection
</A></li>
        <LI> Next message: <A HREF="007011.html">[Mono-list] Verification runtime support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7029">[ date ]</a>
              <a href="thread.html#7029">[ thread ]</a>
              <a href="subject.html#7029">[ subject ]</a>
              <a href="author.html#7029">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/16/02 Tom Fransen wrote:
&gt;<i> has anybody experience with measuring the overhead induced by the garbage
</I>&gt;<i> collector under Mono. On the MS platform I can use the performance monitor
</I>&gt;<i> to 'see' when the GC is invoked and how much of the time is used for GC.
</I>&gt;<i> 
</I>&gt;<i> I like to do similar things with Mono to study the behavior of the GC. How
</I>&gt;<i> can I hook into the GC under Mono?
</I>
Well, it depends what info you want out of the GC. Some is already
exported from the GC class. Callbacks for object allocations still need
to be hooked to the profiling interface, but this is very easy to do.
If you needs hooks for when a collections starts and ends, I think libgc
doesn't provide an interface to get the info. It should not be hard to
add, though, since the library provides some info in a non-programmatic
way when you set the GC_PRINT_STATS env variable: the info may not be
accurate enough, though. We should probably contact the upstream author
about this.
You can also play with setting GC_INITIAL_HEAP_SIZE to different sizes:
the right value can give a 10-20% speed difference in some benchmarks.

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="007002.html">[Mono-list] Performance measurements / garbage collection
</A></li>
	<LI> Next message: <A HREF="007011.html">[Mono-list] Verification runtime support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7029">[ date ]</a>
              <a href="thread.html#7029">[ thread ]</a>
              <a href="subject.html#7029">[ subject ]</a>
              <a href="author.html#7029">[ author ]</a>
         </LI>
       </UL>
</body></html>
