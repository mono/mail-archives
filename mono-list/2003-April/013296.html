<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mercury on Mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jackson%40latitudegeo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="013290.html">
   <LINK REL="Next"  HREF="013291.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mercury on Mono
   </H1>
    <B>Jackson Harper
    </B> 
    <A HREF="mailto:jackson%40latitudegeo.com"
       TITLE="[Mono-list] Mercury on Mono">jackson@latitudegeo.com
       </A><BR>
    <I>07 Apr 2003 18:57:19 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="013290.html">[Mono-list] Mercury on Mono
</A></li>
        <LI> Next message: <A HREF="013291.html">[Mono-list] About configuration file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13296">[ date ]</a>
              <a href="thread.html#13296">[ thread ]</a>
              <a href="subject.html#13296">[ subject ]</a>
              <a href="author.html#13296">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

	I half-awake replied to this message off the list this morning so I am
just following up 'on-the-record'.

	It looks like you are using an ILAsm from a previous release (not the
version in CVS). The version in CVS can tokenize and parse this file
fine, but cannot generate a proper image from it. Could you send me the
rest of the generated il files please?

	Progress on ilasm has been slow for a few reasons. First it was not
worked on for a long period of time, then I began working on it and made
a small amount of progress but the System.Reflection.Emit API was too
limiting to use for the assembler. So we switched to using PEAPI which
is a very good API, once again I made some progress but veered away from
the specifications in my eagerness to compile various pieces of code.
Now that I am an older and more experienced compiler developer ;-) I
have begun rebuilding ilasm focusing on implementing each piece of the
specification to the best of my abilities. I expect this new course of
development to be much faster (and better) and hope to have a very
useable ilasm by mid may.

Jackson

	


On Mon, 2003-04-07 at 06:07, Fergus Henderson wrote:
&gt;<i> On 01-Mar-2003, Paolo Molaro &lt;<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>&gt; wrote:
</I>&gt;<i> &gt; After a bunch of warnings about the missing type I get:
</I>&gt;<i> &gt; <A HREF="mailto:lupus@luna">lupus@luna</A>:/tmp/mercury/mercury_dotnet_hello$ mono hello.exe 
</I>&gt;<i> &gt; Hello, world
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; So, that's a good start, though I don't know how much real mercury code
</I>&gt;<i> &gt; the test uses to run.
</I>&gt;<i> 
</I>&gt;<i> Using Mono 0.23 on Debian Linux, I have tested several cases by
</I>&gt;<i> hand, making use of Mercury features such as parametric polymorphism,
</I>&gt;<i> backtracking, and higher-order code, and they all work fine.  My next step
</I>&gt;<i> is running the full Mercury test suite... currently that is underway.
</I>&gt;<i> (The results so far look reasonably good, although there are still
</I>&gt;<i> quite a lot of failures -- of the first 185 tests, about 30% failed.
</I>&gt;<i> I haven't yet analyzed the causes of the failures.)
</I>&gt;<i> This is all using a version of the Mercury library for .NET that was built
</I>&gt;<i> on Windows, and using the Portable.NET version of ilasm to assemble each
</I>&gt;<i> test (because the Mono ilasm didn't work).
</I>&gt;<i> 
</I>&gt;<i> Some comments:
</I>&gt;<i> 
</I>&gt;<i> 	- Attempting to run &quot;mono&quot; on a DLL rather than an EXE
</I>&gt;<i> 	  results in a poor (confusing) error message -- in some
</I>&gt;<i> 	  cases, an assertion failure.
</I>&gt;<i> 
</I>&gt;<i> 	- The most recent version of Mono's &quot;ilasm&quot; that I could find
</I>&gt;<i> 	  was &quot;Mono ILasm compiler version 0.0.3.0&quot;.  Is that the
</I>&gt;<i> 	  current version?  Is there a newer version?
</I>&gt;<i> 
</I>&gt;<i> 	- Mono's ilasm 0.0.3.0 barfed on some constructs in the
</I>&gt;<i> 	  Mercury-generated .il files, e.g. the `tak.il' file attached,
</I>&gt;<i> 	  reporting the following error message:
</I>&gt;<i> 
</I>&gt;<i> Unhandled Exception: Mono.ILASM.ILSyntaxError: Bad number format!
</I>&gt;<i> in &lt;0x00283&gt; 00 Mono.ILASM.NumberHelper:Build ()
</I>&gt;<i> in &lt;0x004b9&gt; 00 Mono.ILASM.ILTokenizer:GetNextToken ()
</I>&gt;<i> in &lt;0x00012&gt; 00 Mono.ILASM.ILTokenizer:get_NextToken ()
</I>&gt;<i> in &lt;0x00021&gt; 00 Mono.ILASM.ScannerAdapter:advance ()
</I>&gt;<i> in &lt;0x001fa&gt; 00 Mono.ILASM.ILParser:yyparse (Mono.ILASM.yyParser.yyInput)
</I>&gt;<i> in &lt;0x00053&gt; 00 Mono.ILASM.ILParser:yyparse (Mono.ILASM.yyParser.yyInput,object)in &lt;0x0016f&gt; 00 .DriverMain:ProcessFile (string)
</I>&gt;<i> in &lt;0x0017d&gt; 00 .DriverMain:Run ()
</I>&gt;<i> in &lt;0x0003f&gt; 00 Mono.ILASM.Driver:Main (string[])                               
</I>-- 
Jackson Harper &lt;<A HREF="mailto:jackson@latitudegeo.com">jackson@latitudegeo.com</A>&gt;


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="013290.html">[Mono-list] Mercury on Mono
</A></li>
	<LI> Next message: <A HREF="013291.html">[Mono-list] About configuration file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13296">[ date ]</a>
              <a href="thread.html#13296">[ thread ]</a>
              <a href="subject.html#13296">[ subject ]</a>
              <a href="author.html#13296">[ author ]</a>
         </LI>
       </UL>
</body></html>
