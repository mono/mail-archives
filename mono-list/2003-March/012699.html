<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] effect of -nostdlib option
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jopryor%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="012687.html">
   <LINK REL="Next"  HREF="012700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] effect of -nostdlib option
   </H1>
    <B>jopryor
    </B> 
    <A HREF="mailto:jopryor%40vt.edu"
       TITLE="[Mono-list] effect of -nostdlib option">jopryor@vt.edu
       </A><BR>
    <I>Mon, 3 Mar 2003 12:27:57 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="012687.html">[Mono-list] Regarding error while running the csharp program using mono.l
</A></li>
        <LI> Next message: <A HREF="012700.html">[Mono-list] log4net port to Mono !
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12699">[ date ]</a>
              <a href="thread.html#12699">[ thread ]</a>
              <a href="subject.html#12699">[ subject ]</a>
              <a href="author.html#12699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-nostdlib does two things.  It keeps corlib.dll from being loaded by default.

The second thing is what's causing you problems.  -nostdlib tells mcs to grab 
all types from the files it's compiling.  This includes the base types, such 
as System.Object (which you were getting errors about).

The only reason to use -nostdlib is when compiling corlib itself, which should 
use the types defined in corlib, *not* types definied in the previous version 
of corlib.

You shouldn't need -nostdlib.  It's &quot;for internal use only.&quot; ;-)

 - Jon

&gt;<i>===== Original Message From Gert Driesen &lt;<A HREF="mailto:gert.driesen@pandora.be">gert.driesen@pandora.be</A>&gt; =====
</I>&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>Can anyone explain what the effect of specifying the -nostdlib option is for 
</I>the Mcs (using the Mono runtime or the .NET runtime) ?
&gt;<i>
</I>&gt;<i>For the MS.NET compiler it allows you to specify another mscorlib.dll that 
</I>should be linked instead of the .NET Framework mscorlib.dll.
&gt;<i>
</I>&gt;<i>But for Mcs this does not seems to work :  when you want to build an assembly 
</I>using the Mono runtime you must use &quot;mono mcs.exe [options]&quot; although in my 
opinion should be able to build an assembly using the Mono system assemblies 
by using the following commandline :
&gt;<i>
</I>&gt;<i>mcs.exe -target:library -nostdlib -noconfig -out:log4net.dll -r:corlib.dll 
</I>-r:System.dll -r:System.Xml.dll -r:System.Web.dll -recurse:*.cs
&gt;<i>
</I>&gt;<i>But apparently it does not seems to link to the corlib.dll again, because I 
</I>get the following compile errors :
&gt;<i>
</I>&gt;<i>error CS0518: The predefined type `System.Object' is not defined
</I>&gt;<i>error CS0518: The predefined type `System.ValueType' is not defined
</I>&gt;<i>error CS0518: The predefined type `System.Attribute' is not defined
</I>&gt;<i>error CS0518: The predefined type `System.IComparable' is not defined
</I>&gt;<i>error CS0518: The predefined type `System.ICloneable' is not defined
</I>&gt;<i>error CS0518: The predefined type `System.IConvertible' is not defined
</I>&gt;<i>error CS0518: The predefined type `System.Collections.IEnumerable' is not 
</I>defined
&gt;<i>error CS0518: The predefined type `System.Collections.ICollection' is not 
</I>defined
&gt;<i>error CS0518: The predefined type `System.Collections.IEnumerator' is not 
</I>defined
&gt;<i>......
</I>&gt;<i>
</I>&gt;<i>Can anyone explain what the -nostdlib option is for then, and how I can 
</I>compile compile an assembly with the Mono system assemblies without using 
Mono.exe Mcs.exe ?
&gt;<i>
</I>&gt;<i>Gert
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="012687.html">[Mono-list] Regarding error while running the csharp program using mono.l
</A></li>
	<LI> Next message: <A HREF="012700.html">[Mono-list] log4net port to Mono !
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12699">[ date ]</a>
              <a href="thread.html#12699">[ thread ]</a>
              <a href="subject.html#12699">[ subject ]</a>
              <a href="author.html#12699">[ author ]</a>
         </LI>
       </UL>
</body></html>
