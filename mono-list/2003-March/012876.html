<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mod_mono and user dirs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:daniel%40rawbyte.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="012879.html">
   <LINK REL="Next"  HREF="012877.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mod_mono and user dirs
   </H1>
    <B>Daniel Lopez
    </B> 
    <A HREF="mailto:daniel%40rawbyte.com"
       TITLE="[Mono-list] mod_mono and user dirs">daniel@rawbyte.com
       </A><BR>
    <I>Wed, 12 Mar 2003 03:13:09 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="012879.html">[Mono-list] mod_mono and user dirs
</A></li>
        <LI> Next message: <A HREF="012877.html">[Mono-list] mod_mono and userdir
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12876">[ date ]</a>
              <a href="thread.html#12876">[ thread ]</a>
              <a href="subject.html#12876">[ subject ]</a>
              <a href="author.html#12876">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> In IIS 6 a new term was introduced, a web garden. A web garden is an
</I>&gt;<i> application host that hosts several applications on the same process.
</I>&gt;<i> It is also possible (of course) to create several web gardens.
</I>
Oh, I was not aware of this, I´ll read up on that 

&gt;<i> So as I see it we have the following options:
</I>&gt;<i> 
</I>&gt;<i> - Update the application host to receive as a parameter several paths.
</I>&gt;<i> Each path represents an application. This means that every user path
</I>&gt;<i> will be manually enter to the config. This is also useful for applying a
</I>&gt;<i> web garden concept in mod_mono.
</I>
You can do that with MonoApplication /~ /home/
The problem is adding the public_html in the right place, the workaround I
suggested so far was 
MonoApplication /~ /some/path
and then soft-linking the public_html to there

&gt;<i> - Add a parameter to the application host that will recognize a pattern
</I>&gt;<i> that will be interpreted as a user home directory. By default it can be
</I>&gt;<i> paths with a &quot;~&quot; sign, but it can also be any kind of pattern (for
</I>&gt;<i> example a path named home_username). Perhaps it will be useful to allow
</I>&gt;<i> adding some kind of a loadable filter that will be able to hold this
</I>&gt;<i> logic. This will allow a nicer approach in windows so we can have a
</I>&gt;<i> source path (equivalent to /home/) and underneath it a filter that will
</I>&gt;<i> process the received user home directory name and convert it to the
</I>&gt;<i> physical path according to some kind of a logic.
</I>&gt;<i> 
</I>&gt;<i> So we will have s path that looks like this:
</I>&gt;<i> <A HREF="http://myserver/mono/~username/">http://myserver/mono/~username/</A> or perhaps it will even look like this:
</I>&gt;<i> <A HREF="http://myserver/mono/user_joe/">http://myserver/mono/user_joe/</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> - Write a user pages application host which specifically works for user
</I>&gt;<i> home directories.
</I>&gt;<i> 
</I>&gt;<i> In this case the IIS 6 web garden model seems like a logical choice and
</I>&gt;<i> although there is currently no support for something like user pages,
</I>&gt;<i> perhaps it will be best to combine the 2 first suggestions I have made
</I>&gt;<i> so we will support a similar concept of web garden while still being
</I>&gt;<i> able to serve user pages.
</I>&gt;<i> 
</I>&gt;<i> What do you think about it?
</I>
I like the ideas, what I am trying to figure out is where to do the
transformations. Patrik suggested HttpModule, I am going to look for
examples in which an HttpModule is used to change the physical path.
The other one that I had in mind originally is changing MapPath, so if a
certain flag is set, it will use the apache path_translated. That will allow
us not only use UserDir apache directive, but take advantage of all other
apache modules that map virtual to physical paths (such as mod_rewrite).
That will allow to easily implement, for example, the mapping on Windows
that you suggested 

Cheers

Daniel

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="012879.html">[Mono-list] mod_mono and user dirs
</A></li>
	<LI> Next message: <A HREF="012877.html">[Mono-list] mod_mono and userdir
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12876">[ date ]</a>
              <a href="thread.html#12876">[ thread ]</a>
              <a href="subject.html#12876">[ subject ]</a>
              <a href="author.html#12876">[ author ]</a>
         </LI>
       </UL>
</body></html>
