<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Threading and IO problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Threading%20and%20IO%20problem&In-Reply-To=6FE5B54E82FD4B4A93CD0D8730986CBB01A4A5A1%40ATLEXCV01.zcs.corp">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037959.html">
   <LINK REL="Next"  HREF="037964.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Threading and IO problem</H1>
    <B>Damien DALY</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Threading%20and%20IO%20problem&In-Reply-To=6FE5B54E82FD4B4A93CD0D8730986CBB01A4A5A1%40ATLEXCV01.zcs.corp"
       TITLE="[Mono-list] Threading and IO problem">maitredede at gmail.com
       </A><BR>
    <I>Thu Mar  6 17:21:10 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="037959.html">[Mono-list] Threading and IO problem
</A></li>
        <LI>Next message: <A HREF="037964.html">[Mono-list] Mono 1.9.0 Preview 3 is out!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37960">[ date ]</a>
              <a href="thread.html#37960">[ thread ]</a>
              <a href="subject.html#37960">[ subject ]</a>
              <a href="author.html#37960">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i>From my (bad) memroy, ThreadPool is implemented. There is only a small
</I>difference between default number of thread pool.

By using ThreadPool, you can't have a direct pointer on the launched Thread,
so you will have to deal with other concurency management (Semaphore, mutex,
or other waithandle) to wait for all task to be completed.

I may be wrong, but reading lots of files at the same time, can the hard
drive support the required bandwith ?

Best regards,

Damien

2008/3/6, Engler, Eric &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Eric.Engler at zcsterling.com</A>&gt;:
&gt;<i>
</I>&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> Hash: SHA256
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt;I've made a small program to use all processors on a system to analyze
</I>&gt;<i> &gt;N text files. But when it's run on a 8 CPU PC, the CPU time stays
</I>&gt;<i> around
</I>&gt;<i> &gt;70%-80% and the idle time between 20-30%.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Your problem is that you need to ensure your threads get launched, and
</I>&gt;<i> run, on each available processor. As you may have guessed, your best
</I>&gt;<i> processor utilization will occur with 8 threads in execution on an 8-way
</I>&gt;<i> box.
</I>&gt;<i>
</I>&gt;<i> In version 2.0 of the .NET Framework MS developed an elegant solution
</I>&gt;<i> for this. Instead of creating your own threads, you can call
</I>&gt;<i> ThreadPool.QueueUserWorkItem and pass it a delegate to a static
</I>&gt;<i> function. This will take complete responsibility for allocating threads
</I>&gt;<i> from the thread pool, and getting them executed on separate processors.
</I>&gt;<i> Your overall CPU utilization will shoot up to 100.
</I>&gt;<i>
</I>&gt;<i> I don't know if this is implemented in Mono.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> NOTICE:  The information contained in this electronic mail transmission is
</I>&gt;<i> intended by the sender for the sole use of the named individual or entity to
</I>&gt;<i> which it is directed and may contain information that is privileged or
</I>&gt;<i> otherwise confidential.  Please do not copy it or use it for any purposes,
</I>&gt;<i> or disclose its contents to any other person.  To do so could violate state
</I>&gt;<i> and Federal privacy laws.  If you have received this electronic mail
</I>&gt;<i> transmission in error, please delete it from your system without copying
</I>&gt;<i> or forwarding it, and notify the sender of the error by reply email or by
</I>&gt;<i> telephone, so that the sender's address records can be corrected.  Thank you
</I>&gt;<i> for your cooperation.
</I>&gt;<i>
</I>&gt;<i> -----BEGIN PGP SIGNATURE-----
</I>&gt;<i> Version: PGP Universal 2.6.2
</I>&gt;<i> Charset: us-ascii
</I>&gt;<i>
</I>&gt;<i> wsBVAwUBR9Blc8hfyUs+le7yAQgYuwf/ckhuc5iK2sMTLy/cgiiPP02M1R+OTOR1
</I>&gt;<i> iTYTF74C8Ux/0NqQ+XuLsLK1kibTeaNBa+DnlQHUkMOa73uTAS9fJEuMSlRRWVGP
</I>&gt;<i> kCjYp9Z03eEo/3QwntcKd8xFAbUGzgNghnPyMhP5tijEn5W/1Ee3caiq5zxmRBdZ
</I>&gt;<i> 9BBbe33zTNA7NmS5ipGSWx+xf2vWPrrUY6CYJthIbqyQkFcibYoaMmbkBH5x7P/i
</I>&gt;<i> 90kxDk2KOsKqQtwVWt/r7ska5PkSfzo4uQP3ml+uQOzw+nazeKM/mjrSTdk73zCF
</I>&gt;<i> pVYqlwWf7v5pNZP+fnh5OG8dqvk31og4xfEhOoZ9ZYjvfdMVEdDOgQ==
</I>&gt;<i> =dmad
</I>&gt;<i> -----END PGP SIGNATURE-----
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20080306/17cf0cea/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20080306/17cf0cea/attachment.html</A> 
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037959.html">[Mono-list] Threading and IO problem
</A></li>
	<LI>Next message: <A HREF="037964.html">[Mono-list] Mono 1.9.0 Preview 3 is out!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37960">[ date ]</a>
              <a href="thread.html#37960">[ thread ]</a>
              <a href="subject.html#37960">[ subject ]</a>
              <a href="author.html#37960">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
