<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Threading and IO problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Threading%20and%20IO%20problem&In-Reply-To=mailman.6860.1204836385.1961.mono-list%40lists.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037958.html">
   <LINK REL="Next"  HREF="037960.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Threading and IO problem</H1>
    <B>Engler, Eric</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Threading%20and%20IO%20problem&In-Reply-To=mailman.6860.1204836385.1961.mono-list%40lists.ximian.com"
       TITLE="[Mono-list] Threading and IO problem">Eric.Engler at zcsterling.com
       </A><BR>
    <I>Thu Mar  6 16:43:14 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="037958.html">[Mono-list] Threading and IO problem
</A></li>
        <LI>Next message: <A HREF="037960.html">[Mono-list] Threading and IO problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37959">[ date ]</a>
              <a href="thread.html#37959">[ thread ]</a>
              <a href="subject.html#37959">[ subject ]</a>
              <a href="author.html#37959">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

&gt;<i>I've made a small program to use all processors on a system to analyze 
</I>&gt;<i>N text files. But when it's run on a 8 CPU PC, the CPU time stays
</I>around
&gt;<i>70%-80% and the idle time between 20-30%.
</I>
Your problem is that you need to ensure your threads get launched, and
run, on each available processor. As you may have guessed, your best
processor utilization will occur with 8 threads in execution on an 8-way
box.

In version 2.0 of the .NET Framework MS developed an elegant solution
for this. Instead of creating your own threads, you can call
ThreadPool.QueueUserWorkItem and pass it a delegate to a static
function. This will take complete responsibility for allocating threads
from the thread pool, and getting them executed on separate processors.
Your overall CPU utilization will shoot up to 100.

I don't know if this is implemented in Mono.


NOTICE:  The information contained in this electronic mail transmission is intended by the sender for the sole use of the named individual or entity to which it is directed and may contain information that is privileged or 
otherwise confidential.  Please do not copy it or use it for any purposes, or disclose its contents to any other person.  To do so could violate state and Federal privacy laws.  If you have received this electronic mail
transmission in error, please delete it from your system without copying or forwarding it, and notify the sender of the error by reply email or by telephone, so that the sender's address records can be corrected.  Thank you for your cooperation.

-----BEGIN PGP SIGNATURE-----
Version: PGP Universal 2.6.2
Charset: us-ascii

wsBVAwUBR9Blc8hfyUs+le7yAQgYuwf/ckhuc5iK2sMTLy/cgiiPP02M1R+OTOR1
iTYTF74C8Ux/0NqQ+XuLsLK1kibTeaNBa+DnlQHUkMOa73uTAS9fJEuMSlRRWVGP
kCjYp9Z03eEo/3QwntcKd8xFAbUGzgNghnPyMhP5tijEn5W/1Ee3caiq5zxmRBdZ
9BBbe33zTNA7NmS5ipGSWx+xf2vWPrrUY6CYJthIbqyQkFcibYoaMmbkBH5x7P/i
90kxDk2KOsKqQtwVWt/r7ska5PkSfzo4uQP3ml+uQOzw+nazeKM/mjrSTdk73zCF
pVYqlwWf7v5pNZP+fnh5OG8dqvk31og4xfEhOoZ9ZYjvfdMVEdDOgQ==
=dmad
-----END PGP SIGNATURE-----
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037958.html">[Mono-list] Threading and IO problem
</A></li>
	<LI>Next message: <A HREF="037960.html">[Mono-list] Threading and IO problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37959">[ date ]</a>
              <a href="thread.html#37959">[ thread ]</a>
              <a href="subject.html#37959">[ subject ]</a>
              <a href="author.html#37959">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
