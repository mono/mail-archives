<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] MailMessage Recipients Exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20MailMessage%20Recipients%20Exceptions&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038038.html">
   <LINK REL="Next"  HREF="038040.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] MailMessage Recipients Exceptions</H1>
    <B>Steve Harp</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20MailMessage%20Recipients%20Exceptions&In-Reply-To="
       TITLE="[Mono-list] MailMessage Recipients Exceptions">steve at abelscreening.com
       </A><BR>
    <I>Mon Mar 17 13:41:36 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="038038.html">[Mono-list] libgluezilla on OSX
</A></li>
        <LI>Next message: <A HREF="038040.html">[Mono-list] MailMessage Recipients Exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38039">[ date ]</a>
              <a href="thread.html#38039">[ thread ]</a>
              <a href="subject.html#38039">[ subject ]</a>
              <a href="author.html#38039">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I'm new to the list so please excuse me if this has already been covered.
I'm having trouble sending email.  The code below works under .NET but not
under Mono.  The exception thrown seems to be with the way I'm specifying my
recipients.

private void SendTest()
{
	try
	{
		MailMessage mail = new MailMessage();

		mail.From = new MailAddress(&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">me at mydomain.com</A>&quot;);
		mail.To.Add(&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">you at yourdomain.com</A>&quot;);

		mail.Subject = &quot;This is a test&quot;;
		mail.Body = &quot;This is a test\r\nThis is only a test.&quot;;

		SmtpClient smtp = new SmtpClient(&quot;smtp.myisp.net&quot;, 587);

		smtp.Credentials = new NetworkCredential(&quot;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">me at mydomain.com</A>&quot;,
&quot;mypassword&quot;);
		smtp.Send(mail);
	}
	catch (Exception ex)
	{
		Log(&quot;Error Sending Email&quot;, ex);
	}
}

/*
=========================================
Here's the log file...

3/17/2008 1:14:47 PM
Error Sending Email
System.Net.Mail.SmtpFailedRecipientsException: failed recipients
  at System.Net.Mail.SmtpClient.SendCore (System.Net.Mail.MailMessage
message) [0x0048c] in
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/System/System.Net.Mail/SmtpCli
ent.cs:595
  at System.Net.Mail.SmtpClient.Send (System.Net.Mail.MailMessage message)
[0x00052] in
/tmp/monobuild/build/BUILD/mono-1.9/mcs/class/System/System.Net.Mail/SmtpCli
ent.cs:446
  at MainWindow.SendTest () [0x00061] in MainWindow.cs:64

=========================================
*/


Thanks for any suggestions,
Steve 



</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038038.html">[Mono-list] libgluezilla on OSX
</A></li>
	<LI>Next message: <A HREF="038040.html">[Mono-list] MailMessage Recipients Exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38039">[ date ]</a>
              <a href="thread.html#38039">[ thread ]</a>
              <a href="subject.html#38039">[ subject ]</a>
              <a href="author.html#38039">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
