<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Serializable object with Non-Serializable Fields --	&gt; SerializationException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Serializable%20object%20with%20Non-Serializable%20Fields%20--%0A%09%3E%20SerializationException&In-Reply-To=201006021523.43356.stacheldraht%40interia.pl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045241.html">
   <LINK REL="Next"  HREF="045246.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Serializable object with Non-Serializable Fields --	&gt; SerializationException</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Serializable%20object%20with%20Non-Serializable%20Fields%20--%0A%09%3E%20SerializationException&In-Reply-To=201006021523.43356.stacheldraht%40interia.pl"
       TITLE="[Mono-list] Serializable object with Non-Serializable Fields --	&gt; SerializationException">robertj at gmx.net
       </A><BR>
    <I>Wed Jun  2 09:49:51 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="045241.html">[Mono-list] Serializable object with Non-Serializable Fields	-- &gt; SerializationException
</A></li>
        <LI>Next message: <A HREF="045246.html">[Mono-list] Serializable object with Non-Serializable Fields	--&gt; SerializationException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45244">[ date ]</a>
              <a href="thread.html#45244">[ thread ]</a>
              <a href="subject.html#45244">[ subject ]</a>
              <a href="author.html#45244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

On 02.06.2010 15:23, Jacek Ru&#380;yczka wrote:
&gt;<i> Am Mittwoch 02 Juni 2010 14:46:07 schrieb Robert Jordan:
</I>&gt;&gt;<i> Where are you setting this property? How is DBConnectionHandler
</I>&gt;&gt;<i> implemented.
</I>&gt;&gt;<i>
</I>&gt;<i> This is the DBConnectionHandler:
</I>
It's neither [Serializable] nor MarshalByRefObject:

&gt;<i> 	///&lt;summary&gt;
</I>&gt;<i> 	/// The database connection handler used for batch jobs.
</I>&gt;<i> 	///&lt;/summary&gt;
</I>&gt;<i> 	public class DBConnectionHandler : ICloneable
</I>
... but it is exposed by PrintReceipt:

&gt;<i> 	public class PrintReceipt : MarshalByRefObject, IBatchJob
</I>&gt;<i> 	{
</I>&gt;<i> 		[NonSerialized]
</I>&gt;<i> 		private DBConnectionHandler handler;
</I>
... via this property:

&gt;<i> 		public DBConnectionHandler BackendConnectionHandler {
</I>&gt;<i> 			set {
</I>&gt;<i> 				this.handler = value;
</I>&gt;<i> 			}
</I>&gt;<i> 		}
</I>
This is simply doomed to fails. DBConnection should be split
in 2 parts: one that can be safely set from the client
side (e.g. the connection string and other basic parameters)
and one that does the rest on the server (creating the
actual DB connection etc.).

Robert

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045241.html">[Mono-list] Serializable object with Non-Serializable Fields	-- &gt; SerializationException
</A></li>
	<LI>Next message: <A HREF="045246.html">[Mono-list] Serializable object with Non-Serializable Fields	--&gt; SerializationException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45244">[ date ]</a>
              <a href="thread.html#45244">[ thread ]</a>
              <a href="subject.html#45244">[ subject ]</a>
              <a href="author.html#45244">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
