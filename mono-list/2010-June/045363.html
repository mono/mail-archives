<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Some issues with mono 2.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Some%20issues%20with%20mono%202.0&In-Reply-To=1277461623843-2268260.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045362.html">
   <LINK REL="Next"  HREF="045364.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Some issues with mono 2.0</H1>
    <B>Alan McGovern</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Some%20issues%20with%20mono%202.0&In-Reply-To=1277461623843-2268260.post%40n4.nabble.com"
       TITLE="[Mono-list] Some issues with mono 2.0">alan.mcgovern at gmail.com
       </A><BR>
    <I>Fri Jun 25 08:08:45 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="045362.html">[Mono-list] Some issues with mono 2.0
</A></li>
        <LI>Next message: <A HREF="045364.html">[Mono-list] Some issues with mono 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45363">[ date ]</a>
              <a href="thread.html#45363">[ thread ]</a>
              <a href="subject.html#45363">[ subject ]</a>
              <a href="author.html#45363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>1.9.1 is incredibly old. You really do need to just sit down and test
your app with a newer mono. I'd recommend you try our 2.6.x releases
as opposed to the 2.4.x ones though I'm unsure what the state of
ubuntu packaging is for the 2.6.x releases. Do let us know if you hit
any issues with the upgrade.

Alan.

On Fri, Jun 25, 2010 at 11:27 AM, dugc &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">dugald at dolce.co.uk</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi Maxim,
</I>&gt;<i>
</I>&gt;<i> I stumbled across your posts as I am having similar problems. &#160;All of the
</I>&gt;<i> traffic for my site is beteen 8.50am and 9.05am (it is a meal preorder
</I>&gt;<i> system) and my users are losing patience as it keeps going down during peak
</I>&gt;<i> traffic. &#160;Frustratingly the server's (2 x Quad core CPUs, 8GB ram, RAID 5)
</I>&gt;<i> CPU and RAM use is very low.
</I>&gt;<i>
</I>&gt;<i> I get a lot of this on my logs (sometimes once a day, sometimes 30 times a
</I>&gt;<i> day):
</I>&gt;<i>
</I>&gt;<i> System.Threading.ThreadAbortException: Thread was being aborted
</I>&gt;<i>
</I>&gt;<i> Server stack trace:
</I>&gt;<i> &#160;at Mono.WebServer.BaseApplicationHost.ProcessRequest
</I>&gt;<i> (Mono.WebServer.MonoWorkerRequest mwr) [0x00000]
</I>&gt;<i> &#160;at Mono.WebServer.ModMonoApplicationHost.ProcessRequest (Int32 reqId,
</I>&gt;<i> System.String verb, System.String queryString, System.String path,
</I>&gt;<i> System.String protocol, System.String localAddress, Int32 serverPort,
</I>&gt;<i> System.String remoteAddress, Int32 remotePort, System.String remoteName,
</I>&gt;<i> System.String[] headers, System.String[] headerValues) [0x00000]
</I>&gt;<i> &#160;at (wrapper remoting-invoke-with-check)
</I>&gt;<i> Mono.WebServer.ModMonoApplicationHost:ProcessRequest
</I>&gt;<i> (int,string,string,string,string,string,int,string,int,string,string[],string[])
</I>&gt;<i> &#160;at (wrapper xdomain-dispatch)
</I>&gt;<i> Mono.WebServer.ModMonoApplicationHost:ProcessRequest
</I>&gt;<i> (object,byte[]&amp;,byte[]&amp;,int,string,string,string,string,string,int,string,int,string,string[],string[])
</I>&gt;<i>
</I>&gt;<i> Exception rethrown at [0]:
</I>&gt;<i>
</I>&gt;<i> &#160;at (wrapper xdomain-invoke)
</I>&gt;<i> Mono.WebServer.ModMonoApplicationHost:ProcessRequest
</I>&gt;<i> (int,string,string,string,string,string,int,string,int,string,string[],string[])
</I>&gt;<i> &#160;at (wrapper remoting-invoke-with-check)
</I>&gt;<i> Mono.WebServer.ModMonoApplicationHost:ProcessRequest
</I>&gt;<i> (int,string,string,string,string,string,int,string,int,string,string[],string[])
</I>&gt;<i> &#160;at Mono.WebServer.ModMonoWorker.InnerRun (System.Object state) [0x00000]
</I>&gt;<i> &#160;at Mono.WebServer.ModMonoWorker.Run (System.Object state) [0x00000]
</I>&gt;<i>
</I>&gt;<i> Some morning nothing works (can't get the login page) and some mornings the
</I>&gt;<i> login comes up but it just times out when you try to login. &#160;It is always
</I>&gt;<i> the case that non-ASP.NET pages (.html pages) can load fine. &#160;I have tried
</I>&gt;<i> various settings and currently have this set up:
</I>&gt;<i>
</I>&gt;<i> MonoSetEnv MONO_THREADS_PER_CPU=1000
</I>&gt;<i> MonoMaxActiveRequests 250
</I>&gt;<i> MonoMaxWaitingRequests 250
</I>&gt;<i>
</I>&gt;<i> But it is still crashing almost every morning, leading to a lot of lost
</I>&gt;<i> sales. &#160;Changing MaxActive and MaxWaiting doesn't seem to make much
</I>&gt;<i> difference - when it starts to go wrong, it will crash whatever the queue
</I>&gt;<i> length is.
</I>&gt;<i>
</I>&gt;<i> I am running Mono 1.9.1 on Ubuntu 8.10, using Apache (pre-fork) 2.2.9. &#160;I
</I>&gt;<i> have to use prefork as I run phpMyAdmin on the server and php requires it.
</I>&gt;<i> Does this make much of a difference? I heard that the 'worker' version might
</I>&gt;<i> be better for mono?
</I>&gt;<i>
</I>&gt;<i> I would appreciate it if you could let me know how you are getting on with
</I>&gt;<i> this now - and if it is fixed, what version of mono sorted the problem. &#160;I
</I>&gt;<i> hope to upgrade the server to Ubuntu 10.04 and Mono 2.4 but I am worried
</I>&gt;<i> that this will be insufficient to resolve my problems.
</I>&gt;<i>
</I>&gt;<i> Thanks, &#160;Dugald
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Some-issues-with-mono-2-0-tp1503708p2268260.html">http://mono.1490590.n4.nabble.com/Some-issues-with-mono-2-0-tp1503708p2268260.html</A>
</I>&gt;<i> Sent from the Mono - General mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist &#160;- &#160;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045362.html">[Mono-list] Some issues with mono 2.0
</A></li>
	<LI>Next message: <A HREF="045364.html">[Mono-list] Some issues with mono 2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45363">[ date ]</a>
              <a href="thread.html#45363">[ thread ]</a>
              <a href="subject.html#45363">[ subject ]</a>
              <a href="author.html#45363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
