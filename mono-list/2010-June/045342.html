<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Marshalling union crashes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Marshalling%20union%20crashes&In-Reply-To=hvgep8%248m1%241%40dough.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045340.html">
   <LINK REL="Next"  HREF="045339.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Marshalling union crashes</H1>
    <B>Alan McGovern</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Marshalling%20union%20crashes&In-Reply-To=hvgep8%248m1%241%40dough.gmane.org"
       TITLE="[Mono-list] Marshalling union crashes">alan.mcgovern at gmail.com
       </A><BR>
    <I>Fri Jun 18 18:49:18 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="045340.html">[Mono-list] Marshalling union crashes
</A></li>
        <LI>Next message: <A HREF="045339.html">[Mono-list] System.ServiceModel cannot loaded in 2.4 , mod_mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45342">[ date ]</a>
              <a href="thread.html#45342">[ thread ]</a>
              <a href="subject.html#45342">[ subject ]</a>
              <a href="author.html#45342">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Check sizeof (double) in native code on your platform which crashes  
and the one which succeeds. There could also be alignment issues which  
you are unaware of which are only manifesting under one platform.

Alan

On 18 Jun 2010, at 20:43, Jef Driesen &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jefdriesen at hotmail.com</A>&gt; wrote:

&gt;<i> On 18/06/10 17:02, Robert Jordan wrote:
</I>&gt;&gt;<i> On 18.06.2010 16:55, Robert Jordan wrote:
</I>&gt;&gt;&gt;<i> On 18.06.2010 16:14, Jef Driesen wrote:
</I>&gt;&gt;&gt;&gt;<i> On 18/06/10 15:27, Robert Jordan wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> On 18.06.2010 13:27, Jef Driesen wrote:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> This seems to work fine with MS .NET, but crashes under mono  
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> with the error:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Which Mono version and architecture?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> $ mono --version
</I>&gt;&gt;&gt;&gt;<i> Mono JIT compiler version 2.4.4 (Debian 2.4.4~svn151842-1ubuntu4)
</I>&gt;&gt;&gt;&gt;<i> Copyright (C) 2002-2010 Novell, Inc and Contributors. www.mono-project.com
</I>&gt;&gt;&gt;&gt;<i>    TLS:           __thread
</I>&gt;&gt;&gt;&gt;<i>    GC:            Included Boehm (with typed GC)
</I>&gt;&gt;&gt;&gt;<i>    SIGSEGV:       altstack
</I>&gt;&gt;&gt;&gt;<i>    Notifications: epoll
</I>&gt;&gt;&gt;&gt;<i>    Architecture:  amd64
</I>&gt;&gt;&gt;&gt;<i>    Disabled:      none
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> So it's a 64 bit Mono.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Linux/64, an &quot;int&quot; is 8 bytes wide, whereas your managed structs
</I>&gt;&gt;&gt;<i> are assuming 4 bytes (a managed int is 4 bytes wide, regardless
</I>&gt;&gt;&gt;<i> of the architecture).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Oops, I got this wrong. This is only true for &quot;long&quot;.
</I>&gt;&gt;<i> Please file a bug with a reproducible test case
</I>&gt;&gt;<i> at <A HREF="http://mono-project.com/Bugs">http://mono-project.com/Bugs</A>
</I>&gt;<i>
</I>&gt;<i> Bug filed: <A HREF="https://bugzilla.novell.com/show_bug.cgi?id=615553">https://bugzilla.novell.com/show_bug.cgi?id=615553</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045340.html">[Mono-list] Marshalling union crashes
</A></li>
	<LI>Next message: <A HREF="045339.html">[Mono-list] System.ServiceModel cannot loaded in 2.4 , mod_mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45342">[ date ]</a>
              <a href="thread.html#45342">[ thread ]</a>
              <a href="subject.html#45342">[ subject ]</a>
              <a href="author.html#45342">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
