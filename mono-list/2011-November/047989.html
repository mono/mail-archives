<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Large messages over NetTcpBinding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Large%20messages%20over%20NetTcpBinding&In-Reply-To=1321012133036-4031156.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="047988.html">
   <LINK REL="Next"  HREF="047992.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Large messages over NetTcpBinding</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Large%20messages%20over%20NetTcpBinding&In-Reply-To=1321012133036-4031156.post%40n4.nabble.com"
       TITLE="[Mono-list] Large messages over NetTcpBinding">miguel at xamarin.com
       </A><BR>
    <I>Sat Nov 12 15:58:47 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="047988.html">[Mono-list] Large messages over NetTcpBinding
</A></li>
        <LI>Next message: <A HREF="047992.html">[Mono-list] Large messages over NetTcpBinding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47989">[ date ]</a>
              <a href="thread.html#47989">[ thread ]</a>
              <a href="subject.html#47989">[ subject ]</a>
              <a href="author.html#47989">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

    Thanks for the sample;   A quick fix for you is to remove the hardcoded
value.

    I have not been able to figure out how to get the information from the
NetTcpBinding (which contains the MaxReceivedMessageSize property) down to
the TcpBinaryFrameManager

Miguel

On Fri, Nov 11, 2011 at 6:48 AM, wuffus &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">w.schwarz at odoscope.com</A>&gt; wrote:

&gt;<i> Yes, it runs under Windows.
</I>&gt;<i> Here a minimal example:
</I>&gt;<i>
</I>&gt;<i> Server:
</I>&gt;<i>
</I>&gt;<i> using System;
</I>&gt;<i> using System.IO;
</I>&gt;<i> using System.ServiceModel;
</I>&gt;<i>
</I>&gt;<i> namespace nettcptest
</I>&gt;<i> {
</I>&gt;<i>    [ServiceContract]
</I>&gt;<i>    interface ITest
</I>&gt;<i>    {
</I>&gt;<i>        [OperationContract]
</I>&gt;<i>        Stream test();
</I>&gt;<i>    }
</I>&gt;<i>
</I>&gt;<i>    public class Test : ITest
</I>&gt;<i>    {
</I>&gt;<i>        public Stream test()
</I>&gt;<i>        {
</I>&gt;<i>            byte[] b=new byte[100000];
</I>&gt;<i>            MemoryStream str = new MemoryStream(b);
</I>&gt;<i>            return str;
</I>&gt;<i>        }
</I>&gt;<i>    }
</I>&gt;<i>
</I>&gt;<i>    class Program
</I>&gt;<i>    {
</I>&gt;<i>        static void Main(string[] args)
</I>&gt;<i>        {
</I>&gt;<i>            Uri uri = new Uri(&quot;net.<A HREF="tcp://localhost:3000&quot;">tcp://localhost:3000&quot;</A>);
</I>&gt;<i>            ServiceHost host = new ServiceHost(typeof(Test),uri);
</I>&gt;<i>            host.Open();
</I>&gt;<i>            Console.Read();
</I>&gt;<i>        }
</I>&gt;<i>    }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Client:
</I>&gt;<i>
</I>&gt;<i> using System.IO;
</I>&gt;<i> using System.ServiceModel;
</I>&gt;<i>
</I>&gt;<i> namespace nettcptestClient
</I>&gt;<i> {
</I>&gt;<i>    class Program
</I>&gt;<i>    {
</I>&gt;<i>        [ServiceContract]
</I>&gt;<i>        interface ITest
</I>&gt;<i>        {
</I>&gt;<i>            [OperationContract]
</I>&gt;<i>            Stream test();
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>        static void Main(string[] args)
</I>&gt;<i>        {
</I>&gt;<i>            var binding=new NetTcpBinding();
</I>&gt;<i>            binding.MaxReceivedMessageSize = 1000000;
</I>&gt;<i>            ChannelFactory&lt;ITest&gt; factory =
</I>&gt;<i>                new ChannelFactory&lt;ITest&gt;(binding, new
</I>&gt;<i> EndpointAddress(&quot;net.<A HREF="tcp://localhost:3000&quot;">tcp://localhost:3000&quot;</A>));
</I>&gt;<i>
</I>&gt;<i>            ITest client = factory.CreateChannel();
</I>&gt;<i>            ((IClientChannel)client).Closed += delegate { factory.Close();
</I>&gt;<i> };
</I>&gt;<i>
</I>&gt;<i>            client.test();
</I>&gt;<i>
</I>&gt;<i>        }
</I>&gt;<i>    }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://mono.1490590.n4.nabble.com/Large-messages-over-NetTcpBinding-tp4016272p4031156.html">http://mono.1490590.n4.nabble.com/Large-messages-over-NetTcpBinding-tp4016272p4031156.html</A>
</I>&gt;<i> Sent from the Mono - General mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20111112/df5ac02b/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20111112/df5ac02b/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="047988.html">[Mono-list] Large messages over NetTcpBinding
</A></li>
	<LI>Next message: <A HREF="047992.html">[Mono-list] Large messages over NetTcpBinding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47989">[ date ]</a>
              <a href="thread.html#47989">[ thread ]</a>
              <a href="subject.html#47989">[ subject ]</a>
              <a href="author.html#47989">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
