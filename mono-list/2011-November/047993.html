<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] XSD -&gt; classes -&gt; deserialize not so easy after all
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20XSD%20-%3E%20classes%20-%3E%20deserialize%20not%20so%20easy%20after%20all&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="047991.html">
   <LINK REL="Next"  HREF="047995.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] XSD -&gt; classes -&gt; deserialize not so easy after all</H1>
    <B>Athos Deterious</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20XSD%20-%3E%20classes%20-%3E%20deserialize%20not%20so%20easy%20after%20all&In-Reply-To="
       TITLE="[Mono-list] XSD -&gt; classes -&gt; deserialize not so easy after all">gwehydd at gmail.com
       </A><BR>
    <I>Tue Nov 15 13:28:47 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="047991.html">[Mono-list] Does Mono.Security support SSL compression?
</A></li>
        <LI>Next message: <A HREF="047995.html">[Mono-list] FileSystemWatcher  does not fire on Mac OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47993">[ date ]</a>
              <a href="thread.html#47993">[ thread ]</a>
              <a href="subject.html#47993">[ subject ]</a>
              <a href="author.html#47993">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>All mentioned files are located 
<A HREF="https://skydrive.live.com/redir.aspx?cid=5bf95d40632ca444&amp;resid=5BF95D40632CA444!315">https://skydrive.live.com/redir.aspx?cid=5bf95d40632ca444&amp;resid=5BF95D40632CA444!315</A>
here 

Hi All,

I'm completely new to Web Services and XSD's - I've primarily done 'Linq to
SQL'.

So I got this task of developing a Library application (in MonoTouch).
Sounded easy enough.

I started of by getting the &quot;AlmaMessage.xsd&quot; file and its documentation
&quot;AlmaMessage.doc&quot;.

Ok, I did a simple &quot;&gt;xsd AlmaMessage.xsd /classes&quot; and got the
&quot;AlmaMessage.cs&quot; file.

I then made a console project in MonoDevelop and included all the files and
some test data in &quot;Test.xml&quot;.

After a few test I made this primitive program :

------------------------------------------------------
using System;
using System.IO;
using System.Xml;
using System.Xml.Serialization;
using Schemas; // Namespace in the AlmaMessage.cs file



namespace aTestofXSDtoCS
{
	class MainClass
	{
		public static void Main (string[] args)
		{
			AlmaMessage am = new AlmaMessage();
			XmlSerializer s = new XmlSerializer(typeof(AlmaMessage));
			FileStream fs = new FileStream(&quot;Test.xml&quot;, FileMode.Open);
                        XmlReader reader = XmlReader.Create(fs);
			am  = (AlmaMessage) s.Deserialize(reader);
			fs.Close();
		}
	}
}

------------------------------------------------------------------------

After a successful build I tried to run it but got the following :

/[ERROR] FATAL UNHANDLED EXCEPTION: System.InvalidOperationException: There
is an error in XML document. ---&gt; System.InvalidOperationException:
&lt;AlmaMessage xmlns=''&gt; was not expected
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadRoot
(System.Xml.Serialization.XmlTypeMapping rootMap) [0x00066] in
/private/tmp/monobuild/build/BUILD/mono-2.10.6/mcs/class/System.XML/System.Xml.Serialization/XmlSerializationReaderInterpreter.cs:186 
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadRoot ()
[0x00028] in
/private/tmp/monobuild/build/BUILD/mono-2.10.6/mcs/class/System.XML/System.Xml.Serialization/XmlSerializationReaderInterpreter.cs:87 
  at System.Xml.Serialization.XmlSerializer.Deserialize
(System.Xml.Serialization.XmlSerializationReader reader) [0x0001c] in
/private/tmp/monobuild/build/BUILD/mono-2.10.6/mcs/class/System.XML/System.Xml.Serialization/XmlSerializer.cs:361 
  --- End of inner exception stack trace ---
  at System.Xml.Serialization.XmlSerializer.Deserialize
(System.Xml.Serialization.XmlSerializationReader reader) [0x00064] in
/private/tmp/monobuild/build/BUILD/mono-2.10.6/mcs/class/System.XML/System.Xml.Serialization/XmlSerializer.cs:371 
  at System.Xml.Serialization.XmlSerializer.Deserialize
(System.Xml.XmlReader xmlReader) [0x0002c] in
/private/tmp/monobuild/build/BUILD/mono-2.10.6/mcs/class/System.XML/System.Xml.Serialization/XmlSerializer.cs:350 
  at a.MainClass.Main (System.String[] args) [0x00029] in
/Users/jab/Projects/a/a/Main.cs:23 

Press any key to continue.../

This is where I got stuck ... no matter what I do I seem to go back to this
error ... now since I don't know much about XSD's, XML or Web Services I
can't get passed this point without more work then I have time for so could
someone help ?

TIA,
Athos Deterious.






--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/XSD-classes-deserialize-not-so-easy-after-all-tp4073570p4073570.html">http://mono.1490590.n4.nabble.com/XSD-classes-deserialize-not-so-easy-after-all-tp4073570p4073570.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="047991.html">[Mono-list] Does Mono.Security support SSL compression?
</A></li>
	<LI>Next message: <A HREF="047995.html">[Mono-list] FileSystemWatcher  does not fire on Mac OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47993">[ date ]</a>
              <a href="thread.html#47993">[ thread ]</a>
              <a href="subject.html#47993">[ subject ]</a>
              <a href="author.html#47993">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
