<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mkbundle on CentOS can't find package mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mkbundle%20on%20CentOS%20can%27t%20find%20package%20mono&In-Reply-To=jaeb98%24lmo%241%40dough.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048012.html">
   <LINK REL="Next"  HREF="048020.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mkbundle on CentOS can't find package mono</H1>
    <B>Chris Derrick</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mkbundle%20on%20CentOS%20can%27t%20find%20package%20mono&In-Reply-To=jaeb98%24lmo%241%40dough.gmane.org"
       TITLE="[Mono-list] mkbundle on CentOS can't find package mono">Chris.derrick at storagecraft.com
       </A><BR>
    <I>Tue Nov 22 12:42:34 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="048012.html">[Mono-list] mkbundle on CentOS can't find package mono
</A></li>
        <LI>Next message: <A HREF="048020.html">[Mono-list] mkbundle on CentOS can't find package mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48019">[ date ]</a>
              <a href="thread.html#48019">[ thread ]</a>
              <a href="subject.html#48019">[ subject ]</a>
              <a href="author.html#48019">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Not sure why, but this morning when I tried again I got a different result. 
The result of &quot;pkg-config --cflags mono&quot; is now:

-D_REENTRANT -I/usr/lib/pkgconfig/../../include/mono-1.0


When I try bundling I get this error during the compiling phase:

Compiling:
as -o temp.o temp.s 
cc -o testBundle -Wall `pkg-config --cflags mono` temp.c  `pkg-config
--libs-only-L mono` -Wl,-Bstatic -lmono -Wl,-Bdynamic `pkg-config
--libs-only-l mono | sed -e &quot;s/\-lmono //&quot;` temp.o
In file included from temp.c:2:
/usr/lib/pkgconfig/../../include/mono-1.0/mono/metadata/assembly.h:4:18:
error: glib.h: No such file or directory
In file included from
/usr/lib/pkgconfig/../../include/mono-1.0/mono/metadata/assembly.h:6,
                 from temp.c:2:


I played around with this for a while to see if I get the compile step to
work properly and found that I could get around this error with `pkg-config
--cflags glib-2.0`, unfortunately there was then a ton of undefined
references.  Many of these went away when I add `pkg-config --cflags
gtk+-2.0` as well, but there are still a number of undefined references.  I
assume there must be a better way to fix this then my step by step guess and
check method.  Any suggestions?  In case it helps here is the result of my
most recent compiling attempt:

[<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">chris at localhost</A> Debug]$ cc -o testBundle -Wall `pkg-config --cflags mono`
`pkg-config --cflags glib-2.0` `pkg-config --cflags gtk+-2.0` temp.c 
`pkg-config --libs-only-L mono` `pkg-config --libs gtk+-2.0` -Wl,-Bstatic
-lmono -Wl,-Bdynamic `pkg-config --libs-only-l mono | sed -e &quot;s/\-lmono //&quot;`
temp.o
In file included from /usr/include/glib-2.0/glib/gasyncqueue.h:34,
                 from /usr/include/glib-2.0/glib.h:34,
                 from
/usr/lib/pkgconfig/../../include/mono-1.0/mono/metadata/assembly.h:4,
                 from temp.c:2:
/usr/include/glib-2.0/glib/gthread.h: In function &#226;&#8364;&#732;g_once_init_enter&#226;&#8364;&#8482;:
/usr/include/glib-2.0/glib/gthread.h:344: warning: cast to pointer from
integer of different size
temp.c: In function &#226;&#8364;&#732;install_dll_config_files&#226;&#8364;&#8482;:
temp.c:116: warning: pointer targets in passing argument 2 of
&#226;&#8364;&#732;mono_register_config_for_assembly&#226;&#8364;&#8482; differ in signedness
/usr/lib/pkgconfig/../../include/mono-1.0/mono/metadata/assembly.h:95: note:
expected &#226;&#8364;&#732;const char *&#226;&#8364;&#8482; but argument is of type &#226;&#8364;&#732;const unsigned char
*&#226;&#8364;&#8482;
/usr/bin/ld: skipping incompatible
/usr/lib/pkgconfig/../../lib/libgtk-x11-2.0.so when searching for
-lgtk-x11-2.0
/usr/bin/ld: skipping incompatible
/usr/lib/pkgconfig/../../lib/libgdk-x11-2.0.so when searching for
-lgdk-x11-2.0
/usr/bin/ld: skipping incompatible
/usr/lib/pkgconfig/../../lib/libgio-2.0.so when searching for -lgio-2.0
/usr/bin/ld: skipping incompatible
/usr/lib/pkgconfig/../../lib/libgdk_pixbuf-2.0.so when searching for
-lgdk_pixbuf-2.0
/usr/bin/ld: skipping incompatible
/usr/lib/pkgconfig/../../lib/libgobject-2.0.so when searching for
-lgobject-2.0
/usr/bin/ld: skipping incompatible
/usr/lib/pkgconfig/../../lib/libgmodule-2.0.so when searching for
-lgmodule-2.0
/usr/bin/ld: skipping incompatible
/usr/lib/pkgconfig/../../lib/libglib-2.0.so when searching for -lglib-2.0
/usr/lib/pkgconfig/../../lib/libmono.a(driver.o): In function `mono_main':
/usr/local/src/mono-2.6.7/mono/mini/driver.c:1304: undefined reference to
`g_thread_init'
/usr/lib/pkgconfig/../../lib/libmono.a(mini.o): In function `mini_init':
/usr/local/src/mono-2.6.7/mono/mini/mini.c:5210: undefined reference to
`g_thread_init'
collect2: ld returned 1 exit status




--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/mkbundle-on-CentOS-can-t-find-package-mono-tp4092003p4096566.html">http://mono.1490590.n4.nabble.com/mkbundle-on-CentOS-can-t-find-package-mono-tp4092003p4096566.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048012.html">[Mono-list] mkbundle on CentOS can't find package mono
</A></li>
	<LI>Next message: <A HREF="048020.html">[Mono-list] mkbundle on CentOS can't find package mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48019">[ date ]</a>
              <a href="thread.html#48019">[ thread ]</a>
              <a href="subject.html#48019">[ subject ]</a>
              <a href="author.html#48019">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
