<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] XmlSerializer Deserialize problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lluis%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="018133.html">
   <LINK REL="Next"  HREF="018134.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] XmlSerializer Deserialize problem
   </H1>
    <B>Lluis Sanchez
    </B> 
    <A HREF="mailto:lluis%40ximian.com"
       TITLE="[Mono-list] XmlSerializer Deserialize problem">lluis@ximian.com
       </A><BR>
    <I>Thu, 05 Feb 2004 01:16:43 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="018133.html">[Mono-list] XmlSerializer Deserialize problem
</A></li>
        <LI> Next message: <A HREF="018134.html">[Mono-list] OpenOffice.org
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18139">[ date ]</a>
              <a href="thread.html#18139">[ thread ]</a>
              <a href="subject.html#18139">[ subject ]</a>
              <a href="author.html#18139">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

On dc, 2004-02-04 at 23:59, Kieren Drapala (TSW) wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I am having trouble deserialising XML with a dataset class generated by MS
</I>&gt;<i> XSD.exe from a simple schema.
</I>&gt;<i> 
</I>&gt;<i> Here is the main part of the code:
</I>&gt;<i> 
</I>&gt;<i> XmlSerializer serializer = new XmlSerializer(typeof(GetBillerResponse.OFX));
</I>&gt;<i> //GetBillerResponse.OFX was a dataset class generated by MS XSD.exe
</I>&gt;<i> System.IO.StringReader xmlSR = new System.IO.StringReader(lcContents); 
</I>&gt;<i> // lcContents is a string that contains the XML
</I>&gt;<i> GetBillerResponse.OFX po = (GetBillerResponse.OFX)
</I>&gt;<i> serializer.Deserialize(xmlSR); // &lt;-- failing here
</I>&gt;<i> 
</I>&gt;<i> The Error:
</I>&gt;<i> System.Xml.Schema.XmlSchemaException: XmlSchema error: The root element must
</I>&gt;<i> be schema
</I>&gt;<i> in &lt;0x0024f&gt; System.Xml.Schema.XmlSchema:Read
</I>&gt;<i> (System.Xml.XmlReader,System.Xml.Schema.ValidationEventHandler)
</I>&gt;<i> in &lt;0x00073&gt; System.Data.XmlSchemaMapper:Read (System.Xml.XmlReader)
</I>&gt;<i> in &lt;0x00043&gt; System.Data.DataSet:ReadXmlSchema (System.Xml.XmlReader)
</I>&gt;<i> in &lt;0x00042&gt;
</I>&gt;<i> System.Data.DataSet:System.Xml.Serialization.IXmlSerializable.ReadXml
</I>&gt;<i> (System.Xml.XmlReader)
</I>&gt;<i> in &lt;0x00045&gt;
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReader:ReadSerializable
</I>&gt;<i> (System.Xml.Serialization.IXmlSerializable)
</I>&gt;<i> in &lt;0x0016b&gt;
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReaderInterpreter:ReadXmlSerializab
</I>&gt;<i> leElement (System.Xml.Serialization.XmlTypeMapping,bool)
</I>&gt;<i> in &lt;0x00104&gt;
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReaderInterpreter:ReadObject
</I>&gt;<i> (System.Xml.Serialization.XmlTypeMapping,bool,bool)
</I>&gt;<i> in &lt;0x000a2&gt;
</I>&gt;<i> System.Xml.Serialization.XmlSerializationReaderInterpreter:ReadObject ()
</I>&gt;<i> in &lt;0x00075&gt; System.Xml.Serialization.XmlSerializer:Deserialize
</I>&gt;<i> (System.Xml.Serialization.XmlSerializationReader)
</I>&gt;<i> in &lt;0x00068&gt; System.Xml.Serialization.XmlSerializer:Deserialize
</I>&gt;<i> (System.Xml.XmlReader)
</I>&gt;<i> in &lt;0x0003f&gt; System.Xml.Serialization.XmlSerializer:Deserialize
</I>&gt;<i> (System.IO.TextReader)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I have read articles about 'Locale' problem etc early last year.
</I>&gt;<i> 
</I>&gt;<i> Questions:
</I>&gt;<i> 1. Is this a simple mistake on my behalf ?
</I>&gt;<i> 
</I>
This seems to be a bug in DataSet serialization. Can you file a bug
report in bugzila with the test case?

&gt;<i> 2. I don't really want to do anything with the schema functions at this
</I>&gt;<i> stage in my process, how can I not use these (reference to stack trace and
</I>&gt;<i> calls to 'Schema' functions)  ?
</I>
XmlSerializer needs to write the DataSet schema together with its data,
so it can reconstruct it when it is deserialized (the schema contains
information about the tables, columns, relations and so on).

Lluis.

&gt;<i> 
</I>&gt;<i> Please advise, thanks in advance, regards, 
</I>&gt;<i> 
</I>&gt;<i> Kieren Drapala
</I>&gt;<i> Analyst / Programmer
</I>&gt;<i> The System Works Pty Ltd
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="018133.html">[Mono-list] XmlSerializer Deserialize problem
</A></li>
	<LI> Next message: <A HREF="018134.html">[Mono-list] OpenOffice.org
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18139">[ date ]</a>
              <a href="thread.html#18139">[ thread ]</a>
              <a href="subject.html#18139">[ subject ]</a>
              <a href="author.html#18139">[ author ]</a>
         </LI>
       </UL>
</body></html>
