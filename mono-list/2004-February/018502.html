<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Socket code.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:george%40gmsys.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="018501.html">
   <LINK REL="Next"  HREF="018508.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Socket code.
   </H1>
    <B>George Farris
    </B> 
    <A HREF="mailto:george%40gmsys.com"
       TITLE="[Mono-list] Socket code.">george@gmsys.com
       </A><BR>
    <I>Sun, 22 Feb 2004 11:59:09 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="018501.html">[Mono-list] Socket code.
</A></li>
        <LI> Next message: <A HREF="018508.html">[Mono-list] Socket code.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18502">[ date ]</a>
              <a href="thread.html#18502">[ thread ]</a>
              <a href="subject.html#18502">[ subject ]</a>
              <a href="author.html#18502">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 2004-02-22 at 01:17, Michal Moskal wrote:
&gt;<i> On Sat, Feb 21, 2004 at 04:31:00PM -0800, George Farris wrote:
</I>&gt;<i> &gt; I have some socket code that looks something like this:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; byte[] bytes = new byte[1448];
</I>&gt;<i> &gt; do {
</I>&gt;<i> &gt; 	len = sock.Read(bytes, 0, (int)1448);
</I>&gt;<i> &gt; 	s = Encoding.ASCII.GetString(bytes);
</I>&gt;<i> &gt; 	buf.Append(s.Substring(0,len));
</I>&gt;<i> 
</I>
Interesting, this code will work as long as the check at the bottom is
1448, any other number and it croaks???  The buffer can be any size
presumably larger than 1448 and it will work.

do {
	byte[] bytes = new byte[500000];
	len = stream.Read(bytes, 0, (int)500000);
	if (len &gt; 0 ) {
		s = Encoding.ASCII.GetString(bytes,0,len);
		buf.Append(s);
	}
	if (len &lt; 1448)
		break;
} while (len &gt; 0);
return buf.ToString(); 

-- 
George Farris &lt;<A HREF="mailto:george@gmsys.com">george@gmsys.com</A>&gt;


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="018501.html">[Mono-list] Socket code.
</A></li>
	<LI> Next message: <A HREF="018508.html">[Mono-list] Socket code.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18502">[ date ]</a>
              <a href="thread.html#18502">[ thread ]</a>
              <a href="subject.html#18502">[ subject ]</a>
              <a href="author.html#18502">[ author ]</a>
         </LI>
       </UL>
</body></html>
