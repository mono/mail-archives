<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] A mono bug?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:l.oluyede%40virgilio.it">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="018407.html">
   <LINK REL="Next"  HREF="018415.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] A mono bug?
   </H1>
    <B>Lawrence Oluyede
    </B> 
    <A HREF="mailto:l.oluyede%40virgilio.it"
       TITLE="[Mono-list] A mono bug?">l.oluyede@virgilio.it
       </A><BR>
    <I>Wed, 18 Feb 2004 16:16:32 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="018407.html">[Mono-list] RE: Mono-list digest, Vol 1 #1463 - 9 msgs
</A></li>
        <LI> Next message: <A HREF="018415.html">[Mono-list] Environment.TickCount not as documented by MS  (was: A mono bug)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18410">[ date ]</a>
              <a href="thread.html#18410">[ thread ]</a>
              <a href="subject.html#18410">[ subject ]</a>
              <a href="author.html#18410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've written a simple script to compute the uptime of the machine.
It works well on MS.NET on Win2k (i tried to compare the output with 
some other similar utilities) but on Mono 0.29 on my Gentoo box it fails 
(the procps uptime tells me another time instead of the one that i get 
with my uptime). Maybe I'm wrong or maybe Mono is wrong... anyway I 
can't install Mono 0.30 cause it doesn't compile on Gentoo and on 
Windows it doesn't run :(

Here the code:

private static string getUptime()
	{
		StringBuilder buffer = new StringBuilder();
		
		int ticks = Environment.TickCount;
		
		buffer.AppendFormat(&quot; {0:hh}:{0:mm}:{0:ss}&quot;,   DateTime.Now);
		buffer.Append(&quot; up&quot;);
		
		// compute and append the number of days
		int days = (int) ticks / (1000 * 60 * 60 * 24);		
		if(days &gt; 0)
		{
			buffer.AppendFormat(&quot; {0} day{1}&quot;,
				days,
				days &gt; 1 ? &quot;s&quot; : String.Empty);
		}
		
		int seconds = ticks / 1000;
		int minutes = ticks / (1000 * 60);
		int hours = minutes / 60;
		
		hours = hours % 24;
		minutes = minutes % 60;
		seconds = seconds % 60;
		
		buffer.AppendFormat(&quot; {0,2:D2}:{1,2:D2}:{2,2:D2}&quot;, hours, minutes, 
seconds);
		
		return buffer.ToString();
	}


-- 
Lawrence

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="018407.html">[Mono-list] RE: Mono-list digest, Vol 1 #1463 - 9 msgs
</A></li>
	<LI> Next message: <A HREF="018415.html">[Mono-list] Environment.TickCount not as documented by MS  (was: A mono bug)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18410">[ date ]</a>
              <a href="thread.html#18410">[ thread ]</a>
              <a href="subject.html#18410">[ subject ]</a>
              <a href="author.html#18410">[ author ]</a>
         </LI>
       </UL>
</body></html>
