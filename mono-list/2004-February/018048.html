<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] ByteFX.Data.MySqlClient : no instance, a null value instead
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rykr%40bellsouth.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="018060.html">
   <LINK REL="Next"  HREF="018049.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] ByteFX.Data.MySqlClient : no instance, a null value instead
   </H1>
    <B>Reggie Burnett
    </B> 
    <A HREF="mailto:rykr%40bellsouth.net"
       TITLE="[Mono-list] ByteFX.Data.MySqlClient : no instance, a null value instead">rykr@bellsouth.net
       </A><BR>
    <I>Mon, 2 Feb 2004 07:34:02 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="018060.html">[Mono-list] web.config
</A></li>
        <LI> Next message: <A HREF="018049.html">[Mono-list] OpenOffice.org
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18048">[ date ]</a>
              <a href="thread.html#18048">[ thread ]</a>
              <a href="subject.html#18048">[ subject ]</a>
              <a href="author.html#18048">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David

Not sure if this will help, but include pooling=false in your connection
string.  Also, I will be updating the ByteFX code in mono in the next
day or two.  We just released 0.75 and will be putting out 0.76 in the
next few days (to fix a few issues from 0.75)

Reggie

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A> [mailto:mono-list-
</I>&gt;<i> <A HREF="mailto:admin@lists.ximian.com">admin@lists.ximian.com</A>] On Behalf Of David Marsal
</I>&gt;<i> Sent: Friday, January 30, 2004 6:52 AM
</I>&gt;<i> To: <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
</I>&gt;<i> Subject: [Mono-list] ByteFX.Data.MySqlClient : no instance, a null
</I>value
&gt;<i> instead
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Running mono from cvs, I wrote the following test.cs
</I>&gt;<i> (from the go-mono site) :
</I>&gt;<i> 
</I>&gt;<i> =======================================
</I>&gt;<i> 
</I>&gt;<i>  using System;
</I>&gt;<i>  using System.Data;
</I>&gt;<i>  using ByteFX.Data.MySqlClient;
</I>&gt;<i> 
</I>&gt;<i>  public class Test
</I>&gt;<i>  {
</I>&gt;<i>     public static void Main(string[] args)
</I>&gt;<i>     {
</I>&gt;<i>        string connectionString =
</I>&gt;<i>           &quot;Server=localhost;&quot; +
</I>&gt;<i>           &quot;Database=monotest;&quot; +
</I>&gt;<i>           &quot;User ID=monotest;&quot; +
</I>&gt;<i>           &quot;Password=monotest;&quot;;
</I>&gt;<i>        IDbConnection dbcon;
</I>&gt;<i>        dbcon = new MySqlConnection(connectionString);
</I>&gt;<i>        dbcon.Open();
</I>&gt;<i>        IDbCommand dbcmd = dbcon.CreateCommand();
</I>&gt;<i>        // requires a table to be created named employee
</I>&gt;<i>        // with columns firstname and lastname
</I>&gt;<i>        // such as,
</I>&gt;<i>        //        CREATE TABLE employee (
</I>&gt;<i>        //           firstname varchar(32),
</I>&gt;<i>        //           lastname varchar(32));
</I>&gt;<i>        string sql =
</I>&gt;<i>            &quot;SELECT person, email&quot; +
</I>&gt;<i>            &quot;FROM test&quot;;
</I>&gt;<i>        dbcmd.CommandText = sql;
</I>&gt;<i>        IDataReader reader = dbcmd.ExecuteReader();
</I>&gt;<i>        while(reader.Read()) {
</I>&gt;<i>             string FirstName = (string) reader[&quot;firstname&quot;];
</I>&gt;<i>             string LastName = (string) reader[&quot;lastname&quot;];
</I>&gt;<i>             Console.WriteLine(&quot;Name: &quot; +
</I>&gt;<i>                   FirstName + &quot; &quot; + LastName);
</I>&gt;<i>        }
</I>&gt;<i>        // clean up
</I>&gt;<i>        reader.Close();
</I>&gt;<i>        reader = null;
</I>&gt;<i>        dbcmd.Dispose();
</I>&gt;<i>        dbcmd = null;
</I>&gt;<i>        dbcon.Close();
</I>&gt;<i>        dbcon = null;
</I>&gt;<i>     }
</I>&gt;<i>  }
</I>&gt;<i> 
</I>&gt;<i> My aim is to use a similar script with xsp
</I>&gt;<i> but one problem at a time...
</I>&gt;<i> 
</I>&gt;<i> =======================================
</I>&gt;<i> 
</I>&gt;<i> compilation is all right :
</I>&gt;<i> 
</I>&gt;<i> mcs test.cs -r System.Data.dll  -r ByteFX.Data.dll
</I>&gt;<i> Compilation succeeded
</I>&gt;<i> 
</I>&gt;<i> =======================================
</I>&gt;<i> 
</I>&gt;<i> But running failed :
</I>&gt;<i> 
</I>&gt;<i> mono test.exe
</I>&gt;<i> 
</I>&gt;<i> Unhandled Exception: System.NullReferenceException: A null value was
</I>&gt;<i> found where an object instance was required
</I>&gt;<i> in &lt;0x00061&gt; ByteFX.Data.MySqlClient.MySqlStream:get_DataAvailable ()
</I>&gt;<i> in &lt;0x00058&gt; ByteFX.Data.Common.MultiHostStream:Read (byte[],int,int)
</I>&gt;<i> in &lt;0x00040&gt; ByteFX.Data.MySqlClient.MySqlStream:ReadInt24 ()
</I>&gt;<i> in &lt;0x00050&gt; (wrapper remoting-invoke-with-check)
</I>&gt;<i> ByteFX.Data.MySqlClient.MySqlStream:ReadInt24 ()
</I>&gt;<i> in &lt;0x00062&gt; ByteFX.Data.MySqlClient.Driver:ReadRawPacket ()
</I>&gt;<i> in &lt;0x0005c&gt; ByteFX.Data.MySqlClient.Driver:ReadPacket ()
</I>&gt;<i> in &lt;0x00094&gt; ByteFX.Data.MySqlClient.Driver:Open
</I>&gt;<i> (ByteFX.Data.MySqlClient.MySqlConnectionString)
</I>&gt;<i> in &lt;0x0003f&gt; ByteFX.Data.MySqlClient.MySqlInternalConnection:Open ()
</I>&gt;<i> in &lt;0x000fa&gt;
</I>ByteFX.Data.MySqlClient.MySqlPool:CreateNewPooledConnection
&gt;<i> ()
</I>&gt;<i> in &lt;0x00235&gt; ByteFX.Data.MySqlClient.MySqlPool:GetPooledConnection ()
</I>&gt;<i> in &lt;0x0005d&gt; ByteFX.Data.MySqlClient.MySqlPool:GetConnection ()
</I>&gt;<i> in &lt;0x0011b&gt; ByteFX.Data.MySqlClient.MySqlPoolManager:GetConnection
</I>&gt;<i> (ByteFX.Data.MySqlClient.MySqlConnectionString)
</I>&gt;<i> in &lt;0x00077&gt; ByteFX.Data.MySqlClient.MySqlConnection:Open ()
</I>&gt;<i> in &lt;0x00071&gt; .Test:Main (string[])
</I>&gt;<i> 
</I>&gt;<i> which is not so clear for me...
</I>&gt;<i> I just believe to understand that the instance ByteFX.Data.MySqlClient
</I>&gt;<i> instance doesn't exists
</I>&gt;<i> but why ?
</I>&gt;<i> 
</I>&gt;<i> =======================================
</I>&gt;<i> 
</I>&gt;<i> Then I use sqlsharp :
</I>&gt;<i> 
</I>&gt;<i> SQL# \Provider MySqlNET
</I>&gt;<i> The default Provider is LOADEXTPROVIDER
</I>&gt;<i>           Assembly: ByteFX.Data
</I>&gt;<i>   Connection Class: ByteFX.Data.MySQLClient.MySQLConnection
</I>&gt;<i> 
</I>&gt;<i> SQL# \ConnectionString Server=localhost;Database=monotest;User
</I>&gt;<i> ID=monotest;Password=monotest;
</I>&gt;<i> 
</I>&gt;<i> SQL# \Open
</I>&gt;<i> Attempt to open connection...
</I>&gt;<i> Loading external provider...
</I>&gt;<i> Error: unable to load the assembly of the provider: ByteFX.Data :
</I>&gt;<i> Argument cannot be null
</I>&gt;<i> Parameter name: type
</I>&gt;<i> 
</I>&gt;<i> same problem ?
</I>&gt;<i> 
</I>&gt;<i> =======================================
</I>&gt;<i> 
</I>&gt;<i> Then I use mysql :
</I>&gt;<i> 
</I>&gt;<i> mysql -u monotest -p
</I>&gt;<i> 
</I>&gt;<i> Enter password: ( monotest)
</I>&gt;<i> 
</I>&gt;<i> mysql&gt; use monotest;
</I>&gt;<i> Reading table information for completion of table and column names
</I>&gt;<i> You can turn off this feature to get a quicker startup with -A
</I>&gt;<i> 
</I>&gt;<i> Database changed
</I>&gt;<i> 
</I>&gt;<i> SELECT * FROM test;
</I>&gt;<i> +--------+---------+
</I>&gt;<i> | person | email   |
</I>&gt;<i> +--------+---------+
</I>&gt;<i> | moi    | <A HREF="mailto:moi@moi">moi@moi</A> |
</I>&gt;<i> +--------+---------+
</I>&gt;<i> 1 row in set (0.00 sec)
</I>&gt;<i> 
</I>&gt;<i> Ok !
</I>&gt;<i> =======================================
</I>&gt;<i> 
</I>&gt;<i> I just check that
</I>&gt;<i> /usr/local/mono/lib/ByteFX.Data.dll exists and is up to date
</I>&gt;<i> 
</I>&gt;<i> I succeeded in compiling GnomeDbClient.cs and client.cs
</I>&gt;<i> but failed to access my databases
</I>&gt;<i> 
</I>&gt;<i> Many many thanks for your help.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="018060.html">[Mono-list] web.config
</A></li>
	<LI> Next message: <A HREF="018049.html">[Mono-list] OpenOffice.org
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18048">[ date ]</a>
              <a href="thread.html#18048">[ thread ]</a>
              <a href="subject.html#18048">[ subject ]</a>
              <a href="author.html#18048">[ author ]</a>
         </LI>
       </UL>
</body></html>
