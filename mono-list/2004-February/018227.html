<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mod_mono running as apache user
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jaak%40zd.com.pl">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="018226.html">
   <LINK REL="Next"  HREF="018231.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mod_mono running as apache user
   </H1>
    <B>Jaroslaw Kowalski
    </B> 
    <A HREF="mailto:jaak%40zd.com.pl"
       TITLE="[Mono-list] mod_mono running as apache user">jaak@zd.com.pl
       </A><BR>
    <I>Sun, 8 Feb 2004 17:53:13 +0100 (CET)</I>
    <P><UL>
        <LI> Previous message: <A HREF="018226.html">[Mono-list] mod_mono running as apache user
</A></li>
        <LI> Next message: <A HREF="018231.html">[Mono-list] Problem compiling. mscorlib.dll not found.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18227">[ date ]</a>
              <a href="thread.html#18227">[ thread ]</a>
              <a href="subject.html#18227">[ subject ]</a>
              <a href="author.html#18227">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here's my idea of running mod_mono with apache2:

1. Create group &quot;aspnet&quot;
2. Create user &quot;aspnet&quot; with default group &quot;aspnet&quot;
3. Edit /etc/group and add user &quot;apache&quot; to group &quot;aspnet&quot;
4. Run mod_mono_server.exe as &quot;aspnet&quot;
5. restart apache.

This guarantees that the permissions will be ok after reboot and
regardless of the order of spawning mod_mono_server and apache.

I use this configuration along with SysV init script, which can
start,stop,restart mod_mono_server independently of the &quot;httpd&quot;.

Jarek

On Sun, 8 Feb 2004, Marcel Pol wrote:

&gt;<i> On Sun, 08 Feb 2004 08:21:03 -0600
</I>&gt;<i> Jim Erwin &lt;<A HREF="mailto:mono@eyekahn.com">mono@eyekahn.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; In addition to setting permissions for the /tmp/mod_mono_server file,
</I>&gt;<i> &gt; you also have to set any files to be read and/or executed by the
</I>&gt;<i> &gt; application (AKA all your aspx files, your dll's etc...) and any files
</I>&gt;<i> &gt; to be simply read, like the Web.config etc... for your apache user.
</I>&gt;<i>
</I>&gt;<i> Thank you for your reply.
</I>&gt;<i> All the files under /usr/share/doc/apache2-mod_mono-0.7/test are readable, and
</I>&gt;<i> the dll's and exe's are executable, so I don't think it causes this. I did
</I>&gt;<i> change the ownership of those files to apache:apache, but no change.
</I>&gt;<i>
</I>&gt;<i> Btw, when I connect, my cpu load goes to 100%, allthough there's no mono
</I>&gt;<i> process listed in top. After some 10 seconds the mono server segfaults. I
</I>&gt;<i> attached a strace, maybe that gives more insight to what happens?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; On Sun, 2004-02-08 at 05:55, Marcel Pol wrote:
</I>&gt;<i> &gt; &gt; Hello,
</I>&gt;<i> &gt; &gt; I have mod_mono-0.7 up and running on Mandrake cooker (beta2) with
</I>&gt;<i> &gt; &gt; apache2. I can run the mod-mono-server as root, and everything works fine.
</I>&gt;<i> &gt; &gt; When I run it as user apache however, I get a 500 internal server error
</I>&gt;<i> &gt; &gt; message. I did chmod 777 the /tmp/mod_mono_server file.
</I>&gt;<i> &gt; &gt; I'd rather not run it as root though, so I'm wondering where I could look
</I>&gt;<i> &gt; &gt; to get it working for the apache user.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Marcel Pol
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="018226.html">[Mono-list] mod_mono running as apache user
</A></li>
	<LI> Next message: <A HREF="018231.html">[Mono-list] Problem compiling. mscorlib.dll not found.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18227">[ date ]</a>
              <a href="thread.html#18227">[ thread ]</a>
              <a href="subject.html#18227">[ subject ]</a>
              <a href="author.html#18227">[ author ]</a>
         </LI>
       </UL>
</body></html>
