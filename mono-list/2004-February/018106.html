<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] P/Invoke problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:marascio%40metreos.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="018105.html">
   <LINK REL="Next"  HREF="018108.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] P/Invoke problem
   </H1>
    <B>Louis R. Marascio
    </B> 
    <A HREF="mailto:marascio%40metreos.com"
       TITLE="[Mono-list] P/Invoke problem">marascio@metreos.com
       </A><BR>
    <I>Tue, 3 Feb 2004 22:23:34 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="018105.html">[Mono-list] P/Invoke problem
</A></li>
        <LI> Next message: <A HREF="018108.html">[Mono-list] Dowloading Mono on Red-Carpet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18106">[ date ]</a>
              <a href="thread.html#18106">[ thread ]</a>
              <a href="subject.html#18106">[ subject ]</a>
              <a href="author.html#18106">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Rafael,

I wish it really were that easy, unfortunately the DLL is indeeed
'PthreadVc.dll'. I typed the dumpbin command line into email manually,
rather than cut &amp; paste.

To answer your windows/linux question, I'm using windows because I'm =
using
the pthreads-win32 port ;).

I'm fairly confident it is finding the PthreadVc.dll because the =
exception
being thrown is an EntryPointNotFoundException, rather than a
DllNotFoundException.

Thanks for the help,

Louis

-----Original Message-----
From: Rafael Teixeira [mailto:<A HREF="mailto:rafael.teixeirabr@terra.com.br">rafael.teixeirabr@terra.com.br</A>]=20
Sent: Tuesday, February 03, 2004 9:07 PM
To: <A HREF="mailto:marascio@metreos.com">marascio@metreos.com</A>
Cc: &gt;
Subject: Re: [Mono-list] P/Invoke problem


Louis Marascio wrote:

&gt;<i> I'm trying to build a managed wrapper on top of POSIX message queues.  =
</I>
&gt;<i> For development, I'm working on WinXp using pthreads-win32 + mqueues=20
</I>&gt;<i> (as contributed by a third party to the pthreads-win32 project). I've=20
</I>&gt;<i> build my wrapper and it executes fine using the MS .NET runtime.=20
</I>&gt;<i> However, under Mono, I get a System.EntryPointNotFoundException each=20
</I>&gt;<i> time
</I>I
&gt;<i> try to use a P/Invoke. I've been banging my head against this for a=20
</I>&gt;<i>while  now, and really am not sure what else to try. ...
</I>&gt;<i> I have a PthreadsVc.dll, on which 'dumpbin /exports' gives:
</I>&gt;<i>...
</I>&gt;<i> My DllImport for mq_close looks like:
</I>&gt;<i>     // int mq_close(mqd_t);
</I>&gt;<i>     [DllImport(&quot;PthreadVc&quot;)]
</I>&gt;<i>     public static extern int mq_close(IntPtr queueHandle);
</I>&gt;<i>...
</I>&gt;<i> Any help would be greatly appreciated. Thanks,
</I>&gt;<i> Louis
</I>
First, are you trying to run with mono in Windows or in Linux? In Linux, =
you
and .so file not a .dll.

Second, In one line you wrote PthreadsVc.dll, and in others and in your
DllImport you wrote PthreadVc, without the 's' in the middle, beware of
mispellings...

Hope it helps,

Rafael Teixeira
Brazilian Polymath
Mono, MonoQLE hacker




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="018105.html">[Mono-list] P/Invoke problem
</A></li>
	<LI> Next message: <A HREF="018108.html">[Mono-list] Dowloading Mono on Red-Carpet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18106">[ date ]</a>
              <a href="thread.html#18106">[ thread ]</a>
              <a href="subject.html#18106">[ subject ]</a>
              <a href="author.html#18106">[ author ]</a>
         </LI>
       </UL>
</body></html>
