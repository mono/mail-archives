<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] System.Collections intricacies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jonpryor%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="018028.html">
   <LINK REL="Next"  HREF="018031.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] System.Collections intricacies
   </H1>
    <B>Jonathan Pryor
    </B> 
    <A HREF="mailto:jonpryor%40vt.edu"
       TITLE="[Mono-list] System.Collections intricacies">jonpryor@vt.edu
       </A><BR>
    <I>Sun, 01 Feb 2004 14:31:19 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="018028.html">[Mono-list] vbnet and mono
</A></li>
        <LI> Next message: <A HREF="018031.html">[Mono-list] System Requirements - Would Mono run on a 486 with
 12Mb (it has linux running)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18030">[ date ]</a>
              <a href="thread.html#18030">[ thread ]</a>
              <a href="subject.html#18030">[ subject ]</a>
              <a href="author.html#18030">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2004-01-29 at 14:36, Andrew P. Wilson wrote:
&lt;snip/&gt;
&gt;<i> However, I am finding that the indexer is not called at all and from
</I>&gt;<i> disassembling the executable, the following instructions are occurring
</I>&gt;<i> where I would have thought the indexer would have been called:
</I>
&gt;<i> IL_0099:  callvirt instance object class
</I>&gt;<i> [mscorlib]'System.Collections.ArrayList'::'get_Item'(int32)
</I>&gt;<i> IL_009e:  unbox [mscorlib]System.Int32
</I>
&gt;<i> Normally, this wouldn’t be a problem for me.  However, I cannot find
</I>&gt;<i> this “get_Item” function anywhere in the mcs or mono source code. 
</I>&gt;<i> There is also a corresponding “set_Item” function that is called as
</I>&gt;<i> well, but again, I cannot find it in the source code.
</I>
What you've stumbled across is C# &quot;name mangling&quot;.  In order to be
cross-language friendly (as not all languages support operator
overloading), all methods in IL are normal functions, but have a special
naming convention so that languages that support operator overloading
can view them.

For example, the addition operator:

	public static Foo operator+ (Foo lhs, Foo rhs);

would become:

	public static Foo op_Addition (Foo lhs, Foo rhs);

after it's generated.

The array index operator becomes get_Item for the getter, and set_Item
for the setter.  The &quot;Item&quot; part of the names can be changed by using
the System.Runtime.CompilerServices.IndexerNameAttribute (which is how
System.String has a Chars indexer in VB.NET).

This is also true of properties:

	public String MyProperty {
		get {return &quot;Foo&quot;;}
		set {/* ignore */}
	}

becomes:

	public String get_MyProperty () {...}
	public void set_MyProperty (String value) {...}

&gt;<i> Is there a situation where the ArrayList Indexer will be called?  And
</I>&gt;<i> do the get_Item and set_Item functions exist somewhere in the source
</I>&gt;<i> code?
</I>
As seen above, the indexer is being called, you just need to know about
the name mangling.

 - Jon



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="018028.html">[Mono-list] vbnet and mono
</A></li>
	<LI> Next message: <A HREF="018031.html">[Mono-list] System Requirements - Would Mono run on a 486 with
 12Mb (it has linux running)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18030">[ date ]</a>
              <a href="thread.html#18030">[ thread ]</a>
              <a href="subject.html#18030">[ subject ]</a>
              <a href="author.html#18030">[ author ]</a>
         </LI>
       </UL>
</body></html>
