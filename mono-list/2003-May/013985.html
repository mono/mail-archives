<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Making code conditional on &quot;not running on mono&quot;?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jonpryor%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="013980.html">
   <LINK REL="Next"  HREF="013989.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Making code conditional on &quot;not running on mono&quot;?
   </H1>
    <B>Jonathan Pryor
    </B> 
    <A HREF="mailto:jonpryor%40vt.edu"
       TITLE="[Mono-list] Making code conditional on &quot;not running on mono&quot;?">jonpryor@vt.edu
       </A><BR>
    <I>14 May 2003 22:55:57 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="013980.html">[Mono-list] Making code conditional on &quot;not running on mono&quot;?
</A></li>
        <LI> Next message: <A HREF="013989.html">[Mono-list] Making code conditional on &quot;not running on mono&quot;?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13985">[ date ]</a>
              <a href="thread.html#13985">[ thread ]</a>
              <a href="subject.html#13985">[ subject ]</a>
              <a href="author.html#13985">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, though it may require some code refactoring and use of Reflection. 
Basically, move all of the System.DirectoryServices code into its own
assembly, dynamically load the assembly at run time, and dynamically
invoke methods in the loaded assembly.

This may not be ideal, as it replaces compile-time type-safe code with
dynamic, reflection-using code, but it should work for the short term.

 - Jon

On Wed, 2003-05-14 at 10:22, Stuart Ballard wrote:
&gt;<i> I have a C# program which uses some classes (specifically 
</I>&gt;<i> System.DirectoryServices) that aren't implemented in Mono. The code in 
</I>&gt;<i> question is not critical to the application and the majority of the 
</I>&gt;<i> functionality would work fine if it wasn't there. I can't remove the 
</I>&gt;<i> code entirely (because in some cases we actually do need the 
</I>&gt;<i> functionality) but I can't compile on Mono with it present, because the 
</I>&gt;<i> classes aren't found.
</I>&gt;<i> 
</I>&gt;<i> Is there any way I can avoid having to have two different copies of the 
</I>&gt;<i> source code, one for Mono without the feature and one for MS.NET with 
</I>&gt;<i> the feature included?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Stuart.
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="013980.html">[Mono-list] Making code conditional on &quot;not running on mono&quot;?
</A></li>
	<LI> Next message: <A HREF="013989.html">[Mono-list] Making code conditional on &quot;not running on mono&quot;?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13985">[ date ]</a>
              <a href="thread.html#13985">[ thread ]</a>
              <a href="subject.html#13985">[ subject ]</a>
              <a href="author.html#13985">[ author ]</a>
         </LI>
       </UL>
</body></html>
