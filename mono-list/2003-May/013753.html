<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Iterator hello world.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:erik%40bagfors.nu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="013742.html">
   <LINK REL="Next"  HREF="013760.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Iterator hello world.
   </H1>
    <B>Erik Bågfors
    </B> 
    <A HREF="mailto:erik%40bagfors.nu"
       TITLE="[Mono-list] Iterator hello world.">erik@bagfors.nu
       </A><BR>
    <I>07 May 2003 10:56:00 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="013742.html">[Mono-list] Iterator hello world.
</A></li>
        <LI> Next message: <A HREF="013760.html">[Mono-list] Iterator hello world.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13753">[ date ]</a>
              <a href="thread.html#13753">[ thread ]</a>
              <a href="subject.html#13753">[ subject ]</a>
              <a href="author.html#13753">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2003-05-07 at 06:12, Miguel de Icaza wrote:
&gt;<i> The right way of writing hello world with iterators:
</I>&gt;<i> 
</I>&gt;<i> using System.Collections;
</I>&gt;<i> using System;
</I>&gt;<i> class Hello {
</I>&gt;<i> 
</I>&gt;<i> 	static IEnumerable GetMessage ()
</I>&gt;<i> 	{
</I>&gt;<i> 		yield &quot;Hello&quot;;
</I>&gt;<i> 		yield &quot;, &quot;;
</I>&gt;<i> 		yield &quot;World&quot;;
</I>&gt;<i> 		yield &quot;\n&quot;;
</I>&gt;<i> 	}
</I>&gt;<i> 
</I>&gt;<i> 	static void Main ()
</I>&gt;<i> 	{
</I>&gt;<i> 		foreach (string s in GetMessage ())
</I>&gt;<i> 			Console.WriteLine (s);
</I>&gt;<i> 	}
</I>&gt;<i> }
</I>

To cool,
ofcource the Console.WriteLine should be Console.Write :)

Anyway, Being a big fan of the ruby language (which makes lot's of use
of iterators and &quot;yield&quot;) I tried playing around with this alittle and
got into some problems I cannot explain.

I wrote the following small program (simply added another iterator to
the same program)

using System.Collections;
using System;

class Hello {
    static IEnumerable GetMesssage()
    {
	yield &quot;Hello&quot;;
	yield &quot;, &quot;;
	yield &quot;World&quot;;
	yield &quot;\n&quot;;
    }

    static IEnumerable DoTimes(int x)
    {
	for (; x &gt; 0; x--)
	    yield x;
    }
    

    static void Main()
    {
	foreach (string s in GetMesssage()) 
	    Console.Write(s);

	foreach (int x in DoTimes(3)) 
	    Console.WriteLine(x);
	    
    }
}

For some reason this doesn't work (doesn't even compile).  If I remove
GetMessage and the call to GetMessage everything works!

Is this a bug or shouldn't it be possible to have to iterators in the
same class?

In ruby you also have blocks which could be viewed as anonymous
methods.  For example you could write this

DoTimes(3) {|x| print(x) }

I think I read that something like that was about to show up in C#? Am I
correct?

/Erik

-- 
<A HREF="mailto:erik@bagfors.nu">erik@bagfors.nu</A>
fingerprint: 6666 A85B 95D3 D26B 296B 6C60 4F32 2C0B 693D 6E32

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="013742.html">[Mono-list] Iterator hello world.
</A></li>
	<LI> Next message: <A HREF="013760.html">[Mono-list] Iterator hello world.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13753">[ date ]</a>
              <a href="thread.html#13753">[ thread ]</a>
              <a href="subject.html#13753">[ subject ]</a>
              <a href="author.html#13753">[ author ]</a>
         </LI>
       </UL>
</body></html>
