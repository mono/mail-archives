<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Hello
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jeremiah%40facility9.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="014128.html">
   <LINK REL="Next"  HREF="014129.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Hello
   </H1>
    <B>Jeremiah McElroy
    </B> 
    <A HREF="mailto:jeremiah%40facility9.com"
       TITLE="[Mono-list] Hello">jeremiah@facility9.com
       </A><BR>
    <I>Sun, 25 May 2003 22:01:03 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="014128.html">[Mono-list] Hello
</A></li>
        <LI> Next message: <A HREF="014129.html">[Mono-list] Hello
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14127">[ date ]</a>
              <a href="thread.html#14127">[ thread ]</a>
              <a href="subject.html#14127">[ subject ]</a>
              <a href="author.html#14127">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a multi-part message in MIME format.

------=_NextPart_000_0003_01C32309.22F56050
Content-Type: text/plain;
	charset=&quot;US-ASCII&quot;
Content-Transfer-Encoding: quoted-printable

&gt;<i>From reading the MS Documentation (.NET SDK 1.1, VS.NET 2003 EA for =
</I>those
who are interested in these things), it says something along the lines =
of
'you must close each accepted connection individually.'
=20
What I took this to mean is that you will have to build a stack of your =
own
for all client connections and then  when you call TcpListener.Stop(),
you'll have to loop through your stack and Stop() all of those =
connections
as well.  I could be wrong on the subject, I usually deal with POP3 and =
SMTP
or raw nasty sockets that die quickly and don't persist any kind of =
state.
=20
As for the file system watcher problem, I ran into something like that a
while ago.  My brother and I found a post online about re-reading a
web.config file (works just the same for any app.config =
[proc.exe.config]
that you can run across).  I forget how the work-around went, but there =
is
some issue with the .NET framework where it reads in the *.config file =
at
application start and persists a copy resident in memory.  Of course, =
I'm
sure that others on this list would know far more about these aspects of
Mono than I.  In recent work for a software monitoring app which I have
written at work, I have forced a re-read on every cycle of the thread
(approx every 5 mintues) of both the config file and the DB (which makes
things easier). =20
=20
If I run across that article I will be sure to post the link and send to
you.
=20
Later,
=20
Jeremiah McElroy
=20
We all learn by sharing what we know

-----Original Message-----
From: <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>
[mailto:<A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>] On Behalf Of Terry
Sent: Saturday, May 24, 2003 10:51 PM
To: <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
Subject: [Mono-list] Hello


Hello all,
=20
I just thought I'd introduce myself to the list before asking questions.
I'm a software developer by profession and I work on a free game server =
tool
in my spare time.  After adding a server-side portion to my app, I got
several requests for Linux support and I started looking at C/C++ and C# =
as
an option.  A co-worker told me about Mono and I started working with =
the
0.23 release.  Great job!  I'm very impressed with the progress so far -
it's a huge thrill for me to take a binary and watch it work on both =
Windows
and Linux.  I'm very excited about the future!
=20
It's a simple TCP server that allows admins to have remote access to =
their
game consoles.  So far, it's working pretty well, but I've come across a
couple things that, as far as I can tell, should be operational, but =
isn't
working for me. =20
=20
I just installed 0.24 on RH8 without garbage collection.  The &quot;make&quot; =
failed
with an invalid &quot;-lgc&quot; option (problem with configure?).  I've run into =
two
problems with TcpListener and FileSystemWatcher....
=20
[Newbie flame suit on]
I have a thread that calls &quot;TcpListener.AcceptSocket()&quot; and keeps =
looping
handling the new connection requests.  This works great.  However, when =
I go
to shut down, I call &quot;TcpListener.Stop()&quot; from a different thread and =
then
&quot;Join&quot; to wait for the server thread to exit.  It never exists because =
the
server thread is still blocking on the &quot;AcceptSocket()&quot; call.  Shouldn't
calling &quot;Stop&quot; interrupt the &quot;AcceptSocket()&quot; call?  Or is that an =
invalid
assumption?
=20
Also, I want to use FileSystemWatcher to watch for changes to my cfg =
files,
but after setting things up, it appears that after making changes to =
files
in the watched directory, the changed event never fires.  It does work =
on
Windows, however.  I do not get an exception - nothing happens.  I'm =
using
the &quot;FileSystemWatcher/FileSystemEventHandler&quot; method rather than the
&quot;WaitForChanged&quot; method (I see that's not implemented yet :-).
[Newbie flame suit off]
=20
I can post code if it's relevant...
=20
Thanks,
Terry


------=_NextPart_000_0003_01C32309.22F56050
Content-Type: text/html;
	charset=&quot;US-ASCII&quot;
Content-Transfer-Encoding: quoted-printable

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META HTTP-EQUIV=3D&quot;Content-Type&quot; CONTENT=3D&quot;text/html; =
charset=3Dus-ascii&quot;&gt;
&lt;TITLE&gt;Message&lt;/TITLE&gt;

&lt;META content=3D&quot;MSHTML 6.00.2800.1170&quot; name=3DGENERATOR&gt;&lt;/HEAD&gt;
&lt;BODY&gt;
&lt;DIV&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial color=3D#0000ff =
size=3D2&gt;From=20
reading the MS Documentation (.NET SDK 1.1, VS.NET 2003 EA for those who =
are=20
interested in these things), it says something along the lines of 'you =
must=20
close each accepted connection individually.'&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial color=3D#0000ff =

size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial color=3D#0000ff =
size=3D2&gt;What I=20
took this to mean is that you will have to build a stack of your own for =
all=20
client connections and then&amp;nbsp; when you call TcpListener.Stop(), =
you'll have=20
to loop through your stack and Stop() all of those connections as =
well.&amp;nbsp; I=20
could be wrong on the subject, I usually deal with POP3 and SMTP or raw =
nasty=20
sockets that die quickly and don't persist any kind of=20
state.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial color=3D#0000ff =

size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial color=3D#0000ff =
size=3D2&gt;As for=20
the file system watcher problem, I ran into something like that a while=20
ago.&amp;nbsp; My brother and I found&amp;nbsp;a post online about re-reading a=20
web.config file (works just the same for any app.config =
[proc.exe.config] that=20
you can run across).&amp;nbsp; I forget how the work-around went, but there =
is some=20
issue with the .NET framework where it reads in the *.config file at =
application=20
start and persists a copy resident in memory.&amp;nbsp; Of course, I'm sure =
that=20
others on this list would know far more about these aspects of Mono than =

I.&amp;nbsp; In recent work for a software monitoring app which I have =
written at=20
work, I have forced a re-read on every cycle of the thread (approx every =
5=20
mintues) of both the config file and the DB (which makes things =
easier).&amp;nbsp;=20
&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial color=3D#0000ff =

size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial color=3D#0000ff =
size=3D2&gt;If I=20
run ac&lt;/FONT&gt;&lt;/SPAN&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial=20
color=3D#0000ff size=3D2&gt;ross that article I will be sure to post the =
link and send=20
to you.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial color=3D#0000ff =

size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial color=3D#0000ff =

size=3D2&gt;Later,&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial color=3D#0000ff =

size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial color=3D#0000ff =

size=3D2&gt;Jeremiah McElroy&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial color=3D#0000ff =

size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D065215501-26052003&gt;&lt;FONT face=3DArial color=3D#0000ff =
size=3D2&gt;We all=20
learn by sharing what we know&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;BLOCKQUOTE dir=3Dltr=20
style=3D&quot;PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #0000ff 2px =
solid; MARGIN-RIGHT: 0px&quot;&gt;
  &lt;DIV&gt;&lt;/DIV&gt;
  &lt;DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr =
align=3Dleft&gt;&lt;FONT=20
  face=3DTahoma size=3D2&gt;-----Original Message-----&lt;BR&gt;&lt;B&gt;From:&lt;/B&gt;=20
  <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A> =
[mailto:<A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>]=20
  &lt;B&gt;On Behalf Of &lt;/B&gt;Terry&lt;BR&gt;&lt;B&gt;Sent:&lt;/B&gt; Saturday, May 24, 2003 10:51 =

  PM&lt;BR&gt;&lt;B&gt;To:&lt;/B&gt; <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>&lt;BR&gt;&lt;B&gt;Subject:&lt;/B&gt; =
[Mono-list]=20
  Hello&lt;BR&gt;&lt;BR&gt;&lt;/FONT&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial =
size=3D2&gt;Hello=20
  all,&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial=20
  size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial size=3D2&gt;I =
just thought I'd=20
  introduce myself to the list before asking questions.&amp;nbsp; I'm a =
software=20
  developer by profession and I work on a free game server tool in my =
spare=20
  time.&amp;nbsp; After adding a server-side portion to my app, I got =
several=20
  requests for Linux support and I started looking at C/C++ and C# as an =

  option.&amp;nbsp; A co-worker told me about Mono and I started working =
with the=20
  0.23 release.&amp;nbsp; Great job!&amp;nbsp; I'm very impressed with the =
progress so=20
  far - it's a huge thrill for me to take a binary and watch it work on =
both=20
  Windows and Linux.&amp;nbsp; I'm very excited about the=20
future!&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial=20
  size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial size=3D2&gt;It's =
a simple TCP=20
  server that allows admins to have remote access to their game =
consoles.&amp;nbsp;=20
  So far, it's working pretty well, but I've come across a couple things =
that,=20
  as far as I can tell, should be operational, but isn't working for =
me.&amp;nbsp;=20
  &lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial=20
  size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial size=3D2&gt;I =
just installed=20
  0.24 on RH8 without garbage collection.&amp;nbsp; The &quot;make&quot; failed with =
an=20
  invalid &quot;-lgc&quot; option (problem with configure?).&amp;nbsp; I've run into =
two=20
  problems with TcpListener and =
FileSystemWatcher....&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial=20
  size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial =
size=3D2&gt;[Newbie flame suit=20
  on]&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial size=3D2&gt;I =
have a thread=20
  that calls &quot;TcpListener.AcceptSocket()&quot; and keeps looping handling the =
new=20
  connection requests.&amp;nbsp; This works great.&amp;nbsp; However, when I go =
to shut=20
  down, I call &quot;TcpListener.Stop()&quot; from a different thread and then =
&quot;Join&quot; to=20
  wait for the server thread to exit.&amp;nbsp; It never exists because the =
server=20
  thread is still blocking on the &quot;AcceptSocket()&quot; call.&amp;nbsp; Shouldn't =
calling=20
  &quot;Stop&quot; interrupt the &quot;AcceptSocket()&quot; call?&amp;nbsp; Or is that an =
invalid=20
  assumption?&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial=20
  size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial =
size=3D2&gt;Also, I want to=20
  use FileSystemWatcher to watch for changes to my cfg files, but after =
setting=20
  things up, it appears that after making changes to files in the =
watched=20
  directory, the changed event never fires.&amp;nbsp; It does work on =
Windows,=20
  however.&amp;nbsp; I do not get an exception - nothing happens.&amp;nbsp; I'm =
using=20
  the &quot;FileSystemWatcher/&lt;FONT size=3D2&gt;FileSystemEventHandler&quot; method =
rather than=20
  the &quot;WaitForChanged&quot; method (I see that's not implemented yet=20
  :-).&lt;/FONT&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial =
size=3D2&gt;[Newbie flame suit=20
  off]&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial=20
  size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial size=3D2&gt;I =
can post code if=20
  it's relevant...&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial=20
  size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial=20
  size=3D2&gt;Thanks,&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
  &lt;DIV&gt;&lt;SPAN class=3D625372302-25052003&gt;&lt;FONT face=3DArial=20
  size=3D2&gt;Terry&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;

------=_NextPart_000_0003_01C32309.22F56050--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="014128.html">[Mono-list] Hello
</A></li>
	<LI> Next message: <A HREF="014129.html">[Mono-list] Hello
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14127">[ date ]</a>
              <a href="thread.html#14127">[ thread ]</a>
              <a href="subject.html#14127">[ subject ]</a>
              <a href="author.html#14127">[ author ]</a>
         </LI>
       </UL>
</body></html>
