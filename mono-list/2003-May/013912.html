<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Making a ruby.net compiler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:malekith%40pld-linux.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="013903.html">
   <LINK REL="Next"  HREF="013914.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Making a ruby.net compiler
   </H1>
    <B>Michal Moskal
    </B> 
    <A HREF="mailto:malekith%40pld-linux.org"
       TITLE="[Mono-list] Making a ruby.net compiler">malekith@pld-linux.org
       </A><BR>
    <I>Sun, 11 May 2003 19:04:01 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="013903.html">[Mono-list] Making a ruby.net compiler
</A></li>
        <LI> Next message: <A HREF="013914.html">[Mono-list] Making a ruby.net compiler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13912">[ date ]</a>
              <a href="thread.html#13912">[ thread ]</a>
              <a href="subject.html#13912">[ subject ]</a>
              <a href="author.html#13912">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, May 10, 2003 at 02:05:22PM -0400, Miguel de Icaza wrote:
&gt;<i> Hello!
</I>&gt;<i> 
</I>&gt;<i>     This morning (which is absolutely beautiful here in Boston) I woke
</I>&gt;<i> up with an idea to implement some of Fergus' comments:
</I>&gt;<i> 
</I>&gt;<i> &gt; Sure, but no CIL implementations thus far are capable of making more
</I>&gt;<i> &gt; significant changes, such as changing data representations to replace a
</I>&gt;<i> &gt; class hierarchy with the use of tag bits for representing discriminated
</I>&gt;<i> &gt; unions.  Nor does it look like we'll see this in the near future.
</I>&gt;<i> 
</I>&gt;<i>     And I figured: there is really nothing that prevents the runtime to
</I>&gt;<i> pick a few bits as tags on pointers to implement &quot;isinst class&quot;.
</I>
Why not simply replace calls to typeof-runtime-function with loading
constants, when jiting method (assuming given class is already loaded)?

&lt;as-an-option&gt;
If class &quot;foo&quot; is not loaded replace calls to typeof(&quot;foo&quot;) with
unconditional branch to special piece of code, that calls runtime function
to get foo type and changes machine code for this unconditional branch
with load constant instruction, and jump to it back.
&lt;/as-an-option&gt;

-- 
:<i> Michal Moskal :: <A HREF="http://www.kernel.pl/~malekith">http://www.kernel.pl/~malekith</A> : GCS {C,UL}++++$ a? !tv
</I>:<i> PLD Linux ::::::::: Wroclaw University, CS Dept : {E-,w}-- {b++,e}&gt;+++ h
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="013903.html">[Mono-list] Making a ruby.net compiler
</A></li>
	<LI> Next message: <A HREF="013914.html">[Mono-list] Making a ruby.net compiler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13912">[ date ]</a>
              <a href="thread.html#13912">[ thread ]</a>
              <a href="subject.html#13912">[ subject ]</a>
              <a href="author.html#13912">[ author ]</a>
         </LI>
       </UL>
</body></html>
