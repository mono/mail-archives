<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Making a ruby.net compiler
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jaroslaw.kowalski%40atm.com.pl">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="013917.html">
   <LINK REL="Next"  HREF="013932.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Making a ruby.net compiler
   </H1>
    <B>Jaroslaw Kowalski
    </B> 
    <A HREF="mailto:jaroslaw.kowalski%40atm.com.pl"
       TITLE="[Mono-list] Making a ruby.net compiler">jaroslaw.kowalski@atm.com.pl
       </A><BR>
    <I>Mon, 12 May 2003 09:44:42 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="013917.html">[Mono-list] Making a ruby.net compiler
</A></li>
        <LI> Next message: <A HREF="013932.html">[Mono-list] Making a ruby.net compiler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13919">[ date ]</a>
              <a href="thread.html#13919">[ thread ]</a>
              <a href="subject.html#13919">[ subject ]</a>
              <a href="author.html#13919">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; 2. If you want to align your pointers before each dereference - you can
</I>do
&gt;<i> &gt; it but you have to add some additional instructions to the JIT output,
</I>which
&gt;<i> &gt; would reduce the benefit of using bit flags
</I>&gt;<i>
</I>&gt;<i> Yes, there will be some overhead, but it is still worth it.
</I>&gt;<i> The overheads are very small, and you can reduce data space usage
</I>&gt;<i> dramatically using this technique, which can also improve speed
</I>&gt;<i> due to better locality.
</I>
I'm not a CPU expert, but when Pentium 1 ruled the Earth this kind of
operation introduced quite a long stall (AGI - Address Generation Interlock,
as far as I remember), because it took some time before the result of
address generation (AND in this case) could be used to dereference or jump.
So you had to do some advanced pipelining to do something while in the
stall. The stall didn't occur when you dereferenced an unmodified pointer
(freshly fetched from some memory location).

Not sure if this is valid now that we have Pentium 4 and Athlon XP.

Jarek



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="013917.html">[Mono-list] Making a ruby.net compiler
</A></li>
	<LI> Next message: <A HREF="013932.html">[Mono-list] Making a ruby.net compiler
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13919">[ date ]</a>
              <a href="thread.html#13919">[ thread ]</a>
              <a href="subject.html#13919">[ subject ]</a>
              <a href="author.html#13919">[ author ]</a>
         </LI>
       </UL>
</body></html>
