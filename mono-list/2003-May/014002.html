<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Making code conditional on &quot;not running on mono&quot;?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono%40terrarium.f9.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="013989.html">
   <LINK REL="Next"  HREF="014003.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Making code conditional on &quot;not running on mono&quot;?
   </H1>
    <B>Theo Spears
    </B> 
    <A HREF="mailto:mono%40terrarium.f9.co.uk"
       TITLE="[Mono-list] Making code conditional on &quot;not running on mono&quot;?">mono@terrarium.f9.co.uk
       </A><BR>
    <I>Thu, 15 May 2003 22:46:32 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="013989.html">[Mono-list] Making code conditional on &quot;not running on mono&quot;?
</A></li>
        <LI> Next message: <A HREF="014003.html">[Mono-list] Making code conditional on &quot;not running on mono&quot;?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14002">[ date ]</a>
              <a href="thread.html#14002">[ thread ]</a>
              <a href="subject.html#14002">[ subject ]</a>
              <a href="author.html#14002">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If you are happy to have two seperate binaries and a common source code you
could use the C# preprocessor. Surround the windows specific code with

#if WINDOWS
#endif

and then define WINDOWS inside visual studio as one of the defines to pass
to the compiler. This is what I am doing with an ASP.NET project I'm porting
across to mono, and so far it is working quite well.

Theo Spears

-----Original Message-----
From: <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>
[mailto:<A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>]On Behalf Of Stuart Ballard
Sent: 14 May 2003 15:23
To: <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
Subject: [Mono-list] Making code conditional on &quot;not running on mono&quot;?


I have a C# program which uses some classes (specifically
System.DirectoryServices) that aren't implemented in Mono. The code in
question is not critical to the application and the majority of the
functionality would work fine if it wasn't there. I can't remove the
code entirely (because in some cases we actually do need the
functionality) but I can't compile on Mono with it present, because the
classes aren't found.

Is there any way I can avoid having to have two different copies of the
source code, one for Mono without the feature and one for MS.NET with
the feature included?

Thanks,
Stuart.
--
Stuart Ballard, Senior Web Developer
FASTNET - Web Solutions
(215) 283-2300, ext. 126
www.fast.net

_______________________________________________
Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="013989.html">[Mono-list] Making code conditional on &quot;not running on mono&quot;?
</A></li>
	<LI> Next message: <A HREF="014003.html">[Mono-list] Making code conditional on &quot;not running on mono&quot;?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14002">[ date ]</a>
              <a href="thread.html#14002">[ thread ]</a>
              <a href="subject.html#14002">[ subject ]</a>
              <a href="author.html#14002">[ author ]</a>
         </LI>
       </UL>
</body></html>
