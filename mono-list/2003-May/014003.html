<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Making code conditional on &quot;not running on mono&quot;?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ianm%40ActiveState.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="014002.html">
   <LINK REL="Next"  HREF="014026.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Making code conditional on &quot;not running on mono&quot;?
   </H1>
    <B>Ian MacLean
    </B> 
    <A HREF="mailto:ianm%40ActiveState.com"
       TITLE="[Mono-list] Making code conditional on &quot;not running on mono&quot;?">ianm@ActiveState.com
       </A><BR>
    <I>Fri, 16 May 2003 11:29:33 +0900</I>
    <P><UL>
        <LI> Previous message: <A HREF="014002.html">[Mono-list] Making code conditional on &quot;not running on mono&quot;?
</A></li>
        <LI> Next message: <A HREF="014026.html">[Mono-list] Making code conditional on &quot;not running on mono&quot;?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14003">[ date ]</a>
              <a href="thread.html#14003">[ thread ]</a>
              <a href="subject.html#14003">[ subject ]</a>
              <a href="author.html#14003">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We do somthing similar in nant. Except we use #ifdef mono.
Another way to test if you are on windows it to check the value of 
DirectorySeperatorchar. That won't help if you're trying to test for 
mono since you cold be on mono on wondows.

Ian

&gt;<i> If you are happy to have two seperate binaries and a common source code you
</I>&gt;<i> could use the C# preprocessor. Surround the windows specific code with
</I>&gt;<i> 
</I>&gt;<i> #if WINDOWS
</I>&gt;<i> #endif
</I>&gt;<i> 
</I>&gt;<i> and then define WINDOWS inside visual studio as one of the defines to pass
</I>&gt;<i> to the compiler. This is what I am doing with an ASP.NET project I'm porting
</I>&gt;<i> across to mono, and so far it is working quite well.
</I>&gt;<i> 
</I>&gt;<i> Theo Spears
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>]On Behalf Of Stuart Ballard
</I>&gt;<i> Sent: 14 May 2003 15:23
</I>&gt;<i> To: <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
</I>&gt;<i> Subject: [Mono-list] Making code conditional on &quot;not running on mono&quot;?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I have a C# program which uses some classes (specifically
</I>&gt;<i> System.DirectoryServices) that aren't implemented in Mono. The code in
</I>&gt;<i> question is not critical to the application and the majority of the
</I>&gt;<i> functionality would work fine if it wasn't there. I can't remove the
</I>&gt;<i> code entirely (because in some cases we actually do need the
</I>&gt;<i> functionality) but I can't compile on Mono with it present, because the
</I>&gt;<i> classes aren't found.
</I>&gt;<i> 
</I>&gt;<i> Is there any way I can avoid having to have two different copies of the
</I>&gt;<i> source code, one for Mono without the feature and one for MS.NET with
</I>&gt;<i> the feature included?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Stuart.
</I>&gt;<i> --
</I>&gt;<i> Stuart Ballard, Senior Web Developer
</I>&gt;<i> FASTNET - Web Solutions
</I>&gt;<i> (215) 283-2300, ext. 126
</I>&gt;<i> www.fast.net
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="014002.html">[Mono-list] Making code conditional on &quot;not running on mono&quot;?
</A></li>
	<LI> Next message: <A HREF="014026.html">[Mono-list] Making code conditional on &quot;not running on mono&quot;?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14003">[ date ]</a>
              <a href="thread.html#14003">[ thread ]</a>
              <a href="subject.html#14003">[ subject ]</a>
              <a href="author.html#14003">[ author ]</a>
         </LI>
       </UL>
</body></html>
