<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] How to select a GUI implementation?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jonpryor%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="014015.html">
   <LINK REL="Next"  HREF="014019.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] How to select a GUI implementation?
   </H1>
    <B>Jonathan Pryor
    </B> 
    <A HREF="mailto:jonpryor%40vt.edu"
       TITLE="[Mono-list] How to select a GUI implementation?">jonpryor@vt.edu
       </A><BR>
    <I>16 May 2003 13:21:08 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="014015.html">[Mono-list] How to select a GUI implementation?
</A></li>
        <LI> Next message: <A HREF="014019.html">[Mono-list] How to select a GUI implementation?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14018">[ date ]</a>
              <a href="thread.html#14018">[ thread ]</a>
              <a href="subject.html#14018">[ subject ]</a>
              <a href="author.html#14018">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You could take a look at what Type Reflector does.  It supports both
Gtk# and SWF front-ends, as well as a console front end.  Type Reflector
is in the type-reflector CVS module and the mono-tools CVS module.

It's approach is a bit of a hack, but I've found it to work well.

Type Reflector has two levels of support: compile-time and run-time.  By
default, all front-ends are built.  If this fails (due to missing
assemblies, e.g. Gtk# isn't installed), it'll fall-back and attempt to
rebuild with a different set of front-ends.  The problem with this
approach is it could result in a combinatoric explosion of build
choices, but with only 2 &quot;optional&quot; front-ends (SWF &amp; Gtk#) this isn't
too bad.

The next level is run-time selection.  Type Reflector uses an
application configuration file (type-reflector.exe.config) which has an
&lt;appSettings/&gt; tag, which contains a &quot;displayer-order&quot; key.  This key
contains an ordering (space-delimited) of the front-ends to try to use. 
An environment variable could be used instead.  At runtime, each entry
is instantiated; the first displayer that instantiates is the one that
is used.  This permits all GUI front-ends to fail, resulting in console
output.

Thus, the default GUI is the first entry in the &quot;displayer-order&quot; key. 
The user can modify this by editing the .config file (non-ideal, though
the App could include functionality to edit the .config file or use an
IsolatedStorage file for per-user settings).

 - Jon

On Fri, 2003-05-16 at 11:35, J. Perkins wrote:
&gt;<i> Alexandre has been hard at work building a quite nice back-end system 
</I>&gt;<i> for SWF and System.Drawing. He can support multiple native GUI libraries 
</I>&gt;<i> including Wine and Gtk. The last piece of the puzzle is choose which 
</I>&gt;<i> implementation to use at runtime. There's two pieces to consider here. 
</I>&gt;<i> First, which implementation should be used as the default on a given 
</I>&gt;<i> system, and second how can the user change the default if they don't 
</I>&gt;<i> like it?
</I>&gt;<i> 
</I>&gt;<i> For the first, could we add a new switch to configure that adds a symbol 
</I>&gt;<i> to the builds of SWF and SD? Like USE_WINE or USE_GTK or similar. I 
</I>&gt;<i> tried looking at the build scripts myself, but being a Windows/IDE guy I 
</I>&gt;<i> couldn't make sense of them. Once this is in place, the package 
</I>&gt;<i> maintainers could choose the appropriate implementation for their target 
</I>&gt;<i> platform.
</I>&gt;<i> 
</I>&gt;<i> For the second, we thought we would check an environment variable, maybe 
</I>&gt;<i> &quot;MONO_GUI&quot;. If it was set (MONO_GUI=gtk for instance) we would override 
</I>&gt;<i> the default implementation in favor of Gtk.
</I>&gt;<i> 
</I>&gt;<i> How does this sound to everyone? I don't know if Alexandre knows how to 
</I>&gt;<i> make the changes to configure so we might need some help there. The 
</I>&gt;<i> environment variable we could go ahead and add now. Then we'd need to 
</I>&gt;<i> package maintainers to choose the right implementation when they do 
</I>&gt;<i> their release builds.
</I>&gt;<i> 
</I>&gt;<i> Jason
</I>&gt;<i> 379
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="014015.html">[Mono-list] How to select a GUI implementation?
</A></li>
	<LI> Next message: <A HREF="014019.html">[Mono-list] How to select a GUI implementation?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14018">[ date ]</a>
              <a href="thread.html#14018">[ thread ]</a>
              <a href="subject.html#14018">[ subject ]</a>
              <a href="author.html#14018">[ author ]</a>
         </LI>
       </UL>
</body></html>
