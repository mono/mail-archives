<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Problem using 0.24 aot - Please help
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Vivek.Varma%40honeywell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="014042.html">
   <LINK REL="Next"  HREF="014043.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Problem using 0.24 aot - Please help
   </H1>
    <B>Vivek, Bharath Varma (IE10)
    </B> 
    <A HREF="mailto:Vivek.Varma%40honeywell.com"
       TITLE="[Mono-list] Problem using 0.24 aot - Please help">Vivek.Varma@honeywell.com
       </A><BR>
    <I>Sun, 18 May 2003 15:39:35 +0530</I>
    <P><UL>
        <LI> Previous message: <A HREF="014042.html">[Mono-list] writing an interpreter in c#
</A></li>
        <LI> Next message: <A HREF="014043.html">[Mono-list] Problem using 0.24 aot - Please help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14037">[ date ]</a>
              <a href="thread.html#14037">[ thread ]</a>
              <a href="subject.html#14037">[ subject ]</a>
              <a href="author.html#14037">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------=_NextPartTM-000-dd886bcd-7d5e-4b87-a67a-18cd0175d2eb
Content-Type: multipart/alternative;
	boundary=&quot;----_=_NextPart_001_01C31D25.952DD470&quot;

------_=_NextPart_001_01C31D25.952DD470
Content-Type: text/plain

Hello there,
 
I'm facing few problems using the new aot compiler.
The problem is explained in detail below.....
Could you give me some pointers on how to solve the problem?
Thanks
Vivek
 
 
Doing mono --aot HelloWorld.exe, gave me the following.........
 
Mono AOT compiler - compiling assembly HelloWorld.exe
Executing the native assembler now:
as c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456 -o
c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456.o;ld -shared -o
HelloWorld.exe.so c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456.o;rm
c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456.o;strip
--strip-unneeded --discard-all HelloWorld.exe.so
as: unrecognized option `-shared'
Compile 2 out of 2 methods (100%)
0 methods contains exception tables (0%)
0 methods contains absolute addresses (0%)
0 methods contains wrapper references (0%)
0 methods contains lmf pointers (0%)
0 methods has other problems (0%)
AOT RESULT 0
 
So I did the following one by one!
 
as c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456 -o
c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456.o
 
ld -shared -o HelloWorld.exe.so
c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456.o
 
Using the ld(GNU linker) as mentioned above gave me the following..........
Cannot export method_06000001: symbol not found
Cannot export method_06000001_patch_info: symbol not found
Cannot export method_06000002: symbol not found
Cannot export method_06000002_patch_info: symbol not found
Cannot export mono_assembly_guid: symbol not found
 
So I removed the -shared option and did 
ld -o HelloWorld.exe.so
c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456.o
 
Doing this gave me the HelloWorld.exe.so file and the following message
.......
ld: warning: cannot find entry symbol _mainCRTStartup; defaulting to
00401000
 
Now I used the following
strip --strip-unneeded --discard-all HelloWorld1.exe.so
 
Now I ran the HelloWorld.exe by saying
mono HelloWorld.exe
 
To make sure that the aot compiled code was being used, I debugged the
execution and found that it was not using the aot compiled code!
g_module_symbol was not able to find the GUID of my HelloWorld.exe assembly
in the HelloWorld.exe.so file! and because of this the &quot;aot_module&quot; field of
the MonoAssembly structure for my HelloWorld.exe was being set to NULL!
Which caused the &quot;mono_aot_get_method&quot; to return NULL! because of which the
code was getting JIT compiled all over again!
 
Few Questions.....
Why did I get the unrecognized option &quot;-shared&quot;?
Why did I get &quot;cannot export method&quot; errors when using the linker? 
I created HelloWorld.exe.so without using the -shared option, so did my
HelloWorld.exe.so getting created properly?
Why is &quot;g_module_symbol&quot; not able to find the symbol which contains my
assembly's GUID?
 
Version Info
***********
mono version = 0.24
GNU assembler version = 2.12.90 20020706
GNU ld version = 2.12.90 20020706
GNU strip = 2.12.90 20020706
All running on Cygwin
 

------_=_NextPart_001_01C31D25.952DD470
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

&lt;html xmlns:o=3D&quot;urn:schemas-microsoft-com:office:office&quot; =
xmlns:w=3D&quot;urn:schemas-microsoft-com:office:word&quot; =
xmlns:st1=3D&quot;urn:schemas-microsoft-com:office:smarttags&quot; =
xmlns=3D&quot;<A HREF="http://www.w3.org/TR/REC-html40"">http://www.w3.org/TR/REC-html40&quot;</A>&gt;

&lt;head&gt;
&lt;META HTTP-EQUIV=3D&quot;Content-Type&quot; CONTENT=3D&quot;text/html; =
charset=3Dus-ascii&quot;&gt;


&lt;meta name=3DProgId content=3DWord.Document&gt;
&lt;meta name=3DGenerator content=3D&quot;Microsoft Word 10&quot;&gt;
&lt;meta name=3DOriginator content=3D&quot;Microsoft Word 10&quot;&gt;
&lt;link rel=3DFile-List href=3D&quot;cid:<A HREF="mailto:filelist.xml@01C31D54.105A0820">filelist.xml@01C31D54.105A0820</A>&quot;&gt;
&lt;o:SmartTagType =
namespaceuri=3D&quot;urn:schemas-microsoft-com:office:smarttags&quot;
 name=3D&quot;stockticker&quot;/&gt;
&lt;!--[if gte mso 9]&gt;&lt;xml&gt;
 &lt;o:OfficeDocumentSettings&gt;
  &lt;o:DoNotRelyOnCSS/&gt;
 &lt;/o:OfficeDocumentSettings&gt;
&lt;/xml&gt;&lt;![endif]--&gt;&lt;!--[if gte mso 9]&gt;&lt;xml&gt;
 &lt;w:WordDocument&gt;
  &lt;w:SpellingState&gt;Clean&lt;/w:SpellingState&gt;
  &lt;w:GrammarState&gt;Clean&lt;/w:GrammarState&gt;
  &lt;w:DocumentKind&gt;DocumentEmail&lt;/w:DocumentKind&gt;
  &lt;w:EnvelopeVis/&gt;
  &lt;w:Compatibility&gt;
   &lt;w:BreakWrappedTables/&gt;
   &lt;w:SnapToGridInCell/&gt;
   &lt;w:WrapTextWithPunct/&gt;
   &lt;w:UseAsianBreakRules/&gt;
   &lt;w:UseFELayout/&gt;
  &lt;/w:Compatibility&gt;
  &lt;w:BrowserLevel&gt;MicrosoftInternetExplorer4&lt;/w:BrowserLevel&gt;
 &lt;/w:WordDocument&gt;
&lt;/xml&gt;&lt;![endif]--&gt;&lt;!--[if !mso]&gt;
&lt;style&gt;
st1\:*{behavior:url(#default#ieooui) }
&lt;/style&gt;
&lt;![endif]--&gt;
&lt;style&gt;
&lt;!--
 /* Font Definitions */
 @font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:\5B8B\4F53;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:&quot;\@SimSun&quot;;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:&quot;&quot;;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:&quot;Times New Roman&quot;;
	mso-fareast-font-family:SimSun;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	mso-style-noshow:yes;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-ascii-font-family:Arial;
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:windowtext;
	font-weight:normal;
	font-style:normal;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;}
span.SpellE
	{mso-style-name:&quot;&quot;;
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:&quot;&quot;;
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
--&gt;
&lt;/style&gt;
&lt;!--[if gte mso 10]&gt;
&lt;style&gt;
 /* Style Definitions */=20
 table.MsoNormalTable
	{mso-style-name:&quot;Table Normal&quot;;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:&quot;&quot;;
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:&quot;Times New Roman&quot;;}
&lt;/style&gt;
&lt;![endif]--&gt;
&lt;/head&gt;

&lt;body lang=3DEN-US link=3Dblue vlink=3Dpurple =
style=3D'tab-interval:.5in'&gt;

&lt;div class=3DSection1&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Hello there,&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D2 face=3DArial&gt;&lt;span =
style=3D'font-size:10.0pt;
font-family:Arial'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;I'm facing few problems using the new &lt;span =
class=3DSpellE&gt;aot&lt;/span&gt;
compiler.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;The problem is explained in detail =
below.....&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Could you give me some pointers on how to solve the =
problem?&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Thanks&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Vivek&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Doing mono --&lt;span class=3DSpellE&gt;aot&lt;/span&gt; HelloWorld.exe, =
gave me the
following.........&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Mono AOT compiler - compiling assembly =
HelloWorld.exe&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Executing the native assembler =
now:&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;span class=3DGramE&gt;&lt;font size=3D3 face=3D&quot;Times =
New Roman&quot;&gt;&lt;span
style=3D'font-size:12.0pt'&gt;as&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;
c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456 -o
c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456.o;ld -shared -o =
&lt;span
class=3DSpellE&gt;HelloWorld.exe.so&lt;/span&gt;
c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456.o;rm
c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456.o;strip =
--strip-unneeded
--discard-all &lt;span =
class=3DSpellE&gt;HelloWorld.exe.so&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;span class=3DGramE&gt;&lt;font size=3D3 face=3D&quot;Times =
New Roman&quot;&gt;&lt;span
style=3D'font-size:12.0pt'&gt;as&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;: unrecognized option =
`-shared'&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Compile 2 out of 2 methods (100%)&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;0 methods contains exception tables =
(0%)&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;0 methods contains absolute addresses =
(0%)&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;0 methods contains wrapper references =
(0%)&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;0 methods contains &lt;span class=3DSpellE&gt;lmf&lt;/span&gt; pointers =
(0%)&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;0 methods has other problems (0%)&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;AOT RESULT 0&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;So I did the following one by one!&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;span class=3DGramE&gt;&lt;font size=3D3 face=3D&quot;Times =
New Roman&quot;&gt;&lt;span
style=3D'font-size:12.0pt'&gt;as&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;
c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456 -o
c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456.o&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;span class=3DGramE&gt;&lt;font size=3D3 face=3D&quot;Times =
New Roman&quot;&gt;&lt;span
style=3D'font-size:12.0pt'&gt;ld&lt;/span&gt;&lt;/font&gt;&lt;/span&gt; -shared -o &lt;span =
class=3DSpellE&gt;HelloWorld.exe.so&lt;/span&gt;
c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456.o&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Using the &lt;span class=3DGramE&gt;ld(&lt;/span&gt;GNU linker) as =
mentioned above gave
me the following..........&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Cannot export method_06000001: symbol not =
found&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Cannot export method_06000001_patch_info: symbol not =
found&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Cannot export method_06000002: symbol not =
found&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Cannot export method_06000002_patch_info: symbol not =
found&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Cannot export &lt;span class=3DSpellE&gt;mono_assembly_guid&lt;/span&gt;: =
symbol not
found&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;So I removed the -shared option and did =
&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;span class=3DGramE&gt;&lt;font size=3D3 face=3D&quot;Times =
New Roman&quot;&gt;&lt;span
style=3D'font-size:12.0pt'&gt;ld&lt;/span&gt;&lt;/font&gt;&lt;/span&gt; -o &lt;span =
class=3DSpellE&gt;HelloWorld.exe.so&lt;/span&gt;
c:\WINNT\Profiles\vivekv\LOCALS~1\Temp/mono_aot_03456.o&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Doing this gave me the &lt;span =
class=3DSpellE&gt;HelloWorld.exe.so&lt;/span&gt; file
and the following message .......&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;span class=3DGramE&gt;&lt;font size=3D3 face=3D&quot;Times =
New Roman&quot;&gt;&lt;span
style=3D'font-size:12.0pt'&gt;ld&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;: warning: cannot =
find entry
symbol _&lt;span class=3DSpellE&gt;mainCRTStartup&lt;/span&gt;; defaulting to =
00401000&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Now I used the following&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;span class=3DGramE&gt;&lt;font size=3D3 face=3D&quot;Times =
New Roman&quot;&gt;&lt;span
style=3D'font-size:12.0pt'&gt;strip&lt;/span&gt;&lt;/font&gt;&lt;/span&gt; --strip-unneeded
--discard-all HelloWorld1.exe.so&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Now I ran the HelloWorld.exe by =
saying&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;span class=3DGramE&gt;&lt;font size=3D3 face=3D&quot;Times =
New Roman&quot;&gt;&lt;span
style=3D'font-size:12.0pt'&gt;mono&lt;/span&gt;&lt;/font&gt;&lt;/span&gt; =
HelloWorld.exe&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;To make sure that the &lt;span class=3DSpellE&gt;aot&lt;/span&gt; compiled =
code was
being &lt;span class=3DGramE&gt;used,&lt;/span&gt; I debugged the execution and =
found that it
was not using the &lt;span class=3DSpellE&gt;aot&lt;/span&gt; compiled =
code!&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;span class=3DSpellE&gt;&lt;span class=3DGramE&gt;&lt;font =
size=3D3
face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:12.0pt'&gt;g_module_symbol&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;
was not able to find the GUID of my HelloWorld.exe assembly in the =
&lt;span
class=3DSpellE&gt;HelloWorld.exe.so&lt;/span&gt; file&lt;font size=3D2&gt;&lt;span =
style=3D'font-size:
10.0pt'&gt;!&lt;/span&gt;&lt;/font&gt; and because of this the &quot;&lt;span =
class=3DSpellE&gt;aot_module&lt;/span&gt;&quot;
field of the &lt;span class=3DSpellE&gt;MonoAssembly&lt;/span&gt; structure for my
HelloWorld.exe was being set to NULL! &lt;span class=3DGramE&gt;Which caused =
the &quot;&lt;span
class=3DSpellE&gt;mono_aot_get_method&lt;/span&gt;&quot; to return NULL!&lt;/span&gt; &lt;span
class=3DGramE&gt;because&lt;/span&gt; of which the code was getting =
&lt;st1:stockticker&gt;JIT&lt;/st1:stockticker&gt;
compiled all over again!&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Few Questions.....&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Why did I get the unrecognized option =
&quot;-shared&quot;?&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Why did I get &quot;cannot export method&quot; errors when using the
linker? &lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;I created &lt;span class=3DSpellE&gt;HelloWorld.exe.so&lt;/span&gt; without =
using the
-shared option, so did my &lt;span class=3DSpellE&gt;HelloWorld.exe.so&lt;/span&gt;
getting created properly?&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Why is &quot;&lt;span class=3DSpellE&gt;g_module_symbol&lt;/span&gt;&quot; not able
to find the symbol which contains my assembly's =
GUID?&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;Version Info&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;***********&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;span class=3DGramE&gt;&lt;font size=3D3 face=3D&quot;Times =
New Roman&quot;&gt;&lt;span
style=3D'font-size:12.0pt'&gt;mono&lt;/span&gt;&lt;/font&gt;&lt;/span&gt; version =3D =
0.24&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;GNU assembler version =3D 2.12.90 =
20020706&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;GNU &lt;span class=3DGramE&gt;ld&lt;/span&gt; version =3D 2.12.90 =
20020706&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;GNU strip =3D 2.12.90 20020706&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;All running on &lt;span =
class=3DSpellE&gt;Cygwin&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=3DMsoNormal&gt;&lt;font size=3D3 face=3D&quot;Times New Roman&quot;&gt;&lt;span =
style=3D'font-size:
12.0pt'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;/div&gt;

&lt;/body&gt;

&lt;/html&gt;

------_=_NextPart_001_01C31D25.952DD470--

------=_NextPartTM-000-dd886bcd-7d5e-4b87-a67a-18cd0175d2eb--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="014042.html">[Mono-list] writing an interpreter in c#
</A></li>
	<LI> Next message: <A HREF="014043.html">[Mono-list] Problem using 0.24 aot - Please help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14037">[ date ]</a>
              <a href="thread.html#14037">[ thread ]</a>
              <a href="subject.html#14037">[ subject ]</a>
              <a href="author.html#14037">[ author ]</a>
         </LI>
       </UL>
</body></html>
