<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mcs parser bug-- fails on input without trailing new line
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:dominic%40dcooney.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="002410.html">
   <LINK REL="Next"  HREF="002413.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mcs parser bug-- fails on input without trailing new line
   </H1>
    <B>Dominic Cooney
    </B> 
    <A HREF="mailto:dominic%40dcooney.com"
       TITLE="[Mono-list] mcs parser bug-- fails on input without trailing new line">dominic@dcooney.com
       </A><BR>
    <I>Tue, 18 Dec 2001 21:28:50 +1000</I>
    <P><UL>
        <LI> Previous message: <A HREF="002410.html">[Mono-list] mono in Doctor dobbs
</A></li>
        <LI> Next message: <A HREF="002413.html">[Mono-list] Quick Mono Update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2411">[ date ]</a>
              <a href="thread.html#2411">[ thread ]</a>
              <a href="subject.html#2411">[ subject ]</a>
              <a href="author.html#2411">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There is a bug in the parser, in that it fails to accept input without a
trailing new line.

With the input:

class NoTrailingEOL {}

mcs.exe generates:

syntax error, expecting EOF ABSTRACT BOOL BYTE CHAR CLASS CONST DECIMAL
DELEGATE
 DOUBLE ENUM EVENT EXPLICIT EXTERN FLOAT IMPLICIT INT INTERFACE INTERNAL
LONG NA
MESPACE NEW OBJECT OVERRIDE PRIVATE PROTECTED PUBLIC READONLY SBYTE
SEALED SHORT
 STATIC STRING STRUCT UINT ULONG USHORT VIRTUAL VOID CLOSE_BRACE
OPEN_BRACKET SE
MICOLON TILDE IDENTIFIER
.\eol.cs (1,19), Token:342   : Parsing error
Mono.CSharp.yyParser.yyException: irrecoverable syntax error
   at Mono.CSharp.CSharpParser.yyparse(yyInput yyLex) in
C:\mono\mcs\mcs\-:line
839
   at Mono.CSharp.CSharpParser.parse() in
C:\mono\mcs\mcs\cs-parser.jay:line 357
3
Error: Parsing failed

Csc (framework v. 1.0.3328) accepts the program though.



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="002410.html">[Mono-list] mono in Doctor dobbs
</A></li>
	<LI> Next message: <A HREF="002413.html">[Mono-list] Quick Mono Update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2411">[ date ]</a>
              <a href="thread.html#2411">[ thread ]</a>
              <a href="subject.html#2411">[ subject ]</a>
              <a href="author.html#2411">[ author ]</a>
         </LI>
       </UL>
</body></html>
