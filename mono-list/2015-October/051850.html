<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] high performance Unix-based TCP socket server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20high%20performance%20Unix-based%20TCP%20socket%20server&In-Reply-To=%3CBN3PR0801MB11549314231F22D844B9CB33FA480%40BN3PR0801MB1154.namprd08.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051843.html">
   <LINK REL="Next"  HREF="051844.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] high performance Unix-based TCP socket server</H1>
    <B>Edward Ned Harvey (mono)</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20high%20performance%20Unix-based%20TCP%20socket%20server&In-Reply-To=%3CBN3PR0801MB11549314231F22D844B9CB33FA480%40BN3PR0801MB1154.namprd08.prod.outlook.com%3E"
       TITLE="[Mono-list] high performance Unix-based TCP socket server">edward.harvey.mono at clevertrove.com
       </A><BR>
    <I>Mon Oct  5 11:03:26 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="051843.html">[Mono-list] high performance Unix-based TCP socket server
</A></li>
        <LI>Next message: <A HREF="051844.html">[Mono-list] Interop - PreserveSig
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51850">[ date ]</a>
              <a href="thread.html#51850">[ thread ]</a>
              <a href="subject.html#51850">[ subject ]</a>
              <a href="author.html#51850">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A> [mailto:mono-list-
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">bounces at lists.ximian.com</A>] On Behalf Of hlavko
</I>&gt;<i> 
</I>&gt;<i> do you recommend the Mono for high performance Unix-based TCP socket
</I>&gt;<i> server
</I>&gt;<i> with thousands of concurrent connections?
</I>
Let us know what you find.


&gt;<i> I already found and tried  high performance implementation using
</I>&gt;<i> SocketAsyncEventArgs
</I>
The official documentation is here:
<A HREF="https://msdn.microsoft.com/en-us/library/system.net.sockets.socketasynceventargs(v=vs.110">https://msdn.microsoft.com/en-us/library/system.net.sockets.socketasynceventargs(v=vs.110</A>).aspx


&gt;<i> However, I am little bit sceptical about other possible drawbacks:
</I>&gt;<i> 1. Not sure if the Mono implementation of the SocketAsyncEventArgs is fully
</I>&gt;<i> replacable to .NET implementation on Windows. Is it ready for production in
</I>&gt;<i> the current state?
</I>
Judging by the existence of SocketAsyncEventArgs in MSDN, apparently Microsoft considers it production ready. To see if there are any known differences between the mono and ms implementations, you check the class compatibility pages:
<A HREF="http://mono-project.com">http://mono-project.com</A>
Documentation &gt; About Mono &gt; Class Status (<A HREF="http://www.mono-project.com/docs/about-mono/class-status/">http://www.mono-project.com/docs/about-mono/class-status/</A>)

It's a little annoying the way the class assemblies are broken up, you don't really know if you should start by digging into System.Net, or something else. Today, the correct answer is go into System, and then System.Net.Sockets, and you find SocketAsyncEventArgs. It looks like mono's implementation does have a few known issues, so you'll want to pay attention to those. I'm not sure how to tell you to find more info about the known issues - Look in the mono source for comments on the failing items (sometimes it's just a particular argument of the method is unsupported, because there's no such thing in Linux, or something like that). Maybe search bugzilla <A HREF="https://bugzilla.xamarin.com">https://bugzilla.xamarin.com</A>


&gt;<i> 2. Not sure if this is still issue with last versions but I found many hate
</I>&gt;<i> comments targeting Mono performance. Is Mono comparable to other high-
</I>&gt;<i> level
</I>&gt;<i> languages like Java/C++/.NET in the question of performance?
</I>
Ignorance is rampant on the Internet. All of the above perform excellent - but there are differences. I have benchmarked many different operations in mono, .Net, java, and python. I have found that each one outperforms the others in particular ways. The only way to know is to pick a specific operation you care about, and then benchmark it. All the results vary from platform to platform, version to version. Don't forget to build &quot;Release&quot; mode, to enable compiler optimizations. And if you want to squeeze more performance out of it, you might do an AOT fully optimized build for the platform that you care about.

The conclusion I've reached is that there is no general winner or loser. There are only specific winners and losers on specific things.


&gt;<i> 3. You know it looks like there is not many people which are going this
</I>&gt;<i> server way with Mono. Also we want to focus primarily on business logic
</I>&gt;<i> rather then polish and hack core server functionality. So, is it possible to
</I>&gt;<i> rapidly prototype relatively stable framework around Mono or we will need
</I>&gt;<i> to
</I>&gt;<i> solve many hidden secrets and issues?
</I>
This is what we do at my work. We use SslStream to make mono a server, listener. We're using TcpListener. I'm not sure what/if there are advantages to SocketAsyncEventArgs, but it sounds like your requirements might be higher than ours. Yes, there are some issues, but we got over them, and I suspect you probably can too. 

The other alternatives you mentioned were Java and C++. I would anticipate java is probably less ready than mono for this purpose, because a java server is usually wrapped up in something else like apache or whatever, which handles the lower level socket stuff, while C# is often used for server stuff - at least on Windows Server. So mono's readiness really comes down to the question of how complete mono has implemented the .Net API. And I would anticipate this is probably already done excellently well in C, but a lot more effort for you to use. So it's really up to you to choose.


&gt;<i> 4. Looks like the future of Mono is in crossplatform mobile market not
</I>&gt;<i> servers. (we are looking forward to next few years)
</I>
Most focus is definitely on mobile. But everything else is getting attention too.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051843.html">[Mono-list] high performance Unix-based TCP socket server
</A></li>
	<LI>Next message: <A HREF="051844.html">[Mono-list] Interop - PreserveSig
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51850">[ date ]</a>
              <a href="thread.html#51850">[ thread ]</a>
              <a href="subject.html#51850">[ subject ]</a>
              <a href="author.html#51850">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
