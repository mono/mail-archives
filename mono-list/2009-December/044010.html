<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Announcing the release of Mono 2.4.3: bugs found
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Announcing%20the%20release%20of%20Mono%202.4.3%3A%20bugs%20found&In-Reply-To=hftman%249pl%241%40ger.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044009.html">
   <LINK REL="Next"  HREF="044016.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Announcing the release of Mono 2.4.3: bugs found</H1>
    <B>Maxim</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Announcing%20the%20release%20of%20Mono%202.4.3%3A%20bugs%20found&In-Reply-To=hftman%249pl%241%40ger.gmane.org"
       TITLE="[Mono-list] Announcing the release of Mono 2.4.3: bugs found">makska at yandex.ru
       </A><BR>
    <I>Fri Dec 11 12:55:38 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="044009.html">[Mono-list] Announcing the release of Mono 2.4.3: bugs found
</A></li>
        <LI>Next message: <A HREF="044016.html">[Mono-list] Announcing the release of Mono 2.4.3: bugs found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44010">[ date ]</a>
              <a href="thread.html#44010">[ thread ]</a>
              <a href="subject.html#44010">[ subject ]</a>
              <a href="author.html#44010">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Robert,

I've updated Mono from 2.4.2.2.
Issue like described occurs in previous version too, but in other manner
and not so often. It happens several times per week with records in
apache error log like:
Stack overflow in unmanaged: IP: 0x573940, fault addr: 0x496cddd8
Stacktrace:

Native stacktrace:
    /opt/mono/bin/mono [0x47e7a0]
    /opt/mono/bin/mono [0x4ada8d]
    /lib64/libpthread.so.0 [0x3e3e60e4c0]
    /opt/mono/bin/mono [0x47efbe]
    /opt/mono/bin/mono [0x47bf76]
    [0x411c5278]

Debug info from gdb:

[Tue Dec 08 19:21:23 2009] [notice] child pid 4911 exit signal
Segmentation fault (11)
[Tue Dec 08 19:21:23 2009] [notice] child pid 5566 exit signal
Segmentation fault (11)
....
After it nagios reported for all web-sites in this shared pool: HTTP
CRITICAL - No data received from host.
Other websites (more loaded) in isolated pools works just fine on both
Mono versions.

But also I have a goods news!  It seems like I've found workaround for
this issue. I've added line
MonoSetEnv MONO_THREADS_PER_CPU=2000
to mod_mono.conf. And today all works just fine whole day long.
Of course we need to test it for about one week to say &quot;YES!&quot; :)

I think it would be great to rewrite page
<A HREF="http://www.mono-project.com/Mod_mono">http://www.mono-project.com/Mod_mono</A> and describe such a situations more
detailed.

Thanks!

With best wishes,
Max Karavaev


Robert Jordan wrote:
&gt;<i> On 10.12.2009 21:10, Maxim wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> 2) stability. For about two times per day main instance of
</I>&gt;&gt;<i> mod-mono-server unexpectedly jumps from  2Gb of memory consumption up to
</I>&gt;&gt;<i> 15-20Gb, and eat all server resouses, for example:  # top
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> There were no changes in 2.4.3 that could cause this regression.
</I>&gt;<i>  From which version did you update to see that?
</I>&gt;<i>
</I>&gt;<i> Robert
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>&gt;<i>   
</I>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044009.html">[Mono-list] Announcing the release of Mono 2.4.3: bugs found
</A></li>
	<LI>Next message: <A HREF="044016.html">[Mono-list] Announcing the release of Mono 2.4.3: bugs found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44010">[ date ]</a>
              <a href="thread.html#44010">[ thread ]</a>
              <a href="subject.html#44010">[ subject ]</a>
              <a href="author.html#44010">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
