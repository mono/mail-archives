<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] sqlmetal on Mono 2.6 preview
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20sqlmetal%20on%20Mono%202.6%20preview&In-Reply-To=F34755AD15504825B356EB45FF9A7E0F%40fs4895">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043982.html">
   <LINK REL="Next"  HREF="043973.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] sqlmetal on Mono 2.6 preview</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20sqlmetal%20on%20Mono%202.6%20preview&In-Reply-To=F34755AD15504825B356EB45FF9A7E0F%40fs4895"
       TITLE="[Mono-list] sqlmetal on Mono 2.6 preview">jonpryor at vt.edu
       </A><BR>
    <I>Wed Dec  9 11:20:52 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="043982.html">[Mono-list] sqlmetal on Mono 2.6 preview
</A></li>
        <LI>Next message: <A HREF="043973.html">[Mono-list]  'libmono.so: no such file or directory' during build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43989">[ date ]</a>
              <a href="thread.html#43989">[ thread ]</a>
              <a href="subject.html#43989">[ subject ]</a>
              <a href="author.html#43989">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Inline...

On Tue, 2009-12-08 at 18:09 -0500, Costantino Pipero wrote:
&gt;<i> But it still gets an error complaining about worng &quot;syntax near '?db'&quot;... it 
</I>&gt;<i> looks like it's not resolving the database name that I pass in the conn 
</I>&gt;<i> string (I also try using separate arguments instead of the conn, but very 
</I>&gt;<i> same error)
</I>&gt;<i> 
</I>&gt;<i> C:\PROGRA~1\Mono-2.6\bin&gt;sqlmetal 
</I>&gt;<i> /conn:Server=localhost;Database=adventureworks;Uid=root;Pwd=somePwd 
</I>&gt;<i> /code:AdventureWorks.cs /provider=MySQL
</I>...
&gt;<i> &gt;&gt;&gt; Reading schema from MySQL database
</I>&gt;<i> sqlmetal failed:ByteFX.Data.MySqlClient.MySqlException: You have an error in 
</I>&gt;<i> you
</I>&gt;<i> r SQL syntax; check the manual that corresponds to your MySQL server version 
</I>&gt;<i> for
</I>&gt;<i>  the right syntax to use near '?db' at line 3
</I>&gt;<i>   at ByteFX.Data.MySqlClient.Driver.ReadPacket () [0x00000]
</I>&gt;<i>   at ByteFX.Data.MySqlClient.Driver.Send (DBCmd cmd, System.Byte[] bytes) 
</I>&gt;<i> [0x000
</I>&gt;<i> 00]
</I>&gt;<i> [...]
</I>
You trimmed out the most important bit.  It's rather hard to diagnose
things without a full stack trace. :-)

(It occurs to me that a --verbose option would likely be useful so that
we can tell what SQL queries sqlmetal is executing, though I don't know
how easy this would be to add...)

Another possibility is that MySQL doesn't like your ADO.NET provider.
Sqlmetal will use Mono's included ByteFX.Data ADO.NET provider by
default, and I've seen some reports that this occasionally doesn't work
with recent MySQL releases.

If you have the MySQL.Data assembly, you can use that explicitly by
using the /databaseConnectionProvider option:

        sqlmetal &quot;/databaseConnectionProvider=MySql.Data.MySqlClient.MySqlConnection, MySql.Data&quot; ...

I don't know if this will work for you, but it might.

 - Jon


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043982.html">[Mono-list] sqlmetal on Mono 2.6 preview
</A></li>
	<LI>Next message: <A HREF="043973.html">[Mono-list]  'libmono.so: no such file or directory' during build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43989">[ date ]</a>
              <a href="thread.html#43989">[ thread ]</a>
              <a href="subject.html#43989">[ subject ]</a>
              <a href="author.html#43989">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
