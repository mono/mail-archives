<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] for vs. foreach
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:scottdw2%40uwm.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="005799.html">
   <LINK REL="Next"  HREF="005801.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] for vs. foreach
   </H1>
    <B>Scott Wisniewski
    </B> 
    <A HREF="mailto:scottdw2%40uwm.edu"
       TITLE="[Mono-list] for vs. foreach">scottdw2@uwm.edu
       </A><BR>
    <I>19 May 2002 09:51:42 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="005799.html">[Mono-list] for vs. foreach
</A></li>
        <LI> Next message: <A HREF="005801.html">[Mono-list] ASP.NET status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5807">[ date ]</a>
              <a href="thread.html#5807">[ thread ]</a>
              <a href="subject.html#5807">[ subject ]</a>
              <a href="author.html#5807">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2002-05-18 at 08:19, Serge wrote:
&gt;<i> More general question: Is it correct to optimize Enumerators away when
</I>&gt;<i> generating foreach code? 
</I>
No. This is because its not always possible, and there are situations
where it is not a good thing to do even though it is possible.
An object does not have to implement IList to implement IEnumerable.
Also, even if IEnumerable and IList are implemented, there could be
signifigant differences between the run time complexity of calling item
versus calling the methods in the IEnumerator implementation defined by
IEnumerable.GetEnumerator.

Consider a balanced binary tree container (like a Dictionary). Making a
call to Item runs in O(log N), where as making a call to MoveNext runs
in O(1). Executing a for each over the entire dictionary object would
run in O(N). Executing a for loop over the entire dictionary object
would run in O(NLogN). This disparity is even worse with a linked list
structure,  where Item runs in O(N), which would give a for each runtime
of O(N) but a for loop runtime of O(N^2) (here N^2 means N Squared, not
N XOR 2).

-Scott Wisniewski



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="005799.html">[Mono-list] for vs. foreach
</A></li>
	<LI> Next message: <A HREF="005801.html">[Mono-list] ASP.NET status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5807">[ date ]</a>
              <a href="thread.html#5807">[ thread ]</a>
              <a href="subject.html#5807">[ subject ]</a>
              <a href="author.html#5807">[ author ]</a>
         </LI>
       </UL>
</body></html>
