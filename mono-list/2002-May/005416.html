<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mcs using System.Remoting.dll on XP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:miguel%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="005415.html">
   <LINK REL="Next"  HREF="005410.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mcs using System.Remoting.dll on XP
   </H1>
    <B>Miguel de Icaza
    </B> 
    <A HREF="mailto:miguel%40ximian.com"
       TITLE="[Mono-list] mcs using System.Remoting.dll on XP">miguel@ximian.com
       </A><BR>
    <I>01 May 2002 18:21:35 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="005415.html">[Mono-list] mcs using System.Remoting.dll on XP
</A></li>
        <LI> Next message: <A HREF="005410.html">[Mono-list] ArrayList.Adapter to be implemented
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5416">[ date ]</a>
              <a href="thread.html#5416">[ thread ]</a>
              <a href="subject.html#5416">[ subject ]</a>
              <a href="author.html#5416">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Thanks for the info Miguel!  Please direct me to any docs that would help
</I>&gt;<i> clarify my general questions.  I have some more questions below if anyone has
</I>&gt;<i> time to answer them.  
</I>
Well, we should really be updating the FAQ as we speak. 

For example, I am not sure that shipping mcs.bat is a good idea, maybe
we should have a monomcs.bat file that can be used to run the Mono C#
compiler with the mono runtime on Windows for now.

At least until we are at a more avanced stage, because it is hard to
debug things the way things are right now. 

&gt;<i> the mcs i was using was (you're right) the mcs.bat file from the windows
</I>&gt;<i> binaries Johannes Roth made available last week.  
</I>&gt;<i> 
</I>&gt;<i> let me make sure i understand what you are saying.  is the native .NET
</I>&gt;<i> execuatble you are talking about monomcs.exe?  does monomcs.exe not use the
</I>&gt;<i> mono runtime?  also, i thought mono had implemented the
</I>&gt;<i> System.Runtime.Remoting.dll but I don't see it in the &quot;private GAC&quot; you
</I>&gt;<i> mentioned below.  when i use monomcs with the following options : 
</I>
`monomcs.exe' (which we call mcs.exe) loads assemblies from the
&quot;runtime&quot; system directory.  If your runtime is .NET it will be
something like c:\winnt\microsoft.net\v1.3705\bin.  If the runtime is
Mono, it will be your prefix directory plus the &quot;lib&quot; directory.

The reason is that the compiler is loading assemblies from the same
directory that the &quot;mscorlib/corlib&quot; assembly comes from.  

&gt;<i> monomcs --target ... -r System.Runtime.Remoting -r ChatServerLib.dll(local
</I>&gt;<i> monomcs compiled dll,) it seems to access the MS GAC...(the simple chat server
</I>&gt;<i> compiled.)  is that what is expected?
</I>
Yep.

&gt;<i> so, i've got a compiled chat server exe that seems to start up properly using
</I>&gt;<i> the MS runtime, but not the mono runtime(can't access
</I>&gt;<i> System.Runtime.Remoting.dll at runtime.)  so i'm not sure if that actually
</I>&gt;<i> means it's working properly referencing some monomcs dlls and some MS dlls ??
</I>
We do not have a System.Runtime.Remoting DLL yet.  The Mono runtime
probably is failing because it can not locate the assembly.

If the System.Runtime.Remoting DLL is fully managed code and does not
make any internal calls into the runtime, you could copy this to the
directory where Mono looks for its assemblies and run it.  But Remoting
might be one of those things that use a lot of internal calls.  I am not
sure. 

&gt;<i> one other thing...monomcs produces IL that places the delegates outside the
</I>&gt;<i> namespace they were declared in, the opposite of what microsoft does.  (both
</I>&gt;<i> were declared inside the namespace in the code)
</I>
Can you provide us with a sample case, and a bug report? 
<A HREF="http://bugzilla.ximian.com">http://bugzilla.ximian.com</A>

Miguel


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="005415.html">[Mono-list] mcs using System.Remoting.dll on XP
</A></li>
	<LI> Next message: <A HREF="005410.html">[Mono-list] ArrayList.Adapter to be implemented
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5416">[ date ]</a>
              <a href="thread.html#5416">[ thread ]</a>
              <a href="subject.html#5416">[ subject ]</a>
              <a href="author.html#5416">[ author ]</a>
         </LI>
       </UL>
</body></html>
