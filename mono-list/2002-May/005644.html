<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mcs: Threading error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cab938%40mail.usask.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="005643.html">
   <LINK REL="Next"  HREF="005646.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mcs: Threading error
   </H1>
    <B>Christopher A. Brooks
    </B> 
    <A HREF="mailto:cab938%40mail.usask.ca"
       TITLE="[Mono-list] mcs: Threading error">cab938@mail.usask.ca
       </A><BR>
    <I>Fri, 10 May 2002 11:22:29 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="005643.html">[Mono-list] Cygwin/Mono compilation problems
</A></li>
        <LI> Next message: <A HREF="005646.html">[Mono-list] mbas and Microsoft.VisualBasic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5644">[ date ]</a>
              <a href="thread.html#5644">[ thread ]</a>
              <a href="subject.html#5644">[ subject ]</a>
              <a href="author.html#5644">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm just getting start with both .net and mono, so forgive me if this is a
pretty newbie question.  Here's what I get when I compile:

cab938&gt; mcs Class1.cs

** (process:21634): WARNING **: unhandled exception
System.NullReferenceException: &quot;A null value was found where an object
instance was required&quot;
in (unmanaged) System.IO.MonoIO:FindNextFile ()
in 25c System.IO.Directory:GetFileSystemEntries ()
in 04d Mono.CSharp.Driver:CompileFiles ()
in 15b8 Mono.CSharp.Driver:MainDriver ()
in 00b Mono.CSharp.Driver:Main ()

It works fine in Visual Studio on win 2k. I'm trying to compile it on the
May 10th, 2002 mono 0.11 rpm provided by baselabs on mandrake 8.2 linux.  In
short, the source just trys to spawn two threads pointing at static methods
as below:

using System;
using System.Threading;

namespace CompatabilityTest{
 class Class1{
  [STAThread]
  static void Main(string[] args){
   Console.Out.WriteLine(&quot;Testing Threads:&quot;);
   Thread t = new Thread( new ThreadStart( Function.Increment ) );
   Thread t2 = new Thread( new ThreadStart( Function.Decrement ) );
   t.Start();
   t2.Start();
  }
 }

 class Function{
  public static void Increment(){
   for ( int i = 0 ; i &lt; 99999 ; i ++ )
    Console.Out.WriteLine( &quot;inc: &quot; + i );
  }

  public static void Decrement(){
   for ( int i = 99999 ; i &gt; 0 ; i -- )
    Console.Out.WriteLine( &quot;dec: &quot; + i );
  }
 }
}

When I pull the binary over from the windows box it is able to run for
&quot;awhile&quot;, and I get:

cab938&gt; mono myfile.exe
{normal execution}
inc: 4362
inc: 4363
inc: 4364
inc: 4365

** ERROR **: file unicode.c: line 390 (iconv_convert): should not be reached
aborting...
inc: 4366
inc: 4367
inc: 4368
inc: 4369
inc: 4370Abort
cab938&gt;

Suggestions?  Thanks for any pointers, just trying to get some simple
threading stuff running!  Cya,

Chris
--
Christopher A. Brooks
Graduate Student, U of S

Email: <A HREF="mailto:cab938@mail.usask.ca">cab938@mail.usask.ca</A>
Mail: Christopher Brooks
        Department of Computer Science
        University of Saskatchewan
        57 Campus Drive
        Saskatoon, Saskatchewan, S7N 5A9
        Canada



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="005643.html">[Mono-list] Cygwin/Mono compilation problems
</A></li>
	<LI> Next message: <A HREF="005646.html">[Mono-list] mbas and Microsoft.VisualBasic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5644">[ date ]</a>
              <a href="thread.html#5644">[ thread ]</a>
              <a href="subject.html#5644">[ subject ]</a>
              <a href="author.html#5644">[ author ]</a>
         </LI>
       </UL>
</body></html>
