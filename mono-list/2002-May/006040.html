<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] RE: Compiliation on Linux box problem...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:danmorg%40sc.rr.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006034.html">
   <LINK REL="Next"  HREF="006073.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] RE: Compiliation on Linux box problem...
   </H1>
    <B>Daniel Morgan
    </B> 
    <A HREF="mailto:danmorg%40sc.rr.com"
       TITLE="[Mono-list] RE: Compiliation on Linux box problem...">danmorg@sc.rr.com
       </A><BR>
    <I>Mon, 27 May 2002 18:00:01 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="006034.html">[Mono-list] Diagnostic Messages: Proposals
</A></li>
        <LI> Next message: <A HREF="006073.html">[Mono-list] RE: Compiliation on Linux box problem...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6040">[ date ]</a>
              <a href="thread.html#6040">[ thread ]</a>
              <a href="subject.html#6040">[ subject ]</a>
              <a href="author.html#6040">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Francisco,

I thought others maybe interested with your progress.  

Here is a link to the Mono Mailing Lists.  It will allow you to read the
archives and it will allow to subscribe/unsubscribe to the various
mailing lists.
<A HREF="http://www.go-mono.com/mailing-lists.html">http://www.go-mono.com/mailing-lists.html</A>
 
If you think there is a bug with mono/mcs, go to
<A HREF="http://bugzilla.ximian.com/">http://bugzilla.ximian.com/</A> and enter a new bug.

I'm only guessing about your compile errors: Line 97 sounds like the
Item indexer (this[]) maybe missing some brackets, and Line 101 sounds
like you are trying to set a constant.

Do you think you can update the sourceforge site with your latest Npgsql
changes?

Daniel 

-----Original Message-----
From: Francisco Jr. [mailto:<A HREF="mailto:fxjrlists@yahoo.com.br">fxjrlists@yahoo.com.br</A>] 
Sent: Monday, May 27, 2002 5:30 PM
To: Daniel Morgan
Subject: RE: Compiliation on Linux box problem...

 --- Daniel Morgan &lt;<A HREF="mailto:danmorg@sc.rr.com">danmorg@sc.rr.com</A>&gt; escreveu: 
&gt;<i> I'm glad to hear you can build Mono now.  Can you
</I>&gt;<i> run it?
</I>&gt;<i> 
</I>
Yes! In fact, I tried to compile from rpm source with
no luck. But the precompiled rpm is perfect!

&gt;<i> How about your Npgsql provider?  Can it run on Mono
</I>&gt;<i> and successfully
</I>&gt;<i> connect to a PostgreSQL database?
</I>&gt;<i> 
</I>
Well, in the first try I received the following error:

mcs -r /usr/lib/System.Data.dll --target library -o
Npgsql.dll
NpgsqlCommand.cs NpgsqlConnection.cs
NpgsqlException.cs
NpgsqlParameter.cs NpgsqlParameterCollection.cs
AssemblyInfo.cs
NpgsqlParameterCollection.cs(97) error CS0654: Method
`System.Collections.ArrayList.get_Item()' is
referenced without
parentheses
NpgsqlParameterCollection.cs(101) error CS0131: Left
hand of an
assignment must be a variable, a property or an
indexer
Error: Compilation failed
RESULT: 1

Also, as you can see I had to put -r
/usr/local/System.Data.dll but -r System.Data.dll
didn't work. But it is ok. The System.Data.dll is in
/usr/lib and I tried to put /usr/lib in LD_EXPORT_PATH
with no luck :(

After replacing the line with a fake one, I could
compile Npgsql!!!

Well, so I compiled a client application.

When I run, I got the following error:

WARNING **: unhandled exception
System.ArgumentException: &quot;An invalid argument was
specified &quot;
in &lt;0x00070&gt;
System.Net.Sockets.NetworkStream:Read(byte[], uint,
uint)
in &lt;0x001a2&gt;
Npgsql.NpgsqlConnection:HandleStartupPacketResponse()
in &lt;0x002c3&gt; Npgsql.NpgsqlConnection:Open()
in &lt;0x0003d&gt; .Test:Main (string[])


But with Ethereal I could see that some bytes are sent
on the wire!! That's a good thing! The problem is when
I try to read from the networkstream. 

After some trial and error, I could see that the
Networstream.ReceiveBufferSize was returning 87380 and
it was throwing the exception. I changed the value
and... it worked!! At least the connection. :) I will
try the other tests.

So I think that just the first compilation errors
about the get_Item() and set property are the real
one. I will try to figure out why it is happening.

Thanks Daniel!


Francisco Jr.


_______________________________________________________________________
Yahoo! Encontros
O lugar certo para você encontrar aquela pessoa que falta na sua vida.
Cadastre-se hoje mesmo!
<A HREF="http://br.encontros.yahoo.com/">http://br.encontros.yahoo.com/</A>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006034.html">[Mono-list] Diagnostic Messages: Proposals
</A></li>
	<LI> Next message: <A HREF="006073.html">[Mono-list] RE: Compiliation on Linux box problem...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6040">[ date ]</a>
              <a href="thread.html#6040">[ thread ]</a>
              <a href="subject.html#6040">[ subject ]</a>
              <a href="author.html#6040">[ author ]</a>
         </LI>
       </UL>
</body></html>
