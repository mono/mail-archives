<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> FW: [Mono-list] Buffering for StreamWriter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:dmarsh%40mimeo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="005782.html">
   <LINK REL="Next"  HREF="005760.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>FW: [Mono-list] Buffering for StreamWriter
   </H1>
    <B>Marsh, Drew
    </B> 
    <A HREF="mailto:dmarsh%40mimeo.com"
       TITLE="FW: [Mono-list] Buffering for StreamWriter">dmarsh@mimeo.com
       </A><BR>
    <I>Thu, 16 May 2002 16:16:28 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="005782.html">FW: [Mono-list] Buffering for StreamWriter
</A></li>
        <LI> Next message: <A HREF="005760.html">[Mono-list] Buffering for StreamWriter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5758">[ date ]</a>
              <a href="thread.html#5758">[ thread ]</a>
              <a href="subject.html#5758">[ subject ]</a>
              <a href="author.html#5758">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Miguel de Icaza [mailto:<A HREF="mailto:miguel@ximian.com">miguel@ximian.com</A>] wrote:

&gt;<i> My guess is that the file will not be closed when the
</I>&gt;<i> StreamWriter goes out of scope (unless we add ourselves a 
</I>&gt;<i> destructor, but even then, I am not sure if the GC system 
</I>&gt;<i> will guarantee that the destructor will be invoked).
</I>
StreamWriter::Close is supposed to call Stream::Close on whatever Stream it
was working with. In the case of a FileStream, calling Close should
obviously close the file. Stream::Close is documented as guarenteeing that
all data written to the Stream *itself* will be Flushed to the underlying
medium. However, if you're layering a StreamWriter over the Stream and have
not closed or flushed the StreamWriter then not all the data will have been
passed off to the Stream. IOW, StreamWriter::Flush does not guarentee a
Stream::Flush. You should always Close at the highest level, in this case is
the StreamWriter, to guarentee that all data is flushed through to whatever
underlying medium is used to store the data.

As far as finalizing/disposing goes, both the finalizer and Close should
simply delegate to the IDisposable::Dispose implementation.

HTH,
Drew


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="005782.html">FW: [Mono-list] Buffering for StreamWriter
</A></li>
	<LI> Next message: <A HREF="005760.html">[Mono-list] Buffering for StreamWriter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5758">[ date ]</a>
              <a href="thread.html#5758">[ thread ]</a>
              <a href="subject.html#5758">[ subject ]</a>
              <a href="author.html#5758">[ author ]</a>
         </LI>
       </UL>
</body></html>
