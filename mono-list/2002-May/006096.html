<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Re: could mono become a hybrid cil/java platform?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ulfjack%40gmx.de">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006090.html">
   <LINK REL="Next"  HREF="006104.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Re: could mono become a hybrid cil/java platform?
   </H1>
    <B>Ulf Ochsenfahrt
    </B> 
    <A HREF="mailto:ulfjack%40gmx.de"
       TITLE="[Mono-list] Re: could mono become a hybrid cil/java platform?">ulfjack@gmx.de
       </A><BR>
    <I>Wed, 29 May 2002 09:47:46 +0200 (MEST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="006090.html">[Mono-list] Reply: How about System.Messaging?
</A></li>
        <LI> Next message: <A HREF="006104.html">[Mono-list] New Mono Logo.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6096">[ date ]</a>
              <a href="thread.html#6096">[ thread ]</a>
              <a href="subject.html#6096">[ subject ]</a>
              <a href="author.html#6096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You're not entirely right there:
The normal Java-Compilers do NOT produce this type of code - reusing local
variables with different types.

The real problem is that Java-Code normally uses the Java API, which you
would have to translate to the .NET API or rewrite it in .NET (or have them
automatically translated). If you have them automatically translated you need to
mess around with the native functions.

-- Ulf


---- Original Message:

On Tue, May 28, 2002 at 10:59:34AM +0000, Freddy BL wrote:
&gt;<i> So, at first it seams to be easy to translate:
</I>&gt;<i> 
</I>&gt;<i> iload_x  -&gt; ldloc.x
</I>&gt;<i> istore_x -&gt; stloc.x
</I>&gt;<i> iadd     -&gt; add
</I>&gt;<i> return   -&gt; ret
</I>&gt;<i> aload_0  -&gt; ldarg.0
</I>
It *might* look easy.... but to tell you some of the complicated
stuff....

The JVM uses dynamic type local variables ... IL doesnot

so like 

sipush 0
istore_3
ldc &quot;hello&quot;
astore_3

is valid , but 

ldc.i4.0
stloc.3
ldstr &quot;hello&quot;
ldloc.3 

is illegal ... which will need a hell lot of dynamic flow analysis
to find out what was in local var 3 at a point of execution and relocate
to a new var of correct type ... I'll decline to bore you with *how*..

Also add a few of the JVM's good features like pop2 , dup2_x1 , dup2_x2
and [Ljava/lang/String; you get a cart load of work. oh and I forgot
the jump target mapping , different size operands (like long,double)...

So a simple convertor is impossible... unlike your claims .. for
any useful code.

_______________________________________________
Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>

-- 
GMX - Die Kommunikationsplattform im Internet.
<A HREF="http://www.gmx.net">http://www.gmx.net</A>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006090.html">[Mono-list] Reply: How about System.Messaging?
</A></li>
	<LI> Next message: <A HREF="006104.html">[Mono-list] New Mono Logo.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6096">[ date ]</a>
              <a href="thread.html#6096">[ thread ]</a>
              <a href="subject.html#6096">[ subject ]</a>
              <a href="author.html#6096">[ author ]</a>
         </LI>
       </UL>
</body></html>
