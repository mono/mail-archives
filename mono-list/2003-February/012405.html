<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] MemoryStream problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Sebastien%20Pouliot%20%3Cspouliot%40videotron.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="012403.html">
   <LINK REL="Next"  HREF="012408.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] MemoryStream problem
   </H1>
    <B>Sebastien Pouliot
    </B> 
    <A HREF="mailto:Sebastien%20Pouliot%20%3Cspouliot%40videotron.ca%3E"
       TITLE="[Mono-list] MemoryStream problem">Sebastien Pouliot &lt;spouliot@videotron.ca&gt;
       </A><BR>
    <I>Sun, 23 Feb 2003 18:02:20 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="012403.html">[Mono-list] MemoryStream problem
</A></li>
        <LI> Next message: <A HREF="012408.html">[Mono-list] MemoryStream problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12405">[ date ]</a>
              <a href="thread.html#12405">[ thread ]</a>
              <a href="subject.html#12405">[ subject ]</a>
              <a href="author.html#12405">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Elan,

It may (or may not) be a MemoryStream issue. The current CryptoStream
implementation is very rudimentary - it was able to run some samples from MS
but it's still far from complete. It's also one of the few crypto class that
still doesn't have any unit tests.

If your code works with MS CLR then please fill a bug in bugzilla. I'll look
into it ASAP (i.e. most probablty this week ;-).

Sebastien Pouliot
Security Architect, Motus Technologies, <A HREF="http://www.motus.com/">http://www.motus.com/</A>
work: <A HREF="mailto:spouliot@motus.com">spouliot@motus.com</A>
home: <A HREF="mailto:spouliot@videotron.ca">spouliot@videotron.ca</A>

----- Original Message -----
From: &quot;Elan Feingold&quot; &lt;<A HREF="mailto:efeingold@mn.rr.com">efeingold@mn.rr.com</A>&gt;
To: &lt;<A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>&gt;
Sent: Sunday, February 23, 2003 4:19 PM
Subject: [Mono-list] MemoryStream problem


&gt;<i> I have the following code:
</I>&gt;<i>
</I>&gt;<i>             MemoryStream mem = new MemoryStream();
</I>&gt;<i>             CryptoStream crypto = new CryptoStream (mem, encrypt,
</I>&gt;<i> CryptoStreamMode.Write);
</I>&gt;<i>             crypto.Write (plain, offset, length);
</I>&gt;<i>             crypto.FlushFinalBlock();
</I>&gt;<i>
</I>&gt;<i>             byte[] retVal = mem.ToArray();
</I>&gt;<i>
</I>&gt;<i> The code for MemoryStream.ToArray() starts with:
</I>&gt;<i>
</I>&gt;<i> public virtual byte[] ToArray() {
</I>&gt;<i>                         byte[] outBuffer = new byte[capacity];
</I>&gt;<i>
</I>&gt;<i> What's happening is that outBuffer is coming back null! I'm only
</I>&gt;<i> requesting 3864 bytes, so I find that extremely odd.
</I>&gt;<i>
</I>&gt;<i> Any advice?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> -elan
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="012403.html">[Mono-list] MemoryStream problem
</A></li>
	<LI> Next message: <A HREF="012408.html">[Mono-list] MemoryStream problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12405">[ date ]</a>
              <a href="thread.html#12405">[ thread ]</a>
              <a href="subject.html#12405">[ subject ]</a>
              <a href="author.html#12405">[ author ]</a>
         </LI>
       </UL>
</body></html>
