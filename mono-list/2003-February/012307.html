<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] RPM spec file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Neale.Ferguson%40SoftwareAG-USA.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="012305.html">
   <LINK REL="Next"  HREF="012308.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] RPM spec file
   </H1>
    <B>Ferguson, Neale
    </B> 
    <A HREF="mailto:Neale.Ferguson%40SoftwareAG-USA.com"
       TITLE="[Mono-list] RPM spec file">Neale.Ferguson@SoftwareAG-USA.com
       </A><BR>
    <I>Wed, 19 Feb 2003 09:52:58 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="012305.html">[Mono-list] Compiling Mono on Cygwin
</A></li>
        <LI> Next message: <A HREF="012308.html">[Mono-list] Changes not applied?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12307">[ date ]</a>
              <a href="thread.html#12307">[ thread ]</a>
              <a href="subject.html#12307">[ subject ]</a>
              <a href="author.html#12307">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_000_01C2D826.97632810
Content-Type: multipart/alternative;
	boundary=&quot;----_=_NextPart_001_01C2D826.97632810&quot;


------_=_NextPart_001_01C2D826.97632810
Content-Type: text/plain;
	charset=&quot;iso-8859-1&quot;

To get the RPMs to build on S390 I need to make the following changes to the
spec file. 
 
--- mono-orig.spec      2003-02-19 14:46:59.000000000 -0500
+++ mono.spec   2003-01-24 16:30:52.000000000 -0500
@@ -35,10 +35,11 @@
 
 %install
 rm -rf %{buildroot}
 (cd mono*;
 %makeinstall
+cp mono/interpreter/mint %{buildroot}/usr/bin/mono
 )
 
 %clean
 rm -rf %{buildroot}
 
@@ -57,11 +58,11 @@
 %{_bindir}/monosn
 %{_bindir}/mint
 %{_bindir}/mcs
 %{_bindir}/mcs.exe
 %{_bindir}/monoresgen.exe
-%{_libdir}/*.so.*
+# %{_libdir}/*.so.*
 %{_libdir}/*.dll
 %{_mandir}/man1/mono.*
 %{_mandir}/man1/mcs.*
 %{_mandir}/man1/monostyle.*
 %{_mandir}/man1/monoburg.*
@@ -69,12 +70,12 @@
 %{_mandir}/man1/mint.*
 %{_mandir}/man5/*
 
 %files devel
 %defattr(-, root, root)
-%{_libdir}/*.a
-%{_libdir}/*.la
-%{_libdir}/*.so
+# %{_libdir}/*.a
+# %{_libdir}/*.la
+# %{_libdir}/*.so
 %{_libdir}/pkgconfig/*
 %{_includedir}/*
 %{_datadir}/%{name}/*

How can I incorporate these changes to the base spec files? I tried doing
things like:
 
#ifnarch s390
%{_libdir}/*.so
#endif
 
But it didn't appear to work.
 
 

Neale Ferguson 
R&amp;D Fellow 
Software AG 

 

------_=_NextPart_001_01C2D826.97632810
Content-Type: text/html;
	charset=&quot;iso-8859-1&quot;
Content-Transfer-Encoding: quoted-printable

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META HTTP-EQUIV=3D&quot;Content-Type&quot; CONTENT=3D&quot;text/html; =
charset=3Diso-8859-1&quot;&gt;


&lt;META content=3D&quot;MSHTML 6.00.2713.1100&quot; name=3DGENERATOR&gt;&lt;/HEAD&gt;
&lt;BODY&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3DArial size=3D2&gt;To =
get the RPMs to=20
build on S390 I need to make the following changes to the spec file.=20
&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3DArial=20
size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3D&quot;Courier New&quot; =
size=3D2&gt;---=20
mono-orig.spec&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 2003-02-19 =
14:46:59.000000000=20
-0500&lt;BR&gt;+++ mono.spec&amp;nbsp;&amp;nbsp; 2003-01-24 16:30:52.000000000 =
-0500&lt;BR&gt;@@=20
-35,10 +35,11 @@&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot;&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3D&quot;Courier New&quot;=20
size=3D2&gt;&amp;nbsp;%install&lt;BR&gt;&amp;nbsp;rm -rf %{buildroot}&lt;BR&gt;&amp;nbsp;(cd=20
mono*;&lt;BR&gt;&amp;nbsp;%makeinstall&lt;BR&gt;+cp mono/interpreter/mint=20
%{buildroot}/usr/bin/mono&lt;BR&gt;&amp;nbsp;)&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot;&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3D&quot;Courier New&quot;=20
size=3D2&gt;&amp;nbsp;%clean&lt;BR&gt;&amp;nbsp;rm -rf %{buildroot}&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot;&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3D&quot;Courier New&quot; =
size=3D2&gt;@@ -57,11=20
+58,11=20
@@&lt;BR&gt;&amp;nbsp;%{_bindir}/monosn&lt;BR&gt;&amp;nbsp;%{_bindir}/mint&lt;BR&gt;&amp;nbsp;%{_bindi=
r}/mcs&lt;BR&gt;&amp;nbsp;%{_bindir}/mcs.exe&lt;BR&gt;&amp;nbsp;%{_bindir}/monoresgen.exe&lt;BR=
&gt;<i>-%{_libdir}/*.so.*&lt;BR&gt;+#=20
</I>%{_libdir}/*.so.*&lt;BR&gt;&amp;nbsp;%{_libdir}/*.dll&lt;BR&gt;&amp;nbsp;%{_mandir}/man1/mon=
o.*&lt;BR&gt;&amp;nbsp;%{_mandir}/man1/mcs.*&lt;BR&gt;&amp;nbsp;%{_mandir}/man1/monostyle.*&lt;=
BR&gt;&amp;nbsp;%{_mandir}/man1/monoburg.*&lt;BR&gt;@@=20
-69,12 +70,12=20
@@&lt;BR&gt;&amp;nbsp;%{_mandir}/man1/mint.*&lt;BR&gt;&amp;nbsp;%{_mandir}/man5/*&lt;/FONT&gt;&lt;/SP=
AN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3D&quot;Courier New&quot;&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;FONT =

face=3D&quot;Courier New&quot;&gt;&amp;nbsp;%files devel&lt;BR&gt;&amp;nbsp;%defattr(-, root,=20
root)&lt;BR&gt;-%{_libdir}/*.a&lt;BR&gt;-%{_libdir}/*.la&lt;BR&gt;-%{_libdir}/*.so&lt;BR&gt;+#=20
%{_libdir}/*.a&lt;BR&gt;+# %{_libdir}/*.la&lt;BR&gt;+#=20
%{_libdir}/*.so&lt;BR&gt;&amp;nbsp;%{_libdir}/pkgconfig/*&lt;BR&gt;&amp;nbsp;%{_includedir}/=
*&lt;BR&gt;&amp;nbsp;%{_datadir}/%{name}/*&lt;/FONT&gt;&lt;BR&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3DArial size=3D2&gt;How =
can I=20
incorporate these changes to the base spec files? I tried doing things=20
like:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3DArial=20
size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3D&quot;Courier New&quot; =
size=3D2&gt;#ifnarch=20
s390&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3D&quot;Courier New&quot;=20
size=3D2&gt;%{_libdir}/*.so&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3D&quot;Courier New&quot;=20
size=3D2&gt;#endif&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3DArial=20
size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3DArial size=3D2&gt;But =
it didn't appear=20
to work.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3DArial=20
size=3D2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;SPAN class=3D121175214-19022003&gt;&lt;FONT face=3DArial=20
size=3D2&gt;&amp;nbsp;&lt;/DIV&gt;&lt;/FONT&gt;&lt;/SPAN&gt;
&lt;P&gt;&lt;FONT face=3D&quot;Monotype Corsiva&quot;&gt;Neale Ferguson&lt;/FONT&gt; &lt;BR&gt;&lt;FONT =
face=3DArial=20
size=3D2&gt;R&amp;amp;D Fellow&lt;/FONT&gt; &lt;BR&gt;&lt;FONT face=3DArial size=3D2&gt;Software =
AG&lt;/FONT&gt; &lt;/P&gt;
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;

------_=_NextPart_001_01C2D826.97632810--

------_=_NextPart_000_01C2D826.97632810
Content-Type: application/octet-stream;
	name=&quot;Ferguson, Neale.vcf&quot;
Content-Disposition: attachment;
	filename=&quot;Ferguson, Neale.vcf&quot;

BEGIN:VCARD
VERSION:2.1
N:Ferguson;Neale
FN:Ferguson, Neale
ORG:Software AG, Inc.;IBM Product Compatibility Test - 504170
TITLE:Fellow, R&amp;D
TEL;WORK;VOICE:(703) 390-7451
TEL;HOME;VOICE:(703) 669-9385
TEL;CELL;VOICE:(703) 209-7004
TEL;PAGER;VOICE: 
ADR;WORK;ENCODING=QUOTED-PRINTABLE:;Reston - Toll Road;11180 Sunrise Vly Drive=0D=0AMailstop TR-310;Reston;VA;2=
0191-4367;US
LABEL;WORK;ENCODING=QUOTED-PRINTABLE:Reston - Toll Road=0D=0A11180 Sunrise Vly Drive=0D=0AMailstop TR-310=0D=0ARe=
ston, VA 20191-4367=0D=0AUS
EMAIL;PREF;INTERNET:<A HREF="mailto:Neale.Ferguson@SoftwareAG-USA.com">Neale.Ferguson@SoftwareAG-USA.com</A>
REV:20020719T193837Z
END:VCARD

------_=_NextPart_000_01C2D826.97632810--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="012305.html">[Mono-list] Compiling Mono on Cygwin
</A></li>
	<LI> Next message: <A HREF="012308.html">[Mono-list] Changes not applied?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12307">[ date ]</a>
              <a href="thread.html#12307">[ thread ]</a>
              <a href="subject.html#12307">[ subject ]</a>
              <a href="author.html#12307">[ author ]</a>
         </LI>
       </UL>
</body></html>
