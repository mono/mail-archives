<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] RE: [Ikvm-developers] ikvm under mono &amp;&amp; mauve tests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jeroen%40sumatra.nl">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="012227.html">
   <LINK REL="Next"  HREF="012198.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] RE: [Ikvm-developers] ikvm under mono &amp;&amp; mauve tests
   </H1>
    <B>Jeroen Frijters
    </B> 
    <A HREF="mailto:jeroen%40sumatra.nl"
       TITLE="[Mono-list] RE: [Ikvm-developers] ikvm under mono &amp;&amp; mauve tests">jeroen@sumatra.nl
       </A><BR>
    <I>Sat, 15 Feb 2003 20:05:37 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="012227.html">[Mono-list] Mono doesn't seem to like JSharp code in MSIL form.
 -&gt; BANG
</A></li>
        <LI> Next message: <A HREF="012198.html">[Mono-list] Newbie in NJ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12196">[ date ]</a>
              <a href="thread.html#12196">[ thread ]</a>
              <a href="subject.html#12196">[ subject ]</a>
              <a href="author.html#12196">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a multi-part message in MIME format.

------_=_NextPart_001_01C2D525.3970C716
Content-Type: text/plain;
	charset=&quot;us-ascii&quot;
Content-Transfer-Encoding: quoted-printable

Hi Paolo,

Attached is a testcase. Runs in 50ms on MS .NET, takes 16534 ms on Mono
0.l7 (sorry, I don't have a more recent version).

Regards,
Jeroen

&gt;<i> =20
</I>&gt;<i> =20
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Paolo Molaro [mailto:<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>]=20
</I>&gt;<i> Sent: Saturday, February 15, 2003 19:37
</I>&gt;<i> To: <A HREF="mailto:ikvm-developers@lists.sourceforge.net">ikvm-developers@lists.sourceforge.net</A>
</I>&gt;<i>=20
</I>&gt;<i> On 02/15/03 Jeroen Frijters wrote:
</I>&gt;<i> &gt; &gt; - gnu.testlet.java.lang.reflect.Array.newInstance hangs because
</I>&gt;<i> &gt; &gt;   java.lang.reflect.Array.newInstance (String.class, new
</I>&gt;<i> &gt; &gt; int[255]) is very slow (at least under mono).
</I>&gt;<i> &gt;=20
</I>&gt;<i> &gt; Paolo, could you please have a look at this?
</I>&gt;<i>=20
</I>&gt;<i> What is that code supposed to do?
</I>&gt;<i> I wrote a simple program to create a n-dimensional array in C#:
</I>&gt;<i>=20
</I>&gt;<i> using System;
</I>&gt;<i> class T {
</I>&gt;<i> 	static void Main () {
</I>&gt;<i> 		Array a1 =3D Array.CreateInstance (typeof=20
</I>&gt;<i> (string), new int [32]);
</I>&gt;<i> 		Console.WriteLine (&quot;{0}&quot;, a1);
</I>&gt;<i> 	}
</I>&gt;<i> }
</I>&gt;<i>=20
</I>&gt;<i> I also used 255 instead of 32 and the code runs fast, with no
</I>&gt;<i> noticeable delay (the MS runtime doesn't allow a dimension &gt; 32).
</I>&gt;<i>=20
</I>&gt;<i> If the code is supposed to create a jagged array with 255 dimensions I
</I>&gt;<i> can see why it would be slow:-) But I doubt it's supposed to do that,
</I>&gt;<i> right? I'm completely clueless about the java API, so if you can
</I>&gt;<i> describe what should happen there, I'll write a test.
</I>&gt;<i>=20
</I>&gt;<i> Thanks.
</I>&gt;<i>=20
</I>&gt;<i> lupus
</I>&gt;<i>=20
</I>&gt;<i> --=20
</I>&gt;<i> -----------------------------------------------------------------
</I>&gt;<i> <A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
</I>&gt;<i> <A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better
</I>&gt;<i>=20
</I>&gt;<i>=20
</I>&gt;<i> -------------------------------------------------------
</I>&gt;<i> This sf.net email is sponsored by:ThinkGeek
</I>&gt;<i> Welcome to geek heaven.
</I>&gt;<i> <A HREF="http://thinkgeek.com/sf">http://thinkgeek.com/sf</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Ikvm-developers mailing list
</I>&gt;<i> <A HREF="mailto:Ikvm-developers@lists.sourceforge.net">Ikvm-developers@lists.sourceforge.net</A>
</I>&gt;<i> <A HREF="https://lists.sourceforge.net/lists/listinfo/ikvm-developers">https://lists.sourceforge.net/lists/listinfo/ikvm-developers</A>
</I>&gt;<i>=20
</I>
------_=_NextPart_001_01C2D525.3970C716
Content-Type: application/octet-stream;
	name=&quot;arraytest.cs&quot;
Content-Transfer-Encoding: base64
Content-Description: arraytest.cs
Content-Disposition: attachment;
	filename=&quot;arraytest.cs&quot;

dXNpbmcgU3lzdGVtOw0KDQpjbGFzcyB0ZXN0DQp7DQoJcHVibGljIHN0YXRpYyB2b2lkIE1haW4o
KQ0KCXsNCgkJaW50IHN0YXJ0ID0gRW52aXJvbm1lbnQuVGlja0NvdW50Ow0KCQluZXdJbnN0YW5j
ZSh0eXBlb2Yoc3RyaW5nKSwgbmV3IGludFsyNTVdKTsNCgkJaW50IGVuZCA9IEVudmlyb25tZW50
LlRpY2tDb3VudDsNCgkJQ29uc29sZS5Xcml0ZUxpbmUoZW5kIC0gc3RhcnQpOw0KCX0NCg0KCXB1
YmxpYyBzdGF0aWMgT2JqZWN0IG5ld0luc3RhbmNlKFR5cGUgY29tcG9uZW50VHlwZSwgaW50W10g
ZGltZW5zaW9ucykNCgl7DQoJCWlmIChkaW1lbnNpb25zLkxlbmd0aCA8PSAwKQ0KCQkJdGhyb3cg
bmV3IEV4Y2VwdGlvbiAoIkVtcHR5IGRpbWVuc2lvbnMgYXJyYXkuIik7DQoJCXJldHVybiBjcmVh
dGVNdWx0aUFycmF5KGNvbXBvbmVudFR5cGUsIGRpbWVuc2lvbnMsDQoJCQlkaW1lbnNpb25zLkxl
bmd0aCAtIDEpOw0KCX0NCg0KCXByaXZhdGUgc3RhdGljIE9iamVjdCBjcmVhdGVNdWx0aUFycmF5
KFR5cGUgdHlwZSwgaW50W10gZGltZW5zaW9ucywNCgkJaW50IGluZGV4KQ0KCXsNCgkJaWYgKGlu
ZGV4ID09IDApDQoJCQlyZXR1cm4gQXJyYXkuQ3JlYXRlSW5zdGFuY2UodHlwZSwgZGltZW5zaW9u
c1swXSk7DQoNCgkJT2JqZWN0IHRvQWRkID0gY3JlYXRlTXVsdGlBcnJheSh0eXBlLCBkaW1lbnNp
b25zLCBpbmRleCAtIDEpOw0KCQlUeXBlIHRoaXNUeXBlID0gdG9BZGQuR2V0VHlwZSgpOw0KCQlP
YmplY3RbXSByZXR2YWwNCgkJCT0gKE9iamVjdFtdKSBjcmVhdGVPYmplY3RBcnJheSh0aGlzVHlw
ZSwgZGltZW5zaW9uc1tpbmRleF0pOw0KCQlpZiAoZGltZW5zaW9uc1tpbmRleF0gPiAwKQ0KCQkJ
cmV0dmFsWzBdID0gdG9BZGQ7DQoJCWludCBpID0gZGltZW5zaW9uc1tpbmRleF07DQoJCXdoaWxl
ICgtLWkgPiAwKQ0KCQkJcmV0dmFsW2ldID0gY3JlYXRlTXVsdGlBcnJheSh0eXBlLCBkaW1lbnNp
b25zLCBpbmRleCAtIDEpOw0KCQlyZXR1cm4gcmV0dmFsOw0KCX0NCg0KCXByaXZhdGUgc3RhdGlj
IE9iamVjdCBjcmVhdGVPYmplY3RBcnJheShUeXBlIHR5cGUsIGludCBkaW0pDQoJew0KCQlyZXR1
cm4gQXJyYXkuQ3JlYXRlSW5zdGFuY2UodHlwZSwgZGltKTsNCgl9DQp9DQo=

------_=_NextPart_001_01C2D525.3970C716--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="012227.html">[Mono-list] Mono doesn't seem to like JSharp code in MSIL form.
 -&gt; BANG
</A></li>
	<LI> Next message: <A HREF="012198.html">[Mono-list] Newbie in NJ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12196">[ date ]</a>
              <a href="thread.html#12196">[ thread ]</a>
              <a href="subject.html#12196">[ subject ]</a>
              <a href="author.html#12196">[ author ]</a>
         </LI>
       </UL>
</body></html>
