<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Future of JIT
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="011813.html">
   <LINK REL="Next"  HREF="011777.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Future of JIT
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] Future of JIT">lupus@ximian.com
       </A><BR>
    <I>Mon, 3 Feb 2003 10:53:10 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="011813.html">[Mono-list] Future of JIT
</A></li>
        <LI> Next message: <A HREF="011777.html">[Mono-list] -- Math.cs --
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11814">[ date ]</a>
              <a href="thread.html#11814">[ thread ]</a>
              <a href="subject.html#11814">[ subject ]</a>
              <a href="author.html#11814">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02/02/03 Ilya Minkov wrote:
&gt;<i> Have you considered VCODE/ICODE to become a basis for your JIT backend?
</I>
Yes.

&gt;<i> It has been well ported to all (widespread) RISC CPUs, and there is a 
</I>&gt;<i> half-broken x86 port. I have been intending to make a &quot;real&quot; x86 port 
</I>
x86 has 90+% of the market share, so if there is no good support for x86
it's not good enough:-)
The main problem with vcode is that it has a high-level approach,
but to implement efficiently many of the opcodes needed by the CLR, we 
need direct access to the CPU features: as an example, you may want to
use vcode to implement the addition of two int64 values. How does
the generated code look like on x86, ppc, sparc? How does the C code to
produce it look like? What about the variant with overflow detection?

&gt;<i> The thing to check: *licensing issues* (?), i don't know under which 
</I>&gt;<i> condition it has been licensed.
</I>
vcode is not free software, so it could not be used in mono, even if it
was technically good for us.

&gt;<i> I also think that it should be possible to attach a peephole optimiser 
</I>&gt;<i> to VCODE. Any time a label is issued, if optimiser is enabled, it would 
</I>&gt;<i> disassemble (simplified, extracting a minimum of information) all the 
</I>&gt;<i> code generated since the last label, and write &quot;tags&quot;, noting where each 
</I>
Ugh, maybe for RISC instruction sets it's easy and fast, but what about
the x86 instruction set? It would be a complete pain to implement.

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="011813.html">[Mono-list] Future of JIT
</A></li>
	<LI> Next message: <A HREF="011777.html">[Mono-list] -- Math.cs --
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11814">[ date ]</a>
              <a href="thread.html#11814">[ thread ]</a>
              <a href="subject.html#11814">[ subject ]</a>
              <a href="author.html#11814">[ author ]</a>
         </LI>
       </UL>
</body></html>
