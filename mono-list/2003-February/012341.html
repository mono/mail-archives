<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] How to do code injection with .NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="012339.html">
   <LINK REL="Next"  HREF="012357.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] How to do code injection with .NET
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] How to do code injection with .NET">lupus@ximian.com
       </A><BR>
    <I>Thu, 20 Feb 2003 18:47:37 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="012339.html">[Mono-list] How to do code injection with .NET
</A></li>
        <LI> Next message: <A HREF="012357.html">[Mono-list] How to do code injection with .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12341">[ date ]</a>
              <a href="thread.html#12341">[ thread ]</a>
              <a href="subject.html#12341">[ subject ]</a>
              <a href="author.html#12341">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02/20/03 Philippe Lavoie wrote:
&gt;<i> I've been reading a little about Aspect Oriented Design. And it seems
</I>&gt;<i> objects inheriting from ContextBoundObject allow you to do that,
</I>&gt;<i> although with some limitation, i.e. the framework only work with a
</I>&gt;<i> context per class maximum (I couldn't find a way to have a new context
</I>&gt;<i> for every method call inside the same class). 
</I>&gt;<i>  
</I>&gt;<i> I was wondering if I could do something like in J2EE, i.e.
</I>&gt;<i>  
</I>&gt;<i>   [Priviledge(&quot;EditProfile&quot;)]
</I>&gt;<i>   public void EditMethod(){
</I>&gt;<i>      ...
</I>&gt;<i>   }
</I>&gt;<i>  
</I>&gt;<i> The above would in turn inject code inside the method that would be like
</I>&gt;<i>  
</I>&gt;<i> public void EditMethod(){
</I>&gt;<i>   if(!
</I>&gt;<i> ContextUtils.GetPriviledgeContext().HasPriviledge(&quot;EditProfile&quot;)){
</I>&gt;<i>      throw Security(&quot;Insufficient priviledge&quot;);
</I>&gt;<i>   }
</I>&gt;<i>   ...
</I>&gt;<i> }
</I>
You can do something like that with Permissions, the msdn web site has
some info on it. If you want something more general you need to either
do some preprocessing (to the sources or to the generated IL code) or
use the profiling interface.

The profiling interface in mono doesn't let you do that, yet, though it
should not be hard to add.

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="012339.html">[Mono-list] How to do code injection with .NET
</A></li>
	<LI> Next message: <A HREF="012357.html">[Mono-list] How to do code injection with .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12341">[ date ]</a>
              <a href="thread.html#12341">[ thread ]</a>
              <a href="subject.html#12341">[ subject ]</a>
              <a href="author.html#12341">[ author ]</a>
         </LI>
       </UL>
</body></html>
