<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] c# serialization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono%40kirkner.com.ar">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="012359.html">
   <LINK REL="Next"  HREF="012361.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] c# serialization
   </H1>
    <B>Ricardo Kirkner
    </B> 
    <A HREF="mailto:mono%40kirkner.com.ar"
       TITLE="[Mono-list] c# serialization">mono@kirkner.com.ar
       </A><BR>
    <I>Thu, 20 Feb 2003 23:42:01 -0300</I>
    <P><UL>
        <LI> Previous message: <A HREF="012359.html">[Mono-list] Bug in XmlSerializer and tiny bugfix
</A></li>
        <LI> Next message: <A HREF="012361.html">[Mono-list] c# serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12360">[ date ]</a>
              <a href="thread.html#12360">[ thread ]</a>
              <a href="subject.html#12360">[ subject ]</a>
              <a href="author.html#12360">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a multi-part message in MIME format.

------=_NextPart_000_0015_01C2D939.AA731FF0
Content-Type: text/plain;
	charset=&quot;iso-8859-1&quot;
Content-Transfer-Encoding: quoted-printable

Hello. I am sorry to post this here, because it is a question not =
regarding mono specifically but c# in general, but i did not find =
answers to my question anywhere else.

I would like to serialize a class that has the following structure (this =
is an abstraction)

public var1;
public var2;
public type;

where one instance of this class can only have var1 or var2 =
instantiated. Therefore I introduced variable type. So I can know which =
variable is currently the right one (i.e. type=3Dvar1 or type=3Dvar2).
When it comes to serialization, i would like to get only the &quot;used&quot; =
variable serialized (i.e if type=3Dvar1 then I would like to have onle =
var1 serialized, and not both)

So far i have found that in order to serialize a class i could prepend =
the [Serializable] attribute to my class, and it would serialize every =
public variable. In order not to get variable type serialized, i could =
prepend the [XmlIgnore] attribute and that would do the job; but how can =
i tell that one variable should get serialized based on the contents of =
another variable of an instance of my class. I was thinking of something =
like...

[if this.type=3D&quot;var2&quot; then XmlIgnore]
public var1;

[if this.type=3D&quot;var1&quot; then XmlIgnore]
public var2;

but of course this does not work at all.

If anyone out there knows a hint to give me, I would really apreciate =
it.

With regards, (and apologizing for my english)

Ricardo Kirkner
------=_NextPart_000_0015_01C2D939.AA731FF0
Content-Type: text/html;
	charset=&quot;iso-8859-1&quot;
Content-Transfer-Encoding: quoted-printable

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META http-equiv=3DContent-Type content=3D&quot;text/html; =
charset=3Diso-8859-1&quot;&gt;
&lt;META content=3D&quot;MSHTML 6.00.2800.1141&quot; name=3DGENERATOR&gt;
&lt;STYLE&gt;&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;BODY bgColor=3D#ffffff&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Hello. I am sorry to post this here, =
because it is=20
a question not regarding mono specifically but c# in general, but i did =
not find=20
answers to my question anywhere else.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;I would like to serialize a class that =
has the=20
following structure (this is an abstraction)&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;public var1;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;public var2;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;public type;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;where one instance of this class can =
only have var1=20
&lt;STRONG&gt;or&lt;/STRONG&gt; var2 instantiated. Therefore I introduced variable =
type. So=20
I can know which variable is currently the right one (i.e. type=3Dvar1 =
&lt;STRONG&gt;or=20
&lt;/STRONG&gt;type=3Dvar2).&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;When it comes to serialization, i would =
like to get=20
only the &quot;used&quot; variable serialized (i.e if type=3Dvar1 then I would =
like to have=20
onle var1 serialized, and not both)&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;So far i have found that in order to =
serialize a=20
class i could prepend the [Serializable]&amp;nbsp;attribute to my class, and =
it=20
would serialize every public variable. In order not to get variable type =

serialized, i could prepend the [XmlIgnore] attribute and that would do =
the job;=20
but how can i tell that one variable should get serialized based on the =
contents=20
of another variable of an instance of my class. I was thinking of =
something=20
like...&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;[if this.type=3D&quot;var2&quot; then =
XmlIgnore]&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;public var1;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;[if this.type=3D&quot;var1&quot; then =
XmlIgnore]&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;public var2;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;but of course this does not work at=20
all.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;If anyone out there knows a hint to =
give me, I=20
would really apreciate it.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;With regards, (and apologizing for my=20
english)&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Ricardo =
Kirkner&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;

------=_NextPart_000_0015_01C2D939.AA731FF0--



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="012359.html">[Mono-list] Bug in XmlSerializer and tiny bugfix
</A></li>
	<LI> Next message: <A HREF="012361.html">[Mono-list] c# serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12360">[ date ]</a>
              <a href="thread.html#12360">[ thread ]</a>
              <a href="subject.html#12360">[ subject ]</a>
              <a href="author.html#12360">[ author ]</a>
         </LI>
       </UL>
</body></html>
