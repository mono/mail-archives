<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] MySQL and NULL values
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:derek%40capweb.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="012029.html">
   <LINK REL="Next"  HREF="012032.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] MySQL and NULL values
   </H1>
    <B>Derek Hamilton
    </B> 
    <A HREF="mailto:derek%40capweb.com"
       TITLE="[Mono-list] MySQL and NULL values">derek@capweb.com
       </A><BR>
    <I>Fri, 7 Feb 2003 16:04:55 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="012029.html">[Mono-list] MySQL and NULL values
</A></li>
        <LI> Next message: <A HREF="012032.html">[Mono-list] MySQL and NULL values
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12030">[ date ]</a>
              <a href="thread.html#12030">[ thread ]</a>
              <a href="subject.html#12030">[ subject ]</a>
              <a href="author.html#12030">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry to reply to my own post so quickly.  I'm not sure exactly who to send
this to (never worked with open source before) but I found the line of code
that is causing NULL values to fail in the BtyeFX code.

In the datareader.cs page if this:

public bool IsDBNull(int i)
{
     return DBNull.Value == GetValue(i);
}

is changed to

public bool IsDBNull(int i)
{
     return GetValue(i) == null;
}

then the IsDBNull will actually catch NULL values where as before it would
not (at least in my case).  I'm not really sure why the System.DBNull
wouldn't catch this.

Thanks,
Derek Hamilton

----- Original Message -----
From: &quot;Derek Hamilton&quot; &lt;<A HREF="mailto:derek@capweb.com">derek@capweb.com</A>&gt;
To: &lt;<A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>&gt;
Sent: Friday, February 07, 2003 3:35 PM
Subject: [Mono-list] MySQL and NULL values


&gt;<i> Hello all,
</I>&gt;<i>
</I>&gt;<i> I am using the ByteFX library for MySQL db access and am experiencing
</I>&gt;<i> trouble with NULL.  I am wondering if this is a MySQL problem (I remember
</I>&gt;<i> something about null handling being a problem in that past) or a
</I>BtyeFX/mono
&gt;<i> problem.
</I>&gt;<i>
</I>&gt;<i> Specifically, if I create a MySQLDataReader and Read() through the results
</I>&gt;<i> where the results all have values it works fine.  If I try reading through
</I>a
&gt;<i> result set with any kind of NULL I get a &quot;Object reference not set to an
</I>&gt;<i> instance of an object.&quot;
</I>&gt;<i>
</I>&gt;<i> If I change all the nulls in my db to be an empty string the problem
</I>doesn't
&gt;<i> occur.  I'm just not sure how feasible that is.
</I>&gt;<i>
</I>&gt;<i> Any advice?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Derek Hamilton
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="012029.html">[Mono-list] MySQL and NULL values
</A></li>
	<LI> Next message: <A HREF="012032.html">[Mono-list] MySQL and NULL values
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12030">[ date ]</a>
              <a href="thread.html#12030">[ thread ]</a>
              <a href="subject.html#12030">[ subject ]</a>
              <a href="author.html#12030">[ author ]</a>
         </LI>
       </UL>
</body></html>
