<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Deserialization issue when talking to webservice	from mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Deserialization%20issue%20when%20talking%20to%20webservice%0A%09from%20mono&In-Reply-To=C9D51E2209AFD04F93E4E2E4CD6E497905D159E7%40mail1.chesapeakebay.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041286.html">
   <LINK REL="Next"  HREF="041288.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Deserialization issue when talking to webservice	from mono</H1>
    <B>Alan McGovern</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Deserialization%20issue%20when%20talking%20to%20webservice%0A%09from%20mono&In-Reply-To=C9D51E2209AFD04F93E4E2E4CD6E497905D159E7%40mail1.chesapeakebay.net"
       TITLE="[Mono-list] Deserialization issue when talking to webservice	from mono">alan.mcgovern at gmail.com
       </A><BR>
    <I>Wed Feb 11 14:07:34 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="041286.html">[Mono-list] Deserialization issue when talking to webservice	from mono
</A></li>
        <LI>Next message: <A HREF="041288.html">[Mono-list] Deserialization issue when talking to webservice	from mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41287">[ date ]</a>
              <a href="thread.html#41287">[ thread ]</a>
              <a href="subject.html#41287">[ subject ]</a>
              <a href="author.html#41287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I really wouldn't be the one to ask about this, but the best bet is to:

1) Serialize the structure on .NET and save to a file
2) Serialize the structure on Mono and save to a file
3) Create a bug on <A HREF="http://bugzilla.novell.com">http://bugzilla.novell.com</A> and attach the two files and
the description of how they were created.

You should also reduce the structure to as small an item as possible to
reproduce the bug. For example if you have a List&lt;ComplexObject&gt; you should
try reproduce with just a List&lt;int&gt;, or just a ComplexObject. If the second
fails, then start removing properties from ComplexObject until you know the
one which is failing. If we know *exactly* what is triggering the issue,
it'll be easier/faster to fix.

Though if you want your application to work with any released versions of
mono, you need to investigate an alternative serializing form.

Alan.

On Wed, Feb 11, 2009 at 6:26 PM, Robert Weiss &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">rweiss at chesapeakebay.net</A>&gt;wrote:

&gt;<i>  Yes. Assuming that your example class &quot;Sample&quot; was part of the .net
</I>&gt;<i> framework and the implementation in .Net was what you listed and the mono
</I>&gt;<i> implementation differs, then the binary serialization would not work. Since
</I>&gt;<i> this **appears** to be the issue at hand with the way that the Generic
</I>&gt;<i> Sorted List was implemented in mono, how does one get the incorrect mono
</I>&gt;<i> implementation fixed?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks for your input.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  ------------------------------
</I>&gt;<i>
</I>&gt;<i> *From:* Alan McGovern [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">alan.mcgovern at gmail.com</A>]
</I>&gt;<i> *Sent:* Wednesday, February 11, 2009 1:18 PM
</I>&gt;<i>
</I>&gt;<i> *To:* Robert Weiss
</I>&gt;<i> *Cc:* <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
</I>&gt;<i> *Subject:* Re: [Mono-list] Deserialization issue when talking to
</I>&gt;<i> webservice from mono
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://msdn.microsoft.com/en-us/library/72hyey7b(VS.71">http://msdn.microsoft.com/en-us/library/72hyey7b(VS.71</A>).aspx&lt;<A HREF="http://msdn.microsoft.com/en-us/library/72hyey7b%28VS.71%29.aspx">http://msdn.microsoft.com/en-us/library/72hyey7b%28VS.71%29.aspx</A>&gt;
</I>&gt;<i>
</I>&gt;<i> MS.NET:
</I>&gt;<i> public class Sample
</I>&gt;<i> {
</I>&gt;<i>     private int val;
</I>&gt;<i>     public int Value { get { return val; } }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Mono:
</I>&gt;<i> public class Sample
</I>&gt;<i> {
</I>&gt;<i>     private int value;
</I>&gt;<i>     public int Value { get { return value; } }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> These classes are *not* binary serializable because the private field is
</I>&gt;<i> named differently. This is probably the issue you're hitting.
</I>&gt;<i>
</I>&gt;<i> Alan.
</I>&gt;<i>
</I>&gt;<i> On Wed, Feb 11, 2009 at 5:20 PM, Robert Weiss &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">rweiss at chesapeakebay.net</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;<i> Correct.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We are running mono 2.2
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Not sure what you mean RE: binary serialization puts a dependency on
</I>&gt;<i> private implementation. Can you explain further?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  ------------------------------
</I>&gt;<i>
</I>&gt;<i> *From:* Alan McGovern [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">alan.mcgovern at gmail.com</A>]
</I>&gt;<i> *Sent:* Wednesday, February 11, 2009 12:04 PM
</I>&gt;<i> *To:* Robert Weiss
</I>&gt;<i> *Cc:* <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
</I>&gt;<i> *Subject:* Re: [Mono-list] Deserialization issue when talking to
</I>&gt;<i> webservice from mono
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Just to clarify, what you're saying is that if Mono binary serializes your
</I>&gt;<i> generic list, then MS.NET cannot deserialize the resulting stream? If so,
</I>&gt;<i> what version of Mono are you on. If it's older than 2.2, maybe you should
</I>&gt;<i> try 2.2 and see if the issue has been resolved.
</I>&gt;<i>
</I>&gt;<i> Ideally there would be no difference, but binary serialization puts a
</I>&gt;<i> dependency on private implementation detail which makes it hard to replicate
</I>&gt;<i> exactly.
</I>&gt;<i>
</I>&gt;<i> Alan.
</I>&gt;<i>
</I>&gt;<i> On Wed, Feb 11, 2009 at 4:55 PM, Rob Weiss &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">rweiss at chesapeakebay.net</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Ok. Here is the deal with my issue. It &quot;appears&quot; that the implementation of
</I>&gt;<i> the Generic Sorted List on mono is *NOT* implemented the same was as in the
</I>&gt;<i> .Net Framework. So when I binary serialize the Object, which has a Generic
</I>&gt;<i> Sorted List property, on mono and deserialize on win-32, using the EXACT
</I>&gt;<i> same DLL, it thows the error listed above.
</I>&gt;<i>
</I>&gt;<i> Is there a list of the differences of the implementations between mono and
</I>&gt;<i> .Net? BTW, this specific DLL PASSED the MoMA with no issues reported.
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://www.nabble.com/Deserialization-issue-when-talking-to-webservice-from-mono-tp21954562p21958261.html">http://www.nabble.com/Deserialization-issue-when-talking-to-webservice-from-mono-tp21954562p21958261.html</A>
</I>&gt;<i>
</I>&gt;<i> Sent from the Mono - General mailing list archive at Nabble.com.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20090211/9146c487/attachment-0001.html">http://lists.ximian.com/pipermail/mono-list/attachments/20090211/9146c487/attachment-0001.html</A> 
</PRE>











































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041286.html">[Mono-list] Deserialization issue when talking to webservice	from mono
</A></li>
	<LI>Next message: <A HREF="041288.html">[Mono-list] Deserialization issue when talking to webservice	from mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41287">[ date ]</a>
              <a href="thread.html#41287">[ thread ]</a>
              <a href="subject.html#41287">[ subject ]</a>
              <a href="author.html#41287">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
