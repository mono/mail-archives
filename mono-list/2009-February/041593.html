<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Multiple threads slower than multiple processes?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Multiple%20threads%20slower%20than%20multiple%20processes%3F&In-Reply-To=22177940.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041592.html">
   <LINK REL="Next"  HREF="041468.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Multiple threads slower than multiple processes?</H1>
    <B>SvenG</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Multiple%20threads%20slower%20than%20multiple%20processes%3F&In-Reply-To=22177940.post%40talk.nabble.com"
       TITLE="[Mono-list] Multiple threads slower than multiple processes?">sgroot at gmail.com
       </A><BR>
    <I>Tue Feb 24 06:14:48 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="041592.html">[Mono-list]  Multiple threads slower than multiple processes?
</A></li>
        <LI>Next message: <A HREF="041468.html">[Mono-list] Trolltech Qt 4 for MONO
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41593">[ date ]</a>
              <a href="thread.html#41593">[ thread ]</a>
              <a href="subject.html#41593">[ subject ]</a>
              <a href="author.html#41593">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

SvenG wrote:
&gt;<i> However, when I use two threads in the same process (which does exactly
</I>&gt;<i> the same thing as just running two instances of the application).It takes
</I>&gt;<i> 290 seconds, a whopping 40% slower! CPU usage is only about 180%, 90% per
</I>&gt;<i> thread, and the CPU time consumed by each thread is also more than the CPU
</I>&gt;<i> time consumed by the single-thread process.
</I>Some more research points to the garbage collector. It appears the GC
suspends all threads while it is running. Two facts indicate that this is
the case: 1. the threads appear to be suspended for the 10% that they are
idle; and 2. the amount of time the threads are idle corresponds exactly to
the amount of time spent in the GC in the other threads.

This is a huge problem for me. It essentially means that any code that is
hard on the GC will diminish the ability of the process to run multiple
threads.

Could anyone confirm whether this is the case? And if so, is there anything
I can do to alleviate the problem?
-- 
View this message in context: <A HREF="http://www.nabble.com/Multiple-threads-slower-than-multiple-processes--tp22177940p22179952.html">http://www.nabble.com/Multiple-threads-slower-than-multiple-processes--tp22177940p22179952.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041592.html">[Mono-list]  Multiple threads slower than multiple processes?
</A></li>
	<LI>Next message: <A HREF="041468.html">[Mono-list] Trolltech Qt 4 for MONO
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41593">[ date ]</a>
              <a href="thread.html#41593">[ thread ]</a>
              <a href="subject.html#41593">[ subject ]</a>
              <a href="author.html#41593">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
