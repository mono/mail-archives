<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] problem with xml deserialization and XML &quot;choice&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20problem%20with%20xml%20deserialization%20and%20XML%20%22choice%22&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048117.html">
   <LINK REL="Next"  HREF="048119.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] problem with xml deserialization and XML &quot;choice&quot;</H1>
    <B>Josef Semmler</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20problem%20with%20xml%20deserialization%20and%20XML%20%22choice%22&In-Reply-To="
       TITLE="[Mono-list] problem with xml deserialization and XML &quot;choice&quot;">josef.semmler at gmail.com
       </A><BR>
    <I>Tue Jan 10 12:06:34 EST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="048117.html">[Mono-list] New to Mono + Web and Desktop + Mapping
</A></li>
        <LI>Next message: <A HREF="048119.html">[Mono-list] Is auto compile a std feature?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48115">[ date ]</a>
              <a href="thread.html#48115">[ thread ]</a>
              <a href="subject.html#48115">[ subject ]</a>
              <a href="author.html#48115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

i have the following issue with xml deserialization:

I have a xml schema which uses a &quot;choice&quot; - when i try to deserialize a XML
file based on this schema into a class instance i get the following error
message

Unhandled Exception: System.InvalidOperationException: There is an error in
XML document. ---&gt; System.InvalidOperationException: Read by order only
possible for encoded/bare format
  at System.Xml.Serialization.ClassMap.GetElement (Int32 index) [0x00000]
in &lt;filename unknown&gt;:0
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadMembers
(System.Xml.Serialization.ClassMap map, System.Object ob, Boolean
isValueList, Boolean readBySoapOrder) [0x00000] in &lt;filename unknown&gt;:0
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadClassInstanceMembers
(System.Xml.Serialization.XmlTypeMapping typeMap, System.Object ob)
[0x00000] in &lt;filename unknown&gt;:0
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadClassInstance
(System.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable,
Boolean checkType) [0x00000] in &lt;filename unknown&gt;:0
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadObject
(System.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable,
Boolean checkType) [0x00000] in &lt;filename unknown&gt;:0
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadRoot
(System.Xml.Serialization.XmlTypeMapping rootMap) [0x00000] in &lt;filename
unknown&gt;:0
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadRoot ()
[0x00000] in &lt;filename unknown&gt;:0
  at System.Xml.Serialization.XmlSerializer.Deserialize
(System.Xml.Serialization.XmlSerializationReader reader) [0x00000] in
&lt;filename unknown&gt;:0
  --- End of inner exception stack trace ---

The code itself works. It works with microsoft .net and works also pretty
good with with mono 2.6.7 ... but it seems that all mono version after
2.6.7 are no longer able to process the &quot;choice&quot; ?
(btw: Code was compiled with VS)

Is this a known issue?

thanks
JS
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20120110/64069428/attachment-0001.html">http://lists.ximian.com/pipermail/mono-list/attachments/20120110/64069428/attachment-0001.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048117.html">[Mono-list] New to Mono + Web and Desktop + Mapping
</A></li>
	<LI>Next message: <A HREF="048119.html">[Mono-list] Is auto compile a std feature?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48115">[ date ]</a>
              <a href="thread.html#48115">[ thread ]</a>
              <a href="subject.html#48115">[ subject ]</a>
              <a href="author.html#48115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
