<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Apache+mod_mono: Auto generated encryption keys not saved error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Apache%2Bmod_mono%3A%20Auto%20generated%20encryption%20keys%20not%0A%20saved%20error&In-Reply-To=%3CCANkhFq-cv_BxRby%2B8k5ZYh7YwiY5rOnbD0KWeY2pREhhkuG_6A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048178.html">
   <LINK REL="Next"  HREF="048180.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Apache+mod_mono: Auto generated encryption keys not saved error</H1>
    <B>Gonzalo Paniagua Javier</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Apache%2Bmod_mono%3A%20Auto%20generated%20encryption%20keys%20not%0A%20saved%20error&In-Reply-To=%3CCANkhFq-cv_BxRby%2B8k5ZYh7YwiY5rOnbD0KWeY2pREhhkuG_6A%40mail.gmail.com%3E"
       TITLE="[Mono-list] Apache+mod_mono: Auto generated encryption keys not saved error">gonzalo.mono at gmail.com
       </A><BR>
    <I>Wed Jan 25 02:04:17 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="048178.html">[Mono-list] Apache+mod_mono: Auto generated encryption keys not	saved error
</A></li>
        <LI>Next message: <A HREF="048180.html">[Mono-list] Apache+mod_mono: Auto generated encryption keys not saved error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48179">[ date ]</a>
              <a href="thread.html#48179">[ thread ]</a>
              <a href="subject.html#48179">[ subject ]</a>
              <a href="author.html#48179">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jan 24, 2012 at 3:20 PM, James Wright
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">james.wright at jigsawdezign.com</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> &#160;I'm running Mono 2.10.2 with Apache 2 + mod_mono on an Amazon Linux server
</I>&gt;<i> and keep getting the following error in the apache error log:
</I>&gt;<i>
</I>&gt;<i> (info) Auto generated encryption keys not saved:
</I>&gt;<i> System.Security.SecurityException: No access to the given key
</I>&gt;<i> &#160;at Microsoft.Win32.KeyHandler..ctor (Microsoft.Win32.RegistryKey rkey,
</I>&gt;<i> System.String basedir, Boolean is_volatile) [0x00000] in &lt;filename
</I>&gt;<i> unknown&gt;:0
</I>[...]
&gt;<i>
</I>&gt;<i> &#160;It looks like some sort of permission problem accessing the registry store,
</I>&gt;<i> but I have no idea where that is on the filesystem or whether it can (or
</I>&gt;<i> should) be changed?
</I>
ASP.NET is creating autogenerated keys for the machine and failing to
safe them. The only problem, other that seen that message, is that
every time the application is started you will get new keys because
they are not being saved.

I think the directory where this is trying to write is somewhere
$SYSCONFDIR/mono/registry (usually /etc/mono/registry). If you allow
the user running apache read, write, and execute permissions on that
folder, Mono will be able to save the autogenerated keys and will
reuse them subsequently. Once the keys are written, the apache user
will only need read and execute permission.

-Gonzalo
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048178.html">[Mono-list] Apache+mod_mono: Auto generated encryption keys not	saved error
</A></li>
	<LI>Next message: <A HREF="048180.html">[Mono-list] Apache+mod_mono: Auto generated encryption keys not saved error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48179">[ date ]</a>
              <a href="thread.html#48179">[ thread ]</a>
              <a href="subject.html#48179">[ subject ]</a>
              <a href="author.html#48179">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
