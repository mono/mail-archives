<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Re: unicode wrapper
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Greg%20Haerr%22%20%3Cgreg%40censoft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="004754.html">
   <LINK REL="Next"  HREF="004792.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Re: unicode wrapper
   </H1>
    <B>Greg Haerr
    </B> 
    <A HREF="mailto:Greg%20Haerr%22%20%3Cgreg%40censoft.com"
       TITLE="[Mono-list] Re: unicode wrapper">Greg Haerr&quot; &lt;greg@censoft.com
       </A><BR>
    <I>Sat, 6 Apr 2002 14:18:30 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="004754.html">[Mono-list] Re: unicode wrapper
</A></li>
        <LI> Next message: <A HREF="004792.html">[Mono-list] Re: unicode wrapper
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4777">[ date ]</a>
              <a href="thread.html#4777">[ thread ]</a>
              <a href="subject.html#4777">[ subject ]</a>
              <a href="author.html#4777">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>:<i> Please note that it's just a quick hack, because I can get ld to link with
</I>:<i> unicows library directly (and that's maybe because I'm just missing
</I>:<i> something and this can be done without any wrappers).
</I>
Somehow I don't get how your [cool] hack is needed?  
In the io-layer, CreateFile gets #defined to unimono_CreateFile
that gets resolved by your unimono.dll and calls the original
CreateFileW, which I assume gets linked with unicows.lib and resolved
to the MS unicows.dll.  Why can't you just link the non-recompiled
mono with unicows.lib and have the original CreateFileW
resolve through unicows.dll?  Is a seperate dll required in order
to make this work?  What happens when you link directly?



:<i> 
</I>:<i> One note, while mono works with Unicode fix it apparently has some problems
</I>:<i> under 9x. I tried it on two machines, and there are some strange
</I>:<i> side-effects. Programs run fine (although thread2 test fails in the middle
</I>:<i> for some reason), but after that if I try to launch any app (any native app)
</I>:<i> the whole system just hangs. So, have fun ;)
</I>
Is the thread2 failure because of your call to DisableThreadLibraryCalls
in unimono.dll::dllmain.c?

I would like to help try to make mono work on win98, since I happen
to have that running.  I also wrote two C wrapper programs to get
rid of the need for wrapper .bat scripts when not running mint or mcs in
the Cygwin environment.

Regards,

Greg








</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="004754.html">[Mono-list] Re: unicode wrapper
</A></li>
	<LI> Next message: <A HREF="004792.html">[Mono-list] Re: unicode wrapper
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4777">[ date ]</a>
              <a href="thread.html#4777">[ thread ]</a>
              <a href="subject.html#4777">[ subject ]</a>
              <a href="author.html#4777">[ author ]</a>
         </LI>
       </UL>
</body></html>
