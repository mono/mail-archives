<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] System.String::.ctor cant be resolved
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:totte%40labs2.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="005192.html">
   <LINK REL="Next"  HREF="005196.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] System.String::.ctor cant be resolved
   </H1>
    <B>Patrik Torstensson
    </B> 
    <A HREF="mailto:totte%40labs2.com"
       TITLE="[Mono-list] System.String::.ctor cant be resolved">totte@labs2.com
       </A><BR>
    <I>Mon, 22 Apr 2002 13:33:22 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="005192.html">[Mono-list] string-icall.c patch for Trim()
</A></li>
        <LI> Next message: <A HREF="005196.html">[Mono-list] string-icall.c patch for Trim()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5195">[ date ]</a>
              <a href="thread.html#5195">[ thread ]</a>
              <a href="subject.html#5195">[ subject ]</a>
              <a href="author.html#5195">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Looks good,

I just changed the variable usage to look like the rest of the code and
using the gint32 and gunichar2.

I also changed the only place where I saw that the gunichar2 was not
used (Pad).

- Patrik

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Duncan Mak [mailto:<A HREF="mailto:duncan@ximian.com">duncan@ximian.com</A>] 
</I>&gt;<i> Sent: den 22 april 2002 07:23
</I>&gt;<i> To: Mono mailing list
</I>&gt;<i> Subject: Re: [Mono-list] System.String::.ctor cant be resolved
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Sun, 2002-04-21 at 11:40, Duncan Mak wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Yeah, I'm working on these. I should be done soon.
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> Attached is a patch for the 4 missing string constructors in 
</I>&gt;<i> string-icall.c
</I>&gt;<i> 
</I>&gt;<i> /* unsafe public String (char *value); */
</I>&gt;<i> MonoString *
</I>&gt;<i> mono_string_Internal_ctor_charp (gpointer dummy, gunichar2 *value)
</I>&gt;<i> 
</I>&gt;<i> /* unsafe public String (char *value, int startIndex, int 
</I>&gt;<i> length); */ MonoString * 
</I>&gt;<i> mono_string_Internal_ctor_charp_int_int (gpointer dummy, 
</I>&gt;<i> gunichar2 *value, gint32 sindex, gint32 length)
</I>&gt;<i> 
</I>&gt;<i> /* unsafe public String (sbyte *value); */
</I>&gt;<i> MonoString *
</I>&gt;<i> mono_string_Internal_ctor_sbytep (gpointer dummy, gint8 *value)
</I>&gt;<i> 
</I>&gt;<i> /* unsafe public String (sbyte *value, int startIndex, int 
</I>&gt;<i> length); */ MonoString * 
</I>&gt;<i> mono_string_Internal_ctor_sbytep_int_int (gpointer dummy, 
</I>&gt;<i> gint8 *value, gint32 sindex, gint32 length)
</I>&gt;<i> 
</I>&gt;<i> I took Dietmar's advice and simply looked at the original C# 
</I>&gt;<i> implementation of the constructors and translated them into 
</I>&gt;<i> the C equivalent.
</I>&gt;<i> 
</I>&gt;<i> The only testing I did is to try and build them, and they built.
</I>&gt;<i> 
</I>&gt;<i> I'm not an experienced C programmer, so please tell me if 
</I>&gt;<i> there is anything wrong with the patch and I'll fix them ASAP.
</I>&gt;<i> 
</I>&gt;<i> Also, Dietmar also told me to go thru the new string code and 
</I>&gt;<i> standardize the naming of the types -- ie, gunichar2 * and 
</I>&gt;<i> guint16 * are used interchangably right now. I'll go in and 
</I>&gt;<i> change them tomorrow afternoon. I'll be using 
</I>&gt;<i> mono/mono/docs/internal-call as my guide.
</I>&gt;<i> 
</I>&gt;<i> Duncan.
</I>&gt;<i> 
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="005192.html">[Mono-list] string-icall.c patch for Trim()
</A></li>
	<LI> Next message: <A HREF="005196.html">[Mono-list] string-icall.c patch for Trim()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5195">[ date ]</a>
              <a href="thread.html#5195">[ thread ]</a>
              <a href="subject.html#5195">[ subject ]</a>
              <a href="author.html#5195">[ author ]</a>
         </LI>
       </UL>
</body></html>
