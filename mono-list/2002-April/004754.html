<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Re: unicode wrapper
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:serge%40wildwestsoftware.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="004761.html">
   <LINK REL="Next"  HREF="004777.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Re: unicode wrapper
   </H1>
    <B>Serge
    </B> 
    <A HREF="mailto:serge%40wildwestsoftware.com"
       TITLE="[Mono-list] Re: unicode wrapper">serge@wildwestsoftware.com
       </A><BR>
    <I>Sat, 6 Apr 2002 17:02:44 +0300</I>
    <P><UL>
        <LI> Previous message: <A HREF="004761.html">[Mono-list] windows servers
</A></li>
        <LI> Next message: <A HREF="004777.html">[Mono-list] Re: unicode wrapper
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4754">[ date ]</a>
              <a href="thread.html#4754">[ thread ]</a>
              <a href="subject.html#4754">[ subject ]</a>
              <a href="author.html#4754">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Hi!
</I>&gt;<i> Could you send me please your unicode-wrapper (source + binaries).
</I>&gt;<i> I would need them to run mono on win 9x
</I>
It's here:
<A HREF="http://mono.eurosoft.od.ua/files/unimono.zip">http://mono.eurosoft.od.ua/files/unimono.zip</A>

You will also need MSLU DLL:
<A HREF="http://www.microsoft.com/downloads/release.asp?releaseid=30039">http://www.microsoft.com/downloads/release.asp?releaseid=30039</A>


Wrapper is generated by gen-unimono script, which is included in the archive
(it will work under NT+ only).
Script takes filename as its parameter, this file is a list of functions to
process.
There are two files included:
monow.txt: All *W functions currently used by mono;
unicows.txt: All functions exported by unicows.dll;

Included wrapper was generated by gen-unimono monow.txt.
Script works by parsing Platform SDK header files and looking for functions
given in list file.
You don't have to generate/compile wrapper code (you will need VC and PSDK
for this) - DLL and lib files included.
To compile mono with the wrapper:
Copy unimono.h into mono/io-layer dir.
Add #include &quot;unimono.h&quot; to io-layer.h right after #include &lt;windows.h&gt;.
Copy unimono.lib into your lib dir and make sure the lib will be included in
the build. You may edit build scripts or add unimono.lib to the linker's
specs file.
Then make clean build.

Please note that it's just a quick hack, because I can get ld to link with
unicows library directly (and that's maybe because I'm just missing
something and this can be done without any wrappers).

One note, while mono works with Unicode fix it apparently has some problems
under 9x. I tried it on two machines, and there are some strange
side-effects. Programs run fine (although thread2 test fails in the middle
for some reason), but after that if I try to launch any app (any native app)
the whole system just hangs. So, have fun ;)

Sergey




----- Original Message -----
From: &quot;Guenther Roith&quot; &lt;<A HREF="mailto:groith@tcrz.net">groith@tcrz.net</A>&gt;
To: &lt;<A HREF="mailto:serge@wildwestsoftware.com">serge@wildwestsoftware.com</A>&gt;
Sent: Saturday, April 06, 2002 4:51 PM
Subject: unicode wrapper


&gt;<i> Hi!
</I>&gt;<i> Could you send me please your unicode-wrapper (source + binaries).
</I>&gt;<i> I would need them to run mono on win 9x
</I>&gt;<i>
</I>&gt;<i> thanks!
</I>&gt;<i>
</I>&gt;<i> Johannes
</I>&gt;<i>
</I>&gt;<i>
</I>




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="004761.html">[Mono-list] windows servers
</A></li>
	<LI> Next message: <A HREF="004777.html">[Mono-list] Re: unicode wrapper
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4754">[ date ]</a>
              <a href="thread.html#4754">[ thread ]</a>
              <a href="subject.html#4754">[ subject ]</a>
              <a href="author.html#4754">[ author ]</a>
         </LI>
       </UL>
</body></html>
