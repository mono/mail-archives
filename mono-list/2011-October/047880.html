<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] WCF's helloWorld example's WSDL requiring MONO_STRICT_MS_COMPLIANT; tempuri
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20WCF%27s%20helloWorld%20example%27s%20WSDL%20requiring%0A%20MONO_STRICT_MS_COMPLIANT%3B%20tempuri&In-Reply-To=4EA03041.2070706%40mobile.put.edu.pl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="047879.html">
   <LINK REL="Next"  HREF="047881.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] WCF's helloWorld example's WSDL requiring MONO_STRICT_MS_COMPLIANT; tempuri</H1>
    <B>Piotr Wysocki</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20WCF%27s%20helloWorld%20example%27s%20WSDL%20requiring%0A%20MONO_STRICT_MS_COMPLIANT%3B%20tempuri&In-Reply-To=4EA03041.2070706%40mobile.put.edu.pl"
       TITLE="[Mono-list] WCF's helloWorld example's WSDL requiring MONO_STRICT_MS_COMPLIANT; tempuri">piotr.wysocki at mlabs.pl
       </A><BR>
    <I>Thu Oct 20 10:41:04 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="047879.html">[Mono-list] generating html docs
</A></li>
        <LI>Next message: <A HREF="047881.html">[Mono-list] AOT viable option for deployment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47880">[ date ]</a>
              <a href="thread.html#47880">[ thread ]</a>
              <a href="subject.html#47880">[ subject ]</a>
              <a href="author.html#47880">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I am having trouble running a WCF Soap WebService including servicing
WSDL. I created a small example for reproducing the error.
The example is attached. Just compile it referencing System.ServiceModel
(I tried with both gmcs and dmcs, mono 2.10.6), run and check
<A HREF="http://127.0.0.1:8000/myHelloService?wsdl">http://127.0.0.1:8000/myHelloService?wsdl</A>

I get:
XmlSchema error: Named item <A HREF="http://some.other.tempuri.org/:Hello">http://some.other.tempuri.org/:Hello</A> was
already contained in the schema object table. Consider setting
MONO_STRICT_MS_COMPLIANT to 'yes' to mimic MS implementation. Related
schema item SourceUri: , Line 0, Position 0.

A common error, as searching mono-list and other resources on the web
indicates, and setting MONO_STRICT_MS_COMPLIANT to &quot;yes&quot; fixes this, indeed.
However, I feel like this is a workaround. It seems there is something
wrong going on here. Probably I forgot about something. Any idea what is it?

One more thing I would like to ask: I am trying to get rid of all
<A HREF="http://tempuri.org/">http://tempuri.org/</A> in WSDLs, however there is one more left in the main
XML tag:
&lt;definitions name=&quot;service&quot; targetNamespace=&quot;<A HREF="http://tempuri.org/&quot;">http://tempuri.org/&quot;</A>&gt;
...
&lt;/definitions&gt;
I tried setting Namespace in various properties inside the ServiceHost
class, but with no success. Any idea how to change it?

It seems like it is being set to tempuri somewhere around
mono-2.10.6/mcs/class/System.ServiceModel/System.ServiceModel.Description/WsdlExporter.cs, 

line 191 (or search for tempuri in this file). Unfortunately I don't
know how to fix it (that is, if it is a bug indeed).

Regards,
Peter
-------------- next part --------------
A non-text attachment was scrubbed...
Name: WebServiceExample.cs
Type: text/x-csharp
Size: 1389 bytes
Desc: not available
Url : <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20111020/f4aecec0/attachment.bin">http://lists.ximian.com/pipermail/mono-list/attachments/20111020/f4aecec0/attachment.bin</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="047879.html">[Mono-list] generating html docs
</A></li>
	<LI>Next message: <A HREF="047881.html">[Mono-list] AOT viable option for deployment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47880">[ date ]</a>
              <a href="thread.html#47880">[ thread ]</a>
              <a href="subject.html#47880">[ subject ]</a>
              <a href="author.html#47880">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
