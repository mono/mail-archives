<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] ProcessStartInfo and arguments with a backslash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20ProcessStartInfo%20and%20arguments%20with%20a%20backslash&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="047793.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] ProcessStartInfo and arguments with a backslash</H1>
    <B>Yves Goergen</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20ProcessStartInfo%20and%20arguments%20with%20a%20backslash&In-Reply-To="
       TITLE="[Mono-list] ProcessStartInfo and arguments with a backslash">nospam.list at unclassified.de
       </A><BR>
    <I>Sat Oct  1 14:17:24 EDT 2011</I>
    <P><UL>
        
        <LI>Next message: <A HREF="047793.html">[Mono-list] ProcessStartInfo and arguments with a backslash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47792">[ date ]</a>
              <a href="thread.html#47792">[ thread ]</a>
              <a href="subject.html#47792">[ subject ]</a>
              <a href="author.html#47792">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am debugging a problem with my .NET application calling a UNIX
programme with arguments. The bash command line looks like this:

   /usr/bin/smem -P '/usr/sbin/exim4(\s|$)'

My C# code to do exactly that is the following:

   string processPath = &quot;/usr/sbin/exim4(\s|$)&quot;;
   ProcessStartInfo psi = new ProcessStartInfo(
       &quot;smem&quot;,
       &quot;-P '&quot; + processPath + &quot;'&quot;);
   psi.RedirectStandardOutput = true;
   psi.UseShellExecute = false;
   Process p = Process.Start(psi);

But this is what the started programme gets as arguments:

   ['/usr/bin/smem', '-P', '/usr/sbin/exim4(s|$)']

Notice the &quot;\s&quot; above was changed into &quot;s&quot; which makes the whole thing
fail in the end. The backslash from my argument was entirely removed.
The bash call above would make the smem application see the following
(correct) arguments instead:

   ['/usr/bin/smem', '-P', '/usr/sbin/exim4(\\s|$)']

I assume the doubled backslash comes from Python's output formatting.
The Python code used to print out all arguments is this:

   print repr(sys.argv)

But I'm no Python expert - this code is just copied from somewhere else...

I haven't found a trace of this issue on the Web, so is it by
undocumented intention or is it a Mono bug? What would be the best
workaround? I'm not feeling good with adding just as many more
backslashes until it works. It may fail at any time in the future if I
don't fully understand what's going on here.

Mono version:
Mono JIT compiler version 2.10.5 (Debian 2.10.5-1~dhx1~lucid1)
&gt;<i>From badgerports for Ubuntu 10.4.
</I>
-- 
Yves Goergen &quot;LonelyPixel&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">nospam.list at unclassified.de</A>&gt;
Visit my web laboratory at <A HREF="http://beta.unclassified.de">http://beta.unclassified.de</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="047793.html">[Mono-list] ProcessStartInfo and arguments with a backslash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47792">[ date ]</a>
              <a href="thread.html#47792">[ thread ]</a>
              <a href="subject.html#47792">[ subject ]</a>
              <a href="author.html#47792">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
