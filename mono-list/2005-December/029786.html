<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Re: Running mod-mono-server in a chroot jail
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Re%3A%20Running%20mod-mono-server%20in%20a%20chroot%20jail&In-Reply-To=000a01c5f6ce%240202f010%24aca8389d%40redmond.corp.microsoft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029748.html">
   <LINK REL="Next"  HREF="029749.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Re: Running mod-mono-server in a chroot jail</H1>
    <B>Christopher Bergstr&#246;m</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Re%3A%20Running%20mod-mono-server%20in%20a%20chroot%20jail&In-Reply-To=000a01c5f6ce%240202f010%24aca8389d%40redmond.corp.microsoft.com"
       TITLE="[Mono-list] Re: Running mod-mono-server in a chroot jail">cbergstrom at netsyncro.com
       </A><BR>
    <I>Thu Dec  1 19:16:01 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="029748.html">****SPAM(3)**** RE: [Mono-list] Re: Running mod-mono-server in a
	chroot jail
</A></li>
        <LI>Next message: <A HREF="029749.html">[Mono-list] Anyone ever tried to run NAnt on mono on Windows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29786">[ date ]</a>
              <a href="thread.html#29786">[ thread ]</a>
              <a href="subject.html#29786">[ subject ]</a>
              <a href="author.html#29786">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jesse Pasichnyk wrote:

&gt;<i>Christopher,
</I>&gt;<i>
</I>&gt;<i>Thanks for the heads up, I will definitely test out my chroot environment
</I>&gt;<i>for security.
</I>&gt;<i>Is it possible to create a &quot;safe&quot; chroot if it has mono installed in it?
</I>&gt;<i>(inlcuding the compiler)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>I have a quick question about mounting my /proc filesystem into my jail
</I>&gt;<i>environment.  I have a common jail environment at /home/jail, this gets
</I>&gt;<i>mounted into each persons home directory at /home/username/.jail, using
</I>&gt;<i>mount --bind.  I then symlink each of the required folders usr,lib,proc,var
</I>&gt;<i>and such into the root of the users directory so I only need to mount one
</I>&gt;<i>single folder into their home directory.
</I>&gt;<i>
</I>&gt;<i>I'm seeing a few weird things though (running redhat el4).  When I mount my
</I>&gt;<i>proc filesystem into /home/jail/proc I can do a &quot;ls -la /home/jail/proc&quot; and
</I>&gt;<i>see all the files, however it doesn't show up in a &quot;df|grep proc&quot;.
</I>&gt;<i>
</I>Did you copy over mtab as well?  That usually shows what is currently 
mounted.  Also there are ways to control what is displayed from df.  
Further, there are other security risks involved with users sharing the 
same chroot path.  (It does seem that you are trying to put each user in 
a unique jail, but...?)

Anyhow, I'm wondering what put you down this chroot path?  What exactly 
is your goal besides simply chrooting mono?  If you're truly concerned 
with security I'd recommend starting with one of the hardened 
distributions.. (Which one is up to you.) These should provide a little 
better out of box security and allow you to get your end result.

Good luck,

C.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029748.html">****SPAM(3)**** RE: [Mono-list] Re: Running mod-mono-server in a
	chroot jail
</A></li>
	<LI>Next message: <A HREF="029749.html">[Mono-list] Anyone ever tried to run NAnt on mono on Windows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29786">[ date ]</a>
              <a href="thread.html#29786">[ thread ]</a>
              <a href="subject.html#29786">[ subject ]</a>
              <a href="author.html#29786">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
