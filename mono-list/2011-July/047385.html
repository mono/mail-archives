<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] How does Monitor.Enter work?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20How%20does%20Monitor.Enter%20work%3F&In-Reply-To=CAG_NDKo-TnmWYJHkJwnW%3DhwjYjj5qxOdMNK_-rDPxpLj_QND%2BQ%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="047384.html">
   <LINK REL="Next"  HREF="047386.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] How does Monitor.Enter work?</H1>
    <B>Daniel Hughes</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20How%20does%20Monitor.Enter%20work%3F&In-Reply-To=CAG_NDKo-TnmWYJHkJwnW%3DhwjYjj5qxOdMNK_-rDPxpLj_QND%2BQ%40mail.gmail.com"
       TITLE="[Mono-list] How does Monitor.Enter work?">trampster at gmail.com
       </A><BR>
    <I>Thu Jul 21 01:03:16 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="047384.html">[Mono-list] How does Monitor.Enter work?
</A></li>
        <LI>Next message: <A HREF="047386.html">[Mono-list] WCF Hosting Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47385">[ date ]</a>
              <a href="thread.html#47385">[ thread ]</a>
              <a href="subject.html#47385">[ subject ]</a>
              <a href="author.html#47385">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It is unwise to post sections of the .net source code to this mailing list.
As technically anyone who has seen the dotnet framework code can't
contribute to those parts of the mono project. Seeing as most of the mono
developers read this list you may inadvertently stop them from being able to
further develop mono.

See <A HREF="http://mono-project.com/Contributing">http://mono-project.com/Contributing</A> for more info about these rules.

On Thu, Jul 21, 2011 at 3:41 PM, Vincent Povirk &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">madewokherd at gmail.com</A>&gt;wrote:

&gt;<i> mono/metadata/icall-def.h contains references to the implementations
</I>&gt;<i> of internal calls. Apparently, that method is mono_monitor_enter,
</I>&gt;<i> implemented in monitor.c.
</I>&gt;<i>
</I>&gt;<i> On Wed, Jul 20, 2011 at 9:54 PM, imays &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">imays at naver.com</A>&gt; wrote:
</I>&gt;<i> &gt; I got a question how Monitor.Enter works. I investigated .net framework
</I>&gt;<i> &gt; source code, and it shows this only:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;        [System.Security.SecurityCritical]  // auto-generated
</I>&gt;<i> &gt;        [ResourceExposure(ResourceScope.None)]
</I>&gt;<i> &gt;        [MethodImplAttribute(MethodImplOptions.InternalCall)]
</I>&gt;<i> &gt;        private static extern void ReliableEnter(Object obj, ref bool
</I>&gt;<i> &gt; lockTaken);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I guess Monitor.Enter implementation is platform dependent, so I browsed
</I>&gt;<i> &gt; Mono source code and I gave up :(
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Yes, a critical section assigned for each System.Object instance may
</I>&gt;<i> solve,
</I>&gt;<i> &gt; but, I don't think the actual Monitor.Lock is written like this, because
</I>&gt;<i> &gt; creating a critical section for each System.Object will cost unlimitedly.
</I>&gt;<i> &gt; (Win32 does not allow billions of critical section objects in a process!)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Does anybody know how Monitor.Lock works? Please reply. Thanks in
</I>&gt;<i> advance.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; View this message in context:
</I>&gt;<i> <A HREF="http://mono.1490590.n4.nabble.com/How-does-Monitor-Enter-work-tp3682685p3682685.html">http://mono.1490590.n4.nabble.com/How-does-Monitor-Enter-work-tp3682685p3682685.html</A>
</I>&gt;<i> &gt; Sent from the Mono - General mailing list archive at Nabble.com.
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20110721/8d7f92f0/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20110721/8d7f92f0/attachment.html</A> 
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="047384.html">[Mono-list] How does Monitor.Enter work?
</A></li>
	<LI>Next message: <A HREF="047386.html">[Mono-list] WCF Hosting Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47385">[ date ]</a>
              <a href="thread.html#47385">[ thread ]</a>
              <a href="subject.html#47385">[ subject ]</a>
              <a href="author.html#47385">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
