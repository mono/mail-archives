<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Reading application settings from web.config file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Reading%20application%20settings%20from%20web.config%20file&In-Reply-To=4A298DAC.1000301%40twistedcode.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042639.html">
   <LINK REL="Next"  HREF="042643.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Reading application settings from web.config file</H1>
    <B>Andrus Moor</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Reading%20application%20settings%20from%20web.config%20file&In-Reply-To=4A298DAC.1000301%40twistedcode.net"
       TITLE="[Mono-list] Reading application settings from web.config file">kobruleht2 at hot.ee
       </A><BR>
    <I>Sat Jun  6 09:22:50 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="042639.html">[Mono-list] Reading application settings from web.config file
</A></li>
        <LI>Next message: <A HREF="042643.html">[Mono-list] PINVOKE can't find 32 bit shared library on 64 bit MONO
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42641">[ date ]</a>
              <a href="thread.html#42641">[ thread ]</a>
              <a href="subject.html#42641">[ subject ]</a>
              <a href="author.html#42641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Marek,

&gt;<i> This was fixed for trunk sometime ago, look at this bug
</I>&gt;<i> <A HREF="https://bugzilla.novell.com/show_bug.cgi?id=491531">https://bugzilla.novell.com/show_bug.cgi?id=491531</A>
</I>&gt;<i>
</I>&gt;<i> I've just backported it to the 2.4 branch (r135562)
</I>
Thank you.
I need to read appsettings from an other assembly which is called from main
web application (asmx web service).
I tried code below but got exception

web.config does not contain appsettings
since rootWebConfig1.AppSettings.Settings.Count is 0.

How to read application setting in web.config from assembly which is not 
main application assembly?

Andrus.

 public string Server
        {
            get
            {

   System.Configuration.Configuration rootWebConfig1 =
    System.Web.Configuration.WebConfigurationManager.OpenWebConfiguration(&quot;~&quot;);
                // rootWebConfig1.FilePath points to correct file.
                if (0 &lt; rootWebConfig1.AppSettings.Settings.Count)
                {
                    System.Configuration.KeyValueConfigurationElement
customSetting =
                        rootWebConfig1.AppSettings.Settings[&quot;Server&quot;];
                    if (null != customSetting)
                        return customSetting.Value;
                    else
                        throw new ArgumentException(&quot;No Server application
string&quot;);
                }
                throw new ArgumentException(&quot;web.config does not contain
appsettings&quot;);
}}

</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042639.html">[Mono-list] Reading application settings from web.config file
</A></li>
	<LI>Next message: <A HREF="042643.html">[Mono-list] PINVOKE can't find 32 bit shared library on 64 bit MONO
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42641">[ date ]</a>
              <a href="thread.html#42641">[ thread ]</a>
              <a href="subject.html#42641">[ subject ]</a>
              <a href="author.html#42641">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
