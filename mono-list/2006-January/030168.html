<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Profiling web app to find where memory is going
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Profiling%20web%20app%20to%20find%20where%20memory%20is%20going&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030285.html">
   <LINK REL="Next"  HREF="030169.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Profiling web app to find where memory is going</H1>
    <B>Bill Seddon</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Profiling%20web%20app%20to%20find%20where%20memory%20is%20going&In-Reply-To="
       TITLE="[Mono-list] Profiling web app to find where memory is going">bill.seddon at lyquidity.com
       </A><BR>
    <I>Tue Jan  3 16:10:02 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="030285.html">[Mono-list] Profiling web app to find where memory is going
</A></li>
        <LI>Next message: <A HREF="030169.html">[Mono-list] Profiling web app to find where memory is going
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30168">[ date ]</a>
              <a href="thread.html#30168">[ thread ]</a>
              <a href="subject.html#30168">[ subject ]</a>
              <a href="author.html#30168">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Does your application save data in variables of the application class
that are not explicitly released?  How do you have your cache
configured?  If you have your cache configured to hold pages for a long
time you they would mount up over time.

Bill Seddon


-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A>] On Behalf Of Joshua Tauberer
Sent: 03 January 2006 19:25
To: Mono
Subject: [Mono-list] Profiling web app to find where memory is going

Hey,

I need some advice about figuring out why my ASP.NET site is sucking up 
hundreds of megabytes of memory after a few hours/days (under a good 
amount of traffic).  If I'm allocating the memory myself, I can't find 
where.  I use IHttpHandlers exclusively to serve pages, so the problem 
is at least not in ASP.NET controls or anything in that area.

I tried heap-buddy just now, but when I run it around xsp I get:

** (/usr/lib/xsp/1.0/xsp.exe:26769): WARNING **: implement me 0x00

** ERROR **: file class.c: line 3023 (mono_class_from_mono_type): should

not be reached

So... that didn't work.

The default profiler (--profile=default:alloc) yields just:
   Total memory allocated: 0 KB

I'm not sure if it was supposed to be more informative than that. :)

Does anyone have any suggestions for me?

-- 
- Joshua Tauberer

<A HREF="http://taubz.for.net">http://taubz.for.net</A>

** Nothing Unreal Exists **


_______________________________________________
Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>


</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030285.html">[Mono-list] Profiling web app to find where memory is going
</A></li>
	<LI>Next message: <A HREF="030169.html">[Mono-list] Profiling web app to find where memory is going
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30168">[ date ]</a>
              <a href="thread.html#30168">[ thread ]</a>
              <a href="subject.html#30168">[ subject ]</a>
              <a href="author.html#30168">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
