<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Profiling web app to find where memory is going
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Profiling%20web%20app%20to%20find%20where%20memory%20is%20going&In-Reply-To=43C1C120.5020804%40for.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030224.html">
   <LINK REL="Next"  HREF="030226.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Profiling web app to find where memory is going</H1>
    <B>Christopher Bergstr&#246;m</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Profiling%20web%20app%20to%20find%20where%20memory%20is%20going&In-Reply-To=43C1C120.5020804%40for.net"
       TITLE="[Mono-list] Profiling web app to find where memory is going">cbergstrom at netsyncro.com
       </A><BR>
    <I>Sun Jan  8 21:04:36 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="030224.html">[Mono-list] Profiling web app to find where memory is going
</A></li>
        <LI>Next message: <A HREF="030226.html">[Mono-list] Profiling web app to find where memory is going
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30225">[ date ]</a>
              <a href="thread.html#30225">[ thread ]</a>
              <a href="subject.html#30225">[ subject ]</a>
              <a href="author.html#30225">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Joshua Tauberer wrote:

&gt;<i> Michal Moskal wrote:
</I>&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>   <A HREF="http://nemerle.org/svn/nemerle/trunk/misc/profiler/">http://nemerle.org/svn/nemerle/trunk/misc/profiler/</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks.  I'm adapting it to get more information out of it, and I think
</I>&gt;&gt;&gt;<i> I have to make it thread-aware to use it reasonably in a multithreaded
</I>&gt;&gt;&gt;<i> app like ASP.NET?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yes. Multithreading was not my concern (I used it for profiling the
</I>&gt;&gt;<i> Nemerle compiler, and recently for a theorem prover).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> (snip)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Of course feel free to use and modify it.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Great.  It's really helpful.
</I>&gt;<i>
</I>&gt;<i> I can see now that a single page load is resulting in the creation of 
</I>&gt;<i> 100,000 new string instances.  Seems like a lot, but maybe it's just 
</I>&gt;<i> par for the course.  So now I have a new problem: I can see tons of 
</I>&gt;<i> strings are being allocated by I18N.Common.ByteEncoding:GetString() 
</I>&gt;<i> and MySql.Data.MySqlClient.MySqlDataReader:GetOrdinal(), but I don't 
</I>&gt;<i> know if they're not being deallocated promptly, and I can't imagine 
</I>&gt;<i> tracing through the code to see if the strings are hanging around 
</I>&gt;<i> unnecessarily either within MySql.Data or higher up.
</I>&gt;<i>
</I>&gt;<i> So, if anyone has any suggestions....
</I>&gt;<i>
</I>Hej..

Can you give the 30 second version of how to hook this up to my web 
app?  I'm going to guess just put runprof in my path and change that out 
for mono and  add a syslog entry it looks like?  If you have any patches 
for the multithreading please attach or email to me.. Great work!

Cheers,

C.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030224.html">[Mono-list] Profiling web app to find where memory is going
</A></li>
	<LI>Next message: <A HREF="030226.html">[Mono-list] Profiling web app to find where memory is going
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30225">[ date ]</a>
              <a href="thread.html#30225">[ thread ]</a>
              <a href="subject.html#30225">[ subject ]</a>
              <a href="author.html#30225">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
