<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] FileChooserDialog
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20FileChooserDialog&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030333.html">
   <LINK REL="Next"  HREF="030343.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] FileChooserDialog</H1>
    <B>Paulo Augusto</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20FileChooserDialog&In-Reply-To="
       TITLE="[Mono-list] FileChooserDialog">PauloMorfeo at portugalmail.pt
       </A><BR>
    <I>Sat Jan 14 12:47:02 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="030333.html">[Mono-list] My Project under Mono
</A></li>
        <LI>Next message: <A HREF="030343.html">[Mono-list] FileChooserDialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30334">[ date ]</a>
              <a href="thread.html#30334">[ thread ]</a>
              <a href="subject.html#30334">[ subject ]</a>
              <a href="author.html#30334">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am trying to use FileChooserDialog but it is failing me. There isn't
much documentation about it and, so, i'm trying an example which is
mostly the same as the example of FileSelection which is in the
documentation and works fine.

/******************************************/
using System;
using Gtk;

namespace Aprendizagem
{
	public class ExemploFileChooserDialog
	{
		Label lbl;
		FileChooserDialog fc;
		
		public ExemploFileChooserDialog ()
		{
			Application.Init ();
			Window win = new Window (&quot;FileSelectionSample&quot;);
			win.SetDefaultSize (250,200);
			win.DeleteEvent += new DeleteEventHandler (Sair);
			VBox vbox = new VBox (true, 1);
			win.Add (vbox);
			Button btn = new Button (&quot;Select a file.&quot;);
			btn.Clicked += new EventHandler (BtnClicked);
			vbox.Add (btn);
			lbl = new Label (&quot;Selected: &quot;);
			vbox.Add (lbl);
			win.ShowAll ();
			
			fc = new FileChooserDialog (&quot;Choose a folder&quot;, win,
										FileChooserAction.SelectFolder, null);
			fc.Response += new ResponseHandler (OnFileSelectionResponse);
			
			Application.Run ();
		}
		
		void BtnClicked (object o, EventArgs args)
		{
			fc.Run();
			fc.Hide();
		}
		
		void OnFileSelectionResponse (object o, ResponseArgs args)
		{
			if (args.ResponseId == ResponseType.Ok)
			{
				lbl.Text = &quot;Selected: &quot; + fc.Filename + &quot;\n&quot; +
					&quot;Folder: &quot; + fc.CurrentFolder;
			}
		}
		
		void Sair (object o, DeleteEventArgs args)
		{
			Application.Quit ();
		}
	}
}
/******************************************/

When trying to run, the output is this:

Unhandled Exception: System.NullReferenceException: Object reference not
set to an instance of an object
in &lt;0x0019c&gt; Gtk.FileChooserDialog:.ctor (System.String title,
Gtk.Window parent, FileChooserAction action, System.Object[]
button_data)
in &lt;0x0019a&gt; Aprendizagem.ExemploFileChooserDialog:.ctor ()
in &lt;0x00016&gt; Aprendizagem.Program:Main (System.String[] args)

Anyone could help me out in what's wrong of if it is some bug!?
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030333.html">[Mono-list] My Project under Mono
</A></li>
	<LI>Next message: <A HREF="030343.html">[Mono-list] FileChooserDialog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30334">[ date ]</a>
              <a href="thread.html#30334">[ thread ]</a>
              <a href="subject.html#30334">[ subject ]</a>
              <a href="author.html#30334">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
