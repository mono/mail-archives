<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Profiling web app to find where memory is going
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Profiling%20web%20app%20to%20find%20where%20memory%20is%20going&In-Reply-To=43C1C120.5020804%40for.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030317.html">
   <LINK REL="Next"  HREF="030168.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Profiling web app to find where memory is going</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Profiling%20web%20app%20to%20find%20where%20memory%20is%20going&In-Reply-To=43C1C120.5020804%40for.net"
       TITLE="[Mono-list] Profiling web app to find where memory is going">atsushi at ximian.com
       </A><BR>
    <I>Thu Jan 12 04:14:48 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="030317.html">[Mono-list] Profiling web app to find where memory is going
</A></li>
        <LI>Next message: <A HREF="030168.html">[Mono-list] Profiling web app to find where memory is going
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30285">[ date ]</a>
              <a href="thread.html#30285">[ thread ]</a>
              <a href="subject.html#30285">[ subject ]</a>
              <a href="author.html#30285">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Joshua,

&gt;<i> I can see now that a single page load is resulting in the creation of 
</I>&gt;<i> 100,000 new string instances.  Seems like a lot, but maybe it's just par 
</I>&gt;<i> for the course.  So now I have a new problem: I can see tons of strings 
</I>&gt;<i> are being allocated by I18N.Common.ByteEncoding:GetString() and 
</I>&gt;<i> MySql.Data.MySqlClient.MySqlDataReader:GetOrdinal(), but I don't know if 
</I>&gt;<i> they're not being deallocated promptly, and I can't imagine tracing 
</I>&gt;<i> through the code to see if the strings are hanging around unnecessarily 
</I>&gt;<i> either within MySql.Data or higher up.
</I>
Sorry it is kind of quick question (am not reading all of this thread)
but is that ByteEncoding related allocation a problem in ByteEncoding
or in whatever calls ByteEncoding.GetString() ? It of course allocates
a string per call. If the number of allocation is equivalent to the
number of calls, then it is rather caller side matter.

(If something need to convert bytes to chars like a sport, GetBytes()
could be used instead).

Atsushi Eno
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030317.html">[Mono-list] Profiling web app to find where memory is going
</A></li>
	<LI>Next message: <A HREF="030168.html">[Mono-list] Profiling web app to find where memory is going
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30285">[ date ]</a>
              <a href="thread.html#30285">[ thread ]</a>
              <a href="subject.html#30285">[ subject ]</a>
              <a href="author.html#30285">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
