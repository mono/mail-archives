<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] X509Extensions and X509CertificateBuilder
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20X509Extensions%20and%20X509CertificateBuilder&In-Reply-To=22B92EF8DAABDA48879D5188A70FBEF602CFD352%40kmdex5.intern.kmd.dk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030175.html">
   <LINK REL="Next"  HREF="030177.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] X509Extensions and X509CertificateBuilder</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20X509Extensions%20and%20X509CertificateBuilder&In-Reply-To=22B92EF8DAABDA48879D5188A70FBEF602CFD352%40kmdex5.intern.kmd.dk"
       TITLE="[Mono-list] X509Extensions and X509CertificateBuilder">sebastien at ximian.com
       </A><BR>
    <I>Wed Jan  4 08:13:20 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="030175.html">[Mono-list] X509Extensions and X509CertificateBuilder
</A></li>
        <LI>Next message: <A HREF="030177.html">[Mono-list] How to compile app using Gecko# on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30208">[ date ]</a>
              <a href="thread.html#30208">[ thread ]</a>
              <a href="subject.html#30208">[ subject ]</a>
              <a href="author.html#30208">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Kim,

On Wed, 2006-01-04 at 12:54 +0100, Hellan.Kim KHE wrote:
&gt;<i> I'm trying to use X509CertificateBuilder to create a certificate and I
</I>&gt;<i> would like to add extensions.
</I>&gt;<i> As the first I would have liked to add a KeyUsageExtension, but ran into
</I>&gt;<i> problems. It seems that the extension classes are mainly there for
</I>&gt;<i> reading extensions in certificates, not for creating them.
</I>
That's true for most extensions. A lot of extension decoding was
required in order to implement X.509 stuff in Mono. 

OTOH not a lot of encoding was required to implement the &quot;makecert&quot; tool
- and I never had the time, nor anyone else it seems ;-), to complete
all of them.

Luckily for you the KeyUsageExtension class can both decode and encode.

&gt;<i> 1) How do I set what keyusage purposes this extension should contain?
</I>
Using the KeyUsageExtension.KeyUsage property, which is an enum of type
KeyUsages.

&gt;<i> 2) How do I specify that this extension should be critical? The Critical
</I>&gt;<i> property is read only.
</I>
Yes it's read-only (in X509Extension). I don't recall why as the code
seems present to handle the critical encoding correctly. Please fill a
bug for this and I'll try to fix it ASAP.

As for existing Mono.Security.dll versions, you can get the ASN.1 of any
extension, manipulate it (add the critical boolean) and re-create an
X509Extension before adding it of the X509CertificateBuilder.
-- 
Sebastien Pouliot  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">sebastien at ximian.com</A>&gt;
Blog: <A HREF="http://pages.infinit.net/ctech/">http://pages.infinit.net/ctech/</A>

</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030175.html">[Mono-list] X509Extensions and X509CertificateBuilder
</A></li>
	<LI>Next message: <A HREF="030177.html">[Mono-list] How to compile app using Gecko# on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30208">[ date ]</a>
              <a href="thread.html#30208">[ thread ]</a>
              <a href="subject.html#30208">[ subject ]</a>
              <a href="author.html#30208">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
