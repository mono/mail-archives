<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] XSP &amp; .Net runtime
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:umuff%40quark.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="014462.html">
   <LINK REL="Next"  HREF="014463.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] XSP &amp; .Net runtime
   </H1>
    <B>Urs Muff
    </B> 
    <A HREF="mailto:umuff%40quark.com"
       TITLE="[Mono-list] XSP &amp; .Net runtime">umuff@quark.com
       </A><BR>
    <I>Thu, 19 Jun 2003 08:08:04 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="014462.html">[Mono-list] Gcc summit...interesting stuff
</A></li>
        <LI> Next message: <A HREF="014463.html">[Mono-list] How often is the class status page updated?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14459">[ date ]</a>
              <a href="thread.html#14459">[ thread ]</a>
              <a href="subject.html#14459">[ subject ]</a>
              <a href="author.html#14459">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C3366C.33AEAFC0
Content-Type: text/plain

I just tried to compile/use the XSP http/aspx server under the MS runtime,
and it compiles.  But when I try to run it I get a strange exception when
processing a request: <A HREF="http://localhost:8080/index.aspx">http://localhost:8080/index.aspx</A>
&lt;<A HREF="http://localhost:8080/index.aspx">http://localhost:8080/index.aspx</A>&gt; 

A first chance exception of type 'System.ArgumentException' occurred in
mscorlib.dll
Additional information: Token cannot be zero.

This is after the following is already processed [WebTrace output]:
Listening on port: 8080
Listening on address: 0.0.0.0
Root directory: C:\cygwin\CVS-Repositories\go-mono.com\xsp\test
Virtual directory: /
Server started.
Accepted connection.
verb: GET
path: /index.aspx
queryString:
protocol: HTTP/1.1
Host: localhost:8080
Accept-Encoding: gzip, deflate
Connection: Keep-Alive
User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; .NET CLR
1.0.3705; .NET CLR 1.1.4322)
Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
application/x-shockwave-flash, application/groove.preview,
application/vnd.ms-excel, application/vnd.ms-powerpoint, application/msword,
*/*
Accept-Language: en-us
GetFilePath()
GetFilePath()
GetHttpVerbName()
GetKnownRequestHeader(39) -&gt; User-Agent
GetServerVariable()
GetServerVariable()

This is with no stack context other then MonoWorkerRequest.ProcessRequest
calling HttpRuntime.ProcessRequest(this).

I know that this is not really a mono topic and you might not care about
this problem.  But the reason I'm bringing this up is the following: XSP
looks fairly independent of the runtime, and this makes me believe that
there is an incompatibility in the mono runtime regarding either the
HttpRuntime or the SimpleHttpRequest implementation that are part of the
standard System.Web assembly.  If this is the case, others might have
similar issues with the mono runtime as I have now with the .Net runtime.  I
hope you understand the point that I'm trying to make.

If someone of either the System.Web or the XSP team wants to contact me, I
can try to help debug the problem.  (All I did is making a VS .Net 2003
project including all .cs files and compiling it under the 1.1 framework).
Note that the MS ASP.Net hosting implementation assumes that the hosting
type assembly (as given argument to CreateApplicationHost) can be physically
found under the ./bin directory and will throw a FileIOExpection otherwise.
(That implies that you have to copy the XSP assembly under that test/bin
directory before executing).

- Urs C. Muff
Software Architect	- Research Lab
Quark Inc.
<A HREF="mailto:UMuff@Quark.Com">UMuff@Quark.Com</A>    	- X6360
+1 (303) 894 3360
CONFIDENTIALITY NOTICE
This e-mail transmission and any documents, files, or previous e-mail
messages appended or attached to it, may contain information that is
confidential or legally privileged. If you are not the intended recipient,
or a person responsible for delivering it to the intended recipient, you are
hereby notified that you must not read this transmission and that any
disclosure, copying, printing, distribution, or use of the information
contained or attached to this transmission is STRICTLY PROHIBITED. If you
have received this transmission in error, please immediately notify the
sender by telephone +1 (303) 894-3360 or return e-mail message
<A HREF="mailto:umuff@quark.com">umuff@quark.com</A> &lt;mailto:<A HREF="mailto:umuff@quark.com">umuff@quark.com</A>&gt;  and delete the original
transmission, its attachments, and any copies without reading or saving in
any manner. Thank you.



------_=_NextPart_001_01C3366C.33AEAFC0
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 3.2//EN&quot;&gt;
&lt;HTML&gt;
&lt;HEAD&gt;
&lt;META HTTP-EQUIV=3D&quot;Content-Type&quot; CONTENT=3D&quot;text/html; =
charset=3Dus-ascii&quot;&gt;
&lt;META NAME=3D&quot;Generator&quot; CONTENT=3D&quot;MS Exchange Server version =
5.5.2653.12&quot;&gt;
&lt;TITLE&gt;XSP &amp;amp; .Net runtime&lt;/TITLE&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;I just tried to =
compile/use the XSP http/aspx server under the MS runtime, and it =
compiles.&lt;/FONT&gt;&amp;nbsp;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt; But when I try to =
run it I get a strange exception when processing a request:&lt;/FONT&gt;&lt;FONT =
SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&lt;/FONT&gt; &lt;A =
HREF=3D&quot;<A HREF="http://localhost:8080/index.aspx"">http://localhost:8080/index.aspx&quot;</A>&gt;&lt;U&gt;&lt;FONT COLOR=3D&quot;#0000FF&quot; =
SIZE=3D2 =
FACE=3D&quot;Arial&quot;&gt;<A HREF="http://localhost:8080/index.aspx</FONT">http://localhost:8080/index.aspx&lt;/FONT</A>&gt;&lt;/U&gt;&lt;/A&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D1 FACE=3D&quot;Courier New&quot;&gt;A first chance =
exception of type 'System.ArgumentException' occurred in =
mscorlib.dll&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D1 FACE=3D&quot;Courier New&quot;&gt;Additional =
information: Token cannot be zero.&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;This is after the =
following is already processed [WebTrace output]:&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;Listening on port: =
8080&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;Listening on address: =
0.0.0.0&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;Root directory: =
C:\cygwin\CVS-Repositories\go-mono.com\xsp\test&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;Virtual directory: =
/&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;Server =
started.&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;Accepted =
connection.&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;verb: GET&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;path: =
/index.aspx&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;queryString:&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;protocol: =
HTTP/1.1&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;Host: =
localhost:8080&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;Accept-Encoding: gzip, =
deflate&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;Connection: =
Keep-Alive&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;User-Agent: Mozilla/4.0 =
(compatible; MSIE 6.0; Windows NT 5.1; .NET CLR 1.0.3705; .NET CLR =
1.1.4322)&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;Accept: image/gif, =
image/x-xbitmap, image/jpeg, image/pjpeg, =
application/x-shockwave-flash, application/groove.preview, =
application/vnd.ms-excel, application/vnd.ms-powerpoint, =
application/msword, */*&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Courier&quot;&gt;Accept-Language: =
en-us&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 =
FACE=3D&quot;Courier&quot;&gt;GetFilePath()&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 =
FACE=3D&quot;Courier&quot;&gt;GetFilePath()&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 =
FACE=3D&quot;Courier&quot;&gt;GetHttpVerbName()&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 =
FACE=3D&quot;Courier&quot;&gt;GetKnownRequestHeader(39) -&amp;gt; User-Agent&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 =
FACE=3D&quot;Courier&quot;&gt;GetServerVariable()&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 =
FACE=3D&quot;Courier&quot;&gt;GetServerVariable()&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;This is with no stack =
context other then&lt;/FONT&gt; &lt;FONT SIZE=3D2 =
FACE=3D&quot;Arial&quot;&gt;MonoWorkerRequest.ProcessRequest calling =
HttpRuntime.ProcessRequest(this).&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;I know that this is not =
really a mono topic and you might not care about this problem.&amp;nbsp; =
But the reason I&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT =
SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;m bringing this up is the following: XSP looks =
fairly independent of the runtime, and this makes me believe that there =
is an&lt;/FONT&gt; &lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;incompatibility&lt;/FONT&gt;&lt;FONT =
SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&lt;/FONT&gt; &lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;in the =
mono runtime regarding either the HttpRuntime or the SimpleHttpRequest =
implementation that are part of the standard System.Web assembly.&lt;/FONT&gt;=
&amp;nbsp;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt; If this is the case, others might =
have similar issues with the mono runtime as I have now with the .Net =
runtime.&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&amp;nbsp; I hope you =
understand the point that I&lt;/FONT&gt;&lt;FONT SIZE=3D2 =
FACE=3D&quot;Arial&quot;&gt;'&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;m trying to =
make.&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;If someone of either the =
System.Web or the XSP team want&lt;/FONT&gt;&lt;FONT SIZE=3D2 =
FACE=3D&quot;Arial&quot;&gt;s&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt; to contact me, I =
can try to help debug the problem&lt;/FONT&gt;&lt;FONT SIZE=3D2 =
FACE=3D&quot;Arial&quot;&gt;.&amp;nbsp; (All I did is making a VS .Net 2003 project =
including all .cs files&lt;/FONT&gt; &lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;and =
compiling it under the 1.1 framework).&amp;nbsp; Note that&lt;/FONT&gt;&lt;FONT =
SIZE=3D2 FACE=3D&quot;Arial&quot;&gt; the MS ASP.Net hosting implementation assumes =
that the hosting type assembly (as given argument to =
CreateApplicationHost)&lt;/FONT&gt; &lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;can be =
physically&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&lt;/FONT&gt; &lt;FONT SIZE=3D2 =
FACE=3D&quot;Arial&quot;&gt;found&lt;/FONT&gt; &lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;under&lt;/FONT&gt; =
&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;the ./bin directory and will throw a =
FileIOExpection otherwise.&amp;nbsp; (That implies that you have to copy =
the XSP assembly under that test/bin directory before =
executing).&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;B&gt;&lt;/B&gt;&lt;A NAME=3D&quot;_MailAutoSig&quot;&gt;&lt;B&gt;&lt;FONT =
COLOR=3D&quot;#003300&quot; SIZE=3D2 FACE=3D&quot;Garamond&quot;&gt;- Urs C. =
Muff&lt;/FONT&gt;&lt;/B&gt;&lt;/A&gt;&lt;BR&gt;
&lt;FONT COLOR=3D&quot;#003300&quot; SIZE=3D2 FACE=3D&quot;Garamond&quot;&gt;Software =
Architect&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/FONT&gt;&lt;B&gt;&lt;/B&gt;&lt;B&gt; &lt;FONT =
COLOR=3D&quot;#003300&quot; SIZE=3D2 FACE=3D&quot;Garamond&quot;&gt;- Research =
Lab&lt;/FONT&gt;&lt;/B&gt;&lt;U&gt;&lt;BR&gt;
&lt;/U&gt;&lt;FONT COLOR=3D&quot;#003300&quot; SIZE=3D2 FACE=3D&quot;Garamond&quot;&gt;Quark =
Inc.&lt;/FONT&gt;&lt;U&gt;&lt;/U&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;U&gt;&lt;FONT COLOR=3D&quot;#003300&quot; SIZE=3D2 =
FACE=3D&quot;Garamond&quot;&gt;<A HREF="mailto:UMuff@Quark.Com">UMuff@Quark.Com</A>&lt;/FONT&gt;&lt;/U&gt;&lt;B&gt;&lt;/B&gt;&lt;B&gt;&lt;FONT =
COLOR=3D&quot;#003300&quot; SIZE=3D2 =
FACE=3D&quot;Garamond&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; - =
X6360&lt;/FONT&gt;&lt;/B&gt;&lt;BR&gt;
&lt;B&gt;&lt;/B&gt;&lt;B&gt;&lt;FONT COLOR=3D&quot;#003300&quot; SIZE=3D2 FACE=3D&quot;Garamond&quot;&gt;+1 (303) =
894 3360&lt;/FONT&gt;&lt;/B&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT COLOR=3D&quot;#003300&quot; SIZE=3D1 =
FACE=3D&quot;Arial&quot;&gt;CONFIDENTIALITY NOTICE&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;FONT COLOR=3D&quot;#003300&quot; SIZE=3D1 FACE=3D&quot;Arial&quot;&gt;This =
e-mail transmission and any documents, files, or previous e-mail&lt;/FONT&gt; =
&lt;FONT COLOR=3D&quot;#003300&quot; SIZE=3D1 FACE=3D&quot;Arial&quot;&gt;messages appended or =
attached to it, may contain information that is confidential or legally =
privileged. If you are not the intended recipient, or a person =
responsible for delivering it to the intended recipient, you are hereby =
notified that you must not&lt;/FONT&gt; &lt;FONT COLOR=3D&quot;#003300&quot; SIZE=3D1 =
FACE=3D&quot;Arial&quot;&gt;r&lt;/FONT&gt;&lt;FONT COLOR=3D&quot;#003300&quot; SIZE=3D1 =
FACE=3D&quot;Arial&quot;&gt;ead this transmission and that any disclosure, copying, =
printing, distribution, or use of the information contained or attached =
to this transmission is STRICTLY PROHIBITED. If you have received this =
transmission in error, please immediately notify the sen&lt;/FONT&gt;&lt;FONT =
COLOR=3D&quot;#003300&quot; SIZE=3D1 FACE=3D&quot;Arial&quot;&gt;d&lt;/FONT&gt;&lt;FONT =
COLOR=3D&quot;#003300&quot; SIZE=3D1 FACE=3D&quot;Arial&quot;&gt;er by telephone +1 (303) =
894-3360 or return e-mail message&lt;/FONT&gt; &lt;A =
HREF=3D&quot;mailto:<A HREF="mailto:umuff@quark.com">umuff@quark.com</A>&quot;&gt;&lt;U&gt;&lt;FONT COLOR=3D&quot;#003300&quot; SIZE=3D1 =
FACE=3D&quot;SimSun&quot;&gt;<A HREF="mailto:umuff@quark.com">umuff@quark.com</A>&lt;/FONT&gt;&lt;/U&gt;&lt;/A&gt;&lt;FONT COLOR=3D&quot;#003300&quot; =
SIZE=3D1 FACE=3D&quot;Arial&quot;&gt; and delete the original transmission, its =
attachments, and any copies without reading or saving in any manner. =
Thank you.&lt;/FONT&gt;&lt;/P&gt;

&lt;P ALIGN=3DLEFT&gt;&lt;/P&gt;

&lt;/BODY&gt;
&lt;/HTML&gt;
------_=_NextPart_001_01C3366C.33AEAFC0--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="014462.html">[Mono-list] Gcc summit...interesting stuff
</A></li>
	<LI> Next message: <A HREF="014463.html">[Mono-list] How often is the class status page updated?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14459">[ date ]</a>
              <a href="thread.html#14459">[ thread ]</a>
              <a href="subject.html#14459">[ subject ]</a>
              <a href="author.html#14459">[ author ]</a>
         </LI>
       </UL>
</body></html>
