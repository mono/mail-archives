<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Building embed sample or cilc generated code on Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Candace_Bain%40avid.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="014343.html">
   <LINK REL="Next"  HREF="014344.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Building embed sample or cilc generated code on Windows
   </H1>
    <B>Candace Bain
    </B> 
    <A HREF="mailto:Candace_Bain%40avid.com"
       TITLE="[Mono-list] Building embed sample or cilc generated code on Windows">Candace_Bain@avid.com
       </A><BR>
    <I>Tue, 10 Jun 2003 16:54:54 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="014343.html">[Mono-list] Unboxing a MonoObject
</A></li>
        <LI> Next message: <A HREF="014344.html">[Mono-list] Re: [Mono-devel-list] Building embed sample or cilc generated code on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14318">[ date ]</a>
              <a href="thread.html#14318">[ thread ]</a>
              <a href="subject.html#14318">[ subject ]</a>
              <a href="author.html#14318">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm working on a proof of concept application that will need to call
from a C++ command line application into a C# object running under mono.
For performance testing I'll need to run the same app the same way on
both Linux and Windows.  I've been looking at the embed sample
application under /mono/samples/embed and the code that the cilc test
generates under /mcs/tools/cilc/generated, both of these work as
expected for me when I compile and run them on Linux.  I'm not able to
compile either of them on Windows.  The instructions for teste.c in
embed are to run:

gcc -o teste teste.c `pkg-config --cflags --libs mono` -lm

And the Makefile that cilc generates contains:

gcc -Wall -fpic -shared `pkg-config --cflags --libs glib-2.0 mono`
-lpthread *.c -o libdemo.so

If I run pkg-config --cflags --libs glib-2.0 mono manually it works and
returns:

-IC:/cygwin/users/candace/install/include
-I/users/candace/install/include/glib-2.0
-I/users/candace/install/lib/glib-2.0/include  -Wl,--export-dynamic
-LC:/cygwin/users/candace/install/lib -L/users/candace/install/lib
-lmono -lm -lgmodule-2.0 -lglib-2.0 -lintl -liconv

&gt;<i>From the errors I'm getting (can't find mono/io-layer/wapi.h, etc) it
</I>seems clear to me that I need to use some specific header include paths
and defines for Windows, but I haven't been able to get a combination
that works yet.  Does anyone have a Makefile I could use to compile the
embed sample or cilc generated test on Windows, or if not does anyone
have pointers to where I could gather this information?

Best regards,

-Candace


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="014343.html">[Mono-list] Unboxing a MonoObject
</A></li>
	<LI> Next message: <A HREF="014344.html">[Mono-list] Re: [Mono-devel-list] Building embed sample or cilc generated code on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14318">[ date ]</a>
              <a href="thread.html#14318">[ thread ]</a>
              <a href="subject.html#14318">[ subject ]</a>
              <a href="author.html#14318">[ author ]</a>
         </LI>
       </UL>
</body></html>
