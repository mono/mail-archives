<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] string encoding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mkestner%40speakeasy.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="014514.html">
   <LINK REL="Next"  HREF="014516.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] string encoding
   </H1>
    <B>Mike Kestner
    </B> 
    <A HREF="mailto:mkestner%40speakeasy.net"
       TITLE="[Mono-list] string encoding">mkestner@speakeasy.net
       </A><BR>
    <I>22 Jun 2003 19:17:40 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="014514.html">[Mono-list] string encoding
</A></li>
        <LI> Next message: <A HREF="014516.html">[Mono-list] string encoding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14515">[ date ]</a>
              <a href="thread.html#14515">[ thread ]</a>
              <a href="subject.html#14515">[ subject ]</a>
              <a href="author.html#14515">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 2003-06-22 at 14:06, Havoc Pennington wrote:

&gt;<i> That leaves no way to marshal functions that take UTF-8 regardless of
</I>&gt;<i> locale as GTK does, but Mono could add some nonstandard extension to
</I>&gt;<i> make that easier I suppose.
</I>
Early on, the Gtk# generator was producing CharSet parameters in the
DllImport attrs, but was probably doing it wrong (CharSet.Ansi).  

We've recently been cleaning up some long-lived issues with string
marshaling from the native side, although it sounds like the choice of
Marshal.PtrToStringAnsi for Gtk+ strings was a dubious one. 

Dietmar's recently announced custom marshaler availability.  That may be
the best current alternative for a solution for utf8 strings, although
it would be nice to get a definitive call from the runtime guys on what
behavior mono wants to expose.  Maybe mono could lobby the ECMA to add
CharSet.Utf8 and implement it in the meantime?  It would be nice to be
able to just generate CharSet=CharSet.Utf8 in DllImports.

Mike


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="014514.html">[Mono-list] string encoding
</A></li>
	<LI> Next message: <A HREF="014516.html">[Mono-list] string encoding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14515">[ date ]</a>
              <a href="thread.html#14515">[ thread ]</a>
              <a href="subject.html#14515">[ subject ]</a>
              <a href="author.html#14515">[ author ]</a>
         </LI>
       </UL>
</body></html>
