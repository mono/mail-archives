<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Unboxing a MonoObject
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Candace_Bain%40avid.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="014315.html">
   <LINK REL="Next"  HREF="014343.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Unboxing a MonoObject
   </H1>
    <B>Candace Bain
    </B> 
    <A HREF="mailto:Candace_Bain%40avid.com"
       TITLE="[Mono-list] Unboxing a MonoObject">Candace_Bain@avid.com
       </A><BR>
    <I>Tue, 10 Jun 2003 15:49:34 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="014315.html">[Mono-list] Problems with ModMono
</A></li>
        <LI> Next message: <A HREF="014343.html">[Mono-list] Unboxing a MonoObject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14317">[ date ]</a>
              <a href="thread.html#14317">[ thread ]</a>
              <a href="subject.html#14317">[ subject ]</a>
              <a href="author.html#14317">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I'm putting together a proof-of-concept application that calls from a
C++ command application into a C# class using mono_runtime_invoke.  I
need to be able to return values from the C# calls to my C++ code.
According to the instructions at:

<A HREF="http://www.go-mono.com/embedded-api.html">http://www.go-mono.com/embedded-api.html</A>

I need to unbox the MonoObject pointer that mono_runtime_invoke returned
to me to get the return value of the function.  If I'm expecting a
string I've found that the following code will work:

MonoString * str =3D NULL;
gchar *message =3D (char *) &quot;&quot;;

....

  str =3D (MonoString *)mono_runtime_invoke (method, test, NULL, NULL);
  if ( str )
    {
      message =3D mono_string_to_utf8(str);
    }

But it's not clear to me how to unbox a MonoObject to get to a bool,
double, or int value.  Thanks in advance for any pointers about how to
do this.

-Candace

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="014315.html">[Mono-list] Problems with ModMono
</A></li>
	<LI> Next message: <A HREF="014343.html">[Mono-list] Unboxing a MonoObject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14317">[ date ]</a>
              <a href="thread.html#14317">[ thread ]</a>
              <a href="subject.html#14317">[ subject ]</a>
              <a href="author.html#14317">[ author ]</a>
         </LI>
       </UL>
</body></html>
