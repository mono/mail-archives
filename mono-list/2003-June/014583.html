<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Bug in ASP.NET? Please take a look.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:seguso.forever%40tin.it">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="014582.html">
   <LINK REL="Next"  HREF="014591.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Bug in ASP.NET? Please take a look.
   </H1>
    <B>Maurizio Colucci
    </B> 
    <A HREF="mailto:seguso.forever%40tin.it"
       TITLE="[Mono-list] Bug in ASP.NET? Please take a look.">seguso.forever@tin.it
       </A><BR>
    <I>Thu, 26 Jun 2003 12:30:34 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="014582.html">[Mono-list] Freebsd Mono and GTK-Sharp
</A></li>
        <LI> Next message: <A HREF="014591.html">[Mono-list] Bug in ASP.NET? Please take a look.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14583">[ date ]</a>
              <a href="thread.html#14583">[ thread ]</a>
              <a href="subject.html#14583">[ subject ]</a>
              <a href="author.html#14583">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello, 

this seems like a bug in asp.net postback mechanism.

I'm using mono 0.24 from debianplanet packages, and xsp from cvs.

To reproduce the bug:

1. in xsp, start the following aspx page.

2. Select an exam, e.g. &quot;calculus&quot;.

3. Click &quot;view subscriptions&quot;. The list of subscription correctly appears. 

4. Now click &quot;view subscriptions&quot; again, _without_ changing the
selection (i.e. leave &quot;calculus&quot; selected). An error message appears,
complaining that there was no exam selected. But it was!


Am I doing somehting wrong, or is it a mono bug?





&lt;%@ language=&quot;C#&quot; %&gt;

&lt;script runat=&quot;server&quot; &gt;

void Page_Load(Object Source, EventArgs E) { 
	if (!IsPostBack){
		#region fill the listbox exams
		exams.Items.Clear();
		exams.Items.Add(new ListItem( &quot;math&quot;));
		exams.Items.Add(new ListItem( &quot;calculus&quot;));
		exams.Items.Add(new ListItem( &quot;english&quot;));	
		message_subscriptions.Visible=false;
		subscriptions.Visible=false;
		#endregion
	}
	else{
		if (exams.SelectedIndex &gt;=0){	
			
			message_subscriptions.Visible=true;
			subscriptions.Visible=true;
			message.Text=&quot;&quot;;
			message_subscriptions.Text = &quot;Subscriptions to \&quot;&quot; + exams.SelectedItem.Text + &quot;\&quot; are:&quot;;
			subscriptions.Items.Clear();
			subscriptions.Items.Add(new ListItem( &quot;John&quot;));
			subscriptions.Items.Add(new ListItem( &quot;Jack&quot;));
		}
		else{
			message.Text = &quot;&lt;h2&gt;Error: no item selected. SelectedIndex = &quot; + 
				exams.SelectedIndex + &quot; &lt;/h2&gt;&quot;;
		}
	}
}
&lt;/script&gt;

&lt;html&gt;

&lt;body&gt;
&lt;asp:label id=message runat=server ForeColor=red/&gt;
&lt;h1&gt;Mono test page&lt;/h1&gt;
Select an exam, then click &quot;view subscriptions&quot;.
&lt;form runat=server&gt;
&lt;p&gt;&lt;asp:listbox id=&quot;exams&quot; runat=server  /&gt;

&lt;p&gt; &lt;input type=submit value=&quot;View subscriptions&quot;&gt;
&lt;p&gt;&lt;asp:label id=&quot;message_subscriptions&quot; runat=server /&gt;
&lt;p&gt;&lt;asp:listbox id=&quot;subscriptions&quot; runat=server  /&gt;

&lt;/form&gt;

&lt;/body&gt;

&lt;/html&gt;




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="014582.html">[Mono-list] Freebsd Mono and GTK-Sharp
</A></li>
	<LI> Next message: <A HREF="014591.html">[Mono-list] Bug in ASP.NET? Please take a look.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14583">[ date ]</a>
              <a href="thread.html#14583">[ thread ]</a>
              <a href="subject.html#14583">[ subject ]</a>
              <a href="author.html#14583">[ author ]</a>
         </LI>
       </UL>
</body></html>
