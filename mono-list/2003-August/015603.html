<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Reference runtime internal variable in managed code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:miguel%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="015602.html">
   <LINK REL="Next"  HREF="015604.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Reference runtime internal variable in managed code
   </H1>
    <B>Miguel de Icaza
    </B> 
    <A HREF="mailto:miguel%40ximian.com"
       TITLE="[Mono-list] Reference runtime internal variable in managed code">miguel@ximian.com
       </A><BR>
    <I>26 Aug 2003 22:27:38 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="015602.html">[Mono-list] Reference runtime internal variable in managed code
</A></li>
        <LI> Next message: <A HREF="015604.html">[Mono-list] Reference runtime internal variable in managed code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15603">[ date ]</a>
              <a href="thread.html#15603">[ thread ]</a>
              <a href="subject.html#15603">[ subject ]</a>
              <a href="author.html#15603">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> I am experimenting with some ideas using mono. I hope this is not off-topic.
</I>&gt;<i> 
</I>&gt;<i> I want to modify the JIT of mono to insert some code to methods when they
</I>&gt;<i> are being JIT -ted. Specifically, I need to insert a check to some internal
</I>&gt;<i> variables declared in the mono runtime (e.g. an int, a single bit, etc). The
</I>&gt;<i> problem is that these are &quot;unmanaged&quot; stuff existing in the runtime's
</I>&gt;<i> address space. And I must insert the check to User's code that are
</I>&gt;<i> &quot;managed&quot;.
</I>&gt;<i> 
</I>&gt;<i> I need a way to insert this check crossing the &quot;managed&quot; / &quot;unmanaged&quot;
</I>&gt;<i> boundary. I know the &quot;Marshal&quot; class would do that for me. But I am guess it
</I>&gt;<i> might be too slow. Are there other ways to do it? Maybe the only better way
</I>&gt;<i> is to patch up the native code after the code gen process? Any insight is
</I>&gt;<i> appreciated. Thanks.
</I>
You should describe in more detail what you are after.  There is a
pluggable profiling interface that you might want to look into (code
coverage and profiling are implemented this way).

For more technical stuff, you might want to patch directly the code
generation engine.

Miguel.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="015602.html">[Mono-list] Reference runtime internal variable in managed code
</A></li>
	<LI> Next message: <A HREF="015604.html">[Mono-list] Reference runtime internal variable in managed code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15603">[ date ]</a>
              <a href="thread.html#15603">[ thread ]</a>
              <a href="subject.html#15603">[ subject ]</a>
              <a href="author.html#15603">[ author ]</a>
         </LI>
       </UL>
</body></html>
