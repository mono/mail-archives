<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mac X and latest cvs source
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:dru%40satori-assoc.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="015504.html">
   <LINK REL="Next"  HREF="015506.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mac X and latest cvs source
   </H1>
    <B>Andy Satori
    </B> 
    <A HREF="mailto:dru%40satori-assoc.com"
       TITLE="[Mono-list] Mac X and latest cvs source">dru@satori-assoc.com
       </A><BR>
    <I>Tue, 19 Aug 2003 12:23:43 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="015504.html">[Mono-list] Mac X and latest cvs source
</A></li>
        <LI> Next message: <A HREF="015506.html">[Mono-list] Invoking Method from Native Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15505">[ date ]</a>
              <a href="thread.html#15505">[ thread ]</a>
              <a href="subject.html#15505">[ subject ]</a>
              <a href="author.html#15505">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In an update on my earlier comments.

I've now got a built copy of the mono runtime, but will have to grab a  
monocharge later to build mcs and get a working installation

Turns out the ./configure that autogen.sh creates has a problem on OS  
X, in that it raises an error  on the lines:

GLIB_REQUIRED_VERSION=1.3.11

PKG_CHECK_MODULES(BASE_DEPENDENCIES, glib-2.0 &gt;= $GLIB_REQUIRED_VERSION)


and as such fails the dependancy check.

Modifying the generated configure will allow you to build mono (you do  
need the GCC 3.3 update from Apple)

Once these are done, the make process runs fine until it gets to the  
mcs portion of the build, at which point it fails here, because I don't  
have an existing mcs.exe or corlib to work with, I haven't built it  
here, and my linux machine is at home..

Andy

On Tuesday, August 19, 2003, at 10:12 AM, Matthieu Cormier wrote:

&gt;<i>
</I>&gt;<i> Thanks for the response.
</I>&gt;<i>
</I>&gt;&gt;<i> If you want to help out, you should use mono from cvs, not a version
</I>&gt;&gt;<i> several months old. Mono from cvs compiles fine on macosx (yes, we  
</I>&gt;&gt;<i> know
</I>&gt;&gt;<i> the last released package doesn't).
</I>&gt;<i>
</I>&gt;<i> I've downloaded the latest source from cvs and unsuccessfully tried  
</I>&gt;<i> making
</I>&gt;<i> the mono module.
</I>&gt;<i>
</I>&gt;<i> Below is a summary of what I tried to do to install.
</I>&gt;<i> My main questions are:
</I>&gt;<i> 	1. What libtool is everyone using?  Does it require a specific
</I>&gt;<i> version?  autogen.sh tries using a --version option which isn't  
</I>&gt;<i> available
</I>&gt;<i> on the version I compiled and installed so I commented out that initial
</I>&gt;<i> test.
</I>&gt;<i> 	2. Have I not installed glib properly?  Why is pkg-config giving
</I>&gt;<i> me the error displayed below?
</I>&gt;<i>
</I>&gt;<i> 	3. Typing make in the mcs directory gives me a Bus error.  I'm
</I>&gt;<i> assuming that this is because there is no jit compiler on Mac and it is
</I>&gt;<i> try to use mint.  Is this correct?
</I>&gt;<i>
</I>&gt;<i> Thanks, M@
</I>&gt;<i>
</I>&gt;<i>  ----------- Begin of Install notes -----
</I>&gt;<i>
</I>&gt;<i> checked out mono sources
</I>&gt;<i> Tried ./autogen.sh --prefix=/usr/local in mono module
</I>&gt;<i> wanted libtool
</I>&gt;<i> 	dowloaded and extracted libtool-1.4.2.tar.gz
</I>&gt;<i> 	setenv CFLAGS &quot;-no-cpp-precomp&quot;
</I>&gt;<i> 	./configure
</I>&gt;<i> 	make
</I>&gt;<i> 	make check
</I>&gt;<i> 		====================
</I>&gt;<i> 		4 of 79 tests failed
</I>&gt;<i> 		====================
</I>&gt;<i> 		FAILED: mdemo-make.test
</I>&gt;<i> 			dryrun.test
</I>&gt;<i> 			hardcore.test
</I>&gt;<i> 			mdemo-make.test
</I>&gt;<i> 	sudo make install
</I>&gt;<i> retried ./autogen.sh --prefix=/usr/local
</I>&gt;<i> still wanted libtool
</I>&gt;<i> looked at autogen.sh
</I>&gt;<i> tried libtool --version ( didn't work )
</I>&gt;<i> commented out libtool test in autogen.sh
</I>&gt;<i>
</I>&gt;<i> retried ./autogen.sh --prefix=/usr/local
</I>&gt;<i> Got Error message
</I>&gt;<i> 	 
</I>&gt;<i> =======================================================================
</I>&gt;<i> 	checking for pkg-config... /usr/local/bin/pkg-config
</I>&gt;<i> 	./configure: line 8054: syntax error near unexpected token
</I>&gt;<i> 	`PKG_CHECK_MODULES(BASE_DEPENDENCIES,'
</I>&gt;<i> 	./configure: line 8054: `PKG_CHECK_MODULES(BASE_DEPENDENCIES,  
</I>&gt;<i> glib-2.0 &gt;= $GLIB_REQUIRED_VERSION)'
</I>&gt;<i> 	 
</I>&gt;<i> =======================================================================
</I>&gt;<i>
</I>&gt;<i> looked at &quot;pkg-config --version&quot;  0.15 installed
</I>&gt;<i> decided to install latest stable pkg-config 0.14
</I>&gt;<i> 	downloaded and extracted
</I>&gt;<i> 	setenv CFLAGS &quot;-no-cpp-precomp&quot;
</I>&gt;<i> 	./configure
</I>&gt;<i> 	make
</I>&gt;<i> 	make check
</I>&gt;<i> 		===================
</I>&gt;<i> 		All 11 tests passed
</I>&gt;<i> 		===================
</I>&gt;<i> 	sudo make install
</I>&gt;<i> retried ./autogen.sh --prefix=/usr/local
</I>&gt;<i> Got Error message
</I>&gt;<i>          
</I>&gt;<i> =======================================================================
</I>&gt;<i>         checking for pkg-config... /usr/local/bin/pkg-config
</I>&gt;<i>         ./configure: line 8054: syntax error near unexpected token
</I>&gt;<i>         `PKG_CHECK_MODULES(BASE_DEPENDENCIES,'
</I>&gt;<i>         ./configure: line 8054: `PKG_CHECK_MODULES(BASE_DEPENDENCIES,  
</I>&gt;<i> glib-2.0 &gt;= $GLIB_REQUIRED_VERSION)'
</I>&gt;<i>          
</I>&gt;<i> =======================================================================
</I>&gt;<i> I know I installed glib-2.0.7 but let's install the latest stable  
</I>&gt;<i> release
</I>&gt;<i> 	downloaded and extracted glib-2.2.2.tar.gz from ftp.gtk.org
</I>&gt;<i> 	setenv CFLAGS &quot;-no-cpp-precomp&quot;
</I>&gt;<i> 	./configure
</I>&gt;<i> 	make
</I>&gt;<i> 	make check
</I>&gt;<i> 		====================
</I>&gt;<i> 		2 of 30 tests failed
</I>&gt;<i> 		====================
</I>&gt;<i> 	suod make install
</I>&gt;<i>
</I>&gt;<i> retried ./autogen.sh --prefix=/usr/local
</I>&gt;<i> 	recieved same error message
</I>&gt;<i>          
</I>&gt;<i> =======================================================================
</I>&gt;<i>         checking for pkg-config... /usr/local/bin/pkg-config
</I>&gt;<i>         ./configure: line 8054: syntax error near unexpected token
</I>&gt;<i>         `PKG_CHECK_MODULES(BASE_DEPENDENCIES,'
</I>&gt;<i>         ./configure: line 8054: `PKG_CHECK_MODULES(BASE_DEPENDENCIES,  
</I>&gt;<i> glib-2.0 &gt;= $GLIB_REQUIRED_VERSION)'
</I>&gt;<i>          
</I>&gt;<i> =======================================================================
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> NOTES: When running ./autogen.sh --prefix=/usr/local I get the  
</I>&gt;<i> following
</I>&gt;<i> &quot;You should update your `aclocal.m4' by running aclocal&quot;
</I>&gt;<i> running aclocal inside the directory does not eliminate this message,
</I>&gt;<i> have never used aclocal before
</I>&gt;<i>
</I>&gt;<i> ----------- End of INstall notes---------
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="015504.html">[Mono-list] Mac X and latest cvs source
</A></li>
	<LI> Next message: <A HREF="015506.html">[Mono-list] Invoking Method from Native Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15505">[ date ]</a>
              <a href="thread.html#15505">[ thread ]</a>
              <a href="subject.html#15505">[ subject ]</a>
              <a href="author.html#15505">[ author ]</a>
         </LI>
       </UL>
</body></html>
