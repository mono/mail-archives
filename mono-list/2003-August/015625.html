<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Workaround for AppDomain.Load + Unload problem?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rafaelteixeirabr%40hotmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="015632.html">
   <LINK REL="Next"  HREF="015627.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Workaround for AppDomain.Load + Unload problem?
   </H1>
    <B>A Rafael D Teixeira
    </B> 
    <A HREF="mailto:rafaelteixeirabr%40hotmail.com"
       TITLE="[Mono-list] Workaround for AppDomain.Load + Unload problem?">rafaelteixeirabr@hotmail.com
       </A><BR>
    <I>Wed, 27 Aug 2003 21:06:18 -0300</I>
    <P><UL>
        <LI> Previous message: <A HREF="015632.html">[Mono-list] code size of each IL instruction?
</A></li>
        <LI> Next message: <A HREF="015627.html">[Mono-list] Workaround for AppDomain.Load + Unload problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15625">[ date ]</a>
              <a href="thread.html#15625">[ thread ]</a>
              <a href="subject.html#15625">[ subject ]</a>
              <a href="author.html#15625">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>From: Miguel de Icaza &lt;<A HREF="mailto:miguel@ximian.com">miguel@ximian.com</A>&gt;
</I>&gt;<i>To: Jörg Rosenkranz &lt;<A HREF="mailto:joergr@voelcker.com">joergr@voelcker.com</A>&gt;
</I>&gt;<i>CC: <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
</I>&gt;<i>Subject: Re: [Mono-list] Workaround for AppDomain.Load + Unload problem?
</I>&gt;<i>Date: 27 Aug 2003 18:08:23 -0400
</I>&gt;<i>
</I>&gt;<i>Hello,
</I>&gt;<i>
</I>&gt;<i> &gt; We are creating an application which should be able to load and
</I>&gt;<i> &gt; unload assemblies at runtime to update parts of it dynamically.
</I>&gt;<i> &gt; To unload an assembly you have to unload the AppDomain which
</I>&gt;<i> &gt; is running it. Now there is a problem in loading and unloading
</I>&gt;<i> &gt; AppDomains:
</I>&gt;<i> &gt; <A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=47659">http://bugzilla.ximian.com/show_bug.cgi?id=47659</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Has someone done something similar and got around this problem?
</I>&gt;<i> &gt; Is there maybe any workaround?
</I>&gt;<i>
</I>&gt;<i>.NET does not support unloading assemblies. It is not an easy problem
</I>&gt;<i>to fix (neither in .NET nor in Mono).
</I>&gt;<i>
</I>&gt;<i>Miguel
</I>
That´s is why most auto-updating solutions, use the 
AppDomain.ShadowCopyFiles property, that makes the appdomain copy all the 
files that are needed to be loaded to a shadow directory, and load them from 
there, leaving the original files available to be superseded. The biggest 
problem is that you one of two choices: if you want to guarantee the user is 
running the latest version always, you need to wait for all assemblies being 
updated before entering the main program (in that case you may not even use 
ShadowCopyFiles), or the update occurs in the background but the user will 
view it reflected only the next time it enters the application.

Good Hacking Habits,

Rafael Teixeira
Brazilian Polymath
Mono Hacker since 16 Jul 2001




&gt;<i>_______________________________________________
</I>&gt;<i>Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i><A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>
_________________________________________________________________
MSN Messenger: instale grátis e converse com seus amigos. 
<A HREF="http://messenger.msn.com.br">http://messenger.msn.com.br</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="015632.html">[Mono-list] code size of each IL instruction?
</A></li>
	<LI> Next message: <A HREF="015627.html">[Mono-list] Workaround for AppDomain.Load + Unload problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15625">[ date ]</a>
              <a href="thread.html#15625">[ thread ]</a>
              <a href="subject.html#15625">[ subject ]</a>
              <a href="author.html#15625">[ author ]</a>
         </LI>
       </UL>
</body></html>
