<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] System.DllNotFoundException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:martin%40welch.eclipse.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="019468.html">
   <LINK REL="Next"  HREF="019483.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] System.DllNotFoundException
   </H1>
    <B>Martin Welch
    </B> 
    <A HREF="mailto:martin%40welch.eclipse.co.uk"
       TITLE="[Mono-list] System.DllNotFoundException">martin@welch.eclipse.co.uk
       </A><BR>
    <I>Thu, 8 Apr 2004 19:39:46 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="019468.html">[Mono-list] I give up
</A></li>
        <LI> Next message: <A HREF="019483.html">[Mono-list] System.DllNotFoundException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19476">[ date ]</a>
              <a href="thread.html#19476">[ thread ]</a>
              <a href="subject.html#19476">[ subject ]</a>
              <a href="author.html#19476">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a multi-part message in MIME format.

------=_NextPart_000_0007_01C41DA1.3F83F810
Content-Type: text/plain;
	charset=&quot;iso-8859-1&quot;
Content-Transfer-Encoding: 7bit

I have a simple c# app trying to PInvoke to a shared library on my Mandrake
10 box using Mono-0.31.

I assumed that mono would look in the current directory but it seems my
assumption is wrong since the so in question does exist.

I'm even hardcoding the path in my DllImport attribute:

  [
  DllImport
  (
  &quot;/home/martin/source/foo&quot;,
  EntryPoint=&quot;MyFunc&quot;,
  CharSet=CharSet.Ansi,
  CallingConvention=CallingConvention.Cdecl
  )
  ]
  private static extern IntPtr MyFunc(int v,
[MarshalAs(UnmanagedType.LPArray, ArraySubType=UnmanagedType.LPStr)]
string[] a, string n);

Please bear in mind that I'm not a very experienced linux user so in all
likelihood I've done something profoundly stupid or overlooked something
really obvious.

Where does mono look for so's?

Thanks,

Martin

------=_NextPart_000_0007_01C41DA1.3F83F810
Content-Type: text/html;
	charset=&quot;iso-8859-1&quot;
Content-Transfer-Encoding: quoted-printable

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META http-equiv=3DContent-Type content=3D&quot;text/html; =
charset=3Diso-8859-1&quot;&gt;
&lt;META content=3D&quot;MSHTML 6.00.2800.1400&quot; name=3DGENERATOR&gt;&lt;/HEAD&gt;
&lt;BODY&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN class=3D128442718-08042004&gt;I =
have a simple c#=20
app trying to PInvoke to a shared library on my Mandrake 10 box using=20
Mono-0.31.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN=20
class=3D128442718-08042004&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN class=3D128442718-08042004&gt;I =
assumed that=20
mono would look in the current directory but it seems my assumption is =
wrong=20
since the so in question does exist.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN=20
class=3D128442718-08042004&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN class=3D128442718-08042004&gt;I'm =
even=20
hardcoding the path in my DllImport attribute:&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN=20
class=3D128442718-08042004&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN=20
class=3D128442718-08042004&gt;&amp;nbsp;&amp;nbsp;[&lt;BR&gt;&amp;nbsp;&amp;nbsp;DllImport&lt;BR&gt;&amp;nbs=
p;&amp;nbsp;(&lt;BR&gt;&amp;nbsp;&amp;nbsp;&quot;/home/martin/source/foo&quot;,=20
&lt;BR&gt;&amp;nbsp;&amp;nbsp;EntryPoint=3D&quot;MyFunc&quot;, =
&lt;BR&gt;&amp;nbsp;&amp;nbsp;CharSet=3DCharSet.Ansi,=20
&lt;BR&gt;&amp;nbsp;&amp;nbsp;CallingConvention=3DCallingConvention.Cdecl&lt;BR&gt;&amp;nbsp;&amp;nbs=
p;)&lt;BR&gt;&amp;nbsp;&amp;nbsp;]&lt;BR&gt;&amp;nbsp;&amp;nbsp;private=20
static extern IntPtr MyFunc(int v, [MarshalAs(UnmanagedType.LPArray,=20
ArraySubType=3DUnmanagedType.LPStr)] string[] a, string=20
n);&lt;BR&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN =
class=3D128442718-08042004&gt;Please bear in=20
mind that I'm not a very experienced linux user so in all likelihood =
I've done=20
something profoundly stupid or overlooked something really=20
obvious.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN=20
class=3D128442718-08042004&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN =
class=3D128442718-08042004&gt;&lt;SPAN=20
class=3D128442718-08042004&gt;Where does mono look for so's?=20
&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN =
class=3D128442718-08042004&gt;&lt;SPAN=20
class=3D128442718-08042004&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN =
class=3D128442718-08042004&gt;&lt;SPAN=20
class=3D128442718-08042004&gt;Thanks,&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN =
class=3D128442718-08042004&gt;&lt;SPAN=20
class=3D128442718-08042004&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DVerdana size=3D2&gt;&lt;SPAN =
class=3D128442718-08042004&gt;&lt;SPAN=20
class=3D128442718-08042004&gt;Martin&lt;/SPAN&gt;&lt;/DIV&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/BODY&gt;&lt;/HTML=
&gt;<i>
</I>
------=_NextPart_000_0007_01C41DA1.3F83F810--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="019468.html">[Mono-list] I give up
</A></li>
	<LI> Next message: <A HREF="019483.html">[Mono-list] System.DllNotFoundException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19476">[ date ]</a>
              <a href="thread.html#19476">[ thread ]</a>
              <a href="subject.html#19476">[ subject ]</a>
              <a href="author.html#19476">[ author ]</a>
         </LI>
       </UL>
</body></html>
