<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] [PATCH] Hard coded System.Environment.OSVersion...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:spouliot%40videotron.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019745.html">
   <LINK REL="Next"  HREF="019693.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] [PATCH] Hard coded System.Environment.OSVersion...
   </H1>
    <B>Sebastien Pouliot
    </B> 
    <A HREF="mailto:spouliot%40videotron.ca"
       TITLE="[Mono-list] [PATCH] Hard coded System.Environment.OSVersion...">spouliot@videotron.ca
       </A><BR>
    <I>Tue, 27 Apr 2004 20:01:40 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="019745.html">[Mono-list] [PATCH] Hard coded System.Environment.OSVersion...
</A></li>
        <LI> Next message: <A HREF="019693.html">[Mono-list] [ANN] Firebird ADO.NET Data Provider 1.6 Beta 2 released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19786">[ date ]</a>
              <a href="thread.html#19786">[ thread ]</a>
              <a href="subject.html#19786">[ subject ]</a>
              <a href="author.html#19786">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> I think we made the method report the hardcoded version to fool the
</I>&gt;<i> broken sw which relies on the version.
</I>
That was my feeling ;-)
However by doing so we are also fooling the non-broken software and not
encouraging the creation of valid software.

&gt;<i> We may go with your changes and wait for someone to complain, or maybe
</I>&gt;<i> we should check an environment variable like:
</I>&gt;<i>
</I>&gt;<i> 	PROGRAMMER_TOO_LAZY_TO_WRITE_PORTABLE_CODE=beatmeharder
</I>&gt;<i> and report the fixed version in that case.
</I>
I don't like environment variables much but I do like your name ;-)
and the fact that the variable as nothing to do with the version returned.

However I don't think we have to do this on Windows because there's already
a &quot;documented&quot; way to fool application with versions numbers.
(yeah they have automated the non-portability lazyness ;-)

Does anyone know something that will break without the hardcoded version (as
pre-complain precaution) ?
or else I'll commit my original patch (without the C#/C++/C99 comments).

Sebastien Pouliot
<A HREF="http://pages.infinit.net/ctech/poupou.html">http://pages.infinit.net/ctech/poupou.html</A>

-----Original Message-----
From: <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>
[mailto:<A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>]On Behalf Of Paolo Molaro
Sent: 26 avril 2004 10:08
To: <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
Subject: Re: [Mono-list] [PATCH] Hard coded
System.Environment.OSVersion...


On 04/23/04 Sebastien Pouliot wrote:
&gt;<i> Here's the patches. There may be a better way on Linux to get a version...
</I>&gt;<i>
</I>&gt;<i> The following code...
</I>&gt;<i>
</I>&gt;<i> static void Main(string[] args)
</I>&gt;<i> {
</I>&gt;<i> 	Console.WriteLine (Environment.OSVersion.ToString ());
</I>&gt;<i> 	Console.WriteLine (Environment.OSVersion.Platform);
</I>&gt;<i> 	Console.WriteLine (Environment.OSVersion.Version);
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Should display on Linux...
</I>&gt;<i>
</I>&gt;<i> [<A HREF="mailto:poupou@rh9">poupou@rh9</A> poupou]$ mono version.exe
</I>&gt;<i> Unix 2.4.20.8
</I>&gt;<i> 128
</I>&gt;<i> 2.4.20.8
</I>
I think we made the method report the hardcoded version to fool the
broken sw which relies on the version.
We may go with your changes and wait for someone to complain, or maybe
we should check an environment variable like:

	PROGRAMMER_TOO_LAZY_TO_WRITE_PORTABLE_CODE=beatmeharder
and report the fixed version in that case.

lupus

--
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better
_______________________________________________
Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="019745.html">[Mono-list] [PATCH] Hard coded System.Environment.OSVersion...
</A></li>
	<LI> Next message: <A HREF="019693.html">[Mono-list] [ANN] Firebird ADO.NET Data Provider 1.6 Beta 2 released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19786">[ date ]</a>
              <a href="thread.html#19786">[ thread ]</a>
              <a href="subject.html#19786">[ subject ]</a>
              <a href="author.html#19786">[ author ]</a>
         </LI>
       </UL>
</body></html>
