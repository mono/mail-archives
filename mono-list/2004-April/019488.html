<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] System.DllNotFoundException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jonpryor%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="019483.html">
   <LINK REL="Next"  HREF="019489.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] System.DllNotFoundException
   </H1>
    <B>Jonathan Pryor
    </B> 
    <A HREF="mailto:jonpryor%40vt.edu"
       TITLE="[Mono-list] System.DllNotFoundException">jonpryor@vt.edu
       </A><BR>
    <I>Thu, 08 Apr 2004 18:18:13 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="019483.html">[Mono-list] System.DllNotFoundException
</A></li>
        <LI> Next message: <A HREF="019489.html">[Mono-list] System.DllNotFoundException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19488">[ date ]</a>
              <a href="thread.html#19488">[ thread ]</a>
              <a href="subject.html#19488">[ subject ]</a>
              <a href="author.html#19488">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Below...

On Thu, 2004-04-08 at 14:39, Martin Welch wrote:
&gt;<i> I have a simple c# app trying to PInvoke to a shared library on my
</I>&gt;<i> Mandrake 10 box using Mono-0.31.
</I>&gt;<i>  
</I>&gt;<i> I assumed that mono would look in the current directory but it seems
</I>&gt;<i> my assumption is wrong since the so in question does exist.
</I>
You need to read my &quot;life changing&quot; guide, &quot;Everything you (n)ever
wanted to know about Marshalling (and were afraid to ask!)&quot;.  In
particular, you want the &quot;Linux Shared Library Handling&quot; section:

	<A HREF="http://www.jprl.com/~jon/interop.html#library-linux">http://www.jprl.com/~jon/interop.html#library-linux</A>

The short version: you need to add the directory containing the shared
library to the LD_LIBRARY_PATH environment variable:

    export LD_LIBRARY_PATH=${LD_LIBRARY_PATH:+$LD_LIBRARY_PATH:}`pwd`
    mono my-app.exe

(Yes, that LD_LIBRARY_PATH export is...long.  You'd probably wonder why
&quot;export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:`pwd`&quot; wasn't used.  The answer
is security: if LD_LIBRARY_PATH is the empty string, you'd have
&quot;:`pwd`&quot;, which adds the current-working-directory to the search list. 
This would allow a malicious individual to insert a trojaned library
into your application. See: <A HREF="http://www.gnome.org/~markmc/blog/07042004.">http://www.gnome.org/~markmc/blog/07042004.</A>)

 - Jon



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="019483.html">[Mono-list] System.DllNotFoundException
</A></li>
	<LI> Next message: <A HREF="019489.html">[Mono-list] System.DllNotFoundException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19488">[ date ]</a>
              <a href="thread.html#19488">[ thread ]</a>
              <a href="subject.html#19488">[ subject ]</a>
              <a href="author.html#19488">[ author ]</a>
         </LI>
       </UL>
</body></html>
