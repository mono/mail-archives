<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] [embedding] &quot;moving from mono_runtime_invoke()	to	mono_method_get_unmanaged_thunk()&quot; or &quot;how to call class	method	that takes and returns a string via thunks&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20%5Bembedding%5D%20%22moving%20from%20mono_runtime_invoke%28%29%0A%09to%09mono_method_get_unmanaged_thunk%28%29%22%20or%20%22how%20to%20call%20class%0A%09method%09that%20takes%20and%20returns%20a%20string%20via%20thunks%22&In-Reply-To=%3CBEFFFC03-B651-45DB-8678-C15DF31A4596%40mugginsoft.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051925.html">
   <LINK REL="Next"  HREF="051927.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] [embedding] &quot;moving from mono_runtime_invoke()	to	mono_method_get_unmanaged_thunk()&quot; or &quot;how to call class	method	that takes and returns a string via thunks&quot;</H1>
    <B>Jonathan Mitchell</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20%5Bembedding%5D%20%22moving%20from%20mono_runtime_invoke%28%29%0A%09to%09mono_method_get_unmanaged_thunk%28%29%22%20or%20%22how%20to%20call%20class%0A%09method%09that%20takes%20and%20returns%20a%20string%20via%20thunks%22&In-Reply-To=%3CBEFFFC03-B651-45DB-8678-C15DF31A4596%40mugginsoft.com%3E"
       TITLE="[Mono-list] [embedding] &quot;moving from mono_runtime_invoke()	to	mono_method_get_unmanaged_thunk()&quot; or &quot;how to call class	method	that takes and returns a string via thunks&quot;">jonathan at mugginsoft.com
       </A><BR>
    <I>Thu Nov 12 12:52:07 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="051925.html">[Mono-list] [embedding] &quot;moving from mono_runtime_invoke()	to	mono_method_get_unmanaged_thunk()&quot; or &quot;how to call class	method	that takes and returns a string via thunks&quot;
</A></li>
        <LI>Next message: <A HREF="051927.html">[Mono-list] [embedding] &quot;moving from mono_runtime_invoke() to mono_method_get_unmanaged_thunk()&quot; or &quot;how to call class method that takes and returns a string via thunks&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51926">[ date ]</a>
              <a href="thread.html#51926">[ thread ]</a>
              <a href="subject.html#51926">[ subject ]</a>
              <a href="author.html#51926">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On 12 Nov 2015, at 12:41, Julian Mayer &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">julian at corecode.at</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> i didn't list any specific crash, because i tried in a million different ways and got a different crash each time.
</I>&gt;<i> 
</I>&gt;<i> i've solved this now. it seems, a unmanaged thunk takes a hidden additional parameter, MonoException ** which can't be NULL. of course this isn't documented anywhere.
</I>&gt;<i> 
</I>This I feel is a real problem for the embedded API as it is.
The above is documented in the source, but not in the header.
Source comment documentation is fine for the source authors but it leaves consumers out in the cold.
The long and the short of it is that you really need to have the Mono embedded source to hand at all times even if you don&#8217;t build you own Mono.

J
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051925.html">[Mono-list] [embedding] &quot;moving from mono_runtime_invoke()	to	mono_method_get_unmanaged_thunk()&quot; or &quot;how to call class	method	that takes and returns a string via thunks&quot;
</A></li>
	<LI>Next message: <A HREF="051927.html">[Mono-list] [embedding] &quot;moving from mono_runtime_invoke() to mono_method_get_unmanaged_thunk()&quot; or &quot;how to call class method that takes and returns a string via thunks&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51926">[ date ]</a>
              <a href="thread.html#51926">[ thread ]</a>
              <a href="subject.html#51926">[ subject ]</a>
              <a href="author.html#51926">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
