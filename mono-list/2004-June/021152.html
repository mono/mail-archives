<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] CVS users - changes to assemblies signing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:spouliot%40videotron.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="021127.html">
   <LINK REL="Next"  HREF="021153.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] CVS users - changes to assemblies signing
   </H1>
    <B>Sébastien Pouliot
    </B> 
    <A HREF="mailto:spouliot%40videotron.ca"
       TITLE="[Mono-list] CVS users - changes to assemblies signing">spouliot@videotron.ca
       </A><BR>
    <I>Wed, 09 Jun 2004 15:46:12 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="021127.html">[Mono-list] monodoc Mono Handbook not found?
</A></li>
        <LI> Next message: <A HREF="021153.html">[Mono-list] Introducing the Web Services Enhancements 2.0 Messaging API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21152">[ date ]</a>
              <a href="thread.html#21152">[ thread ]</a>
              <a href="subject.html#21152">[ subject ]</a>
              <a href="author.html#21152">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello everyone,

Up to now (beta1 and beta2) Mono assemblies have been delay-signed - that
is: they have a public key (and token) but no signature. This allowed the
assemblies to be installed in the new Mono GAC. However the current
situation is problematic if you want to use some Mono assemblies (like Gtk#
or Mono.Security) on the MS runtime (which by default will refuse to load
delay-signed assemblies).

We are now starting to fully sign the assemblies. The process selected is
the one that should be the easiest for developers - most CVS users should
see the difference to build mono/mcs/... To do so the private keys (for both
Mono and Gtk#) have been commited to CVS. For Mono the &quot;real&quot; signing
process will be made when you do a &quot;make install&quot; (the sn.exe tool will be
called just before gacutil.exe). Gtk# assemblies can be signed during
compilation.

The sn.exe tool requires an updated machine.config file to sign some
&quot;special&quot; assemblies (the one that we don't have the &quot;real&quot; private keys).
The machine.config file in CVS (/mono/data/machine.config) has been updated
with this information. It should install when doing a &quot;make install&quot; in
/mono. If not then you'll need to update your machine.config file(s)
manually.


Troubleshooting

* If you see the message &quot;Couldn't sign the assembly
../../class/lib/default/[assembly].dll with this key pair.&quot; during &quot;make
install&quot;

	Make sure that your machine.config file is up-to-date with
/mono/data/machine.config.
	This isn't an immediate problem as gacutil doesn't validate the signature
(but will soon) so the build will complete.

* If you have other errors during &quot;make install&quot; in mcs please:

	* Make sure that your machine.config file is up-to-date with
/mono/data/machine.config.
	* Do a &quot;make&quot; and &quot;make install&quot; in the /mcs/tools/ directory (to update
sn);
	* Finally, post the error message on &quot;mono-devel-list&quot;.

Sebastien Pouliot
<A HREF="http://pages.infinit.net/ctech/poupou.html">http://pages.infinit.net/ctech/poupou.html</A>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="021127.html">[Mono-list] monodoc Mono Handbook not found?
</A></li>
	<LI> Next message: <A HREF="021153.html">[Mono-list] Introducing the Web Services Enhancements 2.0 Messaging API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21152">[ date ]</a>
              <a href="thread.html#21152">[ thread ]</a>
              <a href="subject.html#21152">[ subject ]</a>
              <a href="author.html#21152">[ author ]</a>
         </LI>
       </UL>
</body></html>
