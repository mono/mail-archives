<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] POSGRESQL / NPGSQL / MONO / DATASET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:fxjrlists%40yahoo.com.br">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="021084.html">
   <LINK REL="Next"  HREF="021085.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] POSGRESQL / NPGSQL / MONO / DATASET
   </H1>
    <B>Francisco Figueiredo Jr.
    </B> 
    <A HREF="mailto:fxjrlists%40yahoo.com.br"
       TITLE="[Mono-list] POSGRESQL / NPGSQL / MONO / DATASET">fxjrlists@yahoo.com.br
       </A><BR>
    <I>Tue, 08 Jun 2004 09:26:11 -0300</I>
    <P><UL>
        <LI> Previous message: <A HREF="021084.html">[Mono-list] POSGRESQL / NPGSQL / MONO / DATASET
</A></li>
        <LI> Next message: <A HREF="021085.html">[Mono-list] winforms on debian / wine / segmentation fault =&gt; sorry bug in sent
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21096">[ date ]</a>
              <a href="thread.html#21096">[ thread ]</a>
              <a href="subject.html#21096">[ subject ]</a>
              <a href="author.html#21096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>KiOrKY wrote:

&gt;<i>wan someone help to run npgsql with mono.
</I>&gt;<i>in fact datareader work fine but not dataapdeter and so dataset!
</I>&gt;<i>
</I>&gt;<i>here is the report:
</I>&gt;<i>debian sid
</I>&gt;<i>kernel  2.4.26
</I>&gt;<i>mcs 095
</I>&gt;<i>mono 20040603
</I>&gt;<i>gecko-sharp-0.4         gtksourceview-sharp-0.3         winelib-0.3
</I>&gt;<i>gtk-sharp-0.93          libgdiplus-0.8                  wine20040505
</I>&gt;<i>
</I>&gt;<i>the base is postgresql and is not on the same machine 
</I>&gt;<i>
</I>&gt;<i>the result; out of memory error
</I>&gt;<i>
</I>&gt;<i>DB BASE SHEMA:
</I>&gt;<i>base postgresql
</I>&gt;<i>provider: npgsql
</I>&gt;<i>table popo
</I>&gt;<i>column: C1: int    C2: string
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>code:
</I>&gt;<i>try {
</I>&gt;<i>cout.WriteLine(&quot;\t\t---------------------------------------------&quot;);
</I>&gt;<i>cout.WriteLine(&quot;\t\t---     DEBUT APPLICATION               -----&quot;);
</I>&gt;<i>cout.WriteLine(&quot;\t\t---------------------------------------------&quot;);
</I>&gt;<i>string srequet =@&quot;delete from popo;&quot;;
</I>&gt;<i>srequet+=@&quot;insert into popo(sssss,xdsd)&quot;;
</I>&gt;<i>srequet+=@&quot;values('59','aaaaa');&quot;;
</I>&gt;<i>srequet+=@&quot;insert into popo(sssss,xdsd)&quot;;
</I>&gt;<i>srequet+=@&quot;values('519','aaaaa');&quot;;
</I>&gt;<i>srequet+=@&quot;insert into popo(sssss,xdsd)&quot;;
</I>&gt;<i>srequet+=@&quot;values('529','aaaaa');&quot;;
</I>&gt;<i>srequet+=@&quot;insert into popo(sssss,xdsd)&quot;;
</I>&gt;<i>srequet+=@&quot;values('359','aaaaa');&quot;;
</I>&gt;<i>srequet+=@&quot;insert into popo(sssss,xdsd)&quot;;
</I>&gt;<i>srequet+=@&quot;values('459','aaaaa');&quot;;	
</I>&gt;<i>srequet+=@&quot;SELECT *  FROM popo&quot;;
</I>&gt;<i>string srequet3=@&quot;Server=126.10.0.1;Port=5432;User Id=Pasquet;Database=&quot;;
</I>&gt;<i>srequet3+=@&quot;Marrot;Password=kiorky&quot;;
</I>&gt;<i>Npgsql.NpgsqlConnection toto = new Npgsql.NpgsqlConnection(srequet3);
</I>&gt;<i>toto.Open();
</I>&gt;<i>Npgsql.NpgsqlCommand cmd = new Npgsql.NpgsqlCommand(srequet,toto);
</I>&gt;<i>Npgsql.NpgsqlDataAdapter DaAd = new Npgsql.NpgsqlDataAdapter(cmd);
</I>&gt;<i>DataSet Dsdset = new DataSet();
</I>&gt;<i>DaAd.Fill(Dsdset);
</I>&gt;<i>Dsdset.AcceptChanges();							
</I>&gt;<i>DataTableCollection dtccol = Dsdset.Tables;
</I>&gt;<i>foreach(DataTable dtta in dtccol)
</I>&gt;<i>{
</I>&gt;<i>cout.WriteLine( dtta.TableName);
</I>&gt;<i>foreach(DataRow drro in dtta.Rows)
</I>&gt;<i>{
</I>&gt;<i>cout.WriteLine(&quot;c1: {0} &lt;-&gt; c2: {1} &lt;-&gt;
</I>&gt;<i>\n&quot;,(Int32)drro.ItemArray[0],drro.ItemArray[1]);				
</I>&gt;<i>}
</I>&gt;<i>}
</I>&gt;<i>toto.Close();	
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>exectuion report
</I>&gt;<i>doldit100:/home/kiorky/bin/jeveux# mono toto.exe 
</I>&gt;<i>                ---------------------------------------------
</I>&gt;<i>                ---     DEBUT APPLICATION               -----
</I>&gt;<i>                ---------------------------------------------
</I>&gt;<i>execption levee: Out of memory
</I>&gt;<i>doldit100:/home/kiorky/bin/jeveux# mono --debug  toto.exe 
</I>&gt;<i>
</I>&gt;<i>** (toto.exe:24747): WARNING **: Symbol file
</I>&gt;<i>/usr//lib/mono/gac/Accessibility/1.0.5000.0__b03f5f7f11d50a3a/Accessibility.dll
</I>&gt;<i>has incorrect version (expected 37, got 36)
</I>&gt;<i>
</I>&gt;<i>** (toto.exe:24747): WARNING **: Symbol file
</I>&gt;<i>/usr//lib/mono/gac/System.Windows.Forms/1.0.5000.0__b77a5c561934e089/System.Windows.Forms.dll
</I>&gt;<i>has incorrect version (expected 37, got 36)
</I>&gt;<i>
</I>&gt;<i>** (toto.exe:24747): WARNING **: Symbol file
</I>&gt;<i>/usr//lib/mono/gac/System.Design/1.0.5000.0__b03f5f7f11d50a3a/System.Design.dll
</I>&gt;<i>has incorrect version (expected 37, got 36)
</I>&gt;<i>
</I>&gt;<i>** (toto.exe:24747): WARNING **: Symbol file
</I>&gt;<i>/usr//lib/mono/gac/Npgsql/1.0.5000.0__5d8b90d52f46fda7/Npgsql.dll has
</I>&gt;<i>incorrect version (expected 37, got 36)
</I>&gt;<i>                ---------------------------------------------
</I>&gt;<i>                ---     DEBUT APPLICATION               -----
</I>&gt;<i>                ---------------------------------------------
</I>&gt;<i>** (toto.exe:24751): WARNING **: Symbol file
</I>&gt;<i>/usr//lib/mono/gac/Mono.Posix/1.0.5000.0__0738eb9f132ed756/Mono.Posix.dll
</I>&gt;<i>has incorrect version (expected 37, got 36)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>-------------------&gt;   execption levee: Out of memory
</I>&gt;<i>                        
</I>&gt;<i>
</I>&gt;<i>version:
</I>&gt;<i>										doldit100:/home/kiorky/bin/jeveux# monodis --assembly
</I>&gt;<i>/usr/lib/mono/gac/Npgsql/1.0.5000.0__5d8b90d52f46fda7/Npgsql.dll 
</I>&gt;<i>Assembly Table
</I>&gt;<i>Name:          Npgsql
</I>&gt;<i>Hash Algoritm: 0x00008004
</I>&gt;<i>Version:       1.0.5000.0
</I>&gt;<i>Flags:         0x00000000
</I>&gt;<i>PublicKey:     BlobPtr (0x000004b8)
</I>&gt;<i>        Dump:
</I>&gt;<i>0x00000000: 00 24 00 00 04 80 00 00 94 00 00 00 06 02 00 00 
</I>&gt;<i>0x00000010: 00 24 00 00 52 53 41 31 00 04 00 00 01 00 01 00 
</I>&gt;<i>0x00000020: 2B 3C 59 0B 2A 4E 3D 34 7E 68 78 DC 0F F4 D2 1E 
</I>&gt;<i>0x00000030: B0 56 A5 04 20 25 0C 66 17 04 43 30 70 1D 35 C9 
</I>&gt;<i>0x00000040: 80 78 A5 DF 97 A6 2D 83 C9 A2 DB 2D 07 25 23 A8 
</I>&gt;<i>0x00000050: FC 49 13 98 25 4C 6B 89 32 9B 8C 1D CE F4 3A 1E 
</I>&gt;<i>0x00000060: 7A A1 61 53 BC EA 2A E9 A4 71 14 56 24 82 6F 60 
</I>&gt;<i>0x00000070: D7 C8 E7 1C D0 25 B5 54 A0 17 7B D9 35 A7 80 96 
</I>&gt;<i>0x00000080: 29 F0 A7 AF C7 78 EB B4 AD 03 3E 1B F5 12 C1 A9 
</I>&gt;<i>0x00000090: C6 CE EA 26 B0 77 BC 46 CA C9 38 00 43 5E 77 EE 
</I>&gt;<i>Culture: 
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>

Hi Kiorky.

Sorry for late response...
I was in a conference here in my country and couldn't answer you in time :)

I'm at my job right now and I don't have the complete devel environment 
setup here...
I will try your example when I get home to see if I get the same results...


I see that you are passing the delete, inserts and select to dataadapter...
could you try to send the delete and inserts first, with 
NpgsqlCommand.ExecuteNonQuery() and later try to use the dataadapter 
with select only?

I hope it helps.

Regards,

Francisco Figueiredo Jr.


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="021084.html">[Mono-list] POSGRESQL / NPGSQL / MONO / DATASET
</A></li>
	<LI> Next message: <A HREF="021085.html">[Mono-list] winforms on debian / wine / segmentation fault =&gt; sorry bug in sent
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21096">[ date ]</a>
              <a href="thread.html#21096">[ thread ]</a>
              <a href="subject.html#21096">[ subject ]</a>
              <a href="author.html#21096">[ author ]</a>
         </LI>
       </UL>
</body></html>
