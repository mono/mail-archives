<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] how to do proper role based authentication in web apps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:steve%40mudflapsoftware.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="020974.html">
   <LINK REL="Next"  HREF="020933.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] how to do proper role based authentication in web apps
   </H1>
    <B>Steve Mentzer
    </B> 
    <A HREF="mailto:steve%40mudflapsoftware.com"
       TITLE="[Mono-list] how to do proper role based authentication in web apps">steve@mudflapsoftware.com
       </A><BR>
    <I>Fri, 4 Jun 2004 21:33:51 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="020974.html">[Mono-list] how to do proper role based authentication in web
 apps
</A></li>
        <LI> Next message: <A HREF="020933.html">[Mono-list] COM+,mono, and transaction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20976">[ date ]</a>
              <a href="thread.html#20976">[ thread ]</a>
              <a href="subject.html#20976">[ subject ]</a>
              <a href="author.html#20976">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Forms authentication and RBA in ASP.NET is a bit of a sore spot with =20
web developers these days.

The biggest issue with RBA has to do with the ASP.NET lifecycle/event =20=

chain. Typically, developers choose to use the declarative security =20
attributes on their pages. The problem is that these attributes are =20
processed very early in the event chain.

Typically, apps will store role information in a database. Forms =20
authentication combined with RBA requires that you load all security =20
information on every request in the during the 'AuthenticateRequest' =20
event. This event gives you the ability to create a custom IPrincipal =20=

object, containing the roles.

The sore spot is that each page transition requires the runtime to =20
reload all security information for the user from the database =20
again.... Developers traditionally have handled this by caching login =20=

details / security in session state. Unfortunately, session state isn't =20=

loaded until much further in the event chain (AcquireSessionState), but =20=

in the meantime the declarative security attributes are checked, and =20
BANG, you are screwed.

To sum it up, using RBA with FormAuthentication requires that you incur =20=

a huge scalability bottleneck because you have to reload all security =20=

info at runtime.

FWIW - I hate using declarative security attributes on pages, as it is =20=

easier to trap security situations programatically.

As Gonzalo indicated earlier, you CAN write your own handlers to =20
address your needs. If you are looking for some pre-written ASP.NET =20
security code that utilizes FormsAuthentication, cookies, caching, =20
single-sign-on, etc, search for IOD.Security on =20
<A HREF="http://www.gotdotnet.com/community/workspaces/directory.aspx.">http://www.gotdotnet.com/community/workspaces/directory.aspx.</A> I wrote =20=

it about 6 months ago, and aside from the use of declarative security =20=

attributes, it is a fairly unobtrusive way to avoid having to write =20
your own security code.

I have used it on several very large sites successfully.


On Jun 4, 2004, at 8:57 PM, Gonzalo Paniagua Javier wrote:

&gt;<i> El vie, 04-06-2004 a las 07:46, DI Mag. Rainer Burgstaller escribi=F3:
</I>&gt;&gt;<i> Hi
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have a question on how to properly do RBA in web applications. I am
</I>&gt;&gt;<i> currently using the formsauthentication but it only supports fixed =20=
</I>
&gt;&gt;<i> users
</I>&gt;&gt;<i> stored in the web.config file which is pretty inflexible (am I =
</I>missing
&gt;&gt;<i> something)? So what I currently do is to override the
</I>&gt;&gt;<i> Thread.CurrentPrincipal and HttpContext.User by the user which is =20
</I>&gt;&gt;<i> stored
</I>&gt;&gt;<i> in the cookie (which I also create by hand). I do that in the =20
</I>&gt;&gt;<i> global.asax.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I checked a few open source projects (omniportal, Rainbow) on how =20
</I>&gt;&gt;<i> they do
</I>&gt;&gt;<i> it but it does not seem like they do it too good either (I dont mean =20=
</I>
&gt;&gt;<i> to
</I>&gt;&gt;<i> insult anyone). I am coming from the java side and there JAAS offers =
</I>a
&gt;&gt;<i> quite elegant way of doing such a thing by using &quot;plugin&quot; =20
</I>&gt;&gt;<i> authentication
</I>&gt;&gt;<i> providers. So I wondered if there is such a possibility or if I could
</I>&gt;&gt;<i> somehow replace the FormsAuthenticationModule by something I do which =
</I>=20
&gt;&gt;<i> then
</I>&gt;&gt;<i> allows authentication agains a db for example.
</I>&gt;<i>
</I>&gt;<i> See
</I>&gt;<i> <A HREF="http://msdn.microsoft.com/library/default.asp?url=3D/library/en-us/=20">http://msdn.microsoft.com/library/default.asp?url=3D/library/en-us/=20</A>
</I>&gt;<i> cpgenref/html/gngrfauthorizationsection.asp
</I>&gt;<i>
</I>&gt;<i> Mono supports that.
</I>&gt;<i>
</I>&gt;<i> -Gonzalo
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="020974.html">[Mono-list] how to do proper role based authentication in web
 apps
</A></li>
	<LI> Next message: <A HREF="020933.html">[Mono-list] COM+,mono, and transaction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20976">[ date ]</a>
              <a href="thread.html#20976">[ thread ]</a>
              <a href="subject.html#20976">[ subject ]</a>
              <a href="author.html#20976">[ author ]</a>
         </LI>
       </UL>
</body></html>
