<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Using Exceptions with external Plugins
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pablo%40pablo.com.mx">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="021679.html">
   <LINK REL="Next"  HREF="021680.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Using Exceptions with external Plugins
   </H1>
    <B>Pablo Fischer
    </B> 
    <A HREF="mailto:pablo%40pablo.com.mx"
       TITLE="[Mono-list] Using Exceptions with external Plugins">pablo@pablo.com.mx
       </A><BR>
    <I>Tue, 29 Jun 2004 09:48:10 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="021679.html">[Mono-list] Using Exceptions with external Plugins
</A></li>
        <LI> Next message: <A HREF="021680.html">[Mono-list] err:module:import_dll Library mscoree.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21685">[ date ]</a>
              <a href="thread.html#21685">[ thread ]</a>
              <a href="subject.html#21685">[ subject ]</a>
              <a href="author.html#21685">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-Cb/u6renAVsJVo0r5nJl
Content-Type: text/plain; charset=iso-8859-15
Content-Transfer-Encoding: quoted-printable

Thanks!

However, I think the best idea is to use generic Exceptions, if I try to
use the CookComputing.XmlRpc Exceptions I need to compile ALL my
application with CookComputing.dll and I'm not looking that, that's why
I'm working with plugins to just compile CookComputing.XmlRpc in the
plugins and not in all the application.

Thanks for these suggestions!
Pablo


El mar, 29-06-2004 a las 09:06, Arild Fines escribi=F3:
&gt;<i> <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A> wrote:
</I>&gt;<i> &gt; Cool! Thanks!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Now, how can I get sure that the InnerException is a
</I>&gt;<i> &gt; XmlRpcFaultException or a XmlRpcMissedSomething?, I'm trying with this:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; } catch(TargetInvocationException e) {
</I>&gt;<i> &gt;    if(e.InnerException.GetType().ToString() =3D=3D
</I>&gt;<i> &gt; &quot;CookComputing.XmlRpc.XmlRpcFaultException&quot;) {
</I>&gt;<i> &gt;    Console.WriteLine(&quot;yes&quot;);
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But I don't think it's the correct way/code, any suggestions?
</I>&gt;<i>=20
</I>&gt;<i> You might want to take advantage of the fact that Type.InvokeMember actua=
</I>lly
&gt;<i> performs virtual dispatch based on the runtime type of the object *AND* a=
</I>ll
&gt;<i> of the parameters, IE, it performs double/triple/ntuple dispatch.
</I>&gt;<i>=20
</I>&gt;<i> That means the following will work the way you want it to:
</I>&gt;<i>=20
</I>&gt;<i> catch( TargetInvocationException e )
</I>&gt;<i> {
</I>&gt;<i> 	Type t =3D this.GetType();
</I>&gt;<i> 	t.InvokeMember( &quot;HandleException&quot;, BindingFlags.InvokeMethod |
</I>&gt;<i> 		BindingFlags.Instance | BindingFlags.NonPublic, null,
</I>&gt;<i>             this, new object[]{ e } );
</I>&gt;<i> }
</I>&gt;<i>=20
</I>&gt;<i> // ...
</I>&gt;<i>=20
</I>&gt;<i> private void HandleException( CookComputing.XmlRpc.XmlRpcFaultException e=
</I> )
&gt;<i> {
</I>&gt;<i>    //...
</I>&gt;<i> }
</I>&gt;<i>=20
</I>&gt;<i> private void HandleException( FooException e )
</I>&gt;<i> {
</I>&gt;<i>    //...
</I>&gt;<i> }
</I>&gt;<i>=20
</I>&gt;<i> private void HandleException( Exception e )
</I>&gt;<i> {
</I>&gt;<i>    // called if there are no other matching signatures
</I>&gt;<i> }
</I>&gt;<i>=20
</I>&gt;<i> Of course, it isn't particularly fast...
</I>&gt;<i>=20
</I>&gt;<i> --
</I>&gt;<i> Arild
</I>&gt;<i>=20
</I>&gt;<i> AnkhSVN: <A HREF="http://ankhsvn.tigris.org">http://ankhsvn.tigris.org</A>
</I>&gt;<i> Blog: <A HREF="http://ankhsvn.com/blog">http://ankhsvn.com/blog</A>
</I>&gt;<i> IRC: <A HREF="irc://irc.freenode.net/ankhsvn">irc://irc.freenode.net/ankhsvn</A>
</I>&gt;<i>=20
</I>&gt;<i> &quot;Weaseling out of things is good. It's what separates us from the other
</I>&gt;<i> animals....except weasels.&quot; -- Homer Simpson
</I>--=20
Pablo Fischer Sandoval (pablo [arroba/at] pablo.com.mx)
Fingerprint:  5973 0F10 543F 54AE 1E41  EC81 0840 A10A 74A4 E5C0
<A HREF="http://www.pablo.com.mx=20">http://www.pablo.com.mx=20</A>
<A HREF="http://www.debianmexico.org">http://www.debianmexico.org</A>

--=-Cb/u6renAVsJVo0r5nJl
Content-Type: application/pgp-signature; name=signature.asc
Content-Description: Esta parte del mensaje =?ISO-8859-1?Q?est=E1?= firmada
	digitalmente

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.4 (GNU/Linux)

iD8DBQBA4YEpCEChCnSk5cARArtcAJ4nVCuu/G9/CI8gWqOuqOtP7i/0uwCdGvZg
uu4bWjs8TiUOSk1F+00yemA=
=TNXQ
-----END PGP SIGNATURE-----

--=-Cb/u6renAVsJVo0r5nJl--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="021679.html">[Mono-list] Using Exceptions with external Plugins
</A></li>
	<LI> Next message: <A HREF="021680.html">[Mono-list] err:module:import_dll Library mscoree.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21685">[ date ]</a>
              <a href="thread.html#21685">[ thread ]</a>
              <a href="subject.html#21685">[ subject ]</a>
              <a href="author.html#21685">[ author ]</a>
         </LI>
       </UL>
</body></html>
