<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] POSGRESQL / NPGSQL / MONO / DATASET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:KiOrKY%20%3Ckiorky%40goddess-gate.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="021149.html">
   <LINK REL="Next"  HREF="021098.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] POSGRESQL / NPGSQL / MONO / DATASET
   </H1>
    <B>KiOrKY
    </B> 
    <A HREF="mailto:KiOrKY%20%3Ckiorky%40goddess-gate.com%3E"
       TITLE="[Mono-list] POSGRESQL / NPGSQL / MONO / DATASET">KiOrKY &lt;kiorky@goddess-gate.com&gt;
       </A><BR>
    <I>Tue,  8 Jun 2004 14:54:41 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="021149.html">[Mono-list] FedoraCore + wine
</A></li>
        <LI> Next message: <A HREF="021098.html">[Mono-list] POSGRESQL / NPGSQL / MONO / DATASET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21097">[ date ]</a>
              <a href="thread.html#21097">[ thread ]</a>
              <a href="subject.html#21097">[ subject ]</a>
              <a href="author.html#21097">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In fact dont help, the goal is to migrate entirely an windows application into mono environnment and the base opf this application is to
dataadpter.fill(dataset)

in anyway, i have tested datareader which work fine !

just a litlle precision :)

mono is a dream, its the last error i have at the moment !

all the classses we need at enterprise are working well !

Francisco Figueiredo Jr. &lt;<A HREF="mailto:fxjrlists@yahoo.com.br">fxjrlists@yahoo.com.br</A>&gt; a écrit :

&gt;<i> KiOrKY wrote:
</I>&gt;<i> 
</I>&gt;<i> &amp;gt;wan someone help to run npgsql with mono.
</I>&gt;<i> &amp;gt;in fact datareader work fine but not dataapdeter and so dataset!
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;here is the report:
</I>&gt;<i> &amp;gt;debian sid
</I>&gt;<i> &amp;gt;kernel  2.4.26
</I>&gt;<i> &amp;gt;mcs 095
</I>&gt;<i> &amp;gt;mono 20040603
</I>&gt;<i> &amp;gt;gecko-sharp-0.4         gtksourceview-sharp-0.3         winelib-0.3
</I>&gt;<i> &amp;gt;gtk-sharp-0.93          libgdiplus-0.8                  wine20040505
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;the base is postgresql and is not on the same machine 
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;the result; out of memory error
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;DB BASE SHEMA:
</I>&gt;<i> &amp;gt;base postgresql
</I>&gt;<i> &amp;gt;provider: npgsql
</I>&gt;<i> &amp;gt;table popo
</I>&gt;<i> &amp;gt;column: C1: int    C2: string
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;code:
</I>&gt;<i> &amp;gt;try {
</I>&gt;<i> &amp;gt;cout.WriteLine(&amp;quot;\t\t---------------------------------------------&amp;quot;);
</I>&gt;<i> &amp;gt;cout.WriteLine(&amp;quot;\t\t---     DEBUT APPLICATION              
</I>&gt;<i> -----&amp;quot;);
</I>&gt;<i> &amp;gt;cout.WriteLine(&amp;quot;\t\t---------------------------------------------&amp;quot;);
</I>&gt;<i> &amp;gt;string srequet =@&amp;quot;delete from popo;&amp;quot;;
</I>&gt;<i> &amp;gt;srequet+=@&amp;quot;insert into popo(sssss,xdsd)&amp;quot;;
</I>&gt;<i> &amp;gt;srequet+=@&amp;quot;values('59','aaaaa');&amp;quot;;
</I>&gt;<i> &amp;gt;srequet+=@&amp;quot;insert into popo(sssss,xdsd)&amp;quot;;
</I>&gt;<i> &amp;gt;srequet+=@&amp;quot;values('519','aaaaa');&amp;quot;;
</I>&gt;<i> &amp;gt;srequet+=@&amp;quot;insert into popo(sssss,xdsd)&amp;quot;;
</I>&gt;<i> &amp;gt;srequet+=@&amp;quot;values('529','aaaaa');&amp;quot;;
</I>&gt;<i> &amp;gt;srequet+=@&amp;quot;insert into popo(sssss,xdsd)&amp;quot;;
</I>&gt;<i> &amp;gt;srequet+=@&amp;quot;values('359','aaaaa');&amp;quot;;
</I>&gt;<i> &amp;gt;srequet+=@&amp;quot;insert into popo(sssss,xdsd)&amp;quot;;
</I>&gt;<i> &amp;gt;srequet+=@&amp;quot;values('459','aaaaa');&amp;quot;;	
</I>&gt;<i> &amp;gt;srequet+=@&amp;quot;SELECT *  FROM popo&amp;quot;;
</I>&gt;<i> &amp;gt;string srequet3=@&amp;quot;Server=126.10.0.1;Port=5432;User
</I>&gt;<i> Id=Pasquet;Database=&amp;quot;;
</I>&gt;<i> &amp;gt;srequet3+=@&amp;quot;Marrot;Password=kiorky&amp;quot;;
</I>&gt;<i> &amp;gt;Npgsql.NpgsqlConnection toto = new Npgsql.NpgsqlConnection(srequet3);
</I>&gt;<i> &amp;gt;toto.Open();
</I>&gt;<i> &amp;gt;Npgsql.NpgsqlCommand cmd = new Npgsql.NpgsqlCommand(srequet,toto);
</I>&gt;<i> &amp;gt;Npgsql.NpgsqlDataAdapter DaAd = new Npgsql.NpgsqlDataAdapter(cmd);
</I>&gt;<i> &amp;gt;DataSet Dsdset = new DataSet();
</I>&gt;<i> &amp;gt;DaAd.Fill(Dsdset);
</I>&gt;<i> &amp;gt;Dsdset.AcceptChanges();							
</I>&gt;<i> &amp;gt;DataTableCollection dtccol = Dsdset.Tables;
</I>&gt;<i> &amp;gt;foreach(DataTable dtta in dtccol)
</I>&gt;<i> &amp;gt;{
</I>&gt;<i> &amp;gt;cout.WriteLine( dtta.TableName);
</I>&gt;<i> &amp;gt;foreach(DataRow drro in dtta.Rows)
</I>&gt;<i> &amp;gt;{
</I>&gt;<i> &amp;gt;cout.WriteLine(&amp;quot;c1: {0} &amp;lt;-&amp;gt; c2: {1} &amp;lt;-&amp;gt;
</I>&gt;<i> &amp;gt;\n&amp;quot;,(Int32)drro.ItemArray[0],drro.ItemArray[1]);				
</I>&gt;<i> &amp;gt;}
</I>&gt;<i> &amp;gt;}
</I>&gt;<i> &amp;gt;toto.Close();	
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;exectuion report
</I>&gt;<i> &amp;gt;doldit100:/home/kiorky/bin/jeveux# mono toto.exe 
</I>&gt;<i> &amp;gt;                ---------------------------------------------
</I>&gt;<i> &amp;gt;                ---     DEBUT APPLICATION               -----
</I>&gt;<i> &amp;gt;                ---------------------------------------------
</I>&gt;<i> &amp;gt;execption levee: Out of memory
</I>&gt;<i> &amp;gt;doldit100:/home/kiorky/bin/jeveux# mono --debug  toto.exe 
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;** (toto.exe:24747): WARNING **: Symbol file
</I>&gt;<i> &amp;gt;/usr//lib/mono/gac/Accessibility/1.0.5000.0__b03f5f7f11d50a3a/Accessibility.dll
</I>&gt;<i> &amp;gt;has incorrect version (expected 37, got 36)
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;** (toto.exe:24747): WARNING **: Symbol file
</I>&gt;<i> &amp;gt;/usr//lib/mono/gac/System.Windows.Forms/1.0.5000.0__b77a5c561934e089/System.Windows.Forms.dll
</I>&gt;<i> &amp;gt;has incorrect version (expected 37, got 36)
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;** (toto.exe:24747): WARNING **: Symbol file
</I>&gt;<i> &amp;gt;/usr//lib/mono/gac/System.Design/1.0.5000.0__b03f5f7f11d50a3a/System.Design.dll
</I>&gt;<i> &amp;gt;has incorrect version (expected 37, got 36)
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;** (toto.exe:24747): WARNING **: Symbol file
</I>&gt;<i> &amp;gt;/usr//lib/mono/gac/Npgsql/1.0.5000.0__5d8b90d52f46fda7/Npgsql.dll has
</I>&gt;<i> &amp;gt;incorrect version (expected 37, got 36)
</I>&gt;<i> &amp;gt;                ---------------------------------------------
</I>&gt;<i> &amp;gt;                ---     DEBUT APPLICATION               -----
</I>&gt;<i> &amp;gt;                ---------------------------------------------
</I>&gt;<i> &amp;gt;** (toto.exe:24751): WARNING **: Symbol file
</I>&gt;<i> &amp;gt;/usr//lib/mono/gac/Mono.Posix/1.0.5000.0__0738eb9f132ed756/Mono.Posix.dll
</I>&gt;<i> &amp;gt;has incorrect version (expected 37, got 36)
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;-------------------&amp;gt;   execption levee: Out of memory
</I>&gt;<i> &amp;gt;                        
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;version:
</I>&gt;<i> &amp;gt;										doldit100:/home/kiorky/bin/jeveux# monodis --assembly
</I>&gt;<i> &amp;gt;/usr/lib/mono/gac/Npgsql/1.0.5000.0__5d8b90d52f46fda7/Npgsql.dll 
</I>&gt;<i> &amp;gt;Assembly Table
</I>&gt;<i> &amp;gt;Name:          Npgsql
</I>&gt;<i> &amp;gt;Hash Algoritm: 0x00008004
</I>&gt;<i> &amp;gt;Version:       1.0.5000.0
</I>&gt;<i> &amp;gt;Flags:         0x00000000
</I>&gt;<i> &amp;gt;PublicKey:     BlobPtr (0x000004b8)
</I>&gt;<i> &amp;gt;        Dump:
</I>&gt;<i> &amp;gt;0x00000000: 00 24 00 00 04 80 00 00 94 00 00 00 06 02 00 00 
</I>&gt;<i> &amp;gt;0x00000010: 00 24 00 00 52 53 41 31 00 04 00 00 01 00 01 00 
</I>&gt;<i> &amp;gt;0x00000020: 2B 3C 59 0B 2A 4E 3D 34 7E 68 78 DC 0F F4 D2 1E 
</I>&gt;<i> &amp;gt;0x00000030: B0 56 A5 04 20 25 0C 66 17 04 43 30 70 1D 35 C9 
</I>&gt;<i> &amp;gt;0x00000040: 80 78 A5 DF 97 A6 2D 83 C9 A2 DB 2D 07 25 23 A8 
</I>&gt;<i> &amp;gt;0x00000050: FC 49 13 98 25 4C 6B 89 32 9B 8C 1D CE F4 3A 1E 
</I>&gt;<i> &amp;gt;0x00000060: 7A A1 61 53 BC EA 2A E9 A4 71 14 56 24 82 6F 60 
</I>&gt;<i> &amp;gt;0x00000070: D7 C8 E7 1C D0 25 B5 54 A0 17 7B D9 35 A7 80 96 
</I>&gt;<i> &amp;gt;0x00000080: 29 F0 A7 AF C7 78 EB B4 AD 03 3E 1B F5 12 C1 A9 
</I>&gt;<i> &amp;gt;0x00000090: C6 CE EA 26 B0 77 BC 46 CA C9 38 00 43 5E 77 EE 
</I>&gt;<i> &amp;gt;Culture: 
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;
</I>&gt;<i> &amp;gt;  
</I>&gt;<i> &amp;gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hi Kiorky.
</I>&gt;<i> 
</I>&gt;<i> Sorry for late response...
</I>&gt;<i> I was in a conference here in my country and couldn't answer you in time :)
</I>&gt;<i> 
</I>&gt;<i> I'm at my job right now and I don't have the complete devel environment 
</I>&gt;<i> setup here...
</I>&gt;<i> I will try your example when I get home to see if I get the same results...
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I see that you are passing the delete, inserts and select to dataadapter...
</I>&gt;<i> could you try to send the delete and inserts first, with 
</I>&gt;<i> NpgsqlCommand.ExecuteNonQuery() and later try to use the dataadapter 
</I>&gt;<i> with select only?
</I>&gt;<i> 
</I>&gt;<i> I hope it helps.
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> Francisco Figueiredo Jr.
</I>
-- 
----------------------------
    I{ i () r |{ Y
    Debian User
---------------------------------------------
-- Mathieu PASQUET     
-- Testeur Debian SID
-- irc: #debian-fr / irc.freenode.net port: 6667 
-- Site: www.fr.debian.org 
---------------------------------------------



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="021149.html">[Mono-list] FedoraCore + wine
</A></li>
	<LI> Next message: <A HREF="021098.html">[Mono-list] POSGRESQL / NPGSQL / MONO / DATASET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21097">[ date ]</a>
              <a href="thread.html#21097">[ thread ]</a>
              <a href="subject.html#21097">[ subject ]</a>
              <a href="author.html#21097">[ author ]</a>
         </LI>
       </UL>
</body></html>
