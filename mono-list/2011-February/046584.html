<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Problem connecting to a secure site via a NTLM	authenticating proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Problem%20connecting%20to%20a%20secure%20site%20via%20a%20NTLM%0A%09authenticating%20proxy&In-Reply-To=1297692777470-3305051.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046583.html">
   <LINK REL="Next"  HREF="046586.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Problem connecting to a secure site via a NTLM	authenticating proxy</H1>
    <B>Steve Lessard</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Problem%20connecting%20to%20a%20secure%20site%20via%20a%20NTLM%0A%09authenticating%20proxy&In-Reply-To=1297692777470-3305051.post%40n4.nabble.com"
       TITLE="[Mono-list] Problem connecting to a secure site via a NTLM	authenticating proxy">s_lessard at yahoo.com
       </A><BR>
    <I>Mon Feb 14 13:31:31 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="046583.html">[Mono-list] Problem connecting to a secure site via a NTLM	authenticating proxy
</A></li>
        <LI>Next message: <A HREF="046586.html">[Mono-list] Problem connecting to a secure site via a NTLM	authenticating proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46584">[ date ]</a>
              <a href="thread.html#46584">[ thread ]</a>
              <a href="subject.html#46584">[ subject ]</a>
              <a href="author.html#46584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You should try isolating the problem by removing .NET and Mono altogether. Try using curl to make the same connection. Curl has support for all types of proxy servers as well as good debugging capabilities. Using curl may help you gain more insight into how connections through the proxy work.

-SteveL


On Feb 14, 2011, at 6:12 AM, Andrew Bryson &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">abryson at rm.com</A>&gt; wrote:

&gt;<i> 
</I>&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> We've had a problem within our software for a while that our client on Mac
</I>&gt;<i> (OS X 10.5-106, Mono 2.6) has not been able to connect to websites which
</I>&gt;<i> require HTTPS when connecting through a NTLM authentication proxy (Microsoft
</I>&gt;<i> ISA 2006).  In trying to get to the bottom of this I've discovered:
</I>&gt;<i> 
</I>&gt;<i> - This is a problem with Mono 2.6 and 2.8(.2).
</I>&gt;<i> - NTLM authentication works through the ISA proxy when the target site uses
</I>&gt;<i> plain HTTP.  We must connect securely via HTTPS.
</I>&gt;<i> - The same problem happens on Windows when I execute my C# .NET 2.0 app
</I>&gt;<i> directly (i.e. not launching it with 'mono').
</I>&gt;<i> 
</I>&gt;<i> I have put together a small application to allow me to test this issue. 
</I>&gt;<i> When calling HttpWebRequest.GetResponse() the following exception occurs:
</I>&gt;<i> <A HREF="http://pastie.org/1562663.">http://pastie.org/1562663.</A>
</I>&gt;<i> 
</I>&gt;<i> I've tried playing around with the HttpWebRequest.PreAuthenticate property,
</I>&gt;<i> and associating the credentials with the HttpWebRequest.Credentials object
</I>&gt;<i> (but the website does not require auth, only the proxy).
</I>&gt;<i> 
</I>&gt;<i> The same binary executed on Windows works.  I realy hope that somebody is
</I>&gt;<i> able to help me out in either fixing the problem, or confirming that it's a
</I>&gt;<i> known issue in the current Mono framework.  Here's the test application:
</I>&gt;<i> <A HREF="http://pastie.org/1562659.">http://pastie.org/1562659.</A>
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> andy
</I>&gt;<i> -- 
</I>&gt;<i> View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Problem-connecting-to-a-secure-site-via-a-NTLM-authenticating-proxy-tp3305051p3305051.html">http://mono.1490590.n4.nabble.com/Problem-connecting-to-a-secure-site-via-a-NTLM-authenticating-proxy-tp3305051p3305051.html</A>
</I>&gt;<i> Sent from the Mono - General mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I></PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046583.html">[Mono-list] Problem connecting to a secure site via a NTLM	authenticating proxy
</A></li>
	<LI>Next message: <A HREF="046586.html">[Mono-list] Problem connecting to a secure site via a NTLM	authenticating proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46584">[ date ]</a>
              <a href="thread.html#46584">[ thread ]</a>
              <a href="subject.html#46584">[ subject ]</a>
              <a href="author.html#46584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
