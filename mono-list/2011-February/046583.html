<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Problem connecting to a secure site via a NTLM	authenticating proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Problem%20connecting%20to%20a%20secure%20site%20via%20a%20NTLM%0A%09authenticating%20proxy&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046580.html">
   <LINK REL="Next"  HREF="046584.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Problem connecting to a secure site via a NTLM	authenticating proxy</H1>
    <B>Andrew Bryson</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Problem%20connecting%20to%20a%20secure%20site%20via%20a%20NTLM%0A%09authenticating%20proxy&In-Reply-To="
       TITLE="[Mono-list] Problem connecting to a secure site via a NTLM	authenticating proxy">abryson at rm.com
       </A><BR>
    <I>Mon Feb 14 09:12:57 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="046580.html">[Mono-list] dlopen problem on Mono 2.4.4
</A></li>
        <LI>Next message: <A HREF="046584.html">[Mono-list] Problem connecting to a secure site via a NTLM	authenticating proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46583">[ date ]</a>
              <a href="thread.html#46583">[ thread ]</a>
              <a href="subject.html#46583">[ subject ]</a>
              <a href="author.html#46583">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi all,

We've had a problem within our software for a while that our client on Mac
(OS X 10.5-106, Mono 2.6) has not been able to connect to websites which
require HTTPS when connecting through a NTLM authentication proxy (Microsoft
ISA 2006).  In trying to get to the bottom of this I've discovered:

 - This is a problem with Mono 2.6 and 2.8(.2).
 - NTLM authentication works through the ISA proxy when the target site uses
plain HTTP.  We must connect securely via HTTPS.
 - The same problem happens on Windows when I execute my C# .NET 2.0 app
directly (i.e. not launching it with 'mono').

I have put together a small application to allow me to test this issue. 
When calling HttpWebRequest.GetResponse() the following exception occurs:
<A HREF="http://pastie.org/1562663.">http://pastie.org/1562663.</A>

I've tried playing around with the HttpWebRequest.PreAuthenticate property,
and associating the credentials with the HttpWebRequest.Credentials object
(but the website does not require auth, only the proxy).

The same binary executed on Windows works.  I realy hope that somebody is
able to help me out in either fixing the problem, or confirming that it's a
known issue in the current Mono framework.  Here's the test application:
<A HREF="http://pastie.org/1562659.">http://pastie.org/1562659.</A>

Thanks,
andy
-- 
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Problem-connecting-to-a-secure-site-via-a-NTLM-authenticating-proxy-tp3305051p3305051.html">http://mono.1490590.n4.nabble.com/Problem-connecting-to-a-secure-site-via-a-NTLM-authenticating-proxy-tp3305051p3305051.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046580.html">[Mono-list] dlopen problem on Mono 2.4.4
</A></li>
	<LI>Next message: <A HREF="046584.html">[Mono-list] Problem connecting to a secure site via a NTLM	authenticating proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46583">[ date ]</a>
              <a href="thread.html#46583">[ thread ]</a>
              <a href="subject.html#46583">[ subject ]</a>
              <a href="author.html#46583">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
