<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mono.Posix
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono.Posix&In-Reply-To=119412.18888.qm%40web114703.mail.gq1.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046538.html">
   <LINK REL="Next"  HREF="046535.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mono.Posix</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono.Posix&In-Reply-To=119412.18888.qm%40web114703.mail.gq1.yahoo.com"
       TITLE="[Mono-list] Mono.Posix">jonpryor at vt.edu
       </A><BR>
    <I>Wed Feb  2 14:24:08 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="046538.html">[Mono-list] Mono.Posix
</A></li>
        <LI>Next message: <A HREF="046535.html">[Mono-list]  reflector alternitives
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46534">[ date ]</a>
              <a href="thread.html#46534">[ thread ]</a>
              <a href="subject.html#46534">[ subject ]</a>
              <a href="author.html#46534">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Feb 2, 2011, at 5:54 AM, Steve Lessard wrote:
&gt;<i> ...
</I>&gt;<i> This tool basically checks a file's permissions to see if the file is executable by any or all of user, group, other.
</I>&gt;<i> Windows is supposed to have a Posix compliant layer. Does Mono.Posix assembly work on Windows's Posix layer? 
</I>
Mono.Posix.dll only partially works on Windows:

  - Mono.Unix.Convert works (requires INTL.DLL)
  - Mono.Unix.Native.Stdlib works (uses MSVCRT.DLL)
  - Mono.Unix.StdioFileStream works (uses Mono.Unix.Native.Stdlib)

Beyond that, forgetaboutit.  Everything else depends on calls into MonoPosixHelper.dll which aren't compiled on Windows (e.g. Syscall.setxattr), or are calls into libc directly (which is remapped to MSVCRT.DLL under Mono, but those functions won't exist).

For example, Syscall.access() P/Invokes &quot;libc&quot;.  If you use Mono.Posix.dll under .NET, this will fail (no such library).  Under Mono, it should get remapped to MSVCRT.DLL, but MSVCRT.DLL doesn't have an &quot;access&quot; export (it instead has &quot;_access&quot;), so the attempt to find the method will fail.

Furthermore, using Syscall.access() to check the executable bit doesn't make lots of sense on Windows.  Even when it did have a POSIX layer, very little software actually used it, so the important bit is NTFS ACLs, which access() likely won't know about.

 - Jon

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046538.html">[Mono-list] Mono.Posix
</A></li>
	<LI>Next message: <A HREF="046535.html">[Mono-list]  reflector alternitives
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46534">[ date ]</a>
              <a href="thread.html#46534">[ thread ]</a>
              <a href="subject.html#46534">[ subject ]</a>
              <a href="author.html#46534">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
