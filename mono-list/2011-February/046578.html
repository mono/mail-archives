<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Can not add a SSL web reference using MONO 2.6.7
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Can%20not%20add%20a%20SSL%20web%20reference%20using%20MONO%202.6.7&In-Reply-To=1297456795386-3302015.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046577.html">
   <LINK REL="Next"  HREF="046579.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Can not add a SSL web reference using MONO 2.6.7</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Can%20not%20add%20a%20SSL%20web%20reference%20using%20MONO%202.6.7&In-Reply-To=1297456795386-3302015.post%40n4.nabble.com"
       TITLE="[Mono-list] Can not add a SSL web reference using MONO 2.6.7">sebastien.pouliot at gmail.com
       </A><BR>
    <I>Fri Feb 11 16:01:43 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="046577.html">[Mono-list] Can not add a SSL web reference using MONO 2.6.7
</A></li>
        <LI>Next message: <A HREF="046579.html">[Mono-list] Can not add a SSL web reference using MONO 2.6.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46578">[ date ]</a>
              <a href="thread.html#46578">[ thread ]</a>
              <a href="subject.html#46578">[ subject ]</a>
              <a href="author.html#46578">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2011-02-11 at 12:39 -0800, diegocairone wrote:
&gt;<i> I am trying to create a proxy for a Web Servicie on a SSL WebSite. To do
</I>&gt;<i> that, i am using the utility &quot;wsdl&quot; or the monodevelop IDE.
</I>&gt;<i> 
</I>&gt;<i> The URL of the Web Service is:
</I>&gt;<i> &quot;<A HREF="https://wsaahomo.afip.gov.ar/ws/services/LoginCms?wsdl&quot;">https://wsaahomo.afip.gov.ar/ws/services/LoginCms?wsdl&quot;</A> and when I add the
</I>&gt;<i> web reference on Monodevelop IDE or in a console using the utility &quot;wsdl&quot; I
</I>&gt;<i> gets the next error message: &quot;Error getting response stream (Write: The
</I>&gt;<i> authentication or decryption has failed.): SendFailure&quot;
</I>&gt;<i> 
</I>&gt;<i> Before doing this, I have imported all roots certificates from Mozilla
</I>&gt;<i> excecuting this: &quot;sudo mozroots --import --ask-remove&quot;.
</I>
That's a bad idea. You're mixing two things. There are a &quot;current user&quot;
and a &quot;local machine&quot; certificate stores.

When you do a &quot;mozroots --import&quot; then you are, by default, using the
current user store - which is generally enough (unless your code runs
under a different account, like apache/mod_mono/ASP.NET).

If you want to import in the local machine store then you need to be
able to write to /usr/share, that's where sudo is helpful. In this case
you'll do a &quot;sudo mozroots --machine --import&quot;

But what you did is a mix of both resulting in importing the
certificates inside the 'root' user store. That will never be available
to you (unless you run your apps as 'root').

&gt;<i> Also, I did: &quot;certmgr -ssl <A HREF="https://wsaahomo.afip.gov.ar/&quot;">https://wsaahomo.afip.gov.ar/&quot;</A> and copied that
</I>&gt;<i> certificates to the stores: &quot;AddressBook&quot;, &quot;CA&quot; and &quot;Trust&quot; in
</I>&gt;<i> &quot;~/.config/.mono/certs&quot;.
</I>
Most SSL server do not send root certificates as part of the X.509 chain
(that's covered in the FAQ [1] where it says &quot;intermediate&quot; certificate
will be copied). So this will not add anything into Trust. If you
manually copied stuff into Trust then you'll likely get a lot of
problems -&gt; delete them.

Sebastien

[1] please (re)read <A HREF="http://www.mono-project.com/FAQ:_Security">http://www.mono-project.com/FAQ:_Security</A>


</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046577.html">[Mono-list] Can not add a SSL web reference using MONO 2.6.7
</A></li>
	<LI>Next message: <A HREF="046579.html">[Mono-list] Can not add a SSL web reference using MONO 2.6.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46578">[ date ]</a>
              <a href="thread.html#46578">[ thread ]</a>
              <a href="subject.html#46578">[ subject ]</a>
              <a href="author.html#46578">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
