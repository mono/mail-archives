<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] &quot;mscorlib.dll is an invalid CIL image&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20%22mscorlib.dll%20is%20an%20invalid%20CIL%20image%22&In-Reply-To=1241013016.4961.186.camel%40lina">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042271.html">
   <LINK REL="Next"  HREF="042266.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] &quot;mscorlib.dll is an invalid CIL image&quot;</H1>
    <B>Chris Plasun</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20%22mscorlib.dll%20is%20an%20invalid%20CIL%20image%22&In-Reply-To=1241013016.4961.186.camel%40lina"
       TITLE="[Mono-list] &quot;mscorlib.dll is an invalid CIL image&quot;">chrispl78 at yahoo.com
       </A><BR>
    <I>Wed Apr 29 20:22:48 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="042271.html">[Mono-list] &quot;mscorlib.dll is an invalid CIL image&quot;
</A></li>
        <LI>Next message: <A HREF="042266.html">[Mono-list] &quot;mscorlib.dll is an invalid CIL image&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42282">[ date ]</a>
              <a href="thread.html#42282">[ thread ]</a>
              <a href="subject.html#42282">[ subject ]</a>
              <a href="author.html#42282">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Tue, 2009-04-28 at 19:28 -0700, Chris Plasun wrote:
</I>&gt;<i> &gt; &gt; So what you _can_ do is build e.g. Mono 2.4 on openSUSE, Mono 2.4 on
</I>&gt;<i> &gt; &gt; Linux/PPC, and copy the mscorlib.dll from your openSUSE build to
</I>&gt;<i> &gt; &gt; Linux/PPC, but you cannot e.g. take an mscorlib.dll from Mono 2.0
</I>&gt;<i> &gt; &gt; (openSUSE packaged version) and run it against a Mono 2.4 runtime.  The
</I>&gt;<i> &gt; &gt; versions *must* be the same (and this is checked at program startup).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Yes, but I did run the same version (or so I think) version of mscorlib.dll.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Is the problem to with the fact that I took mscorlib.dll for SUSE and 
</I>&gt;<i> &gt; tried to use it on the PowerPC board?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I matched the version numbers (the directory names?).
</I>&gt;<i> 
</I>&gt;<i> That's not the version to match.  The directory names
</I>&gt;<i> ($prefix/lib/mono/2.0/mscorlib.dll) contain the *profile* version, NOT
</I>&gt;<i> the Mono version.  So both Mono 2.0 and Mono 2.4 will contain a
</I>&gt;<i> $prefix/lib/mono/2.0/mscorlib.dll file, but you CANNOT use mscorlib.dll
</I>&gt;<i> from Mono 2.4 with Mono 2.0 (and vice versa).
</I>&gt;<i> 
</I>&gt;<i> Thus, you can't use the directory names to determine version numbers,
</I>&gt;<i> you have to know which Mono versions are involved.
</I>
Ah.


&gt;<i> Furthermore, based on the commands your contractor supposedly ran, your
</I>&gt;<i> contractor built Mono 2.2.  This is not part of any openSUSE release;
</I>&gt;<i> openSUSE 11.1 contains 2.0, while openSUSE 11.2 (in development) will
</I>&gt;<i> likely contain Mono 2.4 or 2.6, so if you're trying to use the openSUSE
</I>&gt;<i> distro-provided mscorlib.dll, it likely will not work.
</I>
That makes sense.

&gt;<i> &gt; How can I concretely determine what version of mscorlib.dll I'm using? 
</I>&gt;<i> &gt; Lutz Reflector?
</I>&gt;<i> 
</I>&gt;<i> Know where you got the binary from.
</I>
There's no way to find out the version by reflection?

&gt;<i> The easiest way is to just build Mono yourself from source on all
</I>&gt;<i> platforms, using the same tarball, thus ensuring that you have the same
</I>&gt;<i> Mono version everywhere.
</I>
Yes, that's what I'm going to attempt... to learn how to attempt to at least this weekend. 
I went through a number of MAKE tutorials so that I can figure out what is going.

The problem is that this needs to be a cross compile. Should be fun.

My Mono enlightenment has moved up a little bit =)

Might have to bother you again later, thanks again Jonathan.

Chris Plasun

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042271.html">[Mono-list] &quot;mscorlib.dll is an invalid CIL image&quot;
</A></li>
	<LI>Next message: <A HREF="042266.html">[Mono-list] &quot;mscorlib.dll is an invalid CIL image&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42282">[ date ]</a>
              <a href="thread.html#42282">[ thread ]</a>
              <a href="subject.html#42282">[ subject ]</a>
              <a href="author.html#42282">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
