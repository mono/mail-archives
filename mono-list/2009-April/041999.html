<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] FileSystemWatcher on Linux to monitor a remote NTFS share
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20FileSystemWatcher%20on%20Linux%20to%20monitor%20a%20remote%20NTFS%0A%20share&In-Reply-To=22836300.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041979.html">
   <LINK REL="Next"  HREF="042000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] FileSystemWatcher on Linux to monitor a remote NTFS share</H1>
    <B>colinjones</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20FileSystemWatcher%20on%20Linux%20to%20monitor%20a%20remote%20NTFS%0A%20share&In-Reply-To=22836300.post%40talk.nabble.com"
       TITLE="[Mono-list] FileSystemWatcher on Linux to monitor a remote NTFS share">colin_a_jones at hotmail.com
       </A><BR>
    <I>Sun Apr  5 02:00:50 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="041979.html">[Mono-list] FileSystemWatcher on Linux to monitor a remote NTFS	share
</A></li>
        <LI>Next message: <A HREF="042000.html">[Mono-list] FileSystemWatcher on Linux to monitor a remote NTFS share
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41999">[ date ]</a>
              <a href="thread.html#41999">[ thread ]</a>
              <a href="subject.html#41999">[ subject ]</a>
              <a href="author.html#41999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
OK, I have now compiled a C# snippet that is essentially the same as the code
on the MSDN site and it runs fine both on a Windows machine and on Linux
running under Mono.

Functionally it works for local files on both. On Windows it will also
happily take a UNC path and monitor a remote folder. However, running on
Linux under Mono it refuses to accept a UNC path, with:

Unhandled Exception: System.ArgumentException: Directory does not exists
Parameter name: path
  at System.IO.FileSystemWatcher..ctor (System.String path, System.String
filter) [0x00000]
  at System.IO.FileSystemWatcher..ctor (System.String path) [0x00000]
  at (wrapper remoting-invoke-with-check) System.IO.FileSystemWatcher:.ctor
(string)
  at FileSystemWatcherTest.Program.Run (System.String[] args) [0x00000]
  at FileSystemWatcherTest.Program.Main (System.String[] args) [0x00000]


I have tried alsorts of different formats to try to get it to accept a UNC
like the .NET class does, but it won't do it. Is this a bug? Shouldn't the
API present the same interface as the .NET class does?

I don't think there is any point trying to mount the remote share, or
anything like that because the FileSystemWatcher class needs to parse the
UNC path to get the remote machine name so that it can connect to the same
functionality on the remote machine using COM communications. 

-- 
View this message in context: <A HREF="http://www.nabble.com/FileSystemWatcher-on-Linux-to-monitor-a-remote-NTFS-share-tp22836300p22890797.html">http://www.nabble.com/FileSystemWatcher-on-Linux-to-monitor-a-remote-NTFS-share-tp22836300p22890797.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041979.html">[Mono-list] FileSystemWatcher on Linux to monitor a remote NTFS	share
</A></li>
	<LI>Next message: <A HREF="042000.html">[Mono-list] FileSystemWatcher on Linux to monitor a remote NTFS share
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41999">[ date ]</a>
              <a href="thread.html#41999">[ thread ]</a>
              <a href="subject.html#41999">[ subject ]</a>
              <a href="author.html#41999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
