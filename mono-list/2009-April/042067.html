<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] OnDeserialization problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20OnDeserialization%20problem&In-Reply-To=22663867.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042071.html">
   <LINK REL="Next"  HREF="042068.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] OnDeserialization problem</H1>
    <B>Chris Howie</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20OnDeserialization%20problem&In-Reply-To=22663867.post%40talk.nabble.com"
       TITLE="[Mono-list] OnDeserialization problem">cdhowie at gmail.com
       </A><BR>
    <I>Thu Apr  9 20:55:19 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="042071.html">[Mono-list] Re gular expression inconsistency between Mono 2.4	and .Net
</A></li>
        <LI>Next message: <A HREF="042068.html">[Mono-list] OnDeserialization problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42067">[ date ]</a>
              <a href="thread.html#42067">[ thread ]</a>
              <a href="subject.html#42067">[ subject ]</a>
              <a href="author.html#42067">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Mar 23, 2009 at 12:35 PM, Dave Null &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">eric.jacoboni at gmail.com</A>&gt; wrote:
&gt;<i> BTW... What is the preferred way to achieve this kind of stuff ?
</I>&gt;<i>
</I>&gt;<i> 1) using IDeserializationCallback interface and implementing
</I>&gt;<i> OnDeserialization() method, as i've done above
</I>&gt;<i> 2) or, simply using [OnDeserializated] attribute as in:
</I>
I prefer the first method since using the attribute requires (IIRC) a
public method, which is unsightly and can &quot;poison&quot; your API with
superfluous methods.

If you use the interface you can implement the method explicitly (you
do so implicitly, so it still show up public).  This does not prevent
other developers from using that method, but it does require them to
first cast to the interface type.

If you want to allow this method to be overridden (you seem to based
on the virtual keyword) then you can do something like this:

class Foo : IDeserializationCallback {
    void IDeserializationCallback.OnDeserialization(object sender) {
        OnDeserialization(sender);
    }

    protected virtual void OnDeserialization(object sender) {
    }
}

This gets all of the deserialization-related methods out of the public
API, while still allowing derived classes to override the
deserialization hook.

-- 
Chris Howie
<A HREF="http://www.chrishowie.com">http://www.chrishowie.com</A>
<A HREF="http://en.wikipedia.org/wiki/User:Crazycomputers">http://en.wikipedia.org/wiki/User:Crazycomputers</A>
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042071.html">[Mono-list] Re gular expression inconsistency between Mono 2.4	and .Net
</A></li>
	<LI>Next message: <A HREF="042068.html">[Mono-list] OnDeserialization problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42067">[ date ]</a>
              <a href="thread.html#42067">[ thread ]</a>
              <a href="subject.html#42067">[ subject ]</a>
              <a href="author.html#42067">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
