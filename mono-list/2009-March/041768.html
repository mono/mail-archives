<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] LockBits() on Mono 2.2?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20LockBits%28%29%20on%20Mono%202.2%3F&In-Reply-To=22611603.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041788.html">
   <LINK REL="Next"  HREF="041763.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] LockBits() on Mono 2.2?</H1>
    <B>Stifu</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20LockBits%28%29%20on%20Mono%202.2%3F&In-Reply-To=22611603.post%40talk.nabble.com"
       TITLE="[Mono-list] LockBits() on Mono 2.2?">stifu at free.fr
       </A><BR>
    <I>Fri Mar 20 03:44:06 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="041788.html">[Mono-list] LockBits() on Mono 2.2?
</A></li>
        <LI>Next message: <A HREF="041763.html">[Mono-list]  Mdb Crash (libmonodebuggerreadline)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41768">[ date ]</a>
              <a href="thread.html#41768">[ thread ]</a>
              <a href="subject.html#41768">[ subject ]</a>
              <a href="author.html#41768">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Basically, I have an unsafe &quot;FastBitmap&quot; class which does LockBits(), then at
some point, since I can't draw the locked bitmap on screen directly, I clone
it then draw it...
This is on Linux (openSUSE, but it most likely affects all distros),
verified with Mono 2.2 and 2.4 RC3. Windows isn't affected, since it uses
the real GDI+ library rather than libgdiplus.


LKeene wrote:
&gt;<i> 
</I>&gt;<i> Hi Stifu,
</I>&gt;<i> Uh oh. 
</I>&gt;<i> On what platform are you getting those (bad) results?
</I>&gt;<i> 
</I>&gt;<i> By &quot;cloning&quot; I'm assuming you are applying LockBits() to two bitmaps,
</I>&gt;<i> stepping through the first and copying the bytes into the second, then
</I>&gt;<i> unlocking? If its working on .NET but not Mono that's not a good sign. I
</I>&gt;<i> was afraid of something like this. 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Stifu wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I found a certain GDI+ bug recently, and I *think* it's related to
</I>&gt;&gt;<i> LockBits(). I'm not sure, and didn't report the bug as I couldn't make a
</I>&gt;&gt;<i> reduced test case yet. However, if you're interested, I can send you my
</I>&gt;&gt;<i> not-so-reduced test case so you can have a look.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> But to sum things up: I have a Bitmap, try to clone it, and the cloned
</I>&gt;&gt;<i> Bitmap is all black... while this works fine with .NET.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> LKeene wrote:
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Hello all, I have a general question regarding the use of LockBits() (in
</I>&gt;&gt;&gt;<i> GDI+) for reading/writing to a bitmap.  I'm using Mono 2.2 and am
</I>&gt;&gt;&gt;<i> targeting Windows, OSX and Linux. Any current issues concerning the use
</I>&gt;&gt;&gt;<i> of LockBits()/UnlockBits() I should be aware of? Any nasty buggies I
</I>&gt;&gt;&gt;<i> should be on the lookout for? I found a few posts pertaining to this but
</I>&gt;&gt;&gt;<i> they're not very current. 
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Thanks eveyone.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> -L
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-- 
View this message in context: <A HREF="http://www.nabble.com/LockBits%28%29-on-Mono-2.2--tp22611389p22615573.html">http://www.nabble.com/LockBits%28%29-on-Mono-2.2--tp22611389p22615573.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.

</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041788.html">[Mono-list] LockBits() on Mono 2.2?
</A></li>
	<LI>Next message: <A HREF="041763.html">[Mono-list]  Mdb Crash (libmonodebuggerreadline)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41768">[ date ]</a>
              <a href="thread.html#41768">[ thread ]</a>
              <a href="subject.html#41768">[ subject ]</a>
              <a href="author.html#41768">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
