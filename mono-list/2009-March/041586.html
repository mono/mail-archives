<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Unstable XSP 2.4 RC1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Unstable%20XSP%202.4%20RC1&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041584.html">
   <LINK REL="Next"  HREF="041587.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Unstable XSP 2.4 RC1</H1>
    <B>Pedro Santos</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Unstable%20XSP%202.4%20RC1&In-Reply-To="
       TITLE="[Mono-list] Unstable XSP 2.4 RC1">donbonifacio at gmail.com
       </A><BR>
    <I>Wed Mar  4 12:44:05 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="041584.html">[Mono-list] Popup control functionality
</A></li>
        <LI>Next message: <A HREF="041587.html">[Mono-list] Unstable XSP 2.4 RC1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41586">[ date ]</a>
              <a href="thread.html#41586">[ thread ]</a>
              <a href="subject.html#41586">[ subject ]</a>
              <a href="author.html#41586">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

We have several applications running on mono on a beta stage. We
recently migrated from win to mono and we have the following setup:

&#187; nginx + mono fastcgi server
&#187; only one instance of fastcgi-mono-server2 but with several applications (4)

&gt;<i>From our current experience we noticed that when deploying,
</I>fastcgi-mono-server2 becomes unstable and/or crashes. So at this
moment every time we deploy something we also restart
fastcgi-mono-server2. This is inconvenient but we get ok with it.

The other problem is that without any apparent reason, mono starts
throwing errors that we don't understand.
For example, this page:
<A HREF="http://manual.orionsbelt.eu/en/Battles/BattleConcepts.aspx">http://manual.orionsbelt.eu/en/Battles/BattleConcepts.aspx</A>

When we restart mono it displays ok. After some time it may display an
error. I copied the error to here:
<A HREF="http://manual.orionsbelt.eu/en/Battles/BattleConcepts.Error.aspx">http://manual.orionsbelt.eu/en/Battles/BattleConcepts.Error.aspx</A>

It isn't only this page, this is an example. However, it seams to be
only with this application.
After having this error for the first time we start to get it on
several pages, but if we restart fastcgi-mono-server2 it starts to
work ok. After some time the error comes again.

Is there anything else I can do to help fixing this?

I have gathered two related exceptions from our logs:

--------- ERROR --------------
System.Web.Compilation.CompilationException: CS0006: cannot find
metadata file `/tmp/root-temp-aspnet-0/6f3f8f0/App_global.asax.f105942.dll'
  at System.Web.Compilation.AssemblyBuilder.BuildAssembly
(System.Web.VirtualPath virtualPath,
System.CodeDom.Compiler.CompilerParameters options) [0x00000]
  at System.Web.Compilation.AssemblyBuilder.BuildAssembly
(System.Web.VirtualPath virtualPath) [0x00000]
  at System.Web.Compilation.BuildManager.GenerateAssembly
(System.Web.Compilation.AssemblyBuilder abuilder,
System.Collections.Generic.List`1 buildItems, System.Web.VirtualPath
virtualPath, BuildKind buildKind) [0x00000]
  at System.Web.Compilation.BuildManager.BuildAssembly
(System.Web.VirtualPath virtualPath) [0x00000]
  at System.Web.Compilation.BuildManager.GetCompiledType
(System.String virtualPath) [0x00000]
  at System.Web.Compilation.BuildManager.CreateInstanceFromVirtualPath
(System.String virtualPath, System.Type requiredBaseType) [0x00000]
  at System.Web.UI.PageParser.GetCompiledPageInstance (System.String
virtualPath, System.String inputFile, System.Web.HttpContext context)
[0x00000]
  at System.Web.UI.PageHandlerFactory.GetHandler
(System.Web.HttpContext context, System.String requestType,
System.String url, System.String path) [0x00000]
  at System.Web.HttpApplication.GetHandler (System.Web.HttpContext
context, System.String url, Boolean ignoreContextHandler) [0x00000]
  at System.Web.HttpApplication.GetHandler (System.Web.HttpContext
context, System.String url) [0x00000]
  at System.Web.HttpApplication+&lt;Pipeline&gt;c__Iterator2.MoveNext () [0x00000]

--------- ERROR --------------
System.Web.Compilation.CompilationException: :   at
System.IO.Directory.GetCurrentDirectory () [0x00000]
  at System.Web.Compilation.AssemblyBuilder.BuildAssembly
(System.Web.VirtualPath virtualPath,
System.CodeDom.Compiler.CompilerParameters options) [0x00000]
  at System.Web.Compilation.AssemblyBuilder.BuildAssembly
(System.Web.VirtualPath virtualPath) [0x00000]
  at System.Web.Compilation.BuildManager.GenerateAssembly
(System.Web.Compilation.AssemblyBuilder abuilder,
System.Collections.Generic.List`1 buildItems, System.Web.VirtualPath
virtualPath, BuildKind buildKind) [0x00000]
  at System.Web.Compilation.BuildManager.BuildAssembly
(System.Web.VirtualPath virtualPath) [0x00000]
  at System.Web.Compilation.BuildManager.GetCompiledType
(System.String virtualPath) [0x00000]
  at System.Web.Compilation.BuildManager.CreateInstanceFromVirtualPath
(System.String virtualPath, System.Type requiredBaseType) [0x00000]
  at System.Web.UI.PageParser.GetCompiledPageInstance (System.String
virtualPath, System.String inputFile, System.Web.HttpContext context)
[0x00000]
  at System.Web.UI.PageHandlerFactory.GetHandler
(System.Web.HttpContext context, System.String requestType,
System.String url, System.String path) [0x00000]
  at System.Web.HttpApplication.GetHandler (System.Web.HttpContext
context, System.String url, Boolean ignoreContextHandler) [0x00000]
  at System.Web.HttpApplication.GetHandler (System.Web.HttpContext
context, System.String url) [0x00000]
  at System.Web.HttpApplication+&lt;Pipeline&gt;c__Iterator2.MoveNext () [0x00000]
------------------------------


-- 
Pedro Santos
Home - <A HREF="http://psantos.zi-yu.com">http://psantos.zi-yu.com</A>
Work - <A HREF="http://www.pdmfc.com">http://www.pdmfc.com</A>
The future - <A HREF="http://www.orionsbelt.eu">http://www.orionsbelt.eu</A>
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041584.html">[Mono-list] Popup control functionality
</A></li>
	<LI>Next message: <A HREF="041587.html">[Mono-list] Unstable XSP 2.4 RC1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41586">[ date ]</a>
              <a href="thread.html#41586">[ thread ]</a>
              <a href="subject.html#41586">[ subject ]</a>
              <a href="author.html#41586">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
