<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] MySql.Data problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20MySql.Data%20problems&In-Reply-To=%3CCAB1r_%2BXwarX9t7T7V1F7T-UUJN%3Dpvc9evDhrNVBA2tB45nruFw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049330.html">
   <LINK REL="Next"  HREF="049349.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] MySql.Data problems</H1>
    <B>Daniel Lo Nigro</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20MySql.Data%20problems&In-Reply-To=%3CCAB1r_%2BXwarX9t7T7V1F7T-UUJN%3Dpvc9evDhrNVBA2tB45nruFw%40mail.gmail.com%3E"
       TITLE="[Mono-list] MySql.Data problems">lists at dan.cx
       </A><BR>
    <I>Wed Jan  2 04:14:07 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="049330.html">[Mono-list] MySql.Data problems
</A></li>
        <LI>Next message: <A HREF="049349.html">[Mono-list] AES/CFB Stream Cipher Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49331">[ date ]</a>
              <a href="thread.html#49331">[ thread ]</a>
              <a href="subject.html#49331">[ subject ]</a>
              <a href="author.html#49331">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If you're a beginner it might be worth using an IDE like Visual Studio (on
Windows) or MonoDevelop instead of calling the compiler via the
command-line. The IDE will handle calling the compiler with the correct
flags and it's a lot easier to get started. It might also be worth taking a
look at some books on .NET and C#. Books often cover manually calling the
compilers, and knowledge of Microsoft's compiler and MSBuild generally
apply to Mono as well.


&gt;<i> It turns out, apparently, that the &quot;MySql.Data&quot; and &quot;System.Data&quot; modules
</I>&gt;<i> (each)
</I>&gt;<i> need to be referenced TWICE, (redundantly?), with the CLI compilation.
</I>&gt;<i>  You need
</I>&gt;<i> to include the modules on the command line AS WELL AS inside the *.cs
</I>&gt;<i> file, with
</I>&gt;<i> the &quot;-r:&quot; switch:
</I>

They have two different purposes:

   - The &quot;using&quot; directives in the .cs file pull stuff in a namespace into
   scope in the C# file. So instead of fully qualifying your namespaces every
   time (ie. doing &quot;System.Text.StringBuilder blah = new
   System.Text.StringBuilder()&quot;) you can just do &quot;StringBuilder blah = new
   StringBuilder()&quot;.
   - The reference when building says that your code references
   MySql.Data.dll and System.Data.dll. This means that when your code runs, it
   will also load those two DLL files. It also means that when compiling, the
   compiler will also look in these two assemblies for types you're
   referencing.



On Wed, Jan 2, 2013 at 3:00 PM, DevLOOP &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">devloop at flight.us</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On January 1, 2013 at 4:57 PM Daniel Lo Nigro &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">lists at dan.cx</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  As the error mentions, you need to reference System.Data as well as
</I>&gt;<i> &gt; MySql.Data.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> I take it you mean reference it in my *.cs file, with &quot;using &lt;blah&gt;&quot;
</I>&gt;<i> statements.
</I>&gt;<i>  Remember, I am a complete newbie, so I'm still very unsure where anything
</I>&gt;<i> fits,
</I>&gt;<i> with the variety of contexts (the web-request/config context, command-line
</I>&gt;<i> context (cli arguments), the C-sharp code, etc.,etc.
</I>&gt;<i>
</I>&gt;<i> OK, so, I persisted further with the referencing and got my
</I>&gt;<i> &quot;helloworld.cs&quot; to
</I>&gt;<i> compile...
</I>&gt;<i>
</I>&gt;<i> It turns out, apparently, that the &quot;MySql.Data&quot; and &quot;System.Data&quot; modules
</I>&gt;<i> (each)
</I>&gt;<i> need to be referenced TWICE, (redundantly?), with the CLI compilation.
</I>&gt;<i>  You need
</I>&gt;<i> to include the modules on the command line AS WELL AS inside the *.cs
</I>&gt;<i> file, with
</I>&gt;<i> the &quot;-r:&quot; switch:
</I>&gt;<i>
</I>&gt;<i>          gmcs -r:MySql.Data.dll -r:System.Data helloworld.cs
</I>&gt;<i>
</I>&gt;<i> So, it compiled to &quot;helloworld.exe&quot;. But when I run the executable ...
</I>&gt;<i>
</I>&gt;<i>            mono  helloworld.exe
</I>&gt;<i>
</I>&gt;<i> ... the executable throws an error:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Missing method .ctor in assembly
</I>&gt;<i>
</I>&gt;<i> /opt/mono-3.0.2/lib/mono/gac/MySql.Data/6.6.4.0__c5687fc88969c44d/MySql.Data.dll,
</I>&gt;<i> type System.Security.SecurityRulesAttribute
</I>&gt;<i> Can't find custom attr constructor image:
</I>&gt;<i>
</I>&gt;<i> /opt/mono-3.0.2/lib/mono/gac/MySql.Data/6.6.4.0__c5687fc88969c44d/MySql.Data.dll
</I>&gt;<i> mtoken: 0x0a00002a
</I>&gt;<i>
</I>&gt;<i> Unhandled Exception:
</I>&gt;<i> System.TypeLoadException: Could not load type
</I>&gt;<i> 'System.Security.SecurityRulesAttribute' from assembly 'MySql.Data'.
</I>&gt;<i>   at X.Main () [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i> [ERROR] FATAL UNHANDLED EXCEPTION: System.TypeLoadException: Could not
</I>&gt;<i> load type
</I>&gt;<i> 'System.Security.SecurityRulesAttribute' from assembly 'MySql.Data'.
</I>&gt;<i>   at X.Main () [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt;  ---
</I>&gt;<i> &gt;  Regards,
</I>&gt;<i> &gt;  Daniel
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  Sent from my phone - please excuse any typos.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  On 02/01/2013 7:35 AM, &quot;DevLOOP&quot; &lt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">devloop at flight.us</A>
</I>&gt;<i> &gt; &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">devloop at flight.us</A>&gt; &gt; wrote:
</I>&gt;<i> &gt;    &gt; &gt;    When I run:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;    gmcs -r:MySql.Data.dll helloworld.cs
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;    I get:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;    helloworld.cs(9,8): error CS0246: The type or namespace name
</I>&gt;<i> &gt; &gt; `IDbConnection'
</I>&gt;<i> &gt; &gt;    could not be found. Are you missing an assembly reference?
</I>&gt;<i> &gt; &gt;    helloworld.cs(10,20): error CS0012: The type
</I>&gt;<i> &gt; &gt; `System.Data.Common.DbConnection'
</I>&gt;<i> &gt; &gt;    is defined in an assembly that is not referenced. Consider adding a
</I>&gt;<i> &gt; &gt; reference to
</I>&gt;<i> &gt; &gt;    assembly `System.Data, Version=4.0.0.0, Culture=neutral,
</I>&gt;<i> &gt; &gt;    PublicKeyToken=b77a5c561934e089'
</I>&gt;<i> &gt; &gt;    helloworld.cs(10,8): error CS0841: A local variable `dbcon' cannot
</I>&gt;<i> be
</I>&gt;<i> &gt; &gt; used
</I>&gt;<i> &gt; &gt;    before it is declared
</I>&gt;<i> &gt; &gt;    helloworld.cs(11,8): error CS0841: A local variable `dbcon' cannot
</I>&gt;<i> be
</I>&gt;<i> &gt; &gt; used
</I>&gt;<i> &gt; &gt;    before it is declared
</I>&gt;<i> &gt; &gt;    helloworld.cs(13,8): error CS0246: The type or namespace name
</I>&gt;<i> &gt; &gt; `IDbCommand' could
</I>&gt;<i> &gt; &gt;    not be found. Are you missing an assembly reference?
</I>&gt;<i> &gt; &gt;    helloworld.cs(19,8): error CS0841: A local variable `dbcmd' cannot
</I>&gt;<i> be
</I>&gt;<i> &gt; &gt; used
</I>&gt;<i> &gt; &gt;    before it is declared
</I>&gt;<i> &gt; &gt;    helloworld.cs(20,8): error CS0246: The type or namespace name
</I>&gt;<i> &gt; &gt; `IDataReader'
</I>&gt;<i> &gt; &gt;    could not be found. Are you missing an assembly reference?
</I>&gt;<i> &gt; &gt;    helloworld.cs(22,14): error CS0841: A local variable `reader'
</I>&gt;<i> cannot be
</I>&gt;<i> &gt; &gt; used
</I>&gt;<i> &gt; &gt;    before it is declared
</I>&gt;<i> &gt; &gt;    helloworld.cs(23,13): error CS0103: The name `Console' does not
</I>&gt;<i> exist in
</I>&gt;<i> &gt; &gt; the
</I>&gt;<i> &gt; &gt;    current context
</I>&gt;<i> &gt; &gt;    Compilation failed: 9 error(s), 0 warnings
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;    -----------------
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;    I thought I installed the component:  I downloaded the connector
</I>&gt;<i> from
</I>&gt;<i> &gt; &gt; mysql.com &lt;<A HREF="http://mysql.com">http://mysql.com</A>&gt; ,
</I>&gt;<i> &gt; &gt;    and ran:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;    gacutil -i -package 4.0 v4/MySql.Data.dll
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;    (also, with &quot;-package 4.5&quot; and &quot;-package 2.0&quot;)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;    and I can see the installed files:
</I>&gt;<i> &gt; &gt;  /opt/mono-3.0.2/lib/mono/4.0/MySql.Data.dll
</I>&gt;<i> &gt; &gt;    (a symlink to
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> /opt/mono-3.0.2/lib/mono/gac/MySql.Data/6.6.4.0__c5687fc88969c44d/MySql.Data.dll
</I>&gt;<i> &gt; &gt;    )
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;    and I also have:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> /opt/mono-3.0.2/lib/mono/gac/MySql.Data/6.6.4.0__c5687fc88969c44d/MySql.Data.dll
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;    What is missing or incorrect?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;    thanks
</I>&gt;<i> &gt; &gt;    _______________________________________________
</I>&gt;<i> &gt; &gt;    Mono-list maillist  -   <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> &gt; &gt; &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>&gt;
</I>&gt;<i> &gt; &gt;    <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> &gt; &gt; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>&gt;
</I>&gt;<i> &gt; &gt;  &gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20130102/bd6fc790/attachment-0001.html">http://lists.ximian.com/pipermail/mono-list/attachments/20130102/bd6fc790/attachment-0001.html</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049330.html">[Mono-list] MySql.Data problems
</A></li>
	<LI>Next message: <A HREF="049349.html">[Mono-list] AES/CFB Stream Cipher Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49331">[ date ]</a>
              <a href="thread.html#49331">[ thread ]</a>
              <a href="subject.html#49331">[ subject ]</a>
              <a href="author.html#49331">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
