<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] DBus: GCHandle value belongs to a different domain
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20DBus%3A%20GCHandle%20value%20belongs%20to%20a%20different%20domain&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032584.html">
   <LINK REL="Next"  HREF="032585.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] DBus: GCHandle value belongs to a different domain</H1>
    <B>Julien Sobrier</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20DBus%3A%20GCHandle%20value%20belongs%20to%20a%20different%20domain&In-Reply-To="
       TITLE="[Mono-list] DBus: GCHandle value belongs to a different domain">julien at sobrier.net
       </A><BR>
    <I>Thu Aug 31 12:55:35 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="032584.html">[Mono-list] Application installation on Windows
</A></li>
        <LI>Next message: <A HREF="032585.html">[Mono-list] Mono 1.1.17.1, small update.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32582">[ date ]</a>
              <a href="thread.html#32582">[ thread ]</a>
              <a href="subject.html#32582">[ subject ]</a>
              <a href="author.html#32582">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
I have several Mono applications that runs on the machine, under
different user account. I wanted to use DBus to allow them to
communicate to each other.

The main application register an object on the DBus System Bus. THis
object contains methods to add information. Each method raise an event,
so each application taht got this object on the DBus system bus are
aware that new information is available.

But I got this error message:
System.ArgumentException: GCHandle value belongs to a different domain
  at System.Runtime.InteropServices.GCHandle.op_Explicit (IntPtr value)
[0x00000]
  at DBus.Message.set_RawMessage (IntPtr value) [0x00000]
  at DBus.Message.Dispose (Boolean disposing) [0x00000]
  at DBus.Message.Dispose () [0x00000]
  at Platine.Plugins.DBus.DBusEvent.SignalProxy.Proxy_OnNewEvent
(System.String eventName, System.String username, System.String value)
[0x00000]
  at (wrapper delegate-invoke)
System.MulticastDelegate:invoke_void_string_string_string
(string,string,string)
  at Platine.Plugins.DBus.DBusEvent.AddEvent (System.String eventName,
System.String username, System.String value) [0x00000]
  at _Default.SendEvent (System.String eventName, System.String value)
[0x00000]
  at _Default.Page_Load (System.Object sender, System.EventArgs e)
[0x00000]
  at (wrapper delegate-invoke)
System.MulticastDelegate:invoke_void_object_EventArgs
(object,System.EventArgs)

Indeed, the object is shared by different domains. Am I wrongly using DBus?

Thank you
Julien
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032584.html">[Mono-list] Application installation on Windows
</A></li>
	<LI>Next message: <A HREF="032585.html">[Mono-list] Mono 1.1.17.1, small update.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32582">[ date ]</a>
              <a href="thread.html#32582">[ thread ]</a>
              <a href="subject.html#32582">[ subject ]</a>
              <a href="author.html#32582">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
