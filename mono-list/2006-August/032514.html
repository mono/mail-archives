<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] a way to find all classes, and methods for certain application domain?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20a%20way%20to%20find%20all%20classes%2C%0A%20and%20methods%20for%20certain%20application%20domain%3F&In-Reply-To=df373f900608240015s27c157aane23b329e62369c5f%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032512.html">
   <LINK REL="Next"  HREF="032518.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] a way to find all classes, and methods for certain application domain?</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20a%20way%20to%20find%20all%20classes%2C%0A%20and%20methods%20for%20certain%20application%20domain%3F&In-Reply-To=df373f900608240015s27c157aane23b329e62369c5f%40mail.gmail.com"
       TITLE="[Mono-list] a way to find all classes, and methods for certain application domain?">robertj at gmx.net
       </A><BR>
    <I>Thu Aug 24 05:38:02 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="032512.html">[Mono-list] a way to find all classes,	and methods for certain application domain?
</A></li>
        <LI>Next message: <A HREF="032518.html">[Mono-list] mod_mono and xsp have different versions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32514">[ date ]</a>
              <a href="thread.html#32514">[ thread ]</a>
              <a href="subject.html#32514">[ subject ]</a>
              <a href="author.html#32514">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Okehee Goh wrote:
&gt;<i> Hello,
</I>&gt;<i> Is there a way to find all classes, and methods for certain application
</I>&gt;<i> domain?
</I>&gt;<i> My  test application  hosts multiple  application domain for different
</I>&gt;<i> assemblies.
</I>&gt;<i> 
</I>&gt;<i> I'd like to check the classes loaded for certain assembly of a certain
</I>&gt;<i> domain. The classes' list should show all system class libraries loaded for
</I>&gt;<i> the assembly, too.
</I>&gt;<i> 
</I>&gt;<i> I checked output from --profile option with a profile argument 'time', 
</I>&gt;<i> which
</I>&gt;<i> shows the performance of method compilation.
</I>&gt;<i> The user classes defined in the specific assembly may be distinguished by
</I>&gt;<i> using a different namespace from the profile output. But, I don't know how
</I>&gt;<i> to find system class libraries loaded for the assembly?
</I>
If you can afford to load the appdomain's assemblies
into the root domain as well, you could enum the
assemblies with this code:

foreach (Assembly asm in someAppDomain.GetAssemblies ())
	do something with asm

This works best, if all assemblies are in the same dir,
otherwise ... you could use AppDomain.DoCallback instead:

(Untested)

class AssemblyEnumerator : MarshalByRefObject
{
         public ArrayList FileNames = new ArrayList ();

         public void Callback ()
         {
                 foreach (Assembly asm in 
AppDomain.CurrentDomain.GetAssemblies ()) {
                         FileNames.Add (asm.Location);
                 }
         }
}

AssemblyEnumerator ae = new AssemblyEnumerator ();
someAppDomain.DoCallBack (new CrossAppDomainDelegate(ae.Callback));
foreach (string file in ae.FileNames)
	Console.WriteLine (file);


After you got the assembly (or the assembly file name)
you could enumerate its types and their members either
using System.Reflection or you could just invoke monodis
on the assembly file name ...

Robert

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032512.html">[Mono-list] a way to find all classes,	and methods for certain application domain?
</A></li>
	<LI>Next message: <A HREF="032518.html">[Mono-list] mod_mono and xsp have different versions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32514">[ date ]</a>
              <a href="thread.html#32514">[ thread ]</a>
              <a href="subject.html#32514">[ subject ]</a>
              <a href="author.html#32514">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
