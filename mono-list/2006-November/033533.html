<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Windows.Forms control flicker and wrapper classes.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Windows.Forms%20control%20flicker%20and%20wrapper%20classes.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033532.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Windows.Forms control flicker and wrapper classes.</H1>
    <B>Bouk, Nathan</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Windows.Forms%20control%20flicker%20and%20wrapper%20classes.&In-Reply-To="
       TITLE="[Mono-list] Windows.Forms control flicker and wrapper classes.">NBouk at PLANSYS.COM
       </A><BR>
    <I>Thu Nov 30 18:12:37 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="033532.html">[Mono-list] Building Mono with MSVC
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33533">[ date ]</a>
              <a href="thread.html#33533">[ thread ]</a>
              <a href="subject.html#33533">[ subject ]</a>
              <a href="author.html#33533">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've been developing a Windows.Forms app, and I've been trying to
maintain compatibility with Mono at the same as MS .NET. I recently
tried using the Windows.Forms.Treeview control, and found that it
sucked. The underlying native control was fine, but the Windows.Forms
wrapper was so poorly written it caused it to flicker like it was going
out of style (and it is!). To fix this I started using a wrapper class
around Windows.Forms.Treeview that inherits from Treeview, but hijacks
the WndProc() function, and in order to enforce strict double buffering,
it had to call a few Win32 functions that aren't nicely wrapped in .Net
(GetUpdateRect, BeginPaint, and EndPaint) which were used with PInvoke.
The class can be found on codeproject at
<A HREF="http://www.codeproject.com/cs/miscctrl/genmissingpaintevent.asp,">http://www.codeproject.com/cs/miscctrl/genmissingpaintevent.asp,</A> and it
solves the flickering problem nicely, but now my project has a huge
Win32 dependency. 

 

Does anyone have any ideas how I can maintain one project that can use
this TreeViewWithPaint class in Microsoft .NET, but use the Mono
Windows.Forms.Treeview when running on Mono?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20061130/6d14ff79/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20061130/6d14ff79/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033532.html">[Mono-list] Building Mono with MSVC
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33533">[ date ]</a>
              <a href="thread.html#33533">[ thread ]</a>
              <a href="subject.html#33533">[ subject ]</a>
              <a href="author.html#33533">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
