<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Port to symbian?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Port%20to%20symbian%3F&In-Reply-To=27E6491E-301A-410D-AF90-05507F05BC4A%40web.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033361.html">
   <LINK REL="Next"  HREF="033377.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Port to symbian?</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Port%20to%20symbian%3F&In-Reply-To=27E6491E-301A-410D-AF90-05507F05BC4A%40web.de"
       TITLE="[Mono-list] Port to symbian?">miguel at ximian.com
       </A><BR>
    <I>Sun Nov 12 18:04:09 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="033361.html">[Mono-list] Port to symbian?
</A></li>
        <LI>Next message: <A HREF="033377.html">[Mono-list] Please help for mono fortran
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33364">[ date ]</a>
              <a href="thread.html#33364">[ thread ]</a>
              <a href="subject.html#33364">[ subject ]</a>
              <a href="author.html#33364">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> I defintely agree that this would have been the easiest, yes. Mono  
</I>&gt;<i> does use TLS so would be okay, however I am not aware of any of its  
</I>&gt;<i> dependencies (glib, etc.) being available, also Symbian uses its own  
</I>&gt;<i> (ugly) Perl-based make system on Windows.
</I>
Mono now ships with an embedded glib, it passes all the runtime tests:

	./configure --with-glib=embedded

This will use its own tiny and embeddable glib, instead of having a
system dependency.

&gt;<i> Last time I checked I believe Mono was about 8 MB in whole. By  
</I>&gt;<i> comparison my phone has 4 MB in whole minus RAM and data (with no  
</I>&gt;<i> memory expansion possibilities) so a CLI should be no larger than  
</I>&gt;<i> maybe 500 KB - I doubt a compiler optimization, stripped debug  
</I>&gt;<i> symbols and locales would make such a big difference, and regarding  
</I>&gt;<i> the required autoconf etc. 
</I>
A full Mono runtime, with full localization and a complete corlib and
System takes 4 megs of space (this is from looking at bundles like
Unity's web player for Windows).

You can reduce 150k from glib alone, 500k from removing the tables, and
when it comes to the class libraries, you can remove all the
functionality not needed (or better yet, use the linker, it needs a few
fixes for mscorlib, but you get the idea).

&gt;<i> Symbian OS rarely uses exes but mostly dlls even for applications up  
</I>&gt;<i> to Symbian OS 8.x, so memory cleanup is key which it does using  
</I>&gt;<i> strict two-phase object construction, a cleanup stack and its own  
</I>&gt;<i> exception handling mechanism (C++ exceptions only on Symbian OS 9.x);  
</I>&gt;<i> to support this infrastructure there are so-called descriptors that  
</I>&gt;<i> wrap access to arrays or memory areas. Supporting all this would make  
</I>&gt;<i> the Mono codebase pretty ugly with lots of #ifdefs.
</I>
Not really, we just have to factor things out, for instance, instead of
using ifdefs for architectures, we use separate files for each
architecture.  Nothing is stopping us from doing the same here.

But then again, if we are talking about 10 ifdefs, thats probably
manageable, if we are talking about 1000 then we might want to put them
in a separate file.

Miguel.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033361.html">[Mono-list] Port to symbian?
</A></li>
	<LI>Next message: <A HREF="033377.html">[Mono-list] Please help for mono fortran
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33364">[ date ]</a>
              <a href="thread.html#33364">[ thread ]</a>
              <a href="subject.html#33364">[ subject ]</a>
              <a href="author.html#33364">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
