<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] prototype XSLT debugging patch ...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20prototype%20XSLT%20debugging%20patch%20...&In-Reply-To=1164664572.30851.24.camel%40t60p.site">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033509.html">
   <LINK REL="Next"  HREF="033515.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] prototype XSLT debugging patch ...</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20prototype%20XSLT%20debugging%20patch%20...&In-Reply-To=1164664572.30851.24.camel%40t60p.site"
       TITLE="[Mono-list] prototype XSLT debugging patch ...">atsushi at ximian.com
       </A><BR>
    <I>Mon Nov 27 22:16:19 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="033509.html">[Mono-list] prototype XSLT debugging patch ...
</A></li>
        <LI>Next message: <A HREF="033515.html">[Mono-list] prototype XSLT debugging patch ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33512">[ date ]</a>
              <a href="thread.html#33512">[ thread ]</a>
              <a href="subject.html#33512">[ subject ]</a>
              <a href="author.html#33512">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Michael,

Here is the (improved?) patch based on yours. To enable template
stack frame information:

MONO_XSLT_STACK_FRAME=
	stdout: write template call to stdout.
	stderr: write template call to stderr.
	error: enable stack frame in XsltException.

This patch is almost different from yours, as it includes fixes on
public API exposure, PascalCasing, etc. etc.

Does it look good?

Atsushi Eno

Michael Meeks wrote:
&gt;<i> Hi Atsushi,
</I>&gt;<i> 
</I>&gt;<i> On Sat, 2006-11-25 at 12:37 +0900, Atsushi Eno wrote:
</I>&gt;&gt;<i> Ok, now I understand what you originally wanted. I was thinking that
</I>&gt;&gt;<i> you want either trimmed information to hide stack trace details, or
</I>&gt;&gt;<i> want working XSLT debugger which is not realistic at this state
</I>&gt;&gt;<i> (as I'm not working on sys.xml and primarily working on web service
</I>&gt;&gt;<i> related stuff, except for important bug fixes).
</I>&gt;<i> 
</I>&gt;<i> 	Sure - hopefully it's a fairly simple thing I want.
</I>&gt;<i> 
</I>&gt;&gt;<i> Your patch shows interesting error information and I'd love to
</I>&gt;&gt;<i> get this functionality in svn. But I don't think it should be
</I>&gt;&gt;<i> &quot;always&quot; shown to users.
</I>&gt;<i> 
</I>&gt;<i> 	Totally agreed - particularly it prolly hurts people debugging the
</I>&gt;<i> actual XSLT impl. itself :-)
</I>&gt;<i> 
</I>&gt;&gt;<i>  An immediate concern example is that
</I>&gt;&gt;<i> since XSLT could be designed to work recursively, this detailed
</I>&gt;&gt;<i> information could be hundreds of lines. Also this patch ends up
</I>&gt;&gt;<i> to hide exact problematic code location. So I think something
</I>&gt;&gt;<i> like environment variable should be used to &quot;enable&quot; this
</I>&gt;&gt;<i> detailed report.
</I>&gt;<i> 
</I>&gt;<i> 	Yep - can you take this on ? also - (for me) it'd be fine to just do:
</I>&gt;<i> 	$ MONO_XSLT_DEBUG=1 mono foo.exe
</I>&gt;<i> 
</I>&gt;<i> 	and instead of trying to make the exception more verbose itself, just
</I>&gt;<i> dump the output to System.Console a frame at a time - that would also
</I>&gt;<i> rather shrinks the patch and make it more useful.
</I>&gt;<i> 
</I>&gt;<i> 	Can you suggest a good name for the env. var ? or what would be
</I>&gt;<i> immeasurably better would be if you could rescue something useful from
</I>&gt;<i> my hack and commit it yourself ? ;-)
</I>&gt;<i> 
</I>&gt;<i> 	FWIW - someone else helped me find the cause of the problem - which (it
</I>&gt;<i> appears) is tied to Mono emitting 'WriteFullEndElement' very frequently,
</I>&gt;<i> where (apparently) Microsoft ~never emit it (for the same data set). Of
</I>&gt;<i> course, that could be related to some other deeper oddness
</I>&gt;<i> somewhere :-), but it is strange nonetheless.
</I>&gt;<i> 
</I>&gt;<i> 	Anyhow - thanks again,
</I>&gt;<i> 
</I>&gt;<i> 		Michael.
</I>&gt;<i> 
</I>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: xslt-frame.patch
Url: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20061128/514b6f84/attachment-0001.pl">http://lists.ximian.com/pipermail/mono-list/attachments/20061128/514b6f84/attachment-0001.pl</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033509.html">[Mono-list] prototype XSLT debugging patch ...
</A></li>
	<LI>Next message: <A HREF="033515.html">[Mono-list] prototype XSLT debugging patch ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33512">[ date ]</a>
              <a href="thread.html#33512">[ thread ]</a>
              <a href="subject.html#33512">[ subject ]</a>
              <a href="author.html#33512">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
