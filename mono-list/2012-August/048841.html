<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Single .dll targeted at multi platform but using sqlite, possible?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Single%20.dll%20targeted%20at%20multi%20platform%20but%20using%0A%20sqlite%2C%20possible%3F&In-Reply-To=%3C1345900991101-4656398.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048838.html">
   <LINK REL="Next"  HREF="048843.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Single .dll targeted at multi platform but using sqlite, possible?</H1>
    <B>KeithBoynton</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Single%20.dll%20targeted%20at%20multi%20platform%20but%20using%0A%20sqlite%2C%20possible%3F&In-Reply-To=%3C1345900991101-4656398.post%40n4.nabble.com%3E"
       TITLE="[Mono-list] Single .dll targeted at multi platform but using sqlite, possible?">keithboynton at flaredesign.co.uk
       </A><BR>
    <I>Sat Aug 25 13:23:11 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="048838.html">[Mono-list] Single .dll targeted at multi platform but using sqlite, possible?
</A></li>
        <LI>Next message: <A HREF="048843.html">[Mono-list] Single .dll targeted at multi platform but using sqlite, possible?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48841">[ date ]</a>
              <a href="thread.html#48841">[ thread ]</a>
              <a href="subject.html#48841">[ subject ]</a>
              <a href="author.html#48841">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm so nearly there I can taste it.

To summarise so far, I had to scrap the idea of going down the CSharp-Sqlite
route as I got blocked with the LockEx issue even though I was using the
most recent released version of the code base.

I'm trying to Mono.Data.SqLite route and have it compiling and running
successfully on OSX however the final hurdle is that it compiles on Windows
but I get an exception when trying to run it. It's worth noting that I'm
building in Windows in Visual Studio 2010.

The exception I get is:
System.TypeInitializationException at Mono.Data.Sqlite.SqliteConvert.Split

Which is thrown by this code (the .Open() method is where it dies):
_dbConnectionString =
String.Format(&quot;URI=file:{0},Version=3,BusyTimeout=100&quot;, &quot;test.db&quot;);
_databaseConnection = new SqliteConnection(_dbConnectionString);
_databaseConnection.Open();

I know folks have Mono.Data.Sqlite working successfully on Windows so if
anyone would mind sharing how they managed to get it to work in Windows and
perhaps more specifically in Visual Studio I'd be most grateful.

Complete stack trace here:
System.TypeInitializationException was unhandled
  Message=The type initializer for 'Mono.Data.Sqlite.SqliteConvert' threw an
exception.
  Source=Mono.Data.Sqlite
  TypeName=Mono.Data.Sqlite.SqliteConvert
  StackTrace:
       at Mono.Data.Sqlite.SqliteConvert.Split(String source, Char
separator)
       at Mono.Data.Sqlite.SqliteConnection.ParseConnectionString(String
connectionString)
       at Mono.Data.Sqlite.SqliteConnection.Open()
       at SoundHound.DatabaseManager..ctor(String inputFile) in
DatabaseManager.cs:line 45
       at SoundHound.DataAccessManager..ctor() in DataAccessManager.cs:line
22
       at SoundHound.ApplicationLogic..ctor(MediaPlayer mediaPlayer) in
ApplicationLogic.cs:line 105
       at SoundHound.MainGUI..ctor() in MainGUI.cs:line 52
       at SoundHound.Program.Main() in Program.cs:line 31
       at System.AppDomain._nExecuteAssembly(RuntimeAssembly assembly,
String[] args)
       at System.AppDomain.nExecuteAssembly(RuntimeAssembly assembly,
String[] args)
       at System.Runtime.Hosting.ManifestRunner.Run(Boolean checkAptModel)
       at System.Runtime.Hosting.ManifestRunner.ExecuteAsAssembly()
       at
System.Runtime.Hosting.ApplicationActivator.CreateInstance(ActivationContext
activationContext, String[] activationCustomData)
       at
System.Runtime.Hosting.ApplicationActivator.CreateInstance(ActivationContext
activationContext)
       at System.Activator.CreateInstance(ActivationContext
activationContext)
       at
Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssemblyDebugInZone()
       at System.Threading.ThreadHelper.ThreadStart_Context(Object state)
       at System.Threading.ExecutionContext.Run(ExecutionContext
executionContext, ContextCallback callback, Object state, Boolean
ignoreSyncCtx)
       at System.Threading.ExecutionContext.Run(ExecutionContext
executionContext, ContextCallback callback, Object state)
       at System.Threading.ThreadHelper.ThreadStart()
  InnerException: System.ArgumentException
       Message=Value does not fall within the expected range.
       Source=mscorlib
       StackTrace:
            at
System.Runtime.CompilerServices.RuntimeHelpers.InitializeArray(Array array,
RuntimeFieldHandle fldHandle)
            at Mono.Data.Sqlite.SqliteConvert..cctor()
       InnerException: 



--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Single-dll-targeted-at-multi-platform-but-using-sqlite-possible-tp4656335p4656398.html">http://mono.1490590.n4.nabble.com/Single-dll-targeted-at-multi-platform-but-using-sqlite-possible-tp4656335p4656398.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048838.html">[Mono-list] Single .dll targeted at multi platform but using sqlite, possible?
</A></li>
	<LI>Next message: <A HREF="048843.html">[Mono-list] Single .dll targeted at multi platform but using sqlite, possible?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48841">[ date ]</a>
              <a href="thread.html#48841">[ thread ]</a>
              <a href="subject.html#48841">[ subject ]</a>
              <a href="author.html#48841">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
