<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Static constructor issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Static%20constructor%20issue&In-Reply-To=FE20DF8B-9006-44CF-B4D3-E72320E9F765%40web.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032657.html">
   <LINK REL="Next"  HREF="032664.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Static constructor issue</H1>
    <B>Abe Gillespie</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Static%20constructor%20issue&In-Reply-To=FE20DF8B-9006-44CF-B4D3-E72320E9F765%40web.de"
       TITLE="[Mono-list] Static constructor issue">abe.gillespie at gmail.com
       </A><BR>
    <I>Thu Sep  7 14:28:18 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="032657.html">[Mono-list] Fwd:  Static constructor issue
</A></li>
        <LI>Next message: <A HREF="032664.html">[Mono-list] Static constructor issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32658">[ date ]</a>
              <a href="thread.html#32658">[ thread ]</a>
              <a href="subject.html#32658">[ subject ]</a>
              <a href="author.html#32658">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>static Child.ctor is called first and then static Parent.ctor is
called ... that's just the way the order of operations go.

The metaphor I was given way back in my student days is this:
Think of building a watch, you first start with the internals (gears
and such) and this can be seen as the Child.  Then you put on the
outer parts (housing, glass, etc.) where this is seen as the Parent.

The reason why it's different for instance ctors is because you call
the Parent ctor specifically before the code inside the Child ctor
runs.

Good luck.
-Abe

FYI - I didn't mean to email you directly and put the mono list back in.

On 9/7/06, Andreas F&#228;rber &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">andreas.faerber at web.de</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> Am 07.09.2006 um 20:09 schrieb Abe Gillespie:
</I>&gt;<i>
</I>&gt;<i> &gt; I'm not sure if this is your situation (you left out the necessary
</I>&gt;<i> &gt; details) ... but you need to call your base class's constructor
</I>&gt;<i> &gt; directly like so:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; class Parent
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;  public Parent(int foo)
</I>&gt;<i> &gt;  {
</I>&gt;<i> &gt;    // Do something with foo ...
</I>&gt;<i> &gt;  }
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; class Child : Parent
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;  public Child(int foo) : base(foo)
</I>&gt;<i> &gt;  {
</I>&gt;<i> &gt;    // Do something specific with Child.
</I>&gt;<i> &gt;  }
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Good luck!
</I>&gt;<i> &gt; -Abe
</I>&gt;<i>
</I>&gt;<i> No, I wasn't talking of instance constructors. An example:
</I>&gt;<i>
</I>&gt;<i> class Parent {
</I>&gt;<i>         static Parent() {
</I>&gt;<i>                 // important stuff
</I>&gt;<i>         }
</I>&gt;<i>         public Parent(int foo) {
</I>&gt;<i>         }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> class Child : Parent {
</I>&gt;<i>         static Child() {
</I>&gt;<i>                 // stuff that relies on &quot;important stuff&quot;
</I>&gt;<i>         }
</I>&gt;<i>         public Child(int foo) : base(foo) {
</I>&gt;<i>         }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Code then does new Child(42);.
</I>&gt;<i>
</I>&gt;<i> I would assume that before Child.cctor is called, Parent.cctor would
</I>&gt;<i> need to be called by the runtime - which apparently is not happening.
</I>&gt;<i> So I'm wondering whether this is a Mono issue or whether it is
</I>&gt;<i> intended that way.
</I>&gt;<i>
</I>&gt;<i> Andreas
</I>&gt;<i>
</I></PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032657.html">[Mono-list] Fwd:  Static constructor issue
</A></li>
	<LI>Next message: <A HREF="032664.html">[Mono-list] Static constructor issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32658">[ date ]</a>
              <a href="thread.html#32658">[ thread ]</a>
              <a href="subject.html#32658">[ subject ]</a>
              <a href="author.html#32658">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
