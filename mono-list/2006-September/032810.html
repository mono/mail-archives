<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] ASP.NET and MySQL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20ASP.NET%20and%20MySQL&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032809.html">
   <LINK REL="Next"  HREF="032812.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] ASP.NET and MySQL</H1>
    <B>Loren Bandiera</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20ASP.NET%20and%20MySQL&In-Reply-To="
       TITLE="[Mono-list] ASP.NET and MySQL">lorenb at mmgsecurity.com
       </A><BR>
    <I>Fri Sep 22 12:23:08 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="032809.html">[Mono-list] Gdk.Pixbuf error using xsp
</A></li>
        <LI>Next message: <A HREF="032812.html">[Mono-list] ASP.NET and MySQL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32810">[ date ]</a>
              <a href="thread.html#32810">[ thread ]</a>
              <a href="subject.html#32810">[ subject ]</a>
              <a href="author.html#32810">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

I'm trying to get an ASP.NET application working with Mono running under
Linux. I want to use MySQL for the database so I got the MySQL
Connector/Net 1.0.7.

If I write a small command line program that just does this:

MySqlConnection conn = new MySqlConnection(&quot;Server=&lt;ip
address&gt;;Database=foo;User ID=test;Password=test;Pooling=false&quot;);
conn.Open ();
Console.WriteLine(conn.ServerVersion);

That works fine. It connects to the remote server and prints out the
server version (5.0.24a-log). 

However, if write a small ASP.NET form and try and execute that same
code from Page_load() it fails. This is the trace that xsp2 gives me:

MySql.Data.MySqlClient.MySqlException: Unable to connect to any of the
specified MySQL hosts ---&gt; System.Net.Sockets.SocketException: No such
host is known
  at System.Net.Dns.GetHostByName (System.String hostName) [0x00000] 
  at MySql.Data.Common.StreamCreator.GetStream (Int32 timeOut) [0x00000] 
  at MySql.Data.MySqlClient.NativeDriver.Open () [0x00000] --- End of inner exception stack trace ---

  at MySql.Data.MySqlClient.NativeDriver.Open () [0x00000] 
  at MySql.Data.MySqlClient.Driver.Create (MySql.Data.MySqlClient.MySqlConnectionString settings) [0x00000] 
  at MySql.Data.MySqlClient.MySqlConnection.Open () [0x00000] 

I'm at a loss for why it works from the command line but not from within
an ASP page. It's the same connection string, server, etc.

Anyone seen this behavior before? Got any suggestions?

-- 
Loren Bandiera &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">lorenb at mmgsecurity.com</A>&gt;
MMG Security, Inc.

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032809.html">[Mono-list] Gdk.Pixbuf error using xsp
</A></li>
	<LI>Next message: <A HREF="032812.html">[Mono-list] ASP.NET and MySQL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32810">[ date ]</a>
              <a href="thread.html#32810">[ thread ]</a>
              <a href="subject.html#32810">[ subject ]</a>
              <a href="author.html#32810">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
