<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] ASP.NET and MySQL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20ASP.NET%20and%20MySQL&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032813.html">
   <LINK REL="Next"  HREF="032811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] ASP.NET and MySQL</H1>
    <B>Brown, Robert</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20ASP.NET%20and%20MySQL&In-Reply-To="
       TITLE="[Mono-list] ASP.NET and MySQL">rpbrown at GAIC.COM
       </A><BR>
    <I>Fri Sep 22 12:32:34 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="032813.html">[Mono-list] ASP.NET and MySQL
</A></li>
        <LI>Next message: <A HREF="032811.html">[Mono-list] ASP.NET and MySQL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32817">[ date ]</a>
              <a href="thread.html#32817">[ thread ]</a>
              <a href="subject.html#32817">[ subject ]</a>
              <a href="author.html#32817">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Have you tried specifying the port in the connection string?
-=Robert

 

-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A>] On Behalf Of Loren Bandiera
Sent: Friday, September 22, 2006 12:23 PM
To: mono-list
Subject: [Mono-list] ASP.NET and MySQL


Hi,

I'm trying to get an ASP.NET application working with Mono running under
Linux. I want to use MySQL for the database so I got the MySQL
Connector/Net 1.0.7.

If I write a small command line program that just does this:

MySqlConnection conn = new MySqlConnection(&quot;Server=&lt;ip
address&gt;;Database=foo;User ID=test;Password=test;Pooling=false&quot;);
conn.Open ();
Console.WriteLine(conn.ServerVersion);

That works fine. It connects to the remote server and prints out the
server version (5.0.24a-log). 

However, if write a small ASP.NET form and try and execute that same
code from Page_load() it fails. This is the trace that xsp2 gives me:

MySql.Data.MySqlClient.MySqlException: Unable to connect to any of the
specified MySQL hosts ---&gt; System.Net.Sockets.SocketException: No such
host is known
  at System.Net.Dns.GetHostByName (System.String hostName) [0x00000]
  at MySql.Data.Common.StreamCreator.GetStream (Int32 timeOut) [0x00000]
  at MySql.Data.MySqlClient.NativeDriver.Open () [0x00000] --- End of
inner exception stack trace ---

  at MySql.Data.MySqlClient.NativeDriver.Open () [0x00000]
  at MySql.Data.MySqlClient.Driver.Create
(MySql.Data.MySqlClient.MySqlConnectionString settings) [0x00000]
  at MySql.Data.MySqlClient.MySqlConnection.Open () [0x00000] 

I'm at a loss for why it works from the command line but not from within
an ASP page. It's the same connection string, server, etc.

Anyone seen this behavior before? Got any suggestions?

--
Loren Bandiera &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">lorenb at mmgsecurity.com</A>&gt;
MMG Security, Inc.

_______________________________________________
Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>

************************************************************************************
The content of this e-mail message and any attachments are confidential
and may be legally privileged, intended solely for the addressee. If you
are not the intended recipient, be advised that any use, dissemination,
distribution, or copying of this e-mail is strictly prohibited.  If you
receive this message in error, please notify the sender immediately by
reply email and destroy the message and its attachments.
************************************************************************************
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032813.html">[Mono-list] ASP.NET and MySQL
</A></li>
	<LI>Next message: <A HREF="032811.html">[Mono-list] ASP.NET and MySQL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32817">[ date ]</a>
              <a href="thread.html#32817">[ thread ]</a>
              <a href="subject.html#32817">[ subject ]</a>
              <a href="author.html#32817">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
