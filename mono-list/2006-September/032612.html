<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Garbage-collecting a remoting singleton object in a	service?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Garbage-collecting%20a%20remoting%20singleton%20object%20in%20a%0A%09service%3F&In-Reply-To=44FBE4A5.6020606%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032611.html">
   <LINK REL="Next"  HREF="032614.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Garbage-collecting a remoting singleton object in a	service?</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Garbage-collecting%20a%20remoting%20singleton%20object%20in%20a%0A%09service%3F&In-Reply-To=44FBE4A5.6020606%40gmail.com"
       TITLE="[Mono-list] Garbage-collecting a remoting singleton object in a	service?">robertj at gmx.net
       </A><BR>
    <I>Mon Sep  4 06:08:35 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="032611.html">[Mono-list] Garbage-collecting a remoting singleton object in a	service?
</A></li>
        <LI>Next message: <A HREF="032614.html">[Mono-list] Garbage-collecting a remoting singleton object in a	service?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32612">[ date ]</a>
              <a href="thread.html#32612">[ thread ]</a>
              <a href="subject.html#32612">[ subject ]</a>
              <a href="author.html#32612">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Andr&#233;s G. Aragoneses [ knocte ] wrote:
&gt;<i> Thanks for the answers Robert and Lluis. I was using the Disconnect 
</I>&gt;<i> method but I was unsure if it was the thing I needed; in fact, it's a 
</I>&gt;<i> bit strange that the &quot;opposite&quot; of Disconnect is Marshal, instead of 
</I>&gt;<i> Connect, which I think is the method used by the other side (the 
</I>&gt;<i> clients) if they don't use the Activator.GetObject() form.
</I>&gt;<i> 
</I>&gt;<i> BTW, I am supposing that the garbage-collection of the client objects is 
</I>&gt;<i> automatic because I store them as IClient objects, not as 
</I>&gt;<i> MarshalByRefObject, am I right?
</I>
That's not the real reason why they are GCed. If an object
is casted to one of its interface it still remains the
same object.

If the client is implementing IClient while subclassing
MarshalByRefObject, the usual remoting lifetime constraints
will take effect.

You can control the lifetime (on the client) by overriding
InitializeLifetimeServices.

The IClient proxy (on the server) is subject to be GCed after
it's removed from the hClients dictionary or after calling
RemotingServices.Disconnect on the singleton.

Robert

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032611.html">[Mono-list] Garbage-collecting a remoting singleton object in a	service?
</A></li>
	<LI>Next message: <A HREF="032614.html">[Mono-list] Garbage-collecting a remoting singleton object in a	service?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32612">[ date ]</a>
              <a href="thread.html#32612">[ thread ]</a>
              <a href="subject.html#32612">[ subject ]</a>
              <a href="author.html#32612">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
