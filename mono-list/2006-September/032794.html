<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] DDllImport .config file does not work
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20DDllImport%20.config%20file%20does%20not%20work&In-Reply-To=1158716043.8571.9.camel%40melchior.magi">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032792.html">
   <LINK REL="Next"  HREF="032795.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] DDllImport .config file does not work</H1>
    <B>David Abrames</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20DDllImport%20.config%20file%20does%20not%20work&In-Reply-To=1158716043.8571.9.camel%40melchior.magi"
       TITLE="[Mono-list] DDllImport .config file does not work">abramesd at kmbs.konicaminolta.us
       </A><BR>
    <I>Wed Sep 20 10:02:31 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="032792.html">[Mono-list] DDllImport .config file does not work
</A></li>
        <LI>Next message: <A HREF="032795.html">[Mono-list] DDllImport .config file does not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32794">[ date ]</a>
              <a href="thread.html#32794">[ thread ]</a>
              <a href="subject.html#32794">[ subject ]</a>
              <a href="author.html#32794">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Jon,

Thank you for your reply.  I ran my program as you suggested and the output
I am getting shows how mono is trying to find the shared object by mangling
the original library name.  For example it adds '.so' to the end and 'lib'
to the beginning and then tries about a dozen various combinations of this.
However none of these match the actual shared object name.

There is no indication that mono detected or did not detect the .config file
which contains the dllmap command.  Is there a method for displaying the
.config files mono is loading/reading?

David Abrames

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Jonathan Pryor [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jonpryor at vt.edu</A>]
</I>&gt;<i> Sent: Tuesday, September 19, 2006 9:34 PM
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">abramesd at kmbs.konicaminolta.us</A>
</I>&gt;<i> Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-list] DDllImport .config file does not work
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, 2006-09-19 at 16:26 -0400, David Abrames wrote:
</I>&gt;<i> &gt; I have created a library that wraps an API that has a
</I>&gt;<i> Windows.DLL and Linux
</I>&gt;<i> &gt; Shared Object. According to the &quot;Interop with Native Libraries&quot;
</I>&gt;<i> I can use a
</I>&gt;<i> &gt; per-assembly .config file to map the Windows DLL name to the
</I>&gt;<i> Linux Shared
</I>&gt;<i> &gt; Object name.  However I can't get it to work.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; When I run my application I get a Dll Not Found Exception on the Windows
</I>&gt;<i> &gt; DLL.  The name of my wrapper library is MyAPILib.dll and the
</I>&gt;<i> .config file is
</I>&gt;<i> &gt; called MyAPILib.dll.config.
</I>&gt;<i>
</I>&gt;<i> Run your app with the MONO_LOG_LEVEL environment variable set to &quot;info&quot;
</I>&gt;<i> and the MONO_LOG_MASK environment variable set to &quot;dll&quot;, e.g.
</I>&gt;<i>
</I>&gt;<i> 	MONO_LOG_LEVEL=info MONO_LOG_MASK=dll mono --debug program.exe
</I>&gt;<i>
</I>&gt;<i> The output will contain many diagnostic messages specifying what
</I>&gt;<i> libraries it's trying to load, and what errors (if any) mono is
</I>&gt;<i> encountering when trying to load the library.
</I>&gt;<i>
</I>&gt;<i>  - Jon
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032792.html">[Mono-list] DDllImport .config file does not work
</A></li>
	<LI>Next message: <A HREF="032795.html">[Mono-list] DDllImport .config file does not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32794">[ date ]</a>
              <a href="thread.html#32794">[ thread ]</a>
              <a href="subject.html#32794">[ subject ]</a>
              <a href="author.html#32794">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
