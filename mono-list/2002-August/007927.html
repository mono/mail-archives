<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] strange mono initialization problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jsohn%40columbus.rr.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="007908.html">
   <LINK REL="Next"  HREF="007766.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] strange mono initialization problem
   </H1>
    <B>John Sohn
    </B> 
    <A HREF="mailto:jsohn%40columbus.rr.com"
       TITLE="[Mono-list] strange mono initialization problem">jsohn@columbus.rr.com
       </A><BR>
    <I>24 Aug 2002 03:55:28 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="007908.html">[Mono-list] strange mono initialization problem
</A></li>
        <LI> Next message: <A HREF="007766.html">[Mono-list] strange mono initialization problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7927">[ date ]</a>
              <a href="thread.html#7927">[ thread ]</a>
              <a href="subject.html#7927">[ subject ]</a>
              <a href="author.html#7927">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; #include &lt;gc/gc.h&gt;
</I>&gt;<i> &gt; #include &lt;windows.h&gt;
</I>&gt;<i> &gt; #include &lt;stdio.h&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; int PASCAL WinMain (HINSTANCE hInstance, HINSTANCE hPrevInstance,
</I>&gt;<i> &gt;                     LPSTR lpszCmdLine, int nCmdShow)
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;         void* test = NULL;
</I>&gt;<i> &gt;         printf(&quot;start\n&quot;);
</I>&gt;<i> &gt;         test = GC_malloc(1);
</I>&gt;<i> &gt;         printf(&quot;end\n&quot;);
</I>&gt;<i> &gt; }
</I>&gt;<i> 
</I>&gt;<i> How do I compile/link such app? Just adding -lwine complains about the
</I>&gt;<i> missing main function (man, I'm so glad I never had to work with the
</I>&gt;<i> windows API!).
</I>&gt;<i> Once we can compile the app, we'll try to pin down the issue.
</I>&gt;<i> 
</I>
I'm using the latest Wine snapshot release (wine-20020804). If you put
this file in it's own directory (with a .c extension) and run
&quot;winemaker  .&quot; it will create a configure/makefile project for you. You
can then ./configure;make to build the project. Of course you will also
need to add the garbage collection library to the makefile.

There was a problem with the winemaker in this snapshot release but it
has been fixed in the latest Wine from CVS. You do not need to download
the whole project from CVS to get this update though. I downloaded the
file directly from:

<A HREF="http://cvs.winehq.com/cvsweb/~checkout~/wine/tools/winemaker?rev=1.43">http://cvs.winehq.com/cvsweb/~checkout~/wine/tools/winemaker?rev=1.43</A>

John



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="007908.html">[Mono-list] strange mono initialization problem
</A></li>
	<LI> Next message: <A HREF="007766.html">[Mono-list] strange mono initialization problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7927">[ date ]</a>
              <a href="thread.html#7927">[ thread ]</a>
              <a href="subject.html#7927">[ subject ]</a>
              <a href="author.html#7927">[ author ]</a>
         </LI>
       </UL>
</body></html>
