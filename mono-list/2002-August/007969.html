<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Re: Mono-list digest, Vol 1 #476 - 18 msgs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jddst19%40mac.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="007970.html">
   <LINK REL="Next"  HREF="007972.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Re: Mono-list digest, Vol 1 #476 - 18 msgs
   </H1>
    <B>jddst19@mac.com
    </B> 
    <A HREF="mailto:jddst19%40mac.com"
       TITLE="[Mono-list] Re: Mono-list digest, Vol 1 #476 - 18 msgs">jddst19@mac.com
       </A><BR>
    <I>Mon, 26 Aug 2002 21:51:25 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="007970.html">[Mono-list] Very serious mono bug ;-)
</A></li>
        <LI> Next message: <A HREF="007972.html">[Mono-list] mono port to OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7969">[ date ]</a>
              <a href="thread.html#7969">[ thread ]</a>
              <a href="subject.html#7969">[ subject ]</a>
              <a href="author.html#7969">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Date: Mon, 26 Aug 2002 10:21:52 +0200
</I>&gt;<i> From: Paolo Molaro &lt;<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>&gt;
</I>&gt;<i>
</I>&gt;<i> This list is the correct one to discuss about the port to OS X.
</I>
Cool, then perhaps someone can help me look in the right direction. I 
have the system compiling and finding its libraries and such. Of course, 
I don't have the jit. But when mint runs, it loads corlib and starts 
initializing it. It crashes after executing two PInvoke calls, 
InitializeArray and GetLength. More specifically, it gets past the first 
but fails _after_ the second when it goes to do a TlsSetValue() and put 
the frame into the frame_thread_id position.

As I was tracing, I noticed that this was due to it passing a silly 
value instead of frame_thread_id.  My guess after inspecting the code: 
register was clobbered somewhere.

It seems as though the calling convention used on Mac OS X is different 
from the Linux one. An immediate difference that I noticed was that the 
Linux one (according to the arch/ppc/tramp.c file) is not leaving space 
available in the stack when it fills a register with a parameter. I knew 
that wasn't the problem, but I fixed it anyway. Anyone else know of 
register-clobbering differences between the two operating systems?

John



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="007970.html">[Mono-list] Very serious mono bug ;-)
</A></li>
	<LI> Next message: <A HREF="007972.html">[Mono-list] mono port to OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7969">[ date ]</a>
              <a href="thread.html#7969">[ thread ]</a>
              <a href="subject.html#7969">[ subject ]</a>
              <a href="author.html#7969">[ author ]</a>
         </LI>
       </UL>
</body></html>
