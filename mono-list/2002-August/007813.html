<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Benchmark information needed.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="007806.html">
   <LINK REL="Next"  HREF="007825.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Benchmark information needed.
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] Benchmark information needed.">lupus@ximian.com
       </A><BR>
    <I>Sat, 17 Aug 2002 12:03:58 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="007806.html">[Mono-list] Benchmark information needed.
</A></li>
        <LI> Next message: <A HREF="007825.html">[Mono-list] Benchmark information needed.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7813">[ date ]</a>
              <a href="thread.html#7813">[ thread ]</a>
              <a href="subject.html#7813">[ subject ]</a>
              <a href="author.html#7813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 08/16/02 Miguel de Icaza wrote:
&gt;<i>    I have this patch that implements spurious jump elimination in the
</I>&gt;<i> Mono runtime, but on my P4 computer I never get any actual improvements
</I>&gt;<i> on the execution time.
</I>&gt;<i> 
</I>&gt;<i>    I would appreciate if people can patch their Mono runtime with this
</I>&gt;<i> patch and run the enclosed test and report back the times as well as the
</I>&gt;<i> machine type they are using.
</I>
Note: I changed the outer loop count from 1000 to 100: a shorter test
gives less possible variations due to system activity and the numbers
give interesting information even with shorter run times.

On a PIII 1.13.

test compiled with mcs (before patch):

Elapsed: 00:00:08.0951790
Elapsed: 00:00:08.0977600
Elapsed: 00:00:08.0984560
Elapsed: 00:00:08.1022560

test compiled with mcs (after patch):

Elapsed: 00:00:07.9334740
Elapsed: 00:00:07.9341380
Elapsed: 00:00:07.9408900
Elapsed: 00:00:07.9643370

So the patch gives a 2% speedup.

test compiled with csc (before patch):

Elapsed: 00:00:06.3110210
Elapsed: 00:00:06.3075340
Elapsed: 00:00:06.3037640
Elapsed: 00:00:06.3082570

test compiled with csc (after patch):

Elapsed: 00:00:06.3875170
Elapsed: 00:00:06.3900300
Elapsed: 00:00:06.3892530
Elapsed: 00:00:06.3943290

About 1% slowdown in this case. Note, however, that the code produced by
csc makes the run time faster by about 20%...

It's also interesting to note that the ms jit is not impacted as much by
the mcs code (on a PII 440):

Elapsed: 00:00:08.2718944
Elapsed: 00:00:08.3019376
Elapsed: 00:00:08.2819088

versus the csc-compiled test times:
Elapsed: 00:00:08.1216784
Elapsed: 00:00:08.1216784
Elapsed: 00:00:08.1316928

So, less than 2% slowdown versus the 20% slowdown in the mono jit.

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="007806.html">[Mono-list] Benchmark information needed.
</A></li>
	<LI> Next message: <A HREF="007825.html">[Mono-list] Benchmark information needed.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7813">[ date ]</a>
              <a href="thread.html#7813">[ thread ]</a>
              <a href="subject.html#7813">[ subject ]</a>
              <a href="author.html#7813">[ author ]</a>
         </LI>
       </UL>
</body></html>
