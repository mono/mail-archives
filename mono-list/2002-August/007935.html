<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] strange mono initialization problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jsohn%40columbus.rr.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="007932.html">
   <LINK REL="Next"  HREF="007908.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] strange mono initialization problem
   </H1>
    <B>John Sohn
    </B> 
    <A HREF="mailto:jsohn%40columbus.rr.com"
       TITLE="[Mono-list] strange mono initialization problem">jsohn@columbus.rr.com
       </A><BR>
    <I>24 Aug 2002 12:52:02 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="007932.html">[Mono-list] strange mono initialization problem
</A></li>
        <LI> Next message: <A HREF="007908.html">[Mono-list] strange mono initialization problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7935">[ date ]</a>
              <a href="thread.html#7935">[ thread ]</a>
              <a href="subject.html#7935">[ subject ]</a>
              <a href="author.html#7935">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Makefile.am should read:
</I>&gt;<i> 
</I>&gt;<i> diff -u -r1.35 Makefile.am
</I>&gt;<i> --- Makefile.am	12 Aug 2002 10:05:51 -0000	1.35
</I>&gt;<i> +++ Makefile.am	24 Aug 2002 10:36:44 -0000
</I>&gt;<i> @@ -3,6 +3,8 @@
</I>&gt;<i>  	$(GMODULE_CFLAGS)		\
</I>&gt;<i>  	$(GLIB_CFLAGS)
</I>&gt;<i>  
</I>&gt;<i> +libmono_la_LDFLAGS=-Wl,-version-script=ldscript
</I>&gt;<i> +
</I>&gt;<i>  if X86
</I>&gt;<i>  bin_PROGRAMS = mono
</I>&gt;<i>  lib_LTLIBRARIES = libmono.la
</I>&gt;<i> 
</I>&gt;<i> i.e. with -Wl,... otherwise the option is not passed down to the linker.
</I>&gt;<i> You can then check with:
</I>&gt;<i> 	nm -D .libs/libmono.so|grep ' T '
</I>&gt;<i> 
</I>&gt;<i> that only symbols starting with &quot;mono_&quot; are exported.
</I>&gt;<i> Can you retest with that change?
</I>
This worked! With the changes you gave me I was able to successfully
link to libmono.so and run the test application under WineLib. The
output from nm confirmed that symbols starting with &quot;mono_&quot; are  the
only symbols exported.

&gt;<i> Yeah, I know that. It's fine for testing if implementing S.W.Forms
</I>&gt;<i> works out using wine (BTW, thanks for doing that!). It's just that it's
</I>&gt;<i> not a possible long-term solution, IMHO, having two different mono
</I>&gt;<i> loaders, one linked to libwine that can use S.W.F and one that can't.
</I>&gt;<i> Anyway, maybe we can discuss this later with the wine people if your
</I>&gt;<i> experiments turn out to work.
</I>
I fully agree with you. I would rather see the WineLib/SWF applications
started with the mono command also. The issue with garbage collection
enabled in the build also creates a problem but at this point I believe
there is enough get started on the WinForms implementation. Also, these
issues are not really a problem with the any of the code in the Mono
project. They are really problems caused by using external libraries
with Mono.

Thanks,
John




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="007932.html">[Mono-list] strange mono initialization problem
</A></li>
	<LI> Next message: <A HREF="007908.html">[Mono-list] strange mono initialization problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7935">[ date ]</a>
              <a href="thread.html#7935">[ thread ]</a>
              <a href="subject.html#7935">[ subject ]</a>
              <a href="author.html#7935">[ author ]</a>
         </LI>
       </UL>
</body></html>
