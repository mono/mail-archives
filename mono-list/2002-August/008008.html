<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] One Bug, Many questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:dietmar%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="008001.html">
   <LINK REL="Next"  HREF="008011.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] One Bug, Many questions
   </H1>
    <B>Dietmar Maurer
    </B> 
    <A HREF="mailto:dietmar%40ximian.com"
       TITLE="[Mono-list] One Bug, Many questions">dietmar@ximian.com
       </A><BR>
    <I>28 Aug 2002 09:11:24 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="008001.html">[Mono-list] One Bug, Many questions
</A></li>
        <LI> Next message: <A HREF="008011.html">[Mono-list] One Bug, Many questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8008">[ date ]</a>
              <a href="thread.html#8008">[ thread ]</a>
              <a href="subject.html#8008">[ subject ]</a>
              <a href="author.html#8008">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, its a jit bug (or unsupported feature). The problem is that the
current jit does not handle the case when there are value types on the
runtime stack at basic block boundaries, for example

ldfld x (where x is a struct)
br target (please notice that the stack is not empty, it contains x)

maybe you can avoid such constructs in your code? I will also try to
find a real solution for the problem.

- Dietmar

On Wed, 2002-08-28 at 02:41, tom berger wrote:
&gt;<i> On Tue, 2002-08-27 at 13:10, Paolo Molaro wrote:
</I>&gt;<i> &gt; Sample code that would reproduce the problem is appreciated.
</I>&gt;<i> 
</I>&gt;<i> OK, i put the current sources at <A HREF="http://magaf.org/luna/">http://magaf.org/luna/</A>
</I>&gt;<i> 
</I>&gt;<i> It is a little messy but i put some instructions, which, if followed
</I>&gt;<i> allow you to compile the compiler on windows and linux, and get a
</I>&gt;<i> top-level and compile scheme programs and anonymous functions on
</I>&gt;<i> windows.
</I>&gt;<i> 
</I>&gt;<i> The code producing the jit bug is in src/types/compiled.cs in the
</I>&gt;<i> function ILGenerate.
</I>&gt;<i> 
</I>&gt;<i> The problem occurs before making an instance of the type in the dynamic
</I>&gt;<i> assembly, but rather still while emitting, so this is not the problem
</I>&gt;<i> like we thought.
</I>&gt;<i> 
</I>&gt;<i> I'll try to arrange a nicer distribution and maybe a CVS in the near
</I>&gt;<i> future. Until then I'll update the tarball at magaf.org when there's a
</I>&gt;<i> new development.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> 
</I>&gt;<i> Tom
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="008001.html">[Mono-list] One Bug, Many questions
</A></li>
	<LI> Next message: <A HREF="008011.html">[Mono-list] One Bug, Many questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8008">[ date ]</a>
              <a href="thread.html#8008">[ thread ]</a>
              <a href="subject.html#8008">[ subject ]</a>
              <a href="author.html#8008">[ author ]</a>
         </LI>
       </UL>
</body></html>
