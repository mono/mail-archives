<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] reading and writing plists
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20reading%20and%20writing%20plists&In-Reply-To=C9A7D4A0.7552%25garrisot%40otc.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046760.html">
   <LINK REL="Next"  HREF="046765.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] reading and writing plists</H1>
    <B>GARRISON, TRAVIS J.</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20reading%20and%20writing%20plists&In-Reply-To=C9A7D4A0.7552%25garrisot%40otc.edu"
       TITLE="[Mono-list] reading and writing plists">garrisot at otc.edu
       </A><BR>
    <I>Tue Mar 22 13:21:51 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="046760.html">[Mono-list] [Mono-osx] monomac plist example
</A></li>
        <LI>Next message: <A HREF="046765.html">[Mono-list] build mono on AIX 5.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46762">[ date ]</a>
              <a href="thread.html#46762">[ thread ]</a>
              <a href="subject.html#46762">[ subject ]</a>
              <a href="author.html#46762">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks to Geoff Norton in pointing me to NSDictonary and Baker, GJ for the example phonebook program, I was finally able to read a plist from OSX. It may not be pretty but I will port the code below in case anyone else needs help. I wasn't totally sure about the NSApplication.Main. I commented it out to keep the program from opening up a window. This is strictly a console app to help us manage our macs better. What is the correct way to do this?

Travis

static string GetPlistValue(string filepath, string key)
{
                //Clean up the pool errors
                using (var ns = new NSAutoreleasePool())
                {
                                //Connect to Apple framework
                                NSApplication.Init ();
                                //Commented out cause this is a console app
                                //NSApplication.Main (args);

                                //Create a new dictonary to hold our plist
                                NSDictionary plist = new NSDictionary();

                                //Check to see if the plist exists
                                if (NSFileManager.DefaultManager.FileExists(filepath))
                                {
                                                //Check to see if the plist has anything in it
                                                plist = NSDictionary.FromFile(filepath);
                                                if (plist != null)
                                                {
                                                                //return the value for our key
                                                                NSString valueKey = new NSString(key);
                                                                return plist.ValueForKey(valueKey).ToString();
                                                }else{

                                                                //The plist is empty
                                                                return &quot;Empty plist&quot;;
                                                }
                                }

                                //Can't find the plist, correct path?
                                return &quot;No plist found&quot;;
                }
}

From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-osx-bounces at lists.ximian.com</A> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-osx-bounces at lists.ximian.com</A>] On Behalf Of GARRISON, TRAVIS J.
Sent: Thursday, March 17, 2011 3:09 PM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-osx at lists.ximian.com</A>
Subject: [Mono-osx] reading and writing plists

We are looking for examples on how to read and write to the native plists included with Mac OSX. Most of the plists are in the binary format, which we can convert to the xml format if needed. We are trying to code a few tools to help us manage our macs better.

Thanks
Travis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20110322/24bb2297/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20110322/24bb2297/attachment.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046760.html">[Mono-list] [Mono-osx] monomac plist example
</A></li>
	<LI>Next message: <A HREF="046765.html">[Mono-list] build mono on AIX 5.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46762">[ date ]</a>
              <a href="thread.html#46762">[ thread ]</a>
              <a href="subject.html#46762">[ subject ]</a>
              <a href="author.html#46762">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
