<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] P/Invoke on amd64
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:james.fitzsimons%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="025699.html">
   <LINK REL="Next"  HREF="025728.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] P/Invoke on amd64
   </H1>
    <B>James Fitzsimons
    </B> 
    <A HREF="mailto:james.fitzsimons%40gmail.com"
       TITLE="[Mono-list] P/Invoke on amd64">james.fitzsimons@gmail.com
       </A><BR>
    <I>Mon, 14 Feb 2005 21:55:25 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="025699.html">[Mono-list] P/Invoke on amd64 was :Marshalling problems
</A></li>
        <LI> Next message: <A HREF="025728.html">[Mono-list] P/Invoke on amd64
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25727">[ date ]</a>
              <a href="thread.html#25727">[ thread ]</a>
              <a href="subject.html#25727">[ subject ]</a>
              <a href="author.html#25727">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-Hbsgldb6GVkAG+t0RJ7V
Content-Type: text/plain
Content-Transfer-Encoding: quoted-printable

Hi all,
Ok I have the first part of my challenge solved.

On Sun, 2005-02-13 at 22:23, James Fitzsimons wrote:
&gt;<i> &gt; See if specifying the path to the 64 bit version when doing g_module_op=
</I>en=20
&gt;<i> &gt; will let you open it.
</I>&gt;<i> I tired this just out of interest changing the c test program to look lik=
</I>e this:
&gt;<i> #include &lt;gmodule.h&gt;
</I>&gt;<i>=20
</I>&gt;<i> int main()
</I>&gt;<i> {
</I>&gt;<i>         GModule *mod;
</I>&gt;<i>         mod =3D g_module_open(&quot;/lib64/libncurses.so.5.4&quot;,
</I>&gt;<i> G_MODULE_BIND_LAZY);
</I>&gt;<i>         if (mod =3D=3D NULL)
</I>&gt;<i>                 printf(&quot;error: %s\n&quot;, g_module_error ());
</I>&gt;<i>         else
</I>&gt;<i>                 printf(&quot;ok: %p\n&quot;, mod);
</I>&gt;<i>         return 0;
</I>&gt;<i> }
</I>&gt;<i>=20
</I>&gt;<i> now the output:
</I>&gt;<i> <A HREF="mailto:james@athos">james@athos</A> src $ ./a.out=20
</I>&gt;<i> ok: 0x5022e0
</I>Once I got put onto the whole gmodule thing by Peter I thought well why
not try reinstalling gmodule? After rebuilding/installing gmodule the
Curses example now works! Yay ;)=20
All I can think is it was something to do with glib not liking being
compiled with gcc 3.4.3, as this time I rebuilt it using gcc 3.3.4 and
all is good.

However now that I am (reasonably) sure that P/Invoke is working
correctly I still can't use my target library libopencv.so. When trying
to load it I get the following errors:
Mono-INFO: DllImport loading: 'libopencv'.
Mono-INFO: DllImport error loading library '/usr/local/lib/libopencv.so:
undefined symbol: __gxx_personality_v0'.

(CvImage.exe:8000): Mono-WARNING **: DllImport unable to load library
'/usr/local/lib/libopencv.so: undefined symbol: __gxx_personality_v0'.

Unhandled Exception: System.DllNotFoundException: opencv

Now, I am aware that this has something to do with libstdc++, and I
definately have that installed, but I don't know what to try next.

Any clues would be greatly appreciated.
Cheers,
James

--=20
It's 5.50 a.m.... Do you know where your stack pointer is ?

--=-Hbsgldb6GVkAG+t0RJ7V
Content-Type: application/pgp-signature; name=signature.asc
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.6 (GNU/Linux)

iD8DBQBCER5Ntf4qL6AoafMRAnSdAKD4Kap3PM5jt9c0ZU0xy39uRzo59wCgvcer
0sPckppR5PYP7OUqmgSa1B8=
=r4YX
-----END PGP SIGNATURE-----

--=-Hbsgldb6GVkAG+t0RJ7V--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="025699.html">[Mono-list] P/Invoke on amd64 was :Marshalling problems
</A></li>
	<LI> Next message: <A HREF="025728.html">[Mono-list] P/Invoke on amd64
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25727">[ date ]</a>
              <a href="thread.html#25727">[ thread ]</a>
              <a href="subject.html#25727">[ subject ]</a>
              <a href="author.html#25727">[ author ]</a>
         </LI>
       </UL>
</body></html>
