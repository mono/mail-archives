<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Embedding Mono for scripting and sandboxing file access
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:spouliot%40videotron.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025629.html">
   <LINK REL="Next"  HREF="025630.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Embedding Mono for scripting and sandboxing file access
   </H1>
    <B>Sebastien Pouliot
    </B> 
    <A HREF="mailto:spouliot%40videotron.ca"
       TITLE="[Mono-list] Embedding Mono for scripting and sandboxing file access">spouliot@videotron.ca
       </A><BR>
    <I>Wed, 09 Feb 2005 08:06:40 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="025629.html">[Mono-list] Embedding Mono for scripting and sandboxing file access
</A></li>
        <LI> Next message: <A HREF="025630.html">[Mono-list] Bug 70588
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25633">[ date ]</a>
              <a href="thread.html#25633">[ thread ]</a>
              <a href="subject.html#25633">[ subject ]</a>
              <a href="author.html#25633">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey!

&gt;<i> Which seems easy enough, if that is in fact how it works.  My major
</I>&gt;<i> concern is that scripts being called could be major security risks to
</I>&gt;<i> the system they're run on.  
</I>
Depending on who's providing the script versus who's providing the 
system they sure could be very dangerous.

&gt;<i> I was thinking as a possible solution to
</I>&gt;<i> the problem of file IO access, would be to provide a custom
</I>&gt;<i> system.io.fileaccess set when I compile the mono library, denying
</I>&gt;<i> access to either certain directories, or returning error codes / null
</I>&gt;<i> values from the function calls to elimate file access entirely (it
</I>&gt;<i> should not be needed for this application, I can provide hardcoded
</I>&gt;<i> methods myself if need be).
</I>
This looks a lot like IsolatedStorage (see System.IO.IsolatedStorage 
namespace in mscorlib.dll).

&gt;<i> Since I was planning on the library being linked statically, the
</I>&gt;<i> changes would only effect the internal scripts and not any other mono
</I>&gt;<i> applications.  Does this sound feasable, 
</I>
Yes but it may be incomplete. As long as people can either P/Invoke 
unmanaged code, use reflection and/or call into Mono's internal calls
(runtime) the same problem persist (don't take that as an exhaustive
list ;-).

&gt;<i> am I on the wrong track, or is there an easier way?  
</I>
This scenario (running partially trusted code) is covered in .NET by
CAS (Code Access Security). You may want to read about this at MSDN.

Mono support for CAS is (very) incomplete at this point. The Mono 1.1.x
branch has _some_ support for it (more in the soon-to-be-released 1.1.4)
but it's still a long way of providing a secure environment to execute
partially trusted code.

But I'm always looking for volunteers to help - either directly in Mono,
or indirectly by writing applications using the features (which could be
very interesting as long as you are not in a hurry of releasing ;-).

&gt;<i> If this does sound feasable (I know its kind
</I>&gt;<i> of a long shot) then are there any other libraries I should consider
</I>&gt;<i> for this method, or at least look at securing somehow?  I'm open to
</I>&gt;<i> any suggestions!
</I>
There are also other techniques like white-listing, pre-processing 
scripts/compiled assemblies ... but they all have their own drawbacks

&gt;<i> Thanks ahead of time!
</I>&gt;<i> -J Lothian
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="025629.html">[Mono-list] Embedding Mono for scripting and sandboxing file access
</A></li>
	<LI> Next message: <A HREF="025630.html">[Mono-list] Bug 70588
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25633">[ date ]</a>
              <a href="thread.html#25633">[ thread ]</a>
              <a href="subject.html#25633">[ subject ]</a>
              <a href="author.html#25633">[ author ]</a>
         </LI>
       </UL>
</body></html>
