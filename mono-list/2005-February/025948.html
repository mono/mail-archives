<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Problems with runtime 1.1.4, xsp and mod_mono1.0.6 on SuSe 9.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:joe_audette%40yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="025947.html">
   <LINK REL="Next"  HREF="025908.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Problems with runtime 1.1.4, xsp and mod_mono1.0.6 on SuSe 9.1
   </H1>
    <B>Joe Audette
    </B> 
    <A HREF="mailto:joe_audette%40yahoo.com"
       TITLE="[Mono-list] Problems with runtime 1.1.4, xsp and mod_mono1.0.6 on SuSe 9.1">joe_audette@yahoo.com
       </A><BR>
    <I>Tue, 22 Feb 2005 20:42:18 -0800 (PST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="025947.html">[Mono-list] Problems with runtime 1.1.4, xsp and mod_mono1.0.6 on SuSe 9.1
</A></li>
        <LI> Next message: <A HREF="025908.html">[Mono-list] x86_64 binaries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25948">[ date ]</a>
              <a href="thread.html#25948">[ thread ]</a>
              <a href="subject.html#25948">[ subject ]</a>
              <a href="author.html#25948">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jim,

It looks like you are using mojoportal, I am the
author, perhaps I can help.
I am running mojoportal on Suse 9.2 with the latest
svn code (and also on a box with Suse 9.1 an mono
1.0.5 release)  but your questions are more related to
apache configuration for mod_mono.

I recently learned how to do Virtual Hosts on apache
and am currently running 3 sites with mojoportal using
virtual hosts.

On Suse, you want to put your Virtual Host settings in
individual files per host in the
/etc/apache2/vhosts.d/ folder using a .conf extension.

Unless you have more than one ip address on the
machine it is less maintenance to leave out the ip
address in the settings. Here is my mojoportal.conf
file stored in /etc/apache2/vhosts.d/:

&lt;VirtualHost *:80&gt;
    ServerAdmin <A HREF="mailto:joe@mojoportal.com">joe@mojoportal.com</A>
    ServerName www.mojoportal.com

    DocumentRoot &quot;/usr/local/web/mojosite&quot;

    ErrorLog /var/log/apache2/mojoportal.com-error_log
    CustomLog
/var/log/apache2/mojoportal.com-access_log combined

    HostnameLookups Off
    UseCanonicalName On
    ServerSignature On

    # doubt if you need this but its in mine
    &lt;IfModule mod_userdir.c&gt;
	UserDir public_html
	Include /etc/apache2/mod_userdir.conf
    &lt;/IfModule&gt;

    &lt;Directory &quot;/usr/local/web/mojosite&quot;&gt;
    	SetHandler mono
	Options Indexes FollowSymLinks
	AllowOverride None
	Order allow,deny
	Allow from all
    
    &lt;/Directory&gt;

&lt;/VirtualHost&gt;

I have stripped out comments for brevity.

In addition, put this in your httpd.conf file:

LoadModule mono_module /usr/lib/apache2/mod_mono.so
MonoApplicationsConfigDir &quot;/var/www/webapp&quot;

and in the /var/www/webapp folder put files with a
.webapp extension for each host with contents like
this:

&lt;apps&gt;
      &lt;web-application&gt;
         &lt;name&gt;mojoportal&lt;/name&gt;
         &lt;vhost&gt;www.mojoportal.com&lt;/vhost&gt;
         &lt;vport&gt;80&lt;/vport&gt;
         &lt;vpath&gt;/&lt;/vpath&gt;
         &lt;path&gt;/usr/local/web/mojosite&lt;/path&gt;
         &lt;enabled&gt;true&lt;/enabled&gt;
      &lt;/web-application&gt;
&lt;/apps&gt;

you can of course choose different folders for where
you keep your files if you get the concept

The MonoApplicationsConfigDir directive is used
instead of the MononApplications directive you see in
the examples, then you can put as many .webapp files
in there to correspond with your  Virtual Hosts
running mono.

If you need more help, feel free to post in the forums
at <A HREF="http://www.mojoportal.com">http://www.mojoportal.com</A>

Hope this helps,

Joe Audette


--- Jim Erwin &lt;<A HREF="mailto:mono@eyekahn.com">mono@eyekahn.com</A>&gt; wrote:

&gt;<i> Gonzalo,
</I>&gt;<i> 
</I>&gt;<i> Thanks for the reply. I have 4 apps running in
</I>&gt;<i> production as virtual hosts.
</I>&gt;<i> If I can't put the mono configuration directives in
</I>&gt;<i> there, then where can I
</I>&gt;<i> put them? The directives I'm using for each
</I>&gt;<i> &lt;VirtualHost&gt; are:
</I>&gt;<i> 
</I>&gt;<i> Here is one of my vhosts as an example
</I>&gt;<i> 
</I>&gt;<i> NameVirtualHost 65.64.105.147
</I>&gt;<i> 
</I>&gt;<i> &lt;VirtualHost 65.64.105.147&gt;
</I>&gt;<i> 
</I>&gt;<i>     ServerAdmin <A HREF="mailto:mono@eyekahn.com">mono@eyekahn.com</A>
</I>&gt;<i>     ServerName mojoportal.eyekahn.com
</I>&gt;<i>     
</I>&gt;<i>     &lt;Directory /srv/www/MonoSites/mojoportal&gt;
</I>&gt;<i> 	Allow from all
</I>&gt;<i>     &lt;/Directory&gt;
</I>&gt;<i> 
</I>&gt;<i>     DirectoryIndex Default.aspx
</I>&gt;<i>     DocumentRoot /srv/www/MonoSites/mojoportal
</I>&gt;<i>     MonoPath /usr/lib/mono/gac:/usr/bin:/etc/mono
</I>&gt;<i>     MonoExecutablePath /usr/bin/mono
</I>&gt;<i>     MonoServerPath
</I>&gt;<i> /usr/lib/mono/1.0/mod-mono-server.exe
</I>&gt;<i>     MonoApplications /:/srv/www/MonoSites/mojoportal
</I>&gt;<i>     MonoUnixSocket
</I>&gt;<i> /srv/www/VirtualMonoSockets/monosocket_mojoportal
</I>&gt;<i>     MonoWapiDir /srv/www/VirtualMonoWapi/mojoportal
</I>&gt;<i>     AddHandler mono .aspx .ascx .config .cs .asmx
</I>&gt;<i> .asax
</I>&gt;<i> 
</I>&gt;<i> &lt;/VirtualHost&gt;
</I>&gt;<i> 
</I>&gt;<i> I have 4 sites/applications configured at the same
</I>&gt;<i> IP and different host
</I>&gt;<i> headers configured like this. How can I accomplish
</I>&gt;<i> this without putting the
</I>&gt;<i> Mono* configuration directives in the &lt;VirtualHost&gt;
</I>&gt;<i> configuration section?
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> JE
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>] On Behalf
</I>&gt;<i> Of Gonzalo Paniagua
</I>&gt;<i> Javier
</I>&gt;<i> Sent: Tuesday, February 22, 2005 7:48 PM
</I>&gt;<i> To: <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-list] Problems with runtime
</I>&gt;<i> 1.1.4, xsp and mod_mono1.0.6
</I>&gt;<i> on SuSe 9.1
</I>&gt;<i> 
</I>&gt;<i> There's a bug in the released mod_mono 1.0.6 that
</I>&gt;<i> makes it not to spawn
</I>&gt;<i> mod-mono-server if you put Mono* configuration
</I>&gt;<i> directives inside
</I>&gt;<i> &lt;VirtualHost&gt;.
</I>&gt;<i> 
</I>&gt;<i> As a workaround, put the directives out of any
</I>&gt;<i> &lt;virtualhost&gt; and it will
</I>&gt;<i> work again.
</I>&gt;<i> 
</I>&gt;<i> This issue will be fixed in next release of
</I>&gt;<i> mod_mono.
</I>&gt;<i> 
</I>&gt;<i> -Gonzalo
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> 
</I>

=====
<A HREF="mailto:joe_audette@yahoo.com">joe_audette@yahoo.com</A>
<A HREF="http://www.joeaudette.com">http://www.joeaudette.com</A>
<A HREF="http://www.mojoportal.com">http://www.mojoportal.com</A>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="025947.html">[Mono-list] Problems with runtime 1.1.4, xsp and mod_mono1.0.6 on SuSe 9.1
</A></li>
	<LI> Next message: <A HREF="025908.html">[Mono-list] x86_64 binaries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25948">[ date ]</a>
              <a href="thread.html#25948">[ thread ]</a>
              <a href="subject.html#25948">[ subject ]</a>
              <a href="author.html#25948">[ author ]</a>
         </LI>
       </UL>
</body></html>
