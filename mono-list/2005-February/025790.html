<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Memory usage of mod_mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="025787.html">
   <LINK REL="Next"  HREF="025789.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Memory usage of mod_mono
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] Memory usage of mod_mono">lupus@ximian.com
       </A><BR>
    <I>Thu, 17 Feb 2005 15:38:10 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="025787.html">[Mono-list] Memory usage of mod_mono
</A></li>
        <LI> Next message: <A HREF="025789.html">[Mono-list] xsp-1.0.5 not compiling on Fedora Core 2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25790">[ date ]</a>
              <a href="thread.html#25790">[ thread ]</a>
              <a href="subject.html#25790">[ subject ]</a>
              <a href="author.html#25790">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02/17/05 Mark Prins (DSL AK) wrote:
&gt;<i> &gt; the site responding again. We're still working on that one and have a
</I>&gt;<i> &gt; workaround in place, of more concern is the other problem: the site
</I>&gt;<i> &gt; just gobbles up memory until it uses all available and then,
</I>&gt;<i> &gt; particularly on the production box, the whole server falls over. We've
</I>&gt;<i> &gt; had to take the site off the production server now and are running a
</I>&gt;<i> &gt; static version of the site.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; My question is: is anyone running a busy site using mod_mono on
</I>&gt;<i> &gt; apache? Have they noticed memory usage issues? We're working with an
</I>&gt;<i> &gt; average of 50,000 hits a day on the production server, so it doesn't
</I>&gt;<i> &gt; take long for the server to fall over.
</I>[...]
&gt;<i> &gt; If I set a load generator on a simple aspx page served by a server
</I>&gt;<i> &gt; configured like this, the memory usage simply increases until
</I>&gt;<i> &gt; eventually the server gives up.
</I>
Please try mono from svn. There are several improvements in the GC
code and xsp should behave much better. For example, I just finished
a run of 25000 requests at a web service hosted with xsp that involve
a few tens of KB of data for each request and xsp's memory
usage is constant at 31 MB (virtual, 16 MB RSS).
So, please try mono from current svn and file a bug report with a test
case if you still see the memory usage increasing.

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="025787.html">[Mono-list] Memory usage of mod_mono
</A></li>
	<LI> Next message: <A HREF="025789.html">[Mono-list] xsp-1.0.5 not compiling on Fedora Core 2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25790">[ date ]</a>
              <a href="thread.html#25790">[ thread ]</a>
              <a href="subject.html#25790">[ subject ]</a>
              <a href="author.html#25790">[ author ]</a>
         </LI>
       </UL>
</body></html>
