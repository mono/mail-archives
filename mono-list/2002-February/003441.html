<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Nasty x86_magic_trampoline gremlin: ambiguous call sequences
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003438.html">
   <LINK REL="Next"  HREF="003450.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Nasty x86_magic_trampoline gremlin: ambiguous call sequences
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] Nasty x86_magic_trampoline gremlin: ambiguous call sequences">lupus@ximian.com
       </A><BR>
    <I>Sun, 24 Feb 2002 14:04:02 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="003438.html">[Mono-list] Nasty x86_magic_trampoline gremlin: ambiguous call sequences
</A></li>
        <LI> Next message: <A HREF="003450.html">[Mono-list] Nasty x86_magic_trampoline gremlin: ambiguous call
 sequences
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3441">[ date ]</a>
              <a href="thread.html#3441">[ thread ]</a>
              <a href="subject.html#3441">[ subject ]</a>
              <a href="author.html#3441">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02/23/02 Eric Kidd wrote:
&gt;<i> This error occurs when x86_magic_trampoline is trying to decode the
</I>&gt;<i> instruction stream, and finds that 'reg' == 4 (the code for X86_ESP,
</I>&gt;<i> which is complete nonsense in a relative jump instruction).
</I>[...]
&gt;<i> I've attached some ugly C# source code which causes the mono-0.9 release
</I>&gt;<i> to die in this fashion.  You may not be able to trigger it; this bug is
</I>&gt;<i> heavily dependent on where things are located in memory.
</I>
Funnyly enough I found this bug this morning, too, while adding
support for tracking a few statistics in the JIT. At the fifth counter
I added, it started segfaulting...
Your test program works for me after the fix (but it did work before
that, too). My fix is in cvs now, let me know if it works for you.

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003438.html">[Mono-list] Nasty x86_magic_trampoline gremlin: ambiguous call sequences
</A></li>
	<LI> Next message: <A HREF="003450.html">[Mono-list] Nasty x86_magic_trampoline gremlin: ambiguous call
 sequences
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3441">[ date ]</a>
              <a href="thread.html#3441">[ thread ]</a>
              <a href="subject.html#3441">[ subject ]</a>
              <a href="author.html#3441">[ author ]</a>
         </LI>
       </UL>
</body></html>
