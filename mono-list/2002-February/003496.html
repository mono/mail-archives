<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Bug in mcs: casting type enum to integral type
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:manyoso%40yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003493.html">
   <LINK REL="Next"  HREF="003499.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Bug in mcs: casting type enum to integral type
   </H1>
    <B>Adam Treat
    </B> 
    <A HREF="mailto:manyoso%40yahoo.com"
       TITLE="[Mono-list] Bug in mcs: casting type enum to integral type">manyoso@yahoo.com
       </A><BR>
    <I>Mon, 25 Feb 2002 20:59:35 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="003493.html">[Mono-list] 2 Questions
</A></li>
        <LI> Next message: <A HREF="003499.html">[Mono-list] Bug in mcs: casting type enum to integral type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3496">[ date ]</a>
              <a href="thread.html#3496">[ thread ]</a>
              <a href="subject.html#3496">[ subject ]</a>
              <a href="author.html#3496">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

Noticed another bug in the compiler.  mcs is having trouble compiling classes 
with explicit casting of type enum to one of the integral types.  The 
following test outlines the error.  The error I recieve is:

Unhandled exception System.NullReferenceException A null value was found 
where an object instance was required.
#0: 0x00001 callvirt   in Mono.CSharp.Expression::ConvertNumericExplicit 
([0x81d0a58] [(nil)] [0x80ecd38] )
#1: 0x0007e call       in Mono.CSharp.Expression::ConvertExplicit 
([0x81d0a58] [0x81e1cf0] [0x80ecd38] [vt: 0xbfffddec] )

Cheers,

Adam

============================================================

//
// Tests enums and explicit casts of type enum.
//

using System;

public enum foo:uint {
	a = 0,
	b = 1
}

public class Blah {

	static void Main() {
		Console.WriteLine((int)foo.a + &quot;This doesn't work.&quot;);
		Console.WriteLine((uint)foo.b + &quot;This works.&quot;);
	}
}


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003493.html">[Mono-list] 2 Questions
</A></li>
	<LI> Next message: <A HREF="003499.html">[Mono-list] Bug in mcs: casting type enum to integral type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3496">[ date ]</a>
              <a href="thread.html#3496">[ thread ]</a>
              <a href="subject.html#3496">[ subject ]</a>
              <a href="author.html#3496">[ author ]</a>
         </LI>
       </UL>
</body></html>
