<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] [Fwd: Sample Test]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rotund%40fatnsoft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003005.html">
   <LINK REL="Next"  HREF="003010.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] [Fwd: Sample Test]
   </H1>
    <B>Joe Tennies
    </B> 
    <A HREF="mailto:rotund%40fatnsoft.com"
       TITLE="[Mono-list] [Fwd: Sample Test]">rotund@fatnsoft.com
       </A><BR>
    <I>08 Feb 2002 21:07:00 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="003005.html">[Mono-list] Corlib's Unit Tests now run against mscorlib too
</A></li>
        <LI> Next message: <A HREF="003010.html">[Mono-list] [Fwd: Sample Test]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3007">[ date ]</a>
              <a href="thread.html#3007">[ thread ]</a>
              <a href="subject.html#3007">[ subject ]</a>
              <a href="author.html#3007">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Darn it.  That means I must have screwed up the test (I was writing it
from memory).

That was the basic problem.  It wouldn't look to the correct place.  The
test should fail on all the compilers you mentioned and then some (Code
Warrior's and Borland's, though I think Borland has since fixed it.)

The test appeared in Windows Developer's Journal (or something like
that)... it was a &quot;Bug of the month&quot; or &quot;Bug++ of the Month&quot;  If someone
could look it up for me (I read this at my old job... like the August
2001 issue... somewhere between summer and December of 2001)

Perhaps the test was actually:

&gt;<i> int Bar()
</I>&gt;<i> {
</I>&gt;<i>    return 0;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> class cParent
</I>&gt;<i> {
</I>&gt;<i>    public:
</I>&gt;<i>       int Bar() {return 1;}
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> class cChild : public cParent
</I>&gt;<i> {
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> class cGrandchild : public cChild
</I>&gt;<i> {
</I>&gt;<i>    int Bar() { return Bar(); }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> int main()
</I>&gt;<i> {
</I>&gt;<i>    cGrandhild* gcInstance = new cGrandchild();
</I>&gt;<i>    
</I>&gt;<i>    if (gcInstance-&gt;Foo() == gcInstance-&gt;Bar())
</I>&gt;<i>       return 0;
</I>&gt;<i>    else
</I>&gt;<i>    {
</I>&gt;<i>       cout &lt;&lt; &quot;Problem w/ inheritance and global functions.&quot;
</I>&gt;<i>       return 1;
</I>&gt;<i>    }
</I>&gt;<i> }
</I>
--------------------------------------------------
Message: 4
Subject: RE: [Mono-list] [Fwd: Sample Test]
charset=&quot;us-ascii&quot;
Date: Fri, 8 Feb 2002 03:56:31 -0800
From: &quot;Piers Haken&quot; &lt;<A HREF="mailto:piersh@friskit.com">piersh@friskit.com</A>&gt;
To: &lt;<A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>&gt;

Joe, there's no such thing as a global function in c#. Just like in
Java, every method must be a member of a class. I guess a public static
method could be considered 'global'. I'm sure this would be a good
addition to the Mono compiler test suites.

On the other hand, I'm not sure which C++ compilers you were trying. It
works fine for me on VC6, VC7, g++/cygwin, g++/debian.

Piers.

-----Original Message-----
From: Joe Tennies [mailto:<A HREF="mailto:rotund@fatnsoft.com">rotund@fatnsoft.com</A>] 
Sent: Thursday, February 07, 2002 7:37 PM
To: <A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>
Subject: [Mono-list] [Fwd: Sample Test]


Oops.  Tried to send this w/ the wrong account.  Try this again

&gt;<i> I am still learning C#, so I'll submit this test in C++.  I know this 
</I>&gt;<i> used to fail on almost every C++ compiler (really don't know why).
</I>&gt;<i> 
</I>&gt;<i> int Bar()
</I>&gt;<i> {
</I>&gt;<i>    return 0;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> class cParent
</I>&gt;<i> {
</I>&gt;<i>    public:
</I>&gt;<i>       int Bar() {return 1;}
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> class cChild : public cParent
</I>&gt;<i> {
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> class cGrandchild : public cChild
</I>&gt;<i> {
</I>&gt;<i>    int Foo() {return Bar();}
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> int main()
</I>&gt;<i> {
</I>&gt;<i>    cGrandhild* gcInstance = new cGrandchild();
</I>&gt;<i>    
</I>&gt;<i>    if (gcInstance-&gt;Foo() == gcInstance-&gt;Bar())
</I>&gt;<i>       return 0;
</I>&gt;<i>    else
</I>&gt;<i>    {
</I>&gt;<i>       cout &lt;&lt; &quot;Problem w/ inheritance and global functions.&quot;
</I>&gt;<i>       return 1;
</I>&gt;<i>    }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> Most C++ compilers would return gcInstance-&gt;Foo() == 0.  This means it
</I>
&gt;<i> would call the global instance.
</I>&gt;<i> 
</I>&gt;<i> I don't know if you can create a global function in C#.  If you can, 
</I>&gt;<i> this would be a good test to run.
</I>&gt;<i> 
</I>




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003005.html">[Mono-list] Corlib's Unit Tests now run against mscorlib too
</A></li>
	<LI> Next message: <A HREF="003010.html">[Mono-list] [Fwd: Sample Test]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3007">[ date ]</a>
              <a href="thread.html#3007">[ thread ]</a>
              <a href="subject.html#3007">[ subject ]</a>
              <a href="author.html#3007">[ author ]</a>
         </LI>
       </UL>
</body></html>
