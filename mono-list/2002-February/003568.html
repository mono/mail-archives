<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] MS doc discrepencies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:dsh2120%40draper.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003564.html">
   <LINK REL="Next"  HREF="003575.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] MS doc discrepencies
   </H1>
    <B>Derek Holden
    </B> 
    <A HREF="mailto:dsh2120%40draper.com"
       TITLE="[Mono-list] MS doc discrepencies">dsh2120@draper.com
       </A><BR>
    <I>Wed, 27 Feb 2002 12:38:39 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="003564.html">[Mono-list] MS doc discrepencies
</A></li>
        <LI> Next message: <A HREF="003575.html">[Mono-list] MS doc discrepencies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3568">[ date ]</a>
              <a href="thread.html#3568">[ thread ]</a>
              <a href="subject.html#3568">[ subject ]</a>
              <a href="author.html#3568">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jon,

In your test are you testing for equality between the result and the 
NaN's/Infinity's? Your problem may lie in the test, since by definition you 
can't test a number directly against the actual NaN/Infinity member 
variables, you have to use the IsInfinity() and IsNaN() methods.

double d = Double.NaN;
if (d == Double.NaN)  // this will always be false, need to use 
Double.IsNaN (d)

Derek

At 2/27/2002 02:49 PM, Jon Guymon wrote:
&gt;<i>The class I'm testing is System.Math.
</I>&gt;<i>
</I>&gt;<i>Here are the question areas:
</I>&gt;<i>operation                               docs                            result
</I>&gt;<i>Log(0)                          PositiveInfinity 
</I>&gt;<i>NegativeInfinity
</I>&gt;<i>Log(0, 
</I>&gt;<i>y)                               PositiveInfinity 
</I>&gt;<i>NegativeInfinity
</I>&gt;<i>Log10(0)                                PositiveInfinity 
</I>&gt;<i>NegativeInfinity
</I>&gt;<i>Pow(x, NegativeInfinity)        0                               NaN
</I>&gt;<i>Pow(x, PositiveInfinity)        PositiveInfinity                NaN
</I>&gt;<i>
</I>&gt;<i>that's it I think
</I>&gt;<i>
</I>&gt;<i>I am admittedly /not/ a math buff, but I think I did everything correctly.
</I>&gt;<i>In any event I have attached the code for checking and cross-posting and
</I>&gt;<i>stuff.  The trouble spots are commented.
</I>&gt;<i>
</I>&gt;<i>Oh, by the way, where can I get my hands on IEEE specs for these operations?
</I>&gt;<i>
</I>&gt;<i>thanks,
</I>&gt;<i>jon
</I>&gt;<i>
</I>&gt;<i>-----Original Message-----
</I>&gt;<i>From: Ben Houston [mailto:<A HREF="mailto:ben@exocortex.org">ben@exocortex.org</A>]
</I>&gt;<i>Sent: Tuesday, February 26, 2002 8:40 PM
</I>&gt;<i>To: 'Jon Guymon'
</I>&gt;<i>Subject: RE: [Mono-list] MS doc discrepencies
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Hi Jon,
</I>&gt;<i>
</I>&gt;<i>Just out of curiosity what behavior differs between the docs and the
</I>&gt;<i>actual classes?   I'm a bit of a math buff and am currently writing a
</I>&gt;<i>DSP library in C# thus I'm interested. :-)
</I>&gt;<i>
</I>&gt;<i>And if it helps I would suggest going with the behavior that is most
</I>&gt;<i>adherent to numerical methods standards (i.e IEEE, etc...).
</I>&gt;<i>
</I>&gt;<i>Take care,
</I>&gt;<i>-ben houston
</I>&gt;<i><A HREF="http://www.exocortex.org/~ben">http://www.exocortex.org/~ben</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: <A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A> [mailto:<A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A>]
</I>&gt;<i>On
</I>&gt;<i> &gt; Behalf Of Jon Guymon
</I>&gt;<i> &gt; Sent: Wednesday, February 27, 2002 1:26 AM
</I>&gt;<i> &gt; To: <A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>
</I>&gt;<i> &gt; Subject: [Mono-list] MS doc discrepencies
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hello,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I've been working on MonoTests.System.MathTest, running it with the
</I>&gt;<i> &gt; Microsoft runtime, and testing the Microsoft classes.  What I found is
</I>&gt;<i> &gt; that
</I>&gt;<i> &gt; in a couple of cases the Microsoft System.Math class does not behave
</I>&gt;<i>as
</I>&gt;<i> &gt; the
</I>&gt;<i> &gt; documentation describes it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This makes me wonder which I should treat as law.  Should I write the
</I>&gt;<i> &gt; tests
</I>&gt;<i> &gt; to they follow the docs to the letter, or should I write them so they
</I>&gt;<i>all
</I>&gt;<i> &gt; pass when run against the Microsoft classes?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It seems to me that the docs should be trusted over the
</I>&gt;<i>implementation,
</I>&gt;<i> &gt; but
</I>&gt;<i> &gt; I want to check before I submit something.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It's also possible I'm doing something wrong.  I'll send my code to
</I>&gt;<i> &gt; whoever
</I>&gt;<i> &gt; wants to proof it, but I don't want to clutter the mailing list just
</I>&gt;<i>yet
</I>&gt;<i> &gt; ^_^.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Also, assuming this all gets worked out, should I simply post the code
</I>&gt;<i>to
</I>&gt;<i> &gt; this list?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks
</I>&gt;<i> &gt; Jon
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003564.html">[Mono-list] MS doc discrepencies
</A></li>
	<LI> Next message: <A HREF="003575.html">[Mono-list] MS doc discrepencies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3568">[ date ]</a>
              <a href="thread.html#3568">[ thread ]</a>
              <a href="subject.html#3568">[ subject ]</a>
              <a href="author.html#3568">[ author ]</a>
         </LI>
       </UL>
</body></html>
