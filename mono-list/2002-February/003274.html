<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] RNGCryptoServiceProvider.cs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:crichton%40gimp.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003272.html">
   <LINK REL="Next"  HREF="003275.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] RNGCryptoServiceProvider.cs
   </H1>
    <B>Mark Crichton
    </B> 
    <A HREF="mailto:crichton%40gimp.org"
       TITLE="[Mono-list] RNGCryptoServiceProvider.cs">crichton@gimp.org
       </A><BR>
    <I>Mon, 18 Feb 2002 08:58:18 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="003272.html">[Mono-list] Array.cs Patch
</A></li>
        <LI> Next message: <A HREF="003275.html">[Mono-list] Re: Is Objective-C support possible?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3274">[ date ]</a>
              <a href="thread.html#3274">[ thread ]</a>
              <a href="subject.html#3274">[ subject ]</a>
              <a href="author.html#3274">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--24zk1gE8NUlDmwG9
Content-Type: multipart/mixed; boundary=&quot;h31gzZEtNLTqOjlF&quot;
Content-Disposition: inline


--h31gzZEtNLTqOjlF
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

In an effort to bring more chaos to the order that is
System.Security.Cryptography, here is the rest of the implementation
for RNGCryptoServiceProvider.

The only part I'm not too sure about are how I handle the two internal
calls.  The original method definition didn't include extern, but I
think that extern is necessary in this case, right?

Also, the constructors are still marked MonoTODO.  Two of the
constructors appear to be &quot;not for applications&quot;, and the other two
look to be semi MS CryptoAPI dependent.  As soon as I flesh out that
problem, that should get resolved.

If someone can look this over and tell me if I did anything blatantly
wrong, I'd like to know.  If someone who can check it in can do that
for me, I'd appreciate it (Miguel set up my CVS account, but I think
the SSH key got a bit bungled...since I can't authenticate :( ).

Thanks,
Mark

--h31gzZEtNLTqOjlF
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename=&quot;RNG.cs&quot;
Content-Transfer-Encoding: quoted-printable

//=0D
// System.Security.Cryptography.RNGCryptoServiceProvider=0D
//=0D
// Author: Mark Crichton (<A HREF="mailto:crichton@gimp.org">crichton@gimp.org</A>)=0D
//=0D
// (C) 2002=0D
//=0D
=0D
// &quot;In the beginning there was Chaos,=0D
// and within this Chaos was Power,=0D
// Great Power without form.&quot;=0D
// -- The Verrah Rubicon of Verena, Book One=0D
=0D
using System;=0D
using System.Runtime.CompilerServices;=0D
=0D
namespace System.Security.Cryptography {=0D
	=0D
	public class RNGCryptoServiceProvider : RandomNumberGenerator {=0D
		=0D
		[MonoTODO]=0D
		public RNGCryptoServiceProvider () {=0D
			// This will get some meaning when I figure out what the other=0D
			// three constructors do.=0D
		}=0D
		=0D
		[MonoTODO]=0D
		public RNGCryptoServiceProvider (byte[] rgb) {=0D
			// Ok, not called by app code... someone must call it, though.=0D
		}=0D
		=0D
		[MonoTODO]=0D
		public RNGCryptoServiceProvider (CspParameters cspParams) {=0D
			// Why do I have this feeling this is the MS CryptAPI...=0D
		}=0D
		=0D
		[MonoTODO]=0D
		public RNGCryptoServiceProvider (string str) {=0D
			// More !application code.  Interesting...=0D
		}=0D
		=0D
		[MethodImplAttribute(MethodImplOptions.InternalCall)]=0D
		public extern override void GetBytes (byte[] data);=0D
		=0D
		[MethodImplAttribute(MethodImplOptions.InternalCall)]=0D
		public extern override void GetNonZeroBytes (byte[] data);=0D
		=0D
		~RNGCryptoServiceProvider () {=0D
			// FIN?=0D
		}=0D
	}=0D
}=0D

--h31gzZEtNLTqOjlF--

--24zk1gE8NUlDmwG9
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (SunOS)
Comment: For info see <A HREF="http://www.gnupg.org">http://www.gnupg.org</A>

iEYEARECAAYFAjxxCHkACgkQOfj2Ja/u/oAwNgCfTnavWJyAKBgM7RwucAc86BzT
h1YAoKKtxuqfvOY/6zjznDVK0a24zYxV
=RGaN
-----END PGP SIGNATURE-----

--24zk1gE8NUlDmwG9--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003272.html">[Mono-list] Array.cs Patch
</A></li>
	<LI> Next message: <A HREF="003275.html">[Mono-list] Re: Is Objective-C support possible?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3274">[ date ]</a>
              <a href="thread.html#3274">[ thread ]</a>
              <a href="subject.html#3274">[ subject ]</a>
              <a href="author.html#3274">[ author ]</a>
         </LI>
       </UL>
</body></html>
