<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Problem Accessing Embedded Resource
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Problem%20Accessing%20Embedded%20Resource&In-Reply-To=4DB6AD2E.9030205%40va3hj.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046929.html">
   <LINK REL="Next"  HREF="046917.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Problem Accessing Embedded Resource</H1>
    <B>Jim Orcheson</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Problem%20Accessing%20Embedded%20Resource&In-Reply-To=4DB6AD2E.9030205%40va3hj.ca"
       TITLE="[Mono-list] Problem Accessing Embedded Resource">jim at va3hj.ca
       </A><BR>
    <I>Fri Apr 29 07:06:22 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="046929.html">[Mono-list] Problem Accessing Embedded Resource
</A></li>
        <LI>Next message: <A HREF="046917.html">[Mono-list] Why doesn't SSPI in Mono ADO.net NOT support pass	through creds?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46941">[ date ]</a>
              <a href="thread.html#46941">[ thread ]</a>
              <a href="subject.html#46941">[ subject ]</a>
              <a href="author.html#46941">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>No answers from anyone, but I did do some additional debugging.

I added the following line before the call to GetManifestResourceStream:

string[] resources = assembly.GetManifestResourceNames();

resources did contain &quot;QslBureaus.QslBureaus.xml&quot;, as the first string 
so I substituted resources[0] in the call to GetManifestResourceStream 
and the code worked. I then replaced resources[0] with 
&quot;QslBureaus.QslBureaus.xml&quot; and the code worked.

I had copied the code from a VS2010 solution on Windows. A similar 
problem also occurred with the other library in my solution, so it 
appears the problem has to do with moving the files from VS2010 on 
Windows to MonoDevelop on Linux.

Jim

On 26/04/11 07:31 AM, Jim Orcheson wrote:
&gt;<i> I have created a solution consisting of a main program and two
</I>&gt;<i> libraries. In one of the libraries I have included an XML file as an
</I>&gt;<i> embedded resource. When I try to get a stream to read the XML file, the
</I>&gt;<i> call to Assembly.GetManifestResourceStream returns null. mono version
</I>&gt;<i> 2.6.7 is used to build the solution.
</I>&gt;<i>
</I>&gt;<i> See below for further information.
</I>&gt;<i>
</I>&gt;<i> The solution is called hamqsler.
</I>&gt;<i> The library project is called QslBureaus, and the XML file is QslBureaus.xml
</I>&gt;<i>
</I>&gt;<i> The properties for QslBureaus.xml are as follows:
</I>&gt;<i> Build action - Embed as resource
</I>&gt;<i> Copy to output directory - Do not copy
</I>&gt;<i> Resource ID - QslBureaus.QslBureaus.xml
</I>&gt;<i>
</I>&gt;<i> Name - QslBureaus.xml
</I>&gt;<i> Path - /home/jim/Projects/hamqsler/QslBureaus/QslBureaus.xml
</I>&gt;<i> Type - XML document
</I>&gt;<i>
</I>&gt;<i> Relative target path - QslBureaus.xml
</I>&gt;<i> Target directory - Program files
</I>&gt;<i>
</I>&gt;<i> All other properties are not set.
</I>&gt;<i>
</I>&gt;<i> Here is the code that attempts to get the Stream:
</I>&gt;<i> Assembly assembly = Assembly.GetAssembly(new QslBureau().GetType());
</I>&gt;<i> Stream str =
</I>&gt;<i> assembly.GetManifestResourceStream(&quot;QslBureaus.QslBureaus.xml&quot;);
</I>&gt;<i>
</I>&gt;<i> QslBureau is a class defined in the QslBureaus library.
</I>&gt;<i>
</I>&gt;<i> What is the correct name for the manifest resource? Neither
</I>&gt;<i> QslBureaus.QslBureaus.xml nor hamqsler.QslBureaus.QslBureaus.xml works.
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I></PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046929.html">[Mono-list] Problem Accessing Embedded Resource
</A></li>
	<LI>Next message: <A HREF="046917.html">[Mono-list] Why doesn't SSPI in Mono ADO.net NOT support pass	through creds?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46941">[ date ]</a>
              <a href="thread.html#46941">[ thread ]</a>
              <a href="subject.html#46941">[ subject ]</a>
              <a href="author.html#46941">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
