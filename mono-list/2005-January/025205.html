<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] RE: Large memory usage on a 64bit machine
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:joannes%40vermorel.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="025199.html">
   <LINK REL="Next"  HREF="025194.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] RE: Large memory usage on a 64bit machine
   </H1>
    <B>Joannes Vermorel
    </B> 
    <A HREF="mailto:joannes%40vermorel.com"
       TITLE="[Mono-list] RE: Large memory usage on a 64bit machine">joannes@vermorel.com
       </A><BR>
    <I>Fri, 7 Jan 2005 15:46:27 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="025199.html">[Mono-list] Large memory usage on a 64bit machine
</A></li>
        <LI> Next message: <A HREF="025194.html">[Mono-list] nsqlcli
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25205">[ date ]</a>
              <a href="thread.html#25205">[ thread ]</a>
              <a href="subject.html#25205">[ subject ]</a>
              <a href="author.html#25205">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have checked (using a little program in C) that I am able to allocate =
more
than 1Gb in a single process.

But still from mono, I cant allocate more than 1Gb. Are there some =
specific
option for mono (at compile time or runtime) that I may have missed?

Joann=E8s


-----Original Message-----
From: Anset [mailto:<A HREF="mailto:Anset@anset.org">Anset@anset.org</A>]=20
Sent: Thursday, 06 January, 2005 19:17
To: Joannes Vermorel
Cc: <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
Subject: Re: [Mono-list] Large memory usage on a 64bit machine

Hi,

I'd assume that a 64bit kernel is propperly configured, but you might=20
take a look at the kernel settings for the cpu.

On 32bit cpus, by default the kernel only maps 880MB.

To be able to use all the RAM on a 1GB machine or better, the kernel=20
needs to be recompiled.

Go into 'make menuconfig' (or whichever config is preferred) and set the =

following option:

Processor Type and Features ----&gt;
High Memory Support ----&gt;
(X) 4GB

Hope this helps,

Anset


Joannes Vermorel wrote:
&gt;<i> I am using mono on redhat with an AMD64 and 8Gb of memory. When I try =
</I>to
&gt;<i> instantiate a list of arrays int[], total being greater than 1Gb, mono
</I>&gt;<i> throws an OutOfMemoryException.
</I>&gt;<i>=20
</I>&gt;<i> Can someone tell me why? With a 64-bit architecture, I should be able =
</I>to
&gt;<i> handle more than 1Gb of RAM. What should I do to get access to more
</I>memory?
&gt;<i>=20
</I>&gt;<i> Joann=E8s
</I>&gt;<i>=20
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>=20
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="025199.html">[Mono-list] Large memory usage on a 64bit machine
</A></li>
	<LI> Next message: <A HREF="025194.html">[Mono-list] nsqlcli
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25205">[ date ]</a>
              <a href="thread.html#25205">[ thread ]</a>
              <a href="subject.html#25205">[ subject ]</a>
              <a href="author.html#25205">[ author ]</a>
         </LI>
       </UL>
</body></html>
