<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Implementing attribute-based code generation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Jambunathan%20K%20%3Ckjambunathan.devel%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="025280.html">
   <LINK REL="Next"  HREF="025257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Implementing attribute-based code generation
   </H1>
    <B>Jambunathan K
    </B> 
    <A HREF="mailto:Jambunathan%20K%20%3Ckjambunathan.devel%40gmail.com%3E"
       TITLE="[Mono-list] Implementing attribute-based code generation">Jambunathan K &lt;kjambunathan.devel@gmail.com&gt;
       </A><BR>
    <I>Thu, 13 Jan 2005 12:59:18 +0530</I>
    <P><UL>
        <LI> Previous message: <A HREF="025280.html">[Mono-list] Implementing attribute-based code generation
</A></li>
        <LI> Next message: <A HREF="025257.html">[Mono-list] stupid question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25271">[ date ]</a>
              <a href="thread.html#25271">[ thread ]</a>
              <a href="subject.html#25271">[ subject ]</a>
              <a href="author.html#25271">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Stephen

I think looking at code paths for handling ConditionalAttribute in C#
compiler would be a good starting point.

In addition mcs/mbas (VB.NET compiler) code could also provide some
good starting points.

mbas generates &quot;code on the run&quot; for &quot;late binding&quot; and  &quot;conversions&quot;
between the primitive types. It usually inserts a call  to methods in
Microsoft.VisualBasic.CompilerServices namespace for providing these
services. So searching for &quot;CompilerServices&quot; in mcs/mbas tree should
give you an idea of how an invocation can be inserted in to the
emitted code and the point where it could be done. Btw, mbas was
forked off mcs. So you should be able to switch easily between the two
code bases.

Regards,
Jambunathan K.


On Wed, 12 Jan 2005 18:48:02 -0500, Stephen Touset &lt;<A HREF="mailto:stephen@touset.org">stephen@touset.org</A>&gt; wrote:
&gt;<i> I'm looking into the potential of writing code to allow mono to have
</I>&gt;<i> extensions. As a first foray into the idea, I'm going to try writing a
</I>&gt;<i> module that would look for specific attributes on methods and classes,
</I>&gt;<i> and use those to generate code that would go into the marked methods and
</I>&gt;<i> all methods of the marked classes, respectively.
</I>&gt;<i> 
</I>&gt;<i> However, looking at the mono source code, it seems to be very complex.
</I>&gt;<i> I'm looking for hints as to the best place to put the hooks for the
</I>&gt;<i> extension, because of this. My first idea would be to put this after the
</I>&gt;<i> parsing of the source tree, so that I can manipulate the methods as
</I>&gt;<i> they're in memory. However, I can't seem to find simple ways to navigate
</I>&gt;<i> through the memory representation of the source tree. Can anyone give me
</I>&gt;<i> a brief pointer to where I should be looking?
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> Stephen Touset &lt;<A HREF="mailto:stephen@touset.org">stephen@touset.org</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="025280.html">[Mono-list] Implementing attribute-based code generation
</A></li>
	<LI> Next message: <A HREF="025257.html">[Mono-list] stupid question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25271">[ date ]</a>
              <a href="thread.html#25271">[ thread ]</a>
              <a href="subject.html#25271">[ subject ]</a>
              <a href="author.html#25271">[ author ]</a>
         </LI>
       </UL>
</body></html>
