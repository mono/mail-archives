<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Implementing attribute-based code generation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rbo%40acm.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="025285.html">
   <LINK REL="Next"  HREF="025284.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Implementing attribute-based code generation
   </H1>
    <B>Rodrigo B. de Oliveira
    </B> 
    <A HREF="mailto:rbo%40acm.org"
       TITLE="[Mono-list] Implementing attribute-based code generation">rbo@acm.org
       </A><BR>
    <I>Thu, 13 Jan 2005 13:29:06 -0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="025285.html">[Mono-list] Implementing attribute-based code generation
</A></li>
        <LI> Next message: <A HREF="025284.html">[Mono-list] Implementing attribute-based code generation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25283">[ date ]</a>
              <a href="thread.html#25283">[ thread ]</a>
              <a href="subject.html#25283">[ subject ]</a>
              <a href="author.html#25283">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>So, yes, you are talking about syntactic attributes. :)

And you are right the website does not make them look any good.

&gt;<i>From the boo manifesto [1]:
</I>
Syntactic Attributes
====================
Very few languages have a good way of automating micro code patterns, those
little lines of code we programmers are generally required to write in order
to expose fields as properties, properly validate method arguments, check
pre/post conditions among other things. Enter syntactic attributes:

class Person:
	[getter(FirstName)]
	_fname as string
	
	[getter(LastName)]
	_lname as string
	
	def constructor([required] fname, [required] lname):
		_fname = fname
		_lname = lname

Look carefully at the code above, although getter and required look just
like regular .net custom attributes they would be recognized by the compiler
as syntactic attributes - attribute classes that implement the IAstAttribute
interface. The compiler will treat such attributes in a very special way, it
will give them a chance to transform the in memory code representation (the
abstract syntax tree, ast for short). After this process the code tree would
look as if the programmer had actually typed:

class Person:
	
	_fname as string
	
	_lname as string
	
	def constructor(fname, lname):
		raise ArgumentNullException(&quot;fname&quot;) if fname is null
		raise ArgumentNullException(&quot;lname&quot;) if lname is null
		_fname = fname
		_lname = lname
		
	FirstName as string:
		get:
			return _fname
			
	LastName as string:
		get:
			return _lname

Anyone can write syntactic attributes just as anyone can write classes that
implement interfaces. This opens up for entirely new ways of expression and
code composition.

Best wishes,
Rodrigo

[1] <A HREF="http://boo.codehaus.org/BooManifesto.pdf">http://boo.codehaus.org/BooManifesto.pdf</A>

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A> 
</I>&gt;<i> [mailto:<A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>] On Behalf Of Stephen Touset
</I>&gt;<i> Sent: Thursday, January 13, 2005 1:36 AM
</I>&gt;<i> To: Rodrigo B. de Oliveira
</I>&gt;<i> Cc: <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-list] Implementing attribute-based code generation
</I>&gt;<i> 
</I>&gt;<i> Rodrigo B. de Oliveira wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;It sounds like you are talking about what we call syntactic 
</I>&gt;<i> attributes.
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> I couldn't tell from the website. Essentially, I am trying to 
</I>&gt;<i> add design by contract support to the mono C# compiler (as an 
</I>&gt;<i> extension, rather than a core patch to mcs). The best way to 
</I>&gt;<i> do this would seem to be to have attributes that can modify 
</I>&gt;<i> methods. In other words:
</I>&gt;<i> 
</I>&gt;<i> [Precondition(&quot;o != null&quot;)]
</I>&gt;<i> [Postcondition(&quot;size &gt; 0&quot;)]
</I>&gt;<i> void AddObject(Object o) {
</I>&gt;<i>     // ... do stuff ...
</I>&gt;<i>     return;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> Which would then at compile time insert
</I>&gt;<i> 
</I>&gt;<i> void AddObject(Object o) {
</I>&gt;<i>     Check.Require(o != null);
</I>&gt;<i>     // ... do stuf ...
</I>&gt;<i>     Check.Ensure(size &gt; 0);
</I>&gt;<i>     return;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> While also obeying design by contract inheritance rules.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A> 
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="025285.html">[Mono-list] Implementing attribute-based code generation
</A></li>
	<LI> Next message: <A HREF="025284.html">[Mono-list] Implementing attribute-based code generation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25283">[ date ]</a>
              <a href="thread.html#25283">[ thread ]</a>
              <a href="subject.html#25283">[ subject ]</a>
              <a href="author.html#25283">[ author ]</a>
         </LI>
       </UL>
</body></html>
