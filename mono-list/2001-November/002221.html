<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] ECMA compliance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:serge%40wildwestsoftware.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="002217.html">
   <LINK REL="Next"  HREF="002215.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] ECMA compliance
   </H1>
    <B>Serge
    </B> 
    <A HREF="mailto:serge%40wildwestsoftware.com"
       TITLE="[Mono-list] ECMA compliance">serge@wildwestsoftware.com
       </A><BR>
    <I>Thu, 22 Nov 2001 15:18:51 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="002217.html">[Mono-list] ECMA compliance
</A></li>
        <LI> Next message: <A HREF="002215.html">[Mono-list] solaris.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2221">[ date ]</a>
              <a href="thread.html#2221">[ thread ]</a>
              <a href="subject.html#2221">[ subject ]</a>
              <a href="author.html#2221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Unfortunatelly I can't get the OCXT tool running, because I don't have
MSOffice installed (ha!)
But you may also want to check the tool that was used to generate some code
in Mono libs:
<A HREF="http://mono.eurosoft.od.ua/lib-all.tar.gz">http://mono.eurosoft.od.ua/lib-all.tar.gz</A>
Pre-generated code is included in the archive.
It's very similar to OCXT except for that the main XSLT script is portable
:<i>)
</I>OCXT scripts are generally not portable, because they use msxsl extensions.
I think it's rather unfortunate choice to rely on Office/Word for such a
tool.
Some observations:
The older XML library-definitions have contained some errors that made it
very hard to generate compilable code. I hope this is fixed in the newer
file.
There were two slightly different formats, one used for original ECMA
submission (older) and newer format available at MSDN. The newer format
contains more information, but older contains more classes. Some stuff in
the older file is still relevant, mostly values for some enums - it appears
to be the only &quot;official&quot; source for values of enum literals.
Notice that lots of enums in Mono libs initially had wrong values, and were
replaced with auto-generated code.

If OCXT produces fully compilable code (or newer XML file is fixed) when
it's pretty straightforward to automate verification process:
1) generate code with OCXT or suchlike tool;
2) compile the generated code into say corlib_spec.dll
3) compile mcs/class/corlib into corlib.dll
4) verifier corlib_spec.dll corlib.dll
5) read the log :-)

perhaps, it would be nice to write custom NAnt task to execute verifier.

There is one caveat:
verifier is unable to load assemblies that contain definition for
System.Object.
To overcome this limitation you could build the new tool using Mono's
metadata library.
Also I have some C# code to read/parse metadata directly - it could be used
too, but it's in the early stage.

Also, I'd personally would love to see documentation rendered in PDF or RTF
instead of DOC.

Hope this helps,
Sergey





----- Original Message -----
From: &quot;Nick Drochak&quot; &lt;<A HREF="mailto:ndrochak@gol.com">ndrochak@gol.com</A>&gt;
To: &quot;Mono-List&quot; &lt;<A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>&gt;
Cc: &quot;Nick D Drochak&quot; &lt;<A HREF="mailto:ndrochak@gol.com">ndrochak@gol.com</A>&gt;
Sent: Thursday, November 22, 2001 8:04 AM
Subject: RE: [Mono-list] ECMA compliance


&gt;<i> | Interest?  Suggestions?  Disdain? ;-)
</I>&gt;<i> |
</I>&gt;<i>
</I>&gt;<i> I am interested in such a thing.  It would be a useful &quot;unit test&quot; to make
</I>&gt;<i> sure that no one accidentally changes a class in such a way to break it's
</I>&gt;<i> interface.
</I>&gt;<i>
</I>&gt;<i> Perhaps we can extend Sergey's verifier?  At the very least I'm sure
</I>there's
&gt;<i> some good code in there we can factor out and use.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Nick D.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="002217.html">[Mono-list] ECMA compliance
</A></li>
	<LI> Next message: <A HREF="002215.html">[Mono-list] solaris.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2221">[ date ]</a>
              <a href="thread.html#2221">[ thread ]</a>
              <a href="subject.html#2221">[ subject ]</a>
              <a href="author.html#2221">[ author ]</a>
         </LI>
       </UL>
</body></html>
