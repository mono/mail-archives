<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Build fails on AppDomain because of AssemblyBuilder constructor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001991.html">
   <LINK REL="Next"  HREF="002000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Build fails on AppDomain because of AssemblyBuilder constructor
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] Build fails on AppDomain because of AssemblyBuilder constructor">lupus@ximian.com
       </A><BR>
    <I>Tue, 6 Nov 2001 11:44:36 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="001991.html">[Mono-list] Build fails on AppDomain because of AssemblyBuilder constructor
</A></li>
        <LI> Next message: <A HREF="002000.html">[Mono-list] Build fails on AppDomain because of AssemblyBuilder
 constructor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1998">[ date ]</a>
              <a href="thread.html#1998">[ thread ]</a>
              <a href="subject.html#1998">[ subject ]</a>
              <a href="author.html#1998">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/06/01 Nick Drochak wrote:
&gt;<i> The build is failing at AppDomain.  The error is:
</I>&gt;<i> System.Reflection.Emit.AssemblyBuilder.AssemblyBuilder()' is
</I>&gt;<i> inaccessible due to its protection level
</I>&gt;<i> 
</I>&gt;<i> I think the compiler is referencing the MS version of AssemblyBuilder to
</I>&gt;<i> resolve this and thus the error. There's no constructors defined in the
</I>&gt;<i> mono AssemblyBuilder, so a default public one should be provided by the
</I>&gt;<i> compiler, right?
</I>&gt;<i> 
</I>&gt;<i> Please let us know what you did to fix this.  This seems like a great
</I>&gt;<i> example to learn from.
</I>
I actually didn't do anything, since the build works fine for me (make
linux).
I tried 'make windows' and that is indeed failing, but it fails even if
I add an explicit constructor.
I see that it fails making the corlib_res.dll target, because that
excludes the Reflection.Emit/*.cs files, so it doesn't use our code.
What is that target used for? Why does it exclude so much stuff from our
corlib? Some stuff in our corlib depends on the internal implementation
and as such, you can't mix some types from our corlib and some from
mscorlib. If this is needed for testing, we should make sure the test
tool works with mint and use that to drive the test runs.
If someone comes up with a list of the needs of the testing tool that we
don't yet implement I can have a go at it.

For the time being I excluded AppDomain.cs from the corlib_res.dll
target, so that the build gets going again.

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001991.html">[Mono-list] Build fails on AppDomain because of AssemblyBuilder constructor
</A></li>
	<LI> Next message: <A HREF="002000.html">[Mono-list] Build fails on AppDomain because of AssemblyBuilder
 constructor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1998">[ date ]</a>
              <a href="thread.html#1998">[ thread ]</a>
              <a href="subject.html#1998">[ subject ]</a>
              <a href="author.html#1998">[ author ]</a>
         </LI>
       </UL>
</body></html>
