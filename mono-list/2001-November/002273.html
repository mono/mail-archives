<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Intrinsicly Non-Portable?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cratliff%40lily.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="002271.html">
   <LINK REL="Next"  HREF="002265.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Intrinsicly Non-Portable?
   </H1>
    <B>Christian Ratliff
    </B> 
    <A HREF="mailto:cratliff%40lily.org"
       TITLE="[Mono-list] Intrinsicly Non-Portable?">cratliff@lily.org
       </A><BR>
    <I>Fri, 23 Nov 2001 19:02:32 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="002271.html">[Mono-list] Intrinsicly Non-Portable?
</A></li>
        <LI> Next message: <A HREF="002265.html">[Mono-list] Intrinsicly Non-Portable?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2273">[ date ]</a>
              <a href="thread.html#2273">[ thread ]</a>
              <a href="subject.html#2273">[ subject ]</a>
              <a href="author.html#2273">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

  Hmm. I am looking closely at io.c, and, unfortunately, it gives
rise to yet another question. Since io.c implements a virtual IO
layer, with read, write, seek, etc, should sockets do the same type
of thing? There are serious differences between BSD and Win32 sockets
even when using the compatibility interface (e.g. close vs
closesocket and read vs recv).

  Sorry for having to ask so many simplistic questions, but hopefully
I will be able to put this information to use! :)

Christian

+-----+
Christian Ratliff &lt;<A HREF="mailto:cratliff@lily.org">cratliff@lily.org</A>&gt;
lily Development Group
&quot;This is the very perfection of man, 
  to find out his own imperfections&quot; -  St. Augustine



- -----Original Message-----
From: <A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A> [mailto:<A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A>]
On Behalf Of Dick Porter
Sent: Friday, November 23, 2001 6:53 PM
To: <A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>
Subject: Re: [Mono-list] Intrinsicly Non-Portable?


On Fri, Nov 23, 2001 at 05:09:28PM -0500, Christian Ratliff wrote:
&gt;<i>  
</I>&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> Hash: SHA1
</I>&gt;<i> 
</I>&gt;<i>   Wonderful!
</I>&gt;<i> 
</I>&gt;<i>   Is there any documentation on the structure of the io-layer? If I
</I>&gt;<i>  wanted to chip in an implementation of WSAEVENT, where would I
</I>&gt;<i> start  my reading?
</I>
Each type of handle is implemented in its own file, and defines its
own totally private structure that inherits from a common struct. 
semaphores.c looks like a reasonably straightforward one to crib
from. 

The hard part is waiting for multiple handles to become signalled. 
wait.c fires off subthreads for each type of handle to wait for, and
gathers in the responses for WaitForMultipleObjects.

Actually, socket IO might be handled easiest by just extending io.c
which currently handles console and file IO.  I havent written the
wait_multiple support for console IO yet (or file IO, but that's only
used for overlapped IO which also hasnt been implemented yet) but
thats a fairly simple use of poll(2).

- - Dick


_______________________________________________
Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>

-----BEGIN PGP SIGNATURE-----
Version: PGPfreeware 7.0.3 for non-commercial use &lt;<A HREF="http://www.pgp.com">http://www.pgp.com</A>&gt;

iQA/AwUBO/7jmLZBtyfwMNgGEQJvdwCgzpPSTIa+3kBrHXQTotbW07Lz4wQAnRLf
MES/I4FW5nGZHlPV+51nWPO+
=P2GR
-----END PGP SIGNATURE-----



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="002271.html">[Mono-list] Intrinsicly Non-Portable?
</A></li>
	<LI> Next message: <A HREF="002265.html">[Mono-list] Intrinsicly Non-Portable?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2273">[ date ]</a>
              <a href="thread.html#2273">[ thread ]</a>
              <a href="subject.html#2273">[ subject ]</a>
              <a href="author.html#2273">[ author ]</a>
         </LI>
       </UL>
</body></html>
