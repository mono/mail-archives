<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Build fails on AppDomain because of AssemblyBuilder
 constructor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:macisaac%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001998.html">
   <LINK REL="Next"  HREF="002009.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Build fails on AppDomain because of AssemblyBuilder
 constructor
   </H1>
    <B>Sean MacIsaac
    </B> 
    <A HREF="mailto:macisaac%40ximian.com"
       TITLE="[Mono-list] Build fails on AppDomain because of AssemblyBuilder
 constructor">macisaac@ximian.com
       </A><BR>
    <I>06 Nov 2001 09:19:43 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="001998.html">[Mono-list] Build fails on AppDomain because of AssemblyBuilder constructor
</A></li>
        <LI> Next message: <A HREF="002009.html">[Mono-list] Build fails on AppDomain because of AssemblyBuilderconstructor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2000">[ date ]</a>
              <a href="thread.html#2000">[ thread ]</a>
              <a href="subject.html#2000">[ subject ]</a>
              <a href="author.html#2000">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Paolo,

You have it exactly right.  The reason that those things are excluded is
because of testing, which only runs in Microsoft's framework.  I've got
NUnit compiling referencing only our corlib, and I'm currently adding
implementations to the stub functions that are needed by it.

Sean

On Tue, 2001-11-06 at 05:44, Paolo Molaro wrote:
&gt;<i> On 11/06/01 Nick Drochak wrote:
</I>&gt;<i> &gt; The build is failing at AppDomain.  The error is:
</I>&gt;<i> &gt; System.Reflection.Emit.AssemblyBuilder.AssemblyBuilder()' is
</I>&gt;<i> &gt; inaccessible due to its protection level
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I think the compiler is referencing the MS version of AssemblyBuilder to
</I>&gt;<i> &gt; resolve this and thus the error. There's no constructors defined in the
</I>&gt;<i> &gt; mono AssemblyBuilder, so a default public one should be provided by the
</I>&gt;<i> &gt; compiler, right?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Please let us know what you did to fix this.  This seems like a great
</I>&gt;<i> &gt; example to learn from.
</I>&gt;<i> 
</I>&gt;<i> I actually didn't do anything, since the build works fine for me (make
</I>&gt;<i> linux).
</I>&gt;<i> I tried 'make windows' and that is indeed failing, but it fails even if
</I>&gt;<i> I add an explicit constructor.
</I>&gt;<i> I see that it fails making the corlib_res.dll target, because that
</I>&gt;<i> excludes the Reflection.Emit/*.cs files, so it doesn't use our code.
</I>&gt;<i> What is that target used for? Why does it exclude so much stuff from our
</I>&gt;<i> corlib? Some stuff in our corlib depends on the internal implementation
</I>&gt;<i> and as such, you can't mix some types from our corlib and some from
</I>&gt;<i> mscorlib. If this is needed for testing, we should make sure the test
</I>&gt;<i> tool works with mint and use that to drive the test runs.
</I>&gt;<i> If someone comes up with a list of the needs of the testing tool that we
</I>&gt;<i> don't yet implement I can have a go at it.
</I>&gt;<i> 
</I>&gt;<i> For the time being I excluded AppDomain.cs from the corlib_res.dll
</I>&gt;<i> target, so that the build gets going again.
</I>&gt;<i> 
</I>&gt;<i> lupus
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> -----------------------------------------------------------------
</I>&gt;<i> <A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
</I>&gt;<i> <A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001998.html">[Mono-list] Build fails on AppDomain because of AssemblyBuilder constructor
</A></li>
	<LI> Next message: <A HREF="002009.html">[Mono-list] Build fails on AppDomain because of AssemblyBuilderconstructor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2000">[ date ]</a>
              <a href="thread.html#2000">[ thread ]</a>
              <a href="subject.html#2000">[ subject ]</a>
              <a href="author.html#2000">[ author ]</a>
         </LI>
       </UL>
</body></html>
