<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Re: Solaris.cs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:smoux91%40yahoo.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="002218.html">
   <LINK REL="Next"  HREF="002219.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Re: Solaris.cs
   </H1>
    <B>smoux
    </B> 
    <A HREF="mailto:smoux91%40yahoo.fr"
       TITLE="[Mono-list] Re: Solaris.cs">smoux91@yahoo.fr
       </A><BR>
    <I>Thu, 22 Nov 2001 13:25:13 +0100 (CET)</I>
    <P><UL>
        <LI> Previous message: <A HREF="002218.html">[Mono-list] solaris.cs
</A></li>
        <LI> Next message: <A HREF="002219.html">[Mono-list] Re: Solaris.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2222">[ date ]</a>
              <a href="thread.html#2222">[ thread ]</a>
              <a href="subject.html#2222">[ subject ]</a>
              <a href="author.html#2222">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--0-523436928-1006431913=:68614
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
Content-Disposition: inline

&gt;<i> What are the differences between solaris.cs and the
</I>existing Linux.cs?

you will found here the solaris.diff to see the
differences. There are some difference on the
O_CREATE, O_EXCLU, O_APPEND and few others. 

Due to this, mono cannot creates files on Solaris.

&gt;<i>If they are minimal we should rename Linux.cs to
</I>POSIX.cs or something.
&gt;<i>(Especially as I'm working on some changes to
</I>Linux.cs to use the new IO layer)

I think the differences are not too big, but enough to
make errors during execution of mono. 
Then, I propose you to see the differences and make
the decision how to manage it.

&gt;<i>Again, this should just be the same as the linux
</I>build.
yes, but I cannot commit it.

&gt;<i>- Dick
</I>
smoux




___________________________________________________________
Do You Yahoo!? -- Une adresse @yahoo.fr gratuite et en français !
Yahoo! Courrier : <A HREF="http://courrier.yahoo.fr">http://courrier.yahoo.fr</A>
--0-523436928-1006431913=:68614
Content-Type: text/plain; name=&quot;solaris.diff&quot;
Content-Description: solaris.diff
Content-Disposition: inline; filename=&quot;solaris.diff&quot;

--- Linux.cs	Thu Nov 22 13:11:03 2001
+++ Solaris.cs	Thu Nov 22 13:11:13 2001
@@ -1,19 +1,8 @@
 /*---------------------------------------------------------------------
 
-		 XX		   X		    XXX
-				  XX		     XX
-		XXX	XX XXX	 XXXXX		     XX
-		 XX	XXX XX	  XX		     XX
-		 XX	XX  XX	  XX	  XXXXX	     XX
-		 XX	XX  XX	  XX XX	 XX    X     XX
-		XXXX	XX  XX	   XXX	 XXXXXXX    XXXX
-					 XX
-					  XXXXX
 
-Copyright (c) 2001 Intel Corporation.  All Rights Reserved.
-
-CREATED: August	22, 2001
-OWNER: Scott D Smith, Joel Marcey
+CREATED: November	20, 2001
+OWNER: smoux &lt;<A HREF="mailto:smoux91@yahoo.fr">smoux91@yahoo.fr</A>&gt;
 VERSION: 1.0
 ---------------------------------------------------------------------*/
 	    
@@ -26,7 +15,7 @@
 namespace System.PAL
 {
 	/// &lt;summary&gt;
-	///	Class that implements IOperatingSystem,	providing the requested	functionality through calls into APIs available	in Linux 
+	///	Class that implements IOperatingSystem,	providing the requested	functionality through calls into APIs available	in Solaris
 	/// &lt;/summary&gt;
 	internal class OpSys
 	{
@@ -35,12 +24,13 @@
 		//----------------------------------
 		//	       Class Constants
 		//----------------------------------
-		private	const int EOF =	-1; // TODO: Linux: Is this true?
+		private	const int EOF =	-1; // TODO: Solaris: Is this true?
 	
 
 		// For StdInputStream and StdOutputStream
-		private	const int STDOUT = 1; // TODO: Linux: Is this true?
-		private	const int STDIN	= 0; //	TODO: Linux: Is	this true?
+		private const int STDIN         = 0x00000000;	// TODO: Solaris: Is this true?
+		private const int STDOUT        = 0x00000001;	// TODO: Solaris: Is this true?
+		private const int STDERR        = 0x00000002;	// TODO: Solaris: Is this true?	
 
 
 		//----------------------------------
@@ -175,11 +165,7 @@
 		{
 			get
 			{
-				string path = Path.Combine(Path.Combine(&quot;/proc&quot;, _getPid().ToString()), &quot;cmdline&quot;);
-				StreamReader stream = File.OpenText(path);
-				string res = stream.ReadToEnd();
-				stream.Close();
-				return res;
+				return null;
 			}
 		}
 
@@ -203,62 +189,62 @@
 
 		public string ChangeExtension(string path, string extension)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:ChangeExtension(System.String, System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:ChangeExtension(System.String, System.String): Stub Method&quot;);
 			return null;
 		}
 
 		public string GetExtension(string path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetExtension(System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetExtension(System.String): Stub Method&quot;);
 			return null;
 		}
 
 		public string GetFileName(string path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetFileName(System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetFileName(System.String): Stub Method&quot;);
 			return null;
 		}
 	
 		public string GetFileNameWithoutExtension(string path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetFileNameWithoutExtension(System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetFileNameWithoutExtension(System.String): Stub Method&quot;);
 			return null;
 		}
 
 		public string GetFullPath(string path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetFullPath(System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetFullPath(System.String): Stub Method&quot;);
 			return null;
 		}
 
 		public string GetPathRoot(string path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetPathRoot(System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetPathRoot(System.String): Stub Method&quot;);
 			return null;
 
 		}
 	
 		public string GetTempFileName()
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetTempFileName(): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetTempFileName(): Stub Method&quot;);
 			return null;
 		}
 	
 		public string GetTempPath()
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetTempPath(): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetTempPath(): Stub Method&quot;);
 			return null;
 		}
 
 		public bool HasExtension(string	path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:HasExtension(System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:HasExtension(System.String): Stub Method&quot;);
 			return false;
 		}
 
 		public bool IsPathRooted(string	path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:IsPathRooted(System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:IsPathRooted(System.String): Stub Method&quot;);
 			return false;
 		}
 
@@ -268,80 +254,80 @@
 
 		public void DeleteDirectory(string path, bool recursive)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:DeleteDirectory(System.String, System.Boolean): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:DeleteDirectory(System.String, System.Boolean): Stub Method&quot;);
 		}
 
 		public bool ExistsDirectory(string path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:ExistsDirectory(System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:ExistsDirectory(System.String): Stub Method&quot;);
 			return false;
 		}
 
 		public DateTime	GetCreationTimeDirectory(string	path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetCreationTimeDirectory(System.String): Stub	Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetCreationTimeDirectory(System.String): Stub	Method&quot;);
 			return new DateTime(0);
 		}
 
 		public string GetCurrentDirectory()
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetCurrentDirectory(): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetCurrentDirectory(): Stub Method&quot;);
 			return null;
 		}
 
 		public string[]	GetDirectories(string path, string searchPattern)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetDirectories(System.String,System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetDirectories(System.String,System.String): Stub Method&quot;);
 			return null;
 		}
 
 		public string[]	GetFiles(string	path, string searchPattern)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetFiles(System.String, System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetFiles(System.String, System.String): Stub Method&quot;);
 			return null;
 		}
 
 		public string[]	GetFileSystemEntries(string path, string searchPattern)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetFileSystemEntries(System.String, System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetFileSystemEntries(System.String, System.String): Stub Method&quot;);
 			return null;
 		}
 
 		public DateTime	GetLastAccessTimeDirectory(string path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetLastAccessTimeDirectory(System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetLastAccessTimeDirectory(System.String): Stub Method&quot;);
 			return new DateTime(0);
 		}
 
 		public DateTime	GetLastWriteTimeDirectory(string path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetLastWriteTimeDirectory(System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetLastWriteTimeDirectory(System.String): Stub Method&quot;);
 			return new DateTime(0);
 		}
 
 		public void MoveDirectory(string sourceDirName,	string destDirName)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:MoveDirectory(System.String, System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:MoveDirectory(System.String, System.String): Stub Method&quot;);
 		}
 
 		public void SetCreationTimeDirectory(string path, DateTime creationTime)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:SetCreationTimeDirectory(System.String, System.DateTime): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:SetCreationTimeDirectory(System.String, System.DateTime): Stub Method&quot;);
 		}
 
 		public void SetCurrentDirectory(string path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:SetCurrentDirectory(System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:SetCurrentDirectory(System.String): Stub Method&quot;);
 		}
 
 		public void SetLastAccessTimeDirectory(string path, DateTime lastAccessTime)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:SetLastAccessTimeDirectory(System.String, System.DateTime): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:SetLastAccessTimeDirectory(System.String, System.DateTime): Stub Method&quot;);
 		}
 
 		public void SetLastWriteTimeDirectory(string path, DateTime lastWriteTime)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:SetLastWriteTimeDirectory(System.String, System.DateTime): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:SetLastWriteTimeDirectory(System.String, System.DateTime): Stub Method&quot;);
 		}
 
 		//-----------------------------------
@@ -429,41 +415,41 @@
 	
 		public bool ExistsFile(string path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:ExistsFile(System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:ExistsFile(System.String): Stub Method&quot;);
 			return false;
 		}
 	
 		public DateTime	GetCreationTimeFile(string path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetCreationTimeFile(System.String): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetCreationTimeFile(System.String): Stub Method&quot;);
 			return new DateTime(0);
 		}
 	
 		public DateTime	GetLastAccessTimeFile(string path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetLastAccessTimeFile(System.String):	Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetLastAccessTimeFile(System.String):	Stub Method&quot;);
 			return new DateTime(0);
 		}
 	
 		public DateTime	GetLastWriteTimeFile(string path)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:GetLastWriteFile(System.String): Stub	Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:GetLastWriteFile(System.String): Stub	Method&quot;);
 			return new DateTime(0);
 		}
 	
 		public void SetCreationTimeFile(string path, DateTime creationTime)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:SetCreationTimeFile(System.String, System.DateTime): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:SetCreationTimeFile(System.String, System.DateTime): Stub Method&quot;);
 		}
 	
 		public void SetLastAccessTimeFile(string path, DateTime	lastAccessTime)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:SetLastAccessTimeFile(System.String, System.DateTime): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:SetLastAccessTimeFile(System.String, System.DateTime): Stub Method&quot;);
 		}
 	
 		public void SetLastWriteTimeFile(string	path, DateTime lastWriteTime)
 		{
-			System.Diagnostics.Debug.WriteLine(&quot;Linux:SetCLastWriteTimeFile(System.String, System.DateTime): Stub Method&quot;);
+			System.Diagnostics.Debug.WriteLine(&quot;Solaris:SetCLastWriteTimeFile(System.String, System.DateTime): Stub Method&quot;);
 		}
 
 
@@ -511,11 +497,11 @@
 		private const int O_RDONLY             = 0x00000000;
 		private const int O_WRONLY             = 0x00000001;
 		private const int O_RDWR               = 0x00000002;
-		private const int O_CREAT              = 0x00000040;
-		private const int O_EXCL               = 0x00000080;
+		private const int O_CREAT              = 0x00000100;
+		private const int O_EXCL               = 0x00000400;
 		private const int O_TRUNC              = 0x00000200;
-		private const int O_APPEND             = 0x00000400;
-
+		private const int O_APPEND             = 0x00000008;
+		
 		private const int SEEK_SET             = 0;
 		private const int SEEK_CUR             = 1;
 		private const int SEEK_END             = 2;

--0-523436928-1006431913=:68614--



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="002218.html">[Mono-list] solaris.cs
</A></li>
	<LI> Next message: <A HREF="002219.html">[Mono-list] Re: Solaris.cs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2222">[ date ]</a>
              <a href="thread.html#2222">[ thread ]</a>
              <a href="subject.html#2222">[ subject ]</a>
              <a href="author.html#2222">[ author ]</a>
         </LI>
       </UL>
</body></html>
