<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] interop delegate/callback problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lloyd%40galador.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="002045.html">
   <LINK REL="Next"  HREF="002048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] interop delegate/callback problem
   </H1>
    <B>Lloyd Dupont
    </B> 
    <A HREF="mailto:lloyd%40galador.net"
       TITLE="[Mono-list] interop delegate/callback problem">lloyd@galador.net
       </A><BR>
    <I>Tue, 13 Nov 2001 01:19:12 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="002045.html">[Mono-list] CLR transmogrifier...
</A></li>
        <LI> Next message: <A HREF="002048.html">[Mono-list] interop delegate/callback problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2046">[ date ]</a>
              <a href="thread.html#2046">[ thread ]</a>
              <a href="subject.html#2046">[ subject ]</a>
              <a href="author.html#2046">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a multi-part message in MIME format.
--------------080505090900050505020306
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hello fellow users !
Any who wants to look at my bug ?

i create a C struct with some function pointer (in fact C# delegate)
and reference it in C# as an IntPtr.

later i execute some interop function taking my struct as an argument 
and calling my function pointer.
strangely, after a few call, there is strange error, such as (most 
curious) NullReferenceException when returning from my C# delegate 
callback to my C code....

i join you my project so you could test....
anyone has any idea ?

--------------080505090900050505020306
Content-Type: application/x-compressed;
 name=&quot;tdelegate.tgz&quot;
Content-Transfer-Encoding: base64
Content-Disposition: inline;
 filename=&quot;tdelegate.tgz&quot;

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
--------------080505090900050505020306--



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="002045.html">[Mono-list] CLR transmogrifier...
</A></li>
	<LI> Next message: <A HREF="002048.html">[Mono-list] interop delegate/callback problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2046">[ date ]</a>
              <a href="thread.html#2046">[ thread ]</a>
              <a href="subject.html#2046">[ subject ]</a>
              <a href="author.html#2046">[ author ]</a>
         </LI>
       </UL>
</body></html>
