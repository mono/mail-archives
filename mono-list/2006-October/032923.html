<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mono embedding issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono%20embedding%20issue&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032933.html">
   <LINK REL="Next"  HREF="032925.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mono embedding issue</H1>
    <B>Andreas F&#228;rber</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono%20embedding%20issue&In-Reply-To="
       TITLE="[Mono-list] Mono embedding issue">andreas.faerber at web.de
       </A><BR>
    <I>Mon Oct  9 17:33:46 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="032933.html">[Mono-list] monodevelop on FC5  doesn't find assembly gtk-sharp]
</A></li>
        <LI>Next message: <A HREF="032925.html">[Mono-list] Mono embedding issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32923">[ date ]</a>
              <a href="thread.html#32923">[ thread ]</a>
              <a href="subject.html#32923">[ subject ]</a>
              <a href="author.html#32923">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

When embedding Mono 1.1.17.1 on OS X i386, I get an assertion failure  
in mono_jit_init:
** ERROR **: file threads.c: line 420 (mono_thread_attach): assertion  
failed: (thread_handle)
aborting...
It goes on to mention SIGABRT and includes an empty stacktrace.

The same code, compiled against the corresponding ppc Mono.framework,  
works great on PPC. I've looked at the beforementioned source file in  
SVN head and found no clue.

The <A HREF="http://www.mono-project.com/Embedding_Mono">http://www.mono-project.com/Embedding_Mono</A> Wiki page mentioned  
including a gc.h before pthread.h but such an include file is not  
distributed together with Mono, some other include paths on the page  
might need updating as well (mono/jit/jit.h instead of mono/mini/ 
jit.h). However, I am not spawning any threads myself, thus not using  
pthread.h, just calling the mono_jit_init function within my library  
method.

Any ideas?

Andreas
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032933.html">[Mono-list] monodevelop on FC5  doesn't find assembly gtk-sharp]
</A></li>
	<LI>Next message: <A HREF="032925.html">[Mono-list] Mono embedding issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32923">[ date ]</a>
              <a href="thread.html#32923">[ thread ]</a>
              <a href="subject.html#32923">[ subject ]</a>
              <a href="author.html#32923">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
