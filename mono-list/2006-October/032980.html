<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] io-layer naming issues on OSX.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20io-layer%20naming%20issues%20on%20OSX.&In-Reply-To=egr0fr%24cjq%241%40sea.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032974.html">
   <LINK REL="Next"  HREF="032986.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] io-layer naming issues on OSX.</H1>
    <B>Andreas F&#228;rber</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20io-layer%20naming%20issues%20on%20OSX.&In-Reply-To=egr0fr%24cjq%241%40sea.gmane.org"
       TITLE="[Mono-list] io-layer naming issues on OSX.">andreas.faerber at web.de
       </A><BR>
    <I>Sun Oct 15 05:12:53 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="032974.html">[Mono-list] io-layer naming issues on OSX.
</A></li>
        <LI>Next message: <A HREF="032986.html">[Mono-list] io-layer naming issues on OSX.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32980">[ date ]</a>
              <a href="thread.html#32980">[ thread ]</a>
              <a href="subject.html#32980">[ subject ]</a>
              <a href="author.html#32980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Am 14.10.2006 um 17:41 schrieb Robert Jordan:

&gt;<i> Regarding your Mono build problems: comment out the PKG_CHECK_MODULES
</I>&gt;<i> line from Mono's configure.in and rerun autogen.sh:
</I>&gt;<i>
</I>&gt;<i> PKG_CONFIG_PATH=/Library/Frameworks/Mono.framework/Libraries/pkgconfig
</I>&gt;<i>    ./autogen.sh --prefix=...
</I>
Checked out on i386 this time, rev. 66680 unpatched, used the above  
command, which works, too, but this time the compilation of  
System.Xml.dll hangs (left it running over night, a mono process with  
4 threads, no CPU, no I/Os. Re-tried with make clean, make  
EXTERNAL_MCS=/usr/bin/mcs EXTERNAL_RUNTIME=/usr/bin/mono - no  
difference.
If it were a problem of mine then I would expect an error message and  
make to exit.
Ctrl+C does not work, I have to kill the mono process via the  
activity monitor. This results in this make output:

make[8]: *** [../../class/lib/basic/System.Xml.dll] Interrupt
make[7]: *** [do-all] Interrupt
make[6]: *** [all-recursive] Interrupt
make[5]: *** [all-recursive] Interrupt
make[4]: *** [profile-do--basic--all] Interrupt
make[3]: *** [profiles-do--all] Interrupt
make[2]: *** [all-local] Interrupt
make[1]: *** [all-recursive] Interrupt
make: *** [all] Interrupt

Below is the activity monitor's analysis output, sounds like some  
deadlock to me?

Andreas


Analysis of sampling pid 10665 every 10.000000 milliseconds
Call graph:
     100 Thread_0f07
       100 GC_push_all_stacks
         100 GC_push_all_eager
           100 GC_push_all_eager
     100 Thread_1003
       100 _pthread_body
         100 GC_start_routine
           100 mach_exception_thread
             100 mach_msg_trap
               100 mach_msg_trap
     100 Thread_1103
       100 _pthread_body
         100 collection_thread
           100 mach_wait_until
             100 mach_wait_until
     100 Thread_1203
       100 _pthread_body
         100 GC_start_routine
           100 thread_start_routine
             100 start_wrapper
               100 finalizer_thread
                 100 WaitForSingleObjectEx
                   100 _wapi_handle_wait_signal_handle
                     100 _wapi_handle_timedwait_signal_handle
                       100 timedwait_signal_poll_cond
                         100 semaphore_wait_signal_trap
                           100 semaphore_wait_signal_trap

Total number in stack (recursive counted multiple, when &gt;=5):

Sort by top of stack, same collapsed (when &gt;= 5):
         GC_push_all_eager        100
         mach_msg_trap        100
         mach_wait_until        100
         semaphore_wait_signal_trap        100
Sample analysis of process 10665 written to file /dev/stdout
Sampling process 10665 each 10 msecs 100 times

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032974.html">[Mono-list] io-layer naming issues on OSX.
</A></li>
	<LI>Next message: <A HREF="032986.html">[Mono-list] io-layer naming issues on OSX.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32980">[ date ]</a>
              <a href="thread.html#32980">[ thread ]</a>
              <a href="subject.html#32980">[ subject ]</a>
              <a href="author.html#32980">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
