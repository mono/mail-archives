<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mono preview 2.0 binary and DTrace
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono%20preview%202.0%20binary%20and%20DTrace&In-Reply-To=b2c603da0808020825g1973671eq64616acaefa4ce4b%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039178.html">
   <LINK REL="Next"  HREF="039180.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mono preview 2.0 binary and DTrace</H1>
    <B>Andreas F&#228;rber</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono%20preview%202.0%20binary%20and%20DTrace&In-Reply-To=b2c603da0808020825g1973671eq64616acaefa4ce4b%40mail.gmail.com"
       TITLE="[Mono-list] Mono preview 2.0 binary and DTrace">andreas.faerber at web.de
       </A><BR>
    <I>Sat Aug  2 12:30:09 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="039178.html">[Mono-list] Mono preview 2.0 binary and DTrace
</A></li>
        <LI>Next message: <A HREF="039180.html">[Mono-list] [Mono-dev] Mono preview 2.0 binary and DTrace
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39179">[ date ]</a>
              <a href="thread.html#39179">[ thread ]</a>
              <a href="subject.html#39179">[ subject ]</a>
              <a href="author.html#39179">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Am 02.08.2008 um 17:25 schrieb Boris Du&#353;ek:

&gt;<i> I grabbed the Mono Preview 2.0 installer for OS X and wanted to test
</I>&gt;<i> new DTrace probes mentioned in Release Notes[1], but it did not work.
</I>
Just to be sure, how did you test? As described in mono's man page?

&gt;<i> On the #mono IRC channel, I learned that DTrace probes in mono are not
</I>&gt;<i> enabled in the binary packages provided, since it would incur
</I>&gt;<i> performance penalty even when no tracing is done.
</I>
I had inquired about the sentence in the Release Notes myself and have  
not yet received an answer. ;)

&gt;<i> However, from the
</I>&gt;<i> DTrace docs, they say especially that &quot;... No instrumented code is
</I>&gt;<i> present for inactive probes, so your system does not experience any
</I>&gt;<i> kind of performance degradation when you are not using DTrace. ... No
</I>&gt;<i> effective difference exists between a system where DTrace is not
</I>&gt;<i> active and one where the DTrace software is not installed.&quot; (quote
</I>&gt;<i> from 2nd paragraph of
</I>&gt;<i> <A HREF="http://docs.sun.com/app/docs/doc/817-6223/chp-intro-3?a=view">http://docs.sun.com/app/docs/doc/817-6223/chp-intro-3?a=view</A> )
</I>
Not fully true, there is of course a minimal degradation (~5 nop  
instructions on Solaris), but it should be hardly noticeable. I have  
taken care to only call helper functions when the probe is active.

Was the answer on IRC in any way official? I could think of three  
possible reasons:

a) Worries about performance degradation.

b) No one updated the build system.

c) The build machine isn't DTrace-capable.

The main reason for not automatically enabling DTrace support was that  
it is somewhat hard to detect correctly. That's why we preferred -- 
enable-dtrace over --disable-dtrace. So, to get a DTrace-enabled  
Mono.framework, the build bots need to specify that argument.

And I thought we had agreed that if someone is really worried about  
performance, they should build their own Mono. Inversing this  
significantly limits the usefulness of the feature as most Mac users  
will just download the available binary.

Not enabling it during the previews is especially bad, since it  
reduces the amount of testing this new feature gets. Apart from the  
issue of mono.d not yet being installed, I've been considering marking  
the provider as stable for better usability.

Andreas

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039178.html">[Mono-list] Mono preview 2.0 binary and DTrace
</A></li>
	<LI>Next message: <A HREF="039180.html">[Mono-list] [Mono-dev] Mono preview 2.0 binary and DTrace
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39179">[ date ]</a>
              <a href="thread.html#39179">[ thread ]</a>
              <a href="subject.html#39179">[ subject ]</a>
              <a href="author.html#39179">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
