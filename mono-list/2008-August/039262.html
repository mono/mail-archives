<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Npgsql bug? Timeout while getting a connection from	pool
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Npgsql%20bug%3F%20Timeout%20while%20getting%20a%20connection%20from%0A%09pool&In-Reply-To=22bd28110808141124r1819e906qdafd7d46312e0e52%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039261.html">
   <LINK REL="Next"  HREF="039264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Npgsql bug? Timeout while getting a connection from	pool</H1>
    <B>Francisco Figueiredo Jr.</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Npgsql%20bug%3F%20Timeout%20while%20getting%20a%20connection%20from%0A%09pool&In-Reply-To=22bd28110808141124r1819e906qdafd7d46312e0e52%40mail.gmail.com"
       TITLE="[Mono-list] Npgsql bug? Timeout while getting a connection from	pool">francisco at npgsql.org
       </A><BR>
    <I>Thu Aug 14 15:13:50 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="039261.html">[Mono-list] Npgsql bug? Timeout while getting a connection from	pool
</A></li>
        <LI>Next message: <A HREF="039264.html">[Mono-list] Mono 1.9.1, 2.0 build failed on PowerPC (ppc64)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39262">[ date ]</a>
              <a href="thread.html#39262">[ thread ]</a>
              <a href="subject.html#39262">[ subject ]</a>
              <a href="author.html#39262">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Aug 14, 2008 at 3:24 PM, matthieu Barth&#233;lemy
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">bonsouere at gmail.com</A>&gt; wrote:
&gt;<i> Hi all,
</I>&gt;<i>
</I>
Hi, Matthieu!

&gt;<i> I just installed the 2.0-preview of mono, with all packages, from the
</I>&gt;<i> Opensuse 10.3 repository.
</I>&gt;<i>
</I>&gt;<i> My app opens several (between 4 and 8 for now ) connections, each one
</I>&gt;<i> in a different thread. Everything works fine during 3-4min, and then
</I>&gt;<i> it raises this exception :
</I>

Can you check if you are closing all your connections after using it?

You can see if you are leaking some connection by enable logging of
Npgsql and look for connection leaking messages.

The first explanation which comes to my mind regarding why you may be
having this problem now is that gargabe collection on Mono may have
changed from 1.9 to 2.0. Npgsql has code to fix connection leaking but
only when the connection is gargabe collected. If the runtime takes
more time to collect, your pool may exhaust first.

Also, what Npgsql version are you using?

I would recomend to use the Npgsql from downloads.npgsql.org as the
version which comes bundled with Mono is the Npgsql1 version. We are
working to get the Npgsql2 boundled with the final Mono release.

I hope it helps.


-- 
Regards,

Francisco Figueiredo Jr.
<A HREF="http://fxjr.blogspot.com">http://fxjr.blogspot.com</A>
<A HREF="http://www.npgsql.org">http://www.npgsql.org</A>
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039261.html">[Mono-list] Npgsql bug? Timeout while getting a connection from	pool
</A></li>
	<LI>Next message: <A HREF="039264.html">[Mono-list] Mono 1.9.1, 2.0 build failed on PowerPC (ppc64)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39262">[ date ]</a>
              <a href="thread.html#39262">[ thread ]</a>
              <a href="subject.html#39262">[ subject ]</a>
              <a href="author.html#39262">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
