<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Out Of Range exception when defining a mutex access rule
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Out%20Of%20Range%20exception%20when%20defining%20a%20mutex%20access%20rule&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039293.html">
   <LINK REL="Next"  HREF="039307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Out Of Range exception when defining a mutex access rule</H1>
    <B>Brett Senior</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Out%20Of%20Range%20exception%20when%20defining%20a%20mutex%20access%20rule&In-Reply-To="
       TITLE="[Mono-list] Out Of Range exception when defining a mutex access rule">brett_senior at yahoo.com.au
       </A><BR>
    <I>Sun Aug 17 07:26:35 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="039293.html">[Mono-list] Problem enumerating all mono processes on the	system.
</A></li>
        <LI>Next message: <A HREF="039307.html">[Mono-list] Mono 2.0 Preview 2 is out!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39294">[ date ]</a>
              <a href="thread.html#39294">[ thread ]</a>
              <a href="subject.html#39294">[ subject ]</a>
              <a href="author.html#39294">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have been trying to create a mutex access rule to add to a mutex security object.  When I execute the following code I get an 'Out of Range' exception that indicates a problem with the line that defines the mutex access rule 'mar1'.

                string user;                
                MutexSecurity ms = new MutexSecurity();
                
                //
                //First create the username that we will use in the mutex security
                //rules.
                //
                user = System.Environment.UserDomainName + &quot;\\&quot; + System.Environment.UserName;
                
                //
                //Now create the mutex access rules and add them to the security object.
                //
                MutexAccessRule mar1 = new MutexAccessRule(
                    user, MutexRights.ReadPermissions, AccessControlType.Allow);
                    
                ms.AddAccessRule(mar1);
     
           
The trace for the exception is as follows:


Unhandled Exception: System.ArgumentOutOfRangeException: Argument is out of range.
  at System.Security.AccessControl.AuthorizationRule..ctor (System.Security.Principal.IdentityReference identity, Int32 accessMask, Boolean isInherited, InheritanceFlags inheritanceFlags, PropagationFlags propagationFlags) [0x0004d] in /home/ingo/mono-1.9.1+dfsg/mcs/class/corlib/System.Security.AccessControl/AuthorizationRule.cs:69 
  at System.Security.AccessControl.AccessRule..ctor (System.Security.Principal.IdentityReference identity, Int32 accessMask, Boolean isInherited, InheritanceFlags inheritanceFlags, PropagationFlags propagationFlags, AccessControlType type) [0x00000] in /home/ingo/mono-1.9.1+dfsg/mcs/class/corlib/System.Security.AccessControl/AccessRule.cs:44 
  at System.Security.AccessControl.MutexAccessRule..ctor (System.Security.Principal.IdentityReference identity, MutexRights mutexRights, AccessControlType type) [0x00000] in /home/ingo/mono-1.9.1+dfsg/mcs/class/corlib/System.Security.AccessControl/MutexAccessRule.cs:44 
  at System.Security.AccessControl.MutexAccessRule..ctor (System.String identity, MutexRights mutexRights, AccessControlType type) [0x00000] in /home/ingo/mono-1.9.1+dfsg/mcs/class/corlib/System.Security.AccessControl/MutexAccessRule.cs:52 


Is the above a problem with my code, or a problem with mono ?
       

Brett Senior.



      Win a MacBook Air or iPod touch with Yahoo!7. <A HREF="http://au.docs.yahoo.com/homepageset">http://au.docs.yahoo.com/homepageset</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20080817/2539bd33/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20080817/2539bd33/attachment.html</A> 
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039293.html">[Mono-list] Problem enumerating all mono processes on the	system.
</A></li>
	<LI>Next message: <A HREF="039307.html">[Mono-list] Mono 2.0 Preview 2 is out!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39294">[ date ]</a>
              <a href="thread.html#39294">[ thread ]</a>
              <a href="subject.html#39294">[ subject ]</a>
              <a href="author.html#39294">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
