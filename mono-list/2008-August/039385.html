<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Checking for valid assembly signature
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Checking%20for%20valid%20assembly%20signature&In-Reply-To=4976622a.b0b9d68.48b26ab4.4994e%40o2.pl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039383.html">
   <LINK REL="Next"  HREF="039386.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Checking for valid assembly signature</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Checking%20for%20valid%20assembly%20signature&In-Reply-To=4976622a.b0b9d68.48b26ab4.4994e%40o2.pl"
       TITLE="[Mono-list] Checking for valid assembly signature">robertj at gmx.net
       </A><BR>
    <I>Mon Aug 25 08:07:38 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="039383.html">[Mono-list] Checking for valid assembly signature
</A></li>
        <LI>Next message: <A HREF="039386.html">[Mono-list] Using CSharpCodeProvider in Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39385">[ date ]</a>
              <a href="thread.html#39385">[ thread ]</a>
              <a href="subject.html#39385">[ subject ]</a>
              <a href="author.html#39385">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>paszczi wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I have just faced a problem for which I cannot find the solution. My
</I>&gt;<i> app has a plugin architecture, during app startup all plugins all
</I>&gt;<i> loaded. However, I want to be able to somehow verify whether plugin
</I>&gt;<i> comes from trusted source. So I thought of assembly signing, however
</I>&gt;<i> I couldn't find any managed API (on
</I>&gt;<i> <A HREF="http://blogs.msdn.com/shawnfa/archive/2004/06/07/150378.aspx">http://blogs.msdn.com/shawnfa/archive/2004/06/07/150378.aspx</A> they
</I>&gt;<i> suggest using P/Invokes :/) to verify whether the signature is valid.
</I>&gt;<i> Is there any way to do it? Or should I take different approach?
</I>
On MS.NET, you can load the assembly for reflection only and
check either its the public key token or the whole public key.

If the keys matches your expectations, then you can safely
load the assembly, because the runtime would detect tampered
assemblies.

The blog is suggesting this was not enough, but, to be honest,
if the GAC is already compromised, you can't trust the machine
anymore.

On Mono, things are different, because the runtime doesn't check
the signature of the assembly. But you still have 2 options:

- run &quot;sn -vf assembly.dll&quot; and check the result code.
   It's != 0 if the assembly isn't strongnamed or if it's tainted.

- extract the relevant signature checking code from sn.exe's
   sources.

Robert

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039383.html">[Mono-list] Checking for valid assembly signature
</A></li>
	<LI>Next message: <A HREF="039386.html">[Mono-list] Using CSharpCodeProvider in Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39385">[ date ]</a>
              <a href="thread.html#39385">[ thread ]</a>
              <a href="subject.html#39385">[ subject ]</a>
              <a href="author.html#39385">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
