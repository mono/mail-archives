<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] PInvoke Conventions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:935551%40ican.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000999.html">
   <LINK REL="Next"  HREF="001004.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] PInvoke Conventions
   </H1>
    <B>Richard Anthony Hein
    </B> 
    <A HREF="mailto:935551%40ican.net"
       TITLE="[Mono-list] PInvoke Conventions">935551@ican.net
       </A><BR>
    <I>Sun, 29 Jul 2001 18:59:47 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="000999.html">[Mono-list] PInvoke Conventions
</A></li>
        <LI> Next message: <A HREF="001004.html">[Mono-list] PInvoke Conventions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1000">[ date ]</a>
              <a href="thread.html#1000">[ thread ]</a>
              <a href="subject.html#1000">[ subject ]</a>
              <a href="author.html#1000">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have been trying to follow this thread, but could someone perhaps give
high-level explanation of the conflict?  What is the problem implementing
PInvoke and how does the implementation pose a possible problem with the use
of the Mono API with other CLIs?

If you don't have time, point me to some docs that will fill me in.

This sounds related to some questions about native code mixed with code
running on the CLR that were answered by the MC++ project manager on another
list, but I am not totally sure unless I have a better idea about the
problem.

Thanks,

Richard Anthony Hein

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A> [mailto:<A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A>]On
</I>&gt;<i> Behalf Of Miguel de Icaza
</I>&gt;<i> Sent: July 29, 2001 6:45 PM
</I>&gt;<i> To: Rhys Weatherley
</I>&gt;<i> Cc: <A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-list] PInvoke Conventions
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Rhys,
</I>&gt;<i>
</I>&gt;<i> &gt; And which will no doubt be hard-wired to Mono API
</I>&gt;<i> &gt; and autoconf conventions, and hence useless to anyone
</I>&gt;<i> &gt; else who may be interested in running applications built
</I>&gt;<i> &gt; to work with the Mono C# library.  Hence, the rest of
</I>&gt;<i> &gt; us will have to start from scratch.
</I>&gt;<i>
</I>&gt;<i> As I said in an earlier message, I am willing to accomodate the needs
</I>&gt;<i> of other CLI runtime implementations (it is on a separate thread).
</I>&gt;<i>
</I>&gt;<i> Now, even if we took radically different approaches (PInvoke
</I>&gt;<i> annotations vs generated support libraries), the changes are going to
</I>&gt;<i> be isolated in one, maybe two &quot;private&quot; classes at most.
</I>&gt;<i>
</I>&gt;<i> No matter what direction we take with the Mono class libraries, in the
</I>&gt;<i> worst possible case, you would have to write a single class that would
</I>&gt;<i> work for Portable.NET.
</I>&gt;<i>
</I>&gt;<i> And my offer is to have those changes integrated directly into the
</I>&gt;<i> class distribution of Mono.  Hey, I can even give you CVS access to
</I>&gt;<i> the tree to make those changes yourself and make sure the makefiles
</I>&gt;<i> can work with both setups.
</I>&gt;<i>
</I>&gt;<i> &gt; The proposal to use type diversion, where &quot;stat&quot; can be
</I>&gt;<i> &gt; diverted to a &quot;NativeStat&quot; in a platform-specific assembly
</I>&gt;<i> &gt; is much better than this.  The platform-specific parts are
</I>&gt;<i> &gt; completely in a C#-based &quot;native.dll&quot; which is portable
</I>&gt;<i> &gt; from one VM to another.  Any approach that uses C to
</I>&gt;<i> &gt; make the glue will bind the C# library to one VM only.
</I>&gt;<i>
</I>&gt;<i> The problem is -As Ferguson- pointed out that this is just a lot of
</I>&gt;<i> bloat for the runtime when there is a simpler solution available.
</I>&gt;<i>
</I>&gt;<i> What if Mono has mononat.dll and you have portnat.dll?  Big deal, a
</I>&gt;<i> tiny library that does not really make a difference.
</I>&gt;<i>
</I>&gt;<i> Miguel.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000999.html">[Mono-list] PInvoke Conventions
</A></li>
	<LI> Next message: <A HREF="001004.html">[Mono-list] PInvoke Conventions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1000">[ date ]</a>
              <a href="thread.html#1000">[ thread ]</a>
              <a href="subject.html#1000">[ subject ]</a>
              <a href="author.html#1000">[ author ]</a>
         </LI>
       </UL>
</body></html>
