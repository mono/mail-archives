<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Implementing ECMA CLI vs Microsoft's .NET Framework
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:peter%40razorsoft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000778.html">
   <LINK REL="Next"  HREF="000779.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Implementing ECMA CLI vs Microsoft's .NET Framework
   </H1>
    <B>Peter Drayton
    </B> 
    <A HREF="mailto:peter%40razorsoft.com"
       TITLE="[Mono-list] Implementing ECMA CLI vs Microsoft's .NET Framework">peter@razorsoft.com
       </A><BR>
    <I>Thu, 19 Jul 2001 19:01:52 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="000778.html">[Mono-list] Implementing ECMA CLI vs Microsoft's .NET Framework
</A></li>
        <LI> Next message: <A HREF="000779.html">[Mono-list] mcs-19 released!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#786">[ date ]</a>
              <a href="thread.html#786">[ thread ]</a>
              <a href="subject.html#786">[ subject ]</a>
              <a href="author.html#786">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sam Ruby &lt;<A HREF="mailto:rubys@us.ibm.com">rubys@us.ibm.com</A>&gt; wrote:
&gt;<i> You might find it productive to spend a few minutes reading 
</I>&gt;<i> the first three pages of Partition IV.
</I>&gt;<i> (<A HREF="http://msdn.microsoft.com/net/ecma/Partition_IV_Library.pdf">http://msdn.microsoft.com/net/ecma/Partition_IV_Library.pdf</A>).
</I>&gt;<i> In short, the CLI contains a number of profiles, and a conforming 
</I>&gt;<i> implementation need not implement all of them (for example: a PDA 
</I>&gt;<i> may not have floating point). Adding a profile can involve adding 
</I>&gt;<i> methods to an preexisting class.
</I>
Understood. I can honestly say that I'd already read that prose a bunch
of times before posting :-). I've always found the relationship between
Profiles and Libraries interesting, especially the fact that adding
Library X, can change the signature of a method in a Library Y and add
interfaces to types in Library Z. However, since the spec calls for a
CLI implemention to declare what profile and additional libraries it
supports, would it be fair then to say Mono is implementing the Compact
profile, as well as the Floating Point, Extended Array and &lt;insert the
rest of .NET&gt; libraries? :-) 

&gt;<i> Another thing to contemplate - what is being standardized at this time
</I>in
&gt;<i> ECMA TC39 represents our best guess on what is a reasonable core.
</I>Only
&gt;<i> real life experience will validate how well we do.  An independent
</I>&gt;<i> implementation (or three!) would provide either a extremely valuable
</I>&gt;<i> validation of this, or extremely valuable input as to what should be
</I>added
&gt;<i> in the next cycle.
</I>
Reasonable core what? The original submission included a lot more types
(IIRC some 500-odd extra over the ~250 currently included), but even
that didn't cover things like ASP.NET, ADO.NET, WinForms, WebForms, etc.
My understanding was that the current set of types in the CLI would grow
over time, but that the end goal was closer to the original submission
than the whole of Microsoft's .NET framwork. Do you mean that ECMA/TC39
might end up standardizing all of the ~3000-4000 types in Microsoft's
.NET Framework? 

AFAICT Mono seems to be shooting for a complete .NET clone (which is
cool), but I don't see how the efforts to add the rest of .NET (ASP.NET,
ADO.NET, WinForms, etc.) help you validate the CLI specs, even
accounting for the CLI growing over time. It seems to me that when
issues come up like &quot;the .NET docs say this type has 3 constructors, the
ECMA specs only have 2, what do I implement?&quot;, a implementation that was
trying to validate the spec would prefer to implement the 2 ECMA ctors,
and if it turned out all 3 were needed, then that would identify a place
to enhance the spec. By cloning .NET, rather than implementing the spec,
this might never be detected and the specs wouldn't improve. 

&gt;<i> A final thought - if you look at JDK documentation, you will see
</I>&gt;<i> annotations such as &quot;introduced in JDK 1.2&quot;.  One thing that (IMHO)
</I>opinion
&gt;<i> would be extremely valuable is a proposal for a standard set of
</I>metadata
&gt;<i> which enables the one to determine what profile a given method belongs
</I>to,
&gt;<i> and what version of that profile.  This would enable compilers to
</I>provide
&gt;<i> warnings (e.g., this code contains references to floating point - and
</I>may
&gt;<i> not run on compact devices).  Such a proposal would have to be
</I>cognizant of
&gt;<i> the potential footprint and runtime overhead associated with such
</I>metadata.

100% Agreed - I like this idea *a lot* (I presume you meant library, not
profile, correct?). Additionally, it seems that you'd need to go beyond
just methods and also attribute types, interfaces, the 'throws list',
etc. with this information.

Were you thinking of using CAs, or rather direct metadata
representation? I don't see anything in partition IV that precludes
implementing this as custom attributes, though it does state &quot;...there
need not be any direct support for Libraries and Profiles in the VES;
they are not represented in the metadata&quot;. Implementing this with CAs
seems consistent with the way CLS compliance is asserted using CAs.

--Peter
<A HREF="http://staff.develop.com/peterd">http://staff.develop.com/peterd</A>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000778.html">[Mono-list] Implementing ECMA CLI vs Microsoft's .NET Framework
</A></li>
	<LI> Next message: <A HREF="000779.html">[Mono-list] mcs-19 released!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#786">[ date ]</a>
              <a href="thread.html#786">[ thread ]</a>
              <a href="subject.html#786">[ subject ]</a>
              <a href="author.html#786">[ author ]</a>
         </LI>
       </UL>
</body></html>
