<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] PInvoke Conventions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:miguel%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000924.html">
   <LINK REL="Next"  HREF="000956.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] PInvoke Conventions
   </H1>
    <B>Miguel de Icaza
    </B> 
    <A HREF="mailto:miguel%40ximian.com"
       TITLE="[Mono-list] PInvoke Conventions">miguel@ximian.com
       </A><BR>
    <I>26 Jul 2001 17:47:03 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="000924.html">[Mono-list] PInvoke Conventions
</A></li>
        <LI> Next message: <A HREF="000956.html">[Mono-list] PInvoke Conventions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#953">[ date ]</a>
              <a href="thread.html#953">[ thread ]</a>
              <a href="subject.html#953">[ subject ]</a>
              <a href="author.html#953">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> I think it is unlikely that you'll be able to do it *all* using only
</I>&gt;<i> managed code.  I think it would be easier to just bite the bullet and
</I>&gt;<i> accept that there will be some unmanaged code.  This code can be written
</I>&gt;<i> in C (or perhap C++), and will get compiled to a platform-specific native
</I>&gt;<i> code library.
</I>&gt;<i> 
</I>&gt;<i> Once you accept that, then &quot;stat&quot; is no real problem, you just have
</I>&gt;<i> to write some glue code in C that wraps up stat() and presents an
</I>&gt;<i> interface that you can access using a platform-independent PInvoke.
</I>
After reading your message I am reconsidering bloating PInvoke and
going for a less high-tech solution.

For the tricky bits that need to interface to the system, we could
generate the code on the flight from a bunch of scripts that would map
the actual sizes, layouts and constants for the system.

So basically we could use an autoconf-like system to probe the system,
and generate the source code for a `Mono.System' assembly that would
abstract things out.

The script could then based on this information spit out all the
information we need.  It would take care of structures, and would also
take care of mapping UNIX constants to C# constants.

Miguel.





</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000924.html">[Mono-list] PInvoke Conventions
</A></li>
	<LI> Next message: <A HREF="000956.html">[Mono-list] PInvoke Conventions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#953">[ date ]</a>
              <a href="thread.html#953">[ thread ]</a>
              <a href="subject.html#953">[ subject ]</a>
              <a href="author.html#953">[ author ]</a>
         </LI>
       </UL>
</body></html>
