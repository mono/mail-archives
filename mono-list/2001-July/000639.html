<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] IEnumerators
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:dmenest%40yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000638.html">
   <LINK REL="Next"  HREF="000640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] IEnumerators
   </H1>
    <B>David Menestrina
    </B> 
    <A HREF="mailto:dmenest%40yahoo.com"
       TITLE="[Mono-list] IEnumerators">dmenest@yahoo.com
       </A><BR>
    <I>Tue, 17 Jul 2001 00:52:11 -0700 (PDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000638.html">[Mono-list] A note on the makefiles
</A></li>
        <LI> Next message: <A HREF="000640.html">[Mono-list] IEnumerators
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#639">[ date ]</a>
              <a href="thread.html#639">[ thread ]</a>
              <a href="subject.html#639">[ subject ]</a>
              <a href="author.html#639">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>IEnumerator.MoveNext() has to throw
InvalidOperationException if the object it's 
enumerating is modified in any way.  I tested this
with MS's implementation of BitArray, and it seems to
really detect *any* change to the original object.

Maybe my brain is fried, but I can't seem to think
of a great way to implement this.  The best way I can
think of is to have the original object keep a change
count.  Whenever any call modifies the object,
increment the count.  The IEnumerator will store
the value on creation, then check it every time you
call MoveNext().

This works in all cases except when you modify
something 4 billion times before calling MoveNext.

Does anyone have a cleaner idea?  I can't keep
pointers
to all the IEnumerators, because then they'd never
get GC'ed.

Thanks,
david

__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail
<A HREF="http://personal.mail.yahoo.com/">http://personal.mail.yahoo.com/</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000638.html">[Mono-list] A note on the makefiles
</A></li>
	<LI> Next message: <A HREF="000640.html">[Mono-list] IEnumerators
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#639">[ date ]</a>
              <a href="thread.html#639">[ thread ]</a>
              <a href="subject.html#639">[ subject ]</a>
              <a href="author.html#639">[ author ]</a>
         </LI>
       </UL>
</body></html>
