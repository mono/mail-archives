<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Class Library coding standards
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Patrik.Torstensson%40framfablabs.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000754.html">
   <LINK REL="Next"  HREF="000742.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Class Library coding standards
   </H1>
    <B>Patrik Torstensson
    </B> 
    <A HREF="mailto:Patrik.Torstensson%40framfablabs.com"
       TITLE="[Mono-list] Class Library coding standards">Patrik.Torstensson@framfablabs.com
       </A><BR>
    <I>Thu, 19 Jul 2001 10:02:11 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="000754.html">[Mono-list] Class Library coding standards
</A></li>
        <LI> Next message: <A HREF="000742.html">[Mono-list] dotGNU banning Mono-List members
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#738">[ date ]</a>
              <a href="thread.html#738">[ thread ]</a>
              <a href="subject.html#738">[ subject ]</a>
              <a href="author.html#738">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>But look at this instead, I think it's easier to read:

        int foo (int x)
        {
                int y, z;

                y = do_stuff (x);
                if (y) 
	    {
                     printf (&quot;do_stuff (%d) = %d\n&quot;, x, y);
                     z = more_stuff (y);
                } else 
                {
                        y = try_stuff_again (x);
                        if (y == 0)
		{
                                explode_and_die();
		}  else 		
		{
                                printf (&quot;try_stuff_again (%d) = %d\n&quot;,
x, y);
                                z = more_stuff (y);
                        }
                }

                return z;
        }

I think a if statement always should have {} because it minimize the
risk of errors.

Just my 2c again.. 

- Patrik

-----Original Message-----
From: Thomas F. Burdick [mailto:<A HREF="mailto:tfb@OCF.Berkeley.EDU">tfb@OCF.Berkeley.EDU</A>] 
Sent: den 19 juli 2001 04:42
To: Nate Case
Cc: Tomas Restrepo; <A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>
Subject: Re: [Mono-list] Class Library coding standards


Nate Case writes:

 &gt; Here is an excerpt from the Linux kernel coding style document (see
&gt;<i> /usr/src/linux/Documentation/CodingStyle):
</I> &gt; 
 &gt; ---[snip]---
 &gt; ---[snip]---
 &gt;
 &gt; I'd say this view is fairly widely adopted among the open source  &gt;
community, but of course many people still disagree.  Nevertheless, it's
&gt;<i> what we use for Gnome as well.  The only type of arguments I can sort
</I>of  &gt; understand against it in this situation is C# vs. C issues (if for
some  &gt; reason it's impossible to keep C# code under 80 columns with
8-space  &gt; tabs)

Yes, this is *one* widely adopted style.  Another is GNU style, which I
find a lot easier to read for code that has lots of levels of
indentation.  The Linux kernel style tries to punish excessive
indentation.  GNU style doesn't.  Given that C# introduces gratuitious
indentation, I think the GNU style is a better match.

As for the clarity of where a control block starts, compare:
        int foo (int x)
        {
          int y, z;
          y = do_stuff (x);
          if (y)
            {
              printf (&quot;do_stuff (%d) = %d\n&quot;, x, y);
              z = more_stuff (y);
            }
          else
            {
              y = try_stuff_again (x);
              if (y == 0)
                explode_and_die();
              else
                {
                  printf (&quot;try_stuff_again (%d) = %d\n&quot;, x, y);
                  z = more_stuff (y);
                }
            }
          return z;
        }
with:
        int foo (int x)
        {
                int y, z;
                y = do_stuff (x);
                if (y) {
                        printf (&quot;do_stuff (%d) = %d\n&quot;, x, y);
                        z = more_stuff (y);
                } else {
                        y = try_stuff_again (x);
                        if (y == 0)
                                explode_and_die();
                        else {
                                printf (&quot;try_stuff_again (%d) = %d\n&quot;,
x, y);
                                z = more_stuff (y);
                        }
                }
                return z;
        }

The GNU style sacrifices vertical space in order to make control blocks
clear without punishing nesting.  The Linux kernel style sacrifices
horizontal space to make control blocks clear without punishing function
length.  C# code has significant nesting built in; I'd rather discourage
long functions than ones with lots of nesting.

_______________________________________________
Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000754.html">[Mono-list] Class Library coding standards
</A></li>
	<LI> Next message: <A HREF="000742.html">[Mono-list] dotGNU banning Mono-List members
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#738">[ date ]</a>
              <a href="thread.html#738">[ thread ]</a>
              <a href="subject.html#738">[ subject ]</a>
              <a href="author.html#738">[ author ]</a>
         </LI>
       </UL>
</body></html>
