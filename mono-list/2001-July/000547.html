<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Help John's poor tired brain.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jason%40injektilo.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000545.html">
   <LINK REL="Next"  HREF="000549.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Help John's poor tired brain.
   </H1>
    <B>Jason Diamond
    </B> 
    <A HREF="mailto:jason%40injektilo.org"
       TITLE="[Mono-list] Help John's poor tired brain.">jason@injektilo.org
       </A><BR>
    <I>Sun, 15 Jul 2001 00:20:28 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="000545.html">[Mono-list] Help John's poor tired brain.
</A></li>
        <LI> Next message: <A HREF="000549.html">[Mono-list] Hello there
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#547">[ date ]</a>
              <a href="thread.html#547">[ thread ]</a>
              <a href="subject.html#547">[ subject ]</a>
              <a href="author.html#547">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry, that was a cut and paste bug on my part. Explicit interface
implementation members can't have a public modifier since they aren't
supposed to be accessible through references to the class.

namespace Test
{
	interface IEnumerable
	{
		IEnumerator GetEnumerator();
	}

	interface IDictionary : IEnumerable
	{
		new IDictionaryEnumerator GetEnumerator();
	}

	interface IEnumerator {}

	interface IDictionaryEnumerator : IEnumerator {}

	class Foo : IDictionary
	{
		IEnumerator IEnumerable.GetEnumerator()
		{
			return null;
		}

		public virtual IDictionaryEnumerator GetEnumerator()
		{
			return null;
		}
	}
}

Adding public or virtual to the first GetEnumerator gives the errors you
described. Interface methods are always public and virtual by definition so
the there's no need to specify that.

Jason.

&gt;<i> -----Original Message-----
</I>&gt;<i> From: John Barnette [mailto:<A HREF="mailto:jbarn@httcb.net">jbarn@httcb.net</A>]
</I>&gt;<i> Sent: Sunday, July 15, 2001 12:10 AM
</I>&gt;<i> To: Jason Diamond; mono
</I>&gt;<i> Subject: RE: [Mono-list] Help John's poor tired brain.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; Try using an explicit interface implementation:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; public virtual IEnumerator IEnumerable.GetEnumerator() {
</I>&gt;<i> &gt; 	return null;
</I>&gt;<i> &gt; }
</I>&gt;<i>
</I>&gt;<i> Tried that already, actually.  With stub code like:
</I>&gt;<i>
</I>&gt;<i> 	public virtual IDictionaryEnumerator IDictionary.GetEnumerator() {
</I>&gt;<i> 		return null;
</I>&gt;<i> 	}
</I>&gt;<i>
</I>&gt;<i> 	public virtual IEnumerator IEnumerable.GetEnumerator() {
</I>&gt;<i> 		return null;
</I>&gt;<i> 	}
</I>&gt;<i>
</I>&gt;<i> ...two errors pop up for each method, along the lines of:
</I>&gt;<i>
</I>&gt;<i> error CS0106: The modifier 'virtual' is not valid for this item
</I>&gt;<i> error CS0106: The modifier 'public' is not valid for this item
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ~ j.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; From: <A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A> [mailto:<A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A>]On
</I>&gt;<i> &gt; &gt; Behalf Of John Barnette
</I>&gt;<i> &gt; &gt; Sent: Saturday, July 14, 2001 11:42 PM
</I>&gt;<i> &gt; &gt; To: mono
</I>&gt;<i> &gt; &gt; Subject: [Mono-list] Help John's poor tired brain.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Okay, so Hashtable implements IEnumerable and IDictionary,
</I>&gt;<i> both of which
</I>&gt;<i> &gt; &gt; define a GetEnumerator() method.  Specifically:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; IEnumerable:
</I>&gt;<i> &gt; &gt; 	IEnumerator GetEnumerator();
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; IDictionary:
</I>&gt;<i> &gt; &gt; 	IDictionaryEnumerator GetEnumerator();
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; IDictionary inherits from IEnumerable:
</I>&gt;<i> &gt; &gt; 	public interface IDictionary : ICollection, IEnumerable
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Attempting to compile my Hashtable with this stubbed implementation of
</I>&gt;<i> &gt; &gt; GetEnumerator():
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; 		public virtual IDictionaryEnumerator GetEnumerator() {
</I>&gt;<i> &gt; &gt; 			return null;
</I>&gt;<i> &gt; &gt; 		}
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; ...yields a pleasant compiler error:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &quot;error CS0536: 'System.Collections.JBHashtable' does not
</I>&gt;<i> &gt; &gt; implement interface
</I>&gt;<i> &gt; &gt; member 'System.Collections.IEnumerable.GetEnumerator()'.
</I>&gt;<i> &gt; &gt; 'System.Collections.JBHashtable.GetEnumerator()' is either static, not
</I>&gt;<i> &gt; &gt; public, or has the wrong return type.&quot;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Help!  I'm tired, I just wrote the threadsafe wrapper, and I
</I>&gt;<i> &gt; want to go to
</I>&gt;<i> &gt; &gt; sleep. ;-)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; ~ j.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000545.html">[Mono-list] Help John's poor tired brain.
</A></li>
	<LI> Next message: <A HREF="000549.html">[Mono-list] Hello there
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#547">[ date ]</a>
              <a href="thread.html#547">[ thread ]</a>
              <a href="subject.html#547">[ subject ]</a>
              <a href="author.html#547">[ author ]</a>
         </LI>
       </UL>
</body></html>
