<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] PInvoke Conventions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tomasr%40mvps.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000696.html">
   <LINK REL="Next"  HREF="000697.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] PInvoke Conventions
   </H1>
    <B>Tomas Restrepo
    </B> 
    <A HREF="mailto:tomasr%40mvps.org"
       TITLE="[Mono-list] PInvoke Conventions">tomasr@mvps.org
       </A><BR>
    <I>Wed, 18 Jul 2001 11:57:15 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000696.html">[Mono-list] PInvoke Conventions
</A></li>
        <LI> Next message: <A HREF="000697.html">[Mono-list] PInvoke Conventions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#698">[ date ]</a>
              <a href="thread.html#698">[ thread ]</a>
              <a href="subject.html#698">[ subject ]</a>
              <a href="author.html#698">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jay,

&gt;<i> Rhys mentions that Windows does not have this problem because the sizes of
</I>&gt;<i> parameters will stay the same on a 64-bit version of Windows, but I don't
</I>&gt;<i> really believe that.  32-bit Windows changed the sizes of everything from
</I>16
&gt;<i> to 32 bits, my bet would be that 64-bit Windows will make similar changes
</I>&gt;<i> (by upping the definition of WORD and DWORD).
</I>
Not true. There are very specific cases in which type sizes will change, but
they are MUCH fewer than expected, and instead new types have been defined
were appropriate. For example, LONG will still be defined as a 32-bit
integral type, even in Win64 (and that works out fine since the VC++ folks
decided to keep long 32-bit, too).

However, notice that the recent Platform SDKs have introduced one new
#define, called ULONG_PTR which is an integral type that can contain the
value of a pointer for the platform it was compiled in, so it maps to 32-bit
when compiled for Win32, and to 64-bit whjen compiled for Win64.

AFAIK, MS' .NET runtime will be aware of these issues, and will correctly
marshal an IntPtr to the correct value on each of the two platforms, but
unless someone here has had access to the 64-bit CLR version, it's kinda
hard to confirm...

--
Tomas Restrepo
<A HREF="mailto:tomasr@mvps.org">tomasr@mvps.org</A>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000696.html">[Mono-list] PInvoke Conventions
</A></li>
	<LI> Next message: <A HREF="000697.html">[Mono-list] PInvoke Conventions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#698">[ date ]</a>
              <a href="thread.html#698">[ thread ]</a>
              <a href="subject.html#698">[ subject ]</a>
              <a href="author.html#698">[ author ]</a>
         </LI>
       </UL>
</body></html>
