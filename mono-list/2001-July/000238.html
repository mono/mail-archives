<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Gcc front-end?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:trd%40cs.mu.oz.au">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000234.html">
   <LINK REL="Next"  HREF="000361.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Gcc front-end?
   </H1>
    <B>Tyson Dowd
    </B> 
    <A HREF="mailto:trd%40cs.mu.oz.au"
       TITLE="[Mono-list] Gcc front-end?">trd@cs.mu.oz.au
       </A><BR>
    <I>Tue, 10 Jul 2001 22:07:52 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="000234.html">[Mono-list] Gcc front-end?
</A></li>
        <LI> Next message: <A HREF="000361.html">[Mono-list] Gcc front-end?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#238">[ date ]</a>
              <a href="thread.html#238">[ thread ]</a>
              <a href="subject.html#238">[ subject ]</a>
              <a href="author.html#238">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10-Jul-2001, John Zedlewski &lt;<A HREF="mailto:zedlwski@Princeton.EDU">zedlwski@Princeton.EDU</A>&gt; wrote:
&gt;<i> Hi folks,
</I>&gt;<i>   On the roadmap, it seems to imply that y'all are working on a
</I>&gt;<i> completely new &quot;JIT&quot; compiler for the CLI.  I'm curious about why this
</I>&gt;<i> is a better plan than writing a Gcc front-end for CLI bytecode.  As soon
</I>&gt;<i> as a Linux x86 &quot;JIT&quot; comes out, somebody's going to complain about the
</I>&gt;<i> lack of optimizations, somebody else will bitch about not having a Linux
</I>&gt;<i> Alpha port, and ten more users will want ports to Solaris and IA-64.  At
</I>&gt;<i> least, that's been my experience with OSS projects in the past ;)  Some
</I>&gt;<i> old posts from the Mercury folks implied that they were able to do the
</I>&gt;<i> Mercury-&gt;gcc interface in under 8,000 LOC.
</I>
The Mercury-&gt;gcc interface was a pretty easy binding because all the
hard work of translating Mercury to an intermediate form that was
basically compatible with gcc's internal data structures had already
been done.  All that was left was handling the impedence mismatches
between the two structures.  (I'm probably over-simplifying a bit).

If you are going to have a JIT, gcc is not going to be fast enough -- it
wasn't designed for it.  It certainly wasn't designed to be a
compilation server kind of application (which is what a JIT compiler is like).
For instance, gcc has trouble with compiling multiple files at once
(this is one of the problems with the Mercury-&gt;gcc binding, you can't
easily wipe clean the gcc data structures in process, you are expected
to start a new process instead).  

If you are saying forget JITting the code and just generate native code
from CIL, then it will probably work, but you lose runtime
verifiability, code mobility and all the other nice things that an
architecture neutral bytecode gives you.

&gt;<i>   Also, am I correct in believing that CLI is designed for more of an
</I>&gt;<i> Ahead-Of-Time compiler with local caching of native code?  That's what
</I>&gt;<i> all the MS marketing-speak seemed to imply (no interepreter or
</I>&gt;<i> mixed-mode).
</I>
No interpreter, everything is either
	- jitted as required (at class load time I expect)
	- jitted as installed

Microsoft probably had an interpreter once for bootstrapping purposes,
but they aren't releasing one now.

I believe native code is cached during a single session (but not between
reboots) -- others think it isn't the case, but it seems to be that way
to me.  I'm not sure if there is any documentation on what actually
happens.

Tyson.


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000234.html">[Mono-list] Gcc front-end?
</A></li>
	<LI> Next message: <A HREF="000361.html">[Mono-list] Gcc front-end?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#238">[ date ]</a>
              <a href="thread.html#238">[ thread ]</a>
              <a href="subject.html#238">[ subject ]</a>
              <a href="author.html#238">[ author ]</a>
         </LI>
       </UL>
</body></html>
