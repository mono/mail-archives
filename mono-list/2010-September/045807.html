<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] WCF service on mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20WCF%20service%20on%20mono&In-Reply-To=AANLkTimBN%3DfT%3DrxX7%2By3vze4-P_ofLPos%3Dza_Gi%2BE3_m%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045803.html">
   <LINK REL="Next"  HREF="045808.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] WCF service on mono</H1>
    <B>Nadeem Backus</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20WCF%20service%20on%20mono&In-Reply-To=AANLkTimBN%3DfT%3DrxX7%2By3vze4-P_ofLPos%3Dza_Gi%2BE3_m%40mail.gmail.com"
       TITLE="[Mono-list] WCF service on mono">nadeem.backus at gmail.com
       </A><BR>
    <I>Tue Sep 21 11:10:58 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="045803.html">[Mono-list] Mono 2.8 Second Public Preview
</A></li>
        <LI>Next message: <A HREF="045808.html">[Mono-list] WCF service on mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45807">[ date ]</a>
              <a href="thread.html#45807">[ thread ]</a>
              <a href="subject.html#45807">[ subject ]</a>
              <a href="author.html#45807">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you for getting back to me, I have found what was causing the issue:

My WCF service uses the following configuration:

  &lt;services&gt;
      &lt;service behaviorConfiguration=&quot;mexbe&quot;
name=&quot;Example.Scheduling.Scheduler.Services.SchedulerService&quot;&gt;
        &lt;endpoint address=&quot;&quot; binding=&quot;basicHttpBinding&quot;
contract=&quot;Example.Services.Contract.Service.ISchedulerService&quot; /&gt;
        &lt;endpoint address=&quot;mex&quot; binding=&quot;mexHttpBinding&quot;
contract=&quot;IMetadataExchange&quot; /&gt;
        &lt;host&gt;
          &lt;baseAddresses&gt;
            &lt;add baseAddress=&quot;<A HREF="http://localhost:10000/Example/Scheduler/&quot;">http://localhost:10000/Example/Scheduler/&quot;</A> /&gt;
          &lt;/baseAddresses&gt;
        &lt;/host&gt;
      &lt;/service&gt;
    &lt;/services&gt;
  &lt;/system.serviceModel&gt;

this configuration works fine under windows (this is a .Net 3.5
Application), but under mono this configuration fails with a bad
gateway (400) error.

The solution was to use the IP address of the network (eth0
-192.168.35.2) for example, because localhost and 127.0.0.1 all fail
with the bad request error. It would nice to be able to use localhost
as it is generic thus making deployment onto multiple machines easier.

Thanks for your hard work.

Nadeem

On 24 August 2010 23:06, Nadeem Backus &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">nadeem.backus at gmail.com</A>&gt; wrote:
&gt;<i> I have a simple console hosted wcf service using basichttpbinding,
</I>&gt;<i> when invoking the service I am getting a bad request (400), the
</I>&gt;<i> executable assembly also works fine under windows.
</I>&gt;<i>
</I>&gt;<i> I am using the mono opensuse livecd and have also tryed the service on
</I>&gt;<i> centos with the latest mono 2.6.7
</I>&gt;<i>
</I>&gt;<i> Does any one have any idea why this might be occuring?
</I>&gt;<i>
</I>&gt;<i> here is the serviceModel node from the app.config:
</I>&gt;<i>
</I>&gt;<i> &#160;&lt;system.serviceModel&gt;
</I>&gt;<i> &#160; &#160;&lt;bindings /&gt;
</I>&gt;<i> &#160; &#160;&lt;behaviors&gt;
</I>&gt;<i> &#160; &#160; &#160;&lt;serviceBehaviors&gt;
</I>&gt;<i> &#160; &#160; &#160; &#160;&lt;behavior name=&quot;mexbe&quot;&gt;
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160;&lt;serviceMetadata /&gt;
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160;&lt;serviceDebug includeExceptionDetailInFaults=&quot;True&quot;/&gt;
</I>&gt;<i> &#160; &#160; &#160; &#160;&lt;/behavior&gt;
</I>&gt;<i> &#160; &#160; &#160;&lt;/serviceBehaviors&gt;
</I>&gt;<i> &#160; &#160;&lt;/behaviors&gt;
</I>&gt;<i> &#160; &#160;&lt;services&gt;
</I>&gt;<i> &#160; &#160; &#160;&lt;service behaviorConfiguration=&quot;mexbe&quot; name=&quot;NB.Services.SummaryService&quot;&gt;
</I>&gt;<i> &#160; &#160; &#160; &#160;&lt;endpoint address=&quot;SummaryService&quot; binding=&quot;basicHttpBinding&quot;
</I>&gt;<i> contract=&quot;NB.Contract.Service.ISummaryService&quot; /&gt;
</I>&gt;<i> &#160; &#160; &#160; &#160;&lt;endpoint address=&quot;SummaryService/mex&quot;
</I>&gt;<i> binding=&quot;mexHttpBinding&quot; &#160;contract=&quot;IMetadataExchange&quot; /&gt;
</I>&gt;<i> &#160; &#160; &#160; &#160;&lt;host&gt;
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160;&lt;baseAddresses&gt;
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;&lt;add baseAddress=&quot;<A HREF="http://localhost:9001/NB/SummaryService/&quot;">http://localhost:9001/NB/SummaryService/&quot;</A> /&gt;
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160;&lt;/baseAddresses&gt;
</I>&gt;<i> &#160; &#160; &#160; &#160;&lt;/host&gt;
</I>&gt;<i> &#160; &#160; &#160;&lt;/service&gt;
</I>&gt;<i> &#160; &#160;&lt;/services&gt;
</I>&gt;<i> &#160;&lt;/system.serviceModel&gt;
</I>&gt;<i>
</I>&gt;<i> Thanks for your assistance.
</I>&gt;<i>
</I>&gt;<i> Nadeem
</I>&gt;<i>
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045803.html">[Mono-list] Mono 2.8 Second Public Preview
</A></li>
	<LI>Next message: <A HREF="045808.html">[Mono-list] WCF service on mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45807">[ date ]</a>
              <a href="thread.html#45807">[ thread ]</a>
              <a href="subject.html#45807">[ subject ]</a>
              <a href="author.html#45807">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
