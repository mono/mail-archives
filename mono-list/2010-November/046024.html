<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Possible bug checking existence of file or directory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Possible%20bug%20checking%20existence%20of%20file%20or%20directory&In-Reply-To=1288949279496-3028357.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046020.html">
   <LINK REL="Next"  HREF="046018.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Possible bug checking existence of file or directory</H1>
    <B>Abe Gillespie</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Possible%20bug%20checking%20existence%20of%20file%20or%20directory&In-Reply-To=1288949279496-3028357.post%40n4.nabble.com"
       TITLE="[Mono-list] Possible bug checking existence of file or directory">abe.gillespie at gmail.com
       </A><BR>
    <I>Fri Nov  5 08:21:48 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="046020.html">[Mono-list] Possible bug checking existence of file or directory
</A></li>
        <LI>Next message: <A HREF="046018.html">[Mono-list] Mono embedding: mono_gc_register_thread() question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46024">[ date ]</a>
              <a href="thread.html#46024">[ thread ]</a>
              <a href="subject.html#46024">[ subject ]</a>
              <a href="author.html#46024">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry, expected results - I would have expected an access violation
from the FileSystemWatcher.  But since it's official for .Net to act
like the path doesn't exist, then maybe the FileSystemWatcher is
behaving correctly.

Will all this said, there is one small bug with FileSystemWatcher.
When it throws the message is &quot;Directory does not exists&quot; (notice the
plurality).  I'll file it today.

-Abe

On Fri, Nov 5, 2010 at 5:27 AM, Stifu &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">stifu at free.fr</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> &quot;Doing File.Exists() or Directory.Exists() on a file / dir that the
</I>&gt;<i> running account doesn't have permission to causes this to return
</I>&gt;<i> false. &#160;This is somewhat understandable (but is it correct?).&quot;
</I>&gt;<i>
</I>&gt;<i> This matches what MSDN says.
</I>&gt;<i>
</I>&gt;<i> &quot;Return Value
</I>&gt;<i> true if the caller has the required permissions and path contains the name
</I>&gt;<i> of an existing file; otherwise, false.&quot;
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://msdn.microsoft.com/en-us/library/system.io.file.exists%28v=VS.80%29.aspx">http://msdn.microsoft.com/en-us/library/system.io.file.exists%28v=VS.80%29.aspx</A>
</I>&gt;<i>
</I>&gt;<i> I'm not sure about FileSystemWatcher throwing DirectoryNotFoundException,
</I>&gt;<i> though.
</I>&gt;<i>
</I>&gt;<i> MSDN doesn't mention it (if we're indeed talking about the FileSystemWatcher
</I>&gt;<i> constructor): <A HREF="http://msdn.microsoft.com/en-us/library/b36854c3.aspx">http://msdn.microsoft.com/en-us/library/b36854c3.aspx</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Abe Gillespie wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If this is a bug I'll file it:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Doing File.Exists() or Directory.Exists() on a file / dir that the
</I>&gt;&gt;<i> running account doesn't have permission to causes this to return
</I>&gt;&gt;<i> false. &#160;This is somewhat understandable (but is it correct?).
</I>&gt;&gt;<i> However, doing a new FileSystemWatcher() on the same existing, but not
</I>&gt;&gt;<i> accessible dir, throws a DirectoryNotFoundException(). &#160;This seems a
</I>&gt;&gt;<i> little less understandable. &#160;But I'm not sure.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -Abe
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-list maillist &#160;- &#160;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Possible-bug-checking-existence-of-file-or-directory-tp3028067p3028357.html">http://mono.1490590.n4.nabble.com/Possible-bug-checking-existence-of-file-or-directory-tp3028067p3028357.html</A>
</I>&gt;<i> Sent from the Mono - General mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist &#160;- &#160;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I></PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046020.html">[Mono-list] Possible bug checking existence of file or directory
</A></li>
	<LI>Next message: <A HREF="046018.html">[Mono-list] Mono embedding: mono_gc_register_thread() question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46024">[ date ]</a>
              <a href="thread.html#46024">[ thread ]</a>
              <a href="subject.html#46024">[ subject ]</a>
              <a href="author.html#46024">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
