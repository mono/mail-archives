<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mono_jit_exec problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mono_jit_exec%20problem&In-Reply-To=ibonso%24h0l%241%40dough.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046075.html">
   <LINK REL="Next"  HREF="046079.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mono_jit_exec problem</H1>
    <B>Fede</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mono_jit_exec%20problem&In-Reply-To=ibonso%24h0l%241%40dough.gmane.org"
       TITLE="[Mono-list] mono_jit_exec problem">federico.omoto at gmail.com
       </A><BR>
    <I>Sun Nov 14 11:07:22 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="046075.html">[Mono-list] mono_jit_exec problem
</A></li>
        <LI>Next message: <A HREF="046079.html">[Mono-list] Automatic assembly version and MonoDevelop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46078">[ date ]</a>
              <a href="thread.html#46078">[ thread ]</a>
              <a href="subject.html#46078">[ subject ]</a>
              <a href="author.html#46078">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robert:

The source is very simple, I execute it like this:
<A HREF="http://pastebin.com/cnHFiYY4">http://pastebin.com/cnHFiYY4</A>
If you take a look at the mono command line program debug output you'll
notice that it is the same of my program: <A HREF="http://pastebin.com/F7SEeP57">http://pastebin.com/F7SEeP57</A>

Here's the source code and again, best regards and thank you very much!

Federico Omoto


#include &lt;mono/jit/jit.h&gt;
#include &lt;mono/metadata/object.h&gt;
#include &lt;mono/metadata/environment.h&gt;
#include &lt;mono/metadata/assembly.h&gt;
#include &lt;mono/metadata/debug-helpers.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;

int main(int argc, char* argv[])
{
        MonoDomain *domain;
        MonoAssembly *assembly;
        int returnValue;

        if (argc &lt; 2) {
                fprintf(stderr, &quot;Please provide an assembly to run\n&quot;);
                return 1;
        }

        if (setenv(&quot;MONO_PATH&quot;,
&quot;/home/fede/Downloads/Axiom-0.8.0.0-B2/samples/mono&quot;, 1)) {
                fprintf(stderr, &quot;Can't add MONO_PATH variable name to the
environment\n&quot;);
                return 2;
        }

        domain = mono_jit_init_version(argv[0], &quot;v2.0.50727&quot;);

        assembly = mono_domain_assembly_open(domain, argv[1]);
        if (!assembly) {
                fprintf(stderr, &quot;Can't load assembly %s\n&quot;, argv[1]);
                return 3;
        }

        mono_jit_exec(domain, assembly, argc - 1, argv + 1);
        returnValue = mono_environment_exitcode_get();
        mono_jit_cleanup(domain);

        return returnValue;
}



On Sun, Nov 14, 2010 at 10:23 AM, Robert Jordan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">robertj at gmx.net</A>&gt; wrote:

&gt;<i> Federico,
</I>&gt;<i>
</I>&gt;<i> On 14.11.2010 01:23, Fede wrote:
</I>&gt;<i> &gt; Robert:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thank you very much for your answer!
</I>&gt;<i> &gt; I tried setting the MONO_PATH environment variable to where the
</I>&gt;<i> assemblies
</I>&gt;<i> &gt; are located and the mono command line program seems to do the same, it
</I>&gt;<i> &gt; doesn't run the main assembly.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The debug output shows that all referenced assemblies are loaded OK:
</I>&gt;<i> &gt; <A HREF="http://pastebin.com/wu1KWYUU">http://pastebin.com/wu1KWYUU</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is there something else I could try?
</I>&gt;<i>
</I>&gt;<i> Please post your source code around mono_jit_exec's invocation.
</I>&gt;<i>
</I>&gt;<i> Robert
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20101114/0312dc09/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20101114/0312dc09/attachment.html</A> 
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046075.html">[Mono-list] mono_jit_exec problem
</A></li>
	<LI>Next message: <A HREF="046079.html">[Mono-list] Automatic assembly version and MonoDevelop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46078">[ date ]</a>
              <a href="thread.html#46078">[ thread ]</a>
              <a href="subject.html#46078">[ subject ]</a>
              <a href="author.html#46078">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
