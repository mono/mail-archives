<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Best way to convert Cairo.Color from/to Gdk.Color???
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Best%20way%20to%20convert%20Cairo.Color%20from/to%20Gdk.Color%3F%3F%3F&In-Reply-To=4CE949D5.8010602%40jpobst.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="046142.html">
   <LINK REL="Next"  HREF="046155.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Best way to convert Cairo.Color from/to Gdk.Color???</H1>
    <B>Francisco M. Marzoa</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Best%20way%20to%20convert%20Cairo.Color%20from/to%20Gdk.Color%3F%3F%3F&In-Reply-To=4CE949D5.8010602%40jpobst.com"
       TITLE="[Mono-list] Best way to convert Cairo.Color from/to Gdk.Color???">fmmarzoa at gmx.net
       </A><BR>
    <I>Mon Nov 22 09:32:16 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="046142.html">[Mono-list] Best way to convert Cairo.Color from/to Gdk.Color???
</A></li>
        <LI>Next message: <A HREF="046155.html">[Mono-list] Best way to convert Cairo.Color from/to Gdk.Color???
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46153">[ date ]</a>
              <a href="thread.html#46153">[ thread ]</a>
              <a href="subject.html#46153">[ subject ]</a>
              <a href="author.html#46153">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

This is very useful for me. Thanks, Jonathan.

BTW, Does someone knows why Bule, Red and Green properties are ushort
typed but its constructor uses three byte values for initialize them????

Regards,


El 21/11/10 17:33, Jonathan Pobst escribi&#243;:
&gt;<i> Here are the extension methods I use to convert back and forth.  Note
</I>&gt;<i> that the range of a Cairo color value is 0.0-1.0 and the range for Gdk
</I>&gt;<i> is 0-255.
</I>&gt;<i>
</I>&gt;<i> public static Cairo.Color ToCairoColor (this Gdk.Color color)
</I>&gt;<i> {
</I>&gt;<i>     return new Cairo.Color ((double)color.Red / ushort.MaxValue,
</I>&gt;<i> (double)color.Green / ushort.MaxValue, (double)color.Blue /
</I>&gt;<i> ushort.MaxValue);
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> public static Gdk.Color ToGdkColor (this Cairo.Color color)
</I>&gt;<i> {
</I>&gt;<i>     Gdk.Color c = new Gdk.Color ();
</I>&gt;<i>     c.Blue = (ushort)(color.B * ushort.MaxValue);
</I>&gt;<i>     c.Red = (ushort)(color.R * ushort.MaxValue);
</I>&gt;<i>     c.Green = (ushort)(color.G * ushort.MaxValue);
</I>&gt;<i>
</I>&gt;<i>     return c;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Jonathan
</I>&gt;<i>
</I>&gt;<i> On 11/21/2010 6:40 AM, Francisco M. Marzoa wrote:
</I>&gt;&gt;<i> Hello,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'd like to know what's the best way to converting Cairo.Color into
</I>&gt;&gt;<i> Gdk.Color and viceversa, mainly for using Gtk.ColorSelection widget.
</I>&gt;&gt;<i> Currently I'm doing something like:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Gdk.Color gcl;
</I>&gt;&gt;<i> Cairo.Color ccl;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> gcl = Gdk.Color ( (byte)ccl.R, (byte)ccl.G, (byte),cc.B);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Although it seems to work, it does not looks neither clean nor robust,
</I>&gt;&gt;<i> as Cairo.Color uses a double for each color component, data may be lost
</I>&gt;&gt;<i> on the conversion though. I wonder if there's a better method for doing
</I>&gt;&gt;<i> this, and also for converting from Gdk.Color to Cairo.Color.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks a lot in advance.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Best regards,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="046142.html">[Mono-list] Best way to convert Cairo.Color from/to Gdk.Color???
</A></li>
	<LI>Next message: <A HREF="046155.html">[Mono-list] Best way to convert Cairo.Color from/to Gdk.Color???
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46153">[ date ]</a>
              <a href="thread.html#46153">[ thread ]</a>
              <a href="subject.html#46153">[ subject ]</a>
              <a href="author.html#46153">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
