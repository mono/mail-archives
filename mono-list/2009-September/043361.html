<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] System.Diagnostics.Process.StartInfo.Arguments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20System.Diagnostics.Process.StartInfo.Arguments&In-Reply-To=4A9CF819020000F4000629FE%40sinclair.provo.novell.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043360.html">
   <LINK REL="Next"  HREF="043358.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] System.Diagnostics.Process.StartInfo.Arguments</H1>
    <B>Nils Andresen</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20System.Diagnostics.Process.StartInfo.Arguments&In-Reply-To=4A9CF819020000F4000629FE%40sinclair.provo.novell.com"
       TITLE="[Mono-list] System.Diagnostics.Process.StartInfo.Arguments">andresen.nils at googlemail.com
       </A><BR>
    <I>Tue Sep  1 14:45:16 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="043360.html">[Mono-list] System.Diagnostics.Process.StartInfo.Arguments
</A></li>
        <LI>Next message: <A HREF="043358.html">[Mono-list] 2.4.2.3 Invalid IL Code seen
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43361">[ date ]</a>
              <a href="thread.html#43361">[ thread ]</a>
              <a href="subject.html#43361">[ subject ]</a>
              <a href="author.html#43361">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi.
I'm new to this list so I'm not sure if I'm wrong here...
But calling
&gt;<i> export.StartInfo.RedirectStandardOutput = true;
</I>&gt;<i> export.WaitForExit();
</I>&gt;<i> export.StandardOutput.ReadToEnd()
</I>can lead to a deadlock (at least when using .net framework...).
When export.StandardOutput buffer is full the called thread will wait for
the buffer to clear while the calling thread will wait for the called thread
to exit....

Yours,
Nils

2009/9/1 Fred Patterson &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">fpatterson at novell.com</A>&gt;

&gt;<i>  Chris,
</I>&gt;<i>
</I>&gt;<i> I was able to fix it. You got me started down the right path.
</I>&gt;<i> I still couldn't get the argument variable to work with the 1&gt;output.log,
</I>&gt;<i> however, I was able to work around it.
</I>&gt;<i> The below code creates a file called output.log in the current path.
</I>&gt;<i>
</I>&gt;<i> Thanks again.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>                             System.Diagnostics.Process export = new
</I>&gt;<i> System.Diagnostics.Process();
</I>&gt;<i>                             export.EnableRaisingEvents = false;
</I>&gt;<i>                             export.StartInfo.RedirectStandardOutput = true;
</I>&gt;<i>                             export.StartInfo.RedirectStandardError = true;
</I>&gt;<i>                             export.StartInfo.UseShellExecute = false;
</I>&gt;<i>                             export.StartInfo.FileName = &quot;/bin/sh&quot;;
</I>&gt;<i>                             export.StartInfo.Arguments = &quot;discover.sh&quot;;
</I>&gt;<i>
</I>&gt;<i>                             export.Start();
</I>&gt;<i>
</I>&gt;<i>                             export.WaitForExit();
</I>&gt;<i>                             if (0 != export.ExitCode)
</I>&gt;<i> Console.WriteLine(&quot;Error&quot;);
</I>&gt;<i>
</I>&gt;<i>                             TextWriter output = new
</I>&gt;<i> StreamWriter(&quot;output.log&quot;);
</I>&gt;<i>
</I>&gt;<i> output.WriteLine(export.StandardOutput.ReadToEnd());
</I>&gt;<i>                             output.Close();
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20090901/77753957/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20090901/77753957/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043360.html">[Mono-list] System.Diagnostics.Process.StartInfo.Arguments
</A></li>
	<LI>Next message: <A HREF="043358.html">[Mono-list] 2.4.2.3 Invalid IL Code seen
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43361">[ date ]</a>
              <a href="thread.html#43361">[ thread ]</a>
              <a href="subject.html#43361">[ subject ]</a>
              <a href="author.html#43361">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
