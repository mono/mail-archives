<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] 10-17-01 Test suite work
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:macisaac%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001825.html">
   <LINK REL="Next"  HREF="001828.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] 10-17-01 Test suite work
   </H1>
    <B>Sean MacIsaac
    </B> 
    <A HREF="mailto:macisaac%40ximian.com"
       TITLE="[Mono-list] 10-17-01 Test suite work">macisaac@ximian.com
       </A><BR>
    <I>17 Oct 2001 17:07:32 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="001825.html">[Mono-list] Initial draft of document for beginning testers..
</A></li>
        <LI> Next message: <A HREF="001828.html">[Mono-list] Re: Mono test draft
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1827">[ date ]</a>
              <a href="thread.html#1827">[ thread ]</a>
              <a href="subject.html#1827">[ subject ]</a>
              <a href="author.html#1827">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-LDAOCmhx+clhwFFUVI4V
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hello,

Work so far today:
  * Fixed a couple of things in the Math class so make windows would
work.
  * Fixed things so that testing could proceed in windows.  To do this a
parred down version of our corlib is made (minus classes that use
internalcalls and some others).
  * Moved things around in the corlib/Test directory so that they are
well organized and easy to use/extend/understand.

Attached is a diff.

Sean



--=-LDAOCmhx+clhwFFUVI4V
Content-Type: text/plain
Content-Disposition: attachment; filename=mcs.diff
Content-Transfer-Encoding: 7bit

? class/System/Test/System_test.dll
? class/System.XML/Test/System.XML_test.dll
? mcs/mcs.pdb
? tools/verifier.pdb
Index: class/corlib/corlib.build
===================================================================
RCS file: /cvs/public/mcs/class/corlib/corlib.build,v
retrieving revision 1.2
diff -u -r1.2 corlib.build
--- class/corlib/corlib.build	2001/09/26 16:08:28	1.2
+++ class/corlib/corlib.build	2001/10/17 17:17:33
@@ -20,6 +20,24 @@
 				&lt;excludes name=&quot;System.Collections/Queue.cs&quot;/&gt;
 			&lt;/sources&gt;
 		&lt;/csc&gt;
+		&lt;csc target=&quot;library&quot; output=&quot;Test/corlib_res.dll&quot; debug=&quot;${debug}&quot;&gt;
+			&lt;arg value=&quot;/nowarn:1595&quot;/&gt;
+			&lt;arg value=&quot;/unsafe&quot;/&gt;
+			&lt;sources&gt;
+				&lt;includes name=&quot;**/*.cs&quot;/&gt;
+				&lt;excludes name=&quot;Test/**&quot;/&gt;
+				&lt;excludes name=&quot;Linux/**&quot;/&gt;
+				&lt;excludes name=&quot;System/Object.cs&quot;/&gt;
+				&lt;excludes name=&quot;System/ValueType.cs&quot;/&gt;
+				&lt;excludes name=&quot;System/Type.cs&quot;/&gt;
+				&lt;excludes name=&quot;System/String.cs&quot;/&gt;
+				&lt;excludes name=&quot;System.Reflection.Emit/**&quot;/&gt;
+				&lt;excludes name=&quot;System.Reflection/**&quot;/&gt;
+				&lt;excludes name=&quot;System/RuntimeTypeHandle.cs&quot;/&gt;
+				&lt;excludes name=&quot;System.PAL/IOperatingSystem.cs&quot;/&gt;
+				&lt;excludes name=&quot;System.Collections/Queue.cs&quot;/&gt;
+			&lt;/sources&gt;
+		&lt;/csc&gt;
 		&lt;nant basedir=&quot;Test&quot; target=&quot;build&quot;/&gt;
 	&lt;/target&gt;
 
@@ -36,6 +54,7 @@
 				&lt;excludes name=&quot;System.Collections/Queue.cs&quot;/&gt;
 			&lt;/sources&gt;
 		&lt;/csc&gt;
+		&lt;copy file=&quot;../lib/corlib.dll&quot; tofile=&quot;Test/corlib_res.dll&quot;/&gt;
 		&lt;nant basedir=&quot;Test&quot; target=&quot;build&quot;/&gt;
 	&lt;/target&gt;
 
@@ -45,6 +64,7 @@
 
 	&lt;target name=&quot;clean&quot;&gt;
 		&lt;delete file=&quot;../lib/corlib.dll&quot; failonerror=&quot;false&quot;/&gt;
+		&lt;delete file=&quot;Test/corlib_res.dll&quot; failonerror=&quot;false&quot;/&gt;
 		&lt;nant basedir=&quot;Test&quot; target=&quot;clean&quot;/&gt;
 	&lt;/target&gt;
 &lt;/project&gt;
Index: class/corlib/Linux/Linux.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Linux/Linux.cs,v
retrieving revision 1.3
diff -u -r1.3 Linux.cs
--- class/corlib/Linux/Linux.cs	2001/10/01 13:26:23	1.3
+++ class/corlib/Linux/Linux.cs	2001/10/17 17:17:33
@@ -557,5 +557,52 @@
 
 			return flags;
 		}
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;acos&quot;) ]
+		public extern static double Acos(double d);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;asin&quot;) ]
+		public extern static double Asin(double d);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;atan&quot;) ]
+		public extern static double Atan(double d);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;atan2&quot;) ]
+		public extern static double Atan2(double y, double x);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;cos&quot;) ]
+		public extern static double Cos(double d);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;cosh&quot;) ]
+		public extern static double Cosh(double d);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;exp&quot;) ]
+		public extern static double Exp(double d);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;log&quot;) ]
+		public extern static double Log(double d);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;log10&quot;) ]
+		public extern static double Log10(double d);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;pow&quot;) ]
+		public extern static double Pow(double x, double y);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;sin&quot;) ]
+		public extern static double Sin(double d);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;sinh&quot;) ]
+		public extern static double Sinh(double d);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;sqrt&quot;) ]
+		public extern static double Sqrt(double d);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;tan&quot;) ]
+		public extern static double Tan(double d);
+
+		[ DllImport(&quot;libm&quot;, EntryPoint=&quot;tanh&quot;) ]
+		public extern static double Tanh(double d);
+
+
 	}
 }
Index: class/corlib/System/Array.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/System/Array.cs,v
retrieving revision 1.6
diff -u -r1.6 Array.cs
--- class/corlib/System/Array.cs	2001/10/17 03:54:00	1.6
+++ class/corlib/System/Array.cs	2001/10/17 17:17:33
@@ -13,7 +13,7 @@
 namespace System
 {
 
-	public abstract class Array : ICloneable 
+	public abstract class Array : ICloneable, ICollection
 	{
 		// Constructor		
 		protected Array ()
@@ -65,6 +65,32 @@
 		public extern static Array CreateInstance(Type elementType, int[] lengths, int [] bounds);
 
 		// Methods Implementations
+
+		public int Count {
+			get {
+				return Length;
+			}
+		}
+
+		public bool IsSynchronized {
+			get {
+				// FIXME?
+				return false;
+			}
+		}
+
+		public object SyncRoot {
+			get {
+				// FIXME
+				return null;
+			}
+		}
+
+		public virtual IEnumerator GetEnumerator ()
+		{
+			// FIXME
+			return null;
+		}
 
 		public int GetUpperBound (int dimension)
 		{
Index: class/corlib/System/Math.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/System/Math.cs,v
retrieving revision 1.2
diff -u -r1.2 Math.cs
--- class/corlib/System/Math.cs	2001/08/06 10:36:16	1.2
+++ class/corlib/System/Math.cs	2001/10/17 17:17:33
@@ -9,6 +9,7 @@
 
 using System;
 using System.Runtime.InteropServices;
+using System.PAL;
 
 namespace System
 {
@@ -52,35 +53,50 @@
                                 throw new OverflowException(&quot;Value is too small.&quot;);
                         return (short)((value &lt; 0)? -value: value);
                 }
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;acos&quot;) ]
-                private extern static double _Acos(double d);
+
                 public static double Acos(double d)
                 {
                         if (d &lt; -1 || d &gt; 1) return Double.NaN;
-                        return Math._Acos(d);
+                        return OpSys.Acos(d);
                 }
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;asin&quot;) ]
-                private extern static double _Asin(double d);
+
                 public static double Asin(double d)
                 {
                         if (d &lt; -1 || d &gt; 1) return Double.NaN;
-                        return Math._Asin(d);
+                        return OpSys.Asin(d);
                 }
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;atan&quot;) ]
-                public extern static double Atan(double d);
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;atan2&quot;) ]
-                public extern static double Atan2(double y, double x);
+
+                public static double Atan(double d)
+		{
+			return OpSys.Atan(d);
+		}
+
+                public static double Atan2(double y, double x)
+		{
+			return OpSys.Atan2(y, x);
+		}
+
                 public static double Ceiling(double a)
                 {
                         double b = (double)((long)a);
                         return (b &lt; a)? b+1: b;
                 }
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;cos&quot;) ]
-                public extern static double Cos(double d);
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;cosh&quot;) ]
-                public extern static double Cosh(double value);
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;exp&quot;) ]
-                public extern static double Exp(double d);
+
+                public static double Cos(double d)
+		{
+			return OpSys.Cos(d);
+		}
+
+                public static double Cosh(double value)
+		{
+			return OpSys.Cosh(value);
+		}
+
+                public static double Exp(double d)
+		{
+			return OpSys.Exp(d);
+		}
+
                 public static double Floor(double d) {
 		    return (double)((long)d) ;
                 }
@@ -92,27 +108,25 @@
                         if (r != 0) return r;
                         return (x &gt; 0)? 0: -0;
                 }
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;log&quot;) ]
-                private extern static double _Log(double d);
+
                 public static double Log(double d)
                 {
                         if (d == 0) return Double.NegativeInfinity;
                         else if (d &lt; 0) return Double.NaN;
-                        return Math._Log(d);
+                        return OpSys.Log(d);
                 }
                 public static double Log(double a, double newBase)
                 {
                         if (a == 0) return Double.NegativeInfinity;
                         else if (a &lt; 0) return Double.NaN;
-                        return Math._Log(a)/Math._Log(newBase);
+                        return OpSys.Log(a)/OpSys.Log(newBase);
                 }
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;log10&quot;) ]
-                private extern static double _Log10(double d);
+
                 public static double Log10(double d)
                 {
                         if (d == 0) return Double.NegativeInfinity;
                         else if (d &lt; 0) return Double.NaN;
-                        return Math._Log10(d);
+                        return OpSys.Log10(d);
                 }
                 public static byte Max(byte val1, byte val2)
                 {
@@ -202,8 +216,12 @@
                 {
                         return (val1 &lt; val2)? val1: val2;
                 }
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;pow&quot;) ]
-                public extern static double Pow(double x, double y);
+
+                public static double Pow(double x, double y)
+		{
+			return OpSys.Pow(x, y);
+		}
+
                 public static decimal Round(decimal d)
                 {
                         decimal r = (decimal)((long)d);
@@ -292,20 +310,31 @@
                         if (value &gt; 0) return 1;
                         return (value == 0)? 0: -1;
                 }
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;sin&quot;) ]
-                public extern static double Sin(double a);
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;sinh&quot;) ]
-                public extern static double Sinh(double value);
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;sqrt&quot;) ]
-                private extern static double _Sqrt(double d);
+
+                public static double Sin(double a)
+		{
+			return OpSys.Sin(a);
+		}
+
+                public static double Sinh(double value)
+		{
+			return OpSys.Sinh(value);
+		}
+
                 public static double Sqrt(double d) 
                 {
                         if (d &lt; 0) return Double.NaN;
-                        return Math._Sqrt(d);
+                        return OpSys.Sqrt(d);
                 }
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;tan&quot;) ]
-                public extern static double Tan(double a);
-                [ DllImport(&quot;libm&quot;, EntryPoint=&quot;tanh&quot;) ]
-                public extern static double Tanh(double value);
+
+                public static double Tan(double a)
+		{
+			return OpSys.Tan(a);
+		}
+
+                public static double Tanh(double value)
+		{
+			return OpSys.Tanh(value);
+		}
         }
 }
Index: class/corlib/System.IO/FileStream.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/System.IO/FileStream.cs,v
retrieving revision 1.4
diff -u -r1.4 FileStream.cs
--- class/corlib/System.IO/FileStream.cs	2001/09/26 09:11:28	1.4
+++ class/corlib/System.IO/FileStream.cs	2001/10/17 17:17:33
@@ -36,8 +36,8 @@
 				   int bufferSize, bool isAsync)
 		{
 			fd = fd;
-			acc = access;
-			owner = ownsHandle;
+			//acc = access;
+			//owner = ownsHandle;
 		}
 		
 		public FileStream (string name, FileMode mode)
Index: class/corlib/System.PAL/IOperatingSystem.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/System.PAL/IOperatingSystem.cs,v
retrieving revision 1.1
diff -u -r1.1 IOperatingSystem.cs
--- class/corlib/System.PAL/IOperatingSystem.cs	2001/09/26 09:35:13	1.1
+++ class/corlib/System.PAL/IOperatingSystem.cs	2001/10/17 17:17:33
@@ -159,5 +159,36 @@
 		void SetLastAccessTimeDirectory(string path, DateTime lastAccessTime);
 	
 		void SetLastWriteTimeDirectory(string path, DateTime lastWriteTime);
+
+		double Acos(double d);
+
+		double Asin(double d);
+
+		double Atan(double d);
+
+		double Atan2(double y, double x);
+
+		double Cos(double d);
+
+		double Cosh(double value);
+
+		double Exp(dobule d);
+
+		double Log(double d);
+
+		double Log10(double d);
+
+		double Pow(double x, double y);
+
+		double Sin(double d);
+
+		double Sinh(double d);
+
+		double Sqrt(double d);
+
+		double Tan(double d);
+
+		double Tanh(double d);
+		
 	}
 }
Index: class/corlib/Test/corlib_test.build
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/corlib_test.build,v
retrieving revision 1.4
diff -u -r1.4 corlib_test.build
--- class/corlib/Test/corlib_test.build	2001/10/12 14:13:12	1.4
+++ class/corlib/Test/corlib_test.build	2001/10/17 17:17:33
@@ -13,18 +13,20 @@
 			&lt;sources&gt;
 				&lt;includes name=&quot;**/*.cs&quot;/&gt;
 				&lt;excludes name=&quot;System/IntegerFormatterTest.cs&quot;/&gt;
-				&lt;excludes name=&quot;temp/HashtableTest.cs&quot;/&gt;
-				&lt;excludes name=&quot;temp/QueueTest.cs&quot;/&gt;
+				&lt;excludes name=&quot;System/Int64Test.cs&quot;/&gt;
+				&lt;excludes name=&quot;System.Collections/QueueTest.cs&quot;/&gt;
 				&lt;excludes name=&quot;System/IntegerFormatterTest.cs&quot;/&gt;
 			&lt;/sources&gt;
 			&lt;references basedir=&quot;..\..\..\nunit&quot;&gt;
 				&lt;includes name=&quot;NUnitCore.dll&quot;/&gt;
 			&lt;/references&gt;
+			&lt;arg value=&quot;/r:corlib_res.dll&quot;/&gt;
+			&lt;arg value=&quot;/nowarn:1595&quot;/&gt;
 		&lt;/csc&gt;
 	&lt;/target&gt;
 
 	&lt;target name=&quot;test&quot; depends=&quot;build&quot;&gt;
-		&lt;exec program=&quot;..\..\..\nunit\NUnitConsole&quot; commandline=&quot;Ximian.Mono.Tests.AllTests,corlib_test.dll&quot; failonerror=&quot;false&quot;/&gt;
+		&lt;exec program=&quot;..\..\..\nunit\NUnitConsole&quot; commandline=&quot;MonoTests.AllTests,corlib_test.dll&quot; failonerror=&quot;false&quot;/&gt;
 	&lt;/target&gt;
 
 	&lt;target name=&quot;clean&quot;&gt;
Index: class/corlib/Test/System/ByteTest.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System/ByteTest.cs,v
retrieving revision 1.1
diff -u -r1.1 ByteTest.cs
--- class/corlib/Test/System/ByteTest.cs	2001/10/11 18:56:17	1.1
+++ class/corlib/Test/System/ByteTest.cs	2001/10/17 17:17:33
@@ -9,6 +9,9 @@
 using System;
 using System.Globalization;
 
+namespace MonoTests.System
+{
+
 public class ByteTest : TestCase
 {
 	private const Byte MyByte1 = 42;
@@ -54,7 +57,7 @@
 			Fail(&quot;Should raise a System.ArgumentException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentException) == e.GetType());
+			Assert(typeof(ArgumentException) == e.GetType());
 		}
 	}
 
@@ -89,14 +92,14 @@
 			Fail(&quot;Should raise a System.ArgumentNullException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentNullException) == e.GetType());
+			Assert(typeof(ArgumentNullException) == e.GetType());
 		}
 		try {
 			Byte.Parse(&quot;not-a-number&quot;);
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		try {
 			int OverInt = Byte.MaxValue + 1;
@@ -104,7 +107,7 @@
 			Fail(&quot;Should raise a System.OverflowException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.OverflowException) == e.GetType());
+			Assert(typeof(OverflowException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style)
 		Assert(42 == Byte.Parse(&quot; $42 &quot;, NumberStyles.Currency));
@@ -113,7 +116,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, IFormatProvider provider)
 		Assert(42 == Byte.Parse(&quot; 42 &quot;, Nfi));
@@ -122,7 +125,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style, IFormatProvider provider)
 		Assert(16 == Byte.Parse(&quot; 10 &quot;, NumberStyles.HexNumber, Nfi));
@@ -131,7 +134,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 	}
 	
@@ -156,9 +159,10 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		
 	}
 }
 
+}
Index: class/corlib/Test/System/DecimalTest.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System/DecimalTest.cs,v
retrieving revision 1.1
diff -u -r1.1 DecimalTest.cs
--- class/corlib/Test/System/DecimalTest.cs	2001/10/14 18:28:54	1.1
+++ class/corlib/Test/System/DecimalTest.cs	2001/10/17 17:17:33
@@ -12,7 +12,7 @@
 using System.Globalization;
 using System.Runtime.CompilerServices;
 
-namespace Test {
+namespace MonoTests.System {
     /// &lt;summary&gt;
     /// Tests for System.Decimal
     /// &lt;/summary&gt;
@@ -613,4 +613,4 @@
         }
     }
 
-}
\ No newline at end of file
+}
Index: class/corlib/Test/System/DecimalTest2.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System/DecimalTest2.cs,v
retrieving revision 1.1
diff -u -r1.1 DecimalTest2.cs
--- class/corlib/Test/System/DecimalTest2.cs	2001/10/14 18:28:54	1.1
+++ class/corlib/Test/System/DecimalTest2.cs	2001/10/17 17:17:37
@@ -11,7 +11,7 @@
 using System.Globalization;
 using System.Runtime.CompilerServices;
 
-namespace Test 
+namespace MonoTests.System
 {
 
     public enum TestResultInfo
@@ -3122,4 +3122,4 @@
 
         #endregion
     }
-}
\ No newline at end of file
+}
Index: class/corlib/Test/System/Int16Test.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System/Int16Test.cs,v
retrieving revision 1.1
diff -u -r1.1 Int16Test.cs
--- class/corlib/Test/System/Int16Test.cs	2001/10/11 18:56:17	1.1
+++ class/corlib/Test/System/Int16Test.cs	2001/10/17 17:17:37
@@ -9,6 +9,9 @@
 using System;
 using System.Globalization;
 
+namespace MonoTests.System
+{
+
 public class Int16Test : TestCase
 {
 	private const Int16 MyInt16_1 = -42;
@@ -59,7 +62,7 @@
 			Fail(&quot;Should raise a System.ArgumentException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentException) == e.GetType());
+			Assert(typeof(ArgumentException) == e.GetType());
 		}
 	}
 
@@ -94,14 +97,14 @@
 			Fail(&quot;Should raise a System.ArgumentNullException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentNullException) == e.GetType());
+			Assert(typeof(ArgumentNullException) == e.GetType());
 		}
 		try {
 			Int16.Parse(&quot;not-a-number&quot;);
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		try {
 			int OverInt = Int16.MaxValue + 1;
@@ -109,7 +112,7 @@
 			Fail(&quot;Should raise a System.OverflowException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.OverflowException) == e.GetType());
+			Assert(typeof(OverflowException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style)
 		Assert(42 == Int16.Parse(&quot; $42 &quot;, NumberStyles.Currency));
@@ -118,7 +121,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, IFormatProvider provider)
 		Assert(-42 == Int16.Parse(&quot; -42 &quot;, Nfi));
@@ -127,7 +130,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style, IFormatProvider provider)
 		Assert(16 == Int16.Parse(&quot; 10 &quot;, NumberStyles.HexNumber, Nfi));
@@ -136,7 +139,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 	}
 	
@@ -161,8 +164,9 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 	}
 }
 
+}
Index: class/corlib/Test/System/Int32Test.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System/Int32Test.cs,v
retrieving revision 1.1
diff -u -r1.1 Int32Test.cs
--- class/corlib/Test/System/Int32Test.cs	2001/10/11 18:56:17	1.1
+++ class/corlib/Test/System/Int32Test.cs	2001/10/17 17:17:37
@@ -9,6 +9,9 @@
 using System;
 using System.Globalization;
 
+namespace MonoTests.System
+{
+
 public class Int32Test : TestCase
 {
 	private const Int32 MyInt32_1 = -42;
@@ -59,7 +62,7 @@
 			Fail(&quot;Should raise a System.ArgumentException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentException) == e.GetType());
+			Assert(typeof(ArgumentException) == e.GetType());
 		}
 	}
 
@@ -94,14 +97,14 @@
 			Fail(&quot;Should raise a System.ArgumentNullException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentNullException) == e.GetType());
+			Assert(typeof(ArgumentNullException) == e.GetType());
 		}
 		try {
 			Int32.Parse(&quot;not-a-number&quot;);
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		try {
 			double OverInt = (double)Int32.MaxValue + 1;
@@ -109,7 +112,7 @@
 			Fail(&quot;Should raise a System.OverflowException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.OverflowException) == e.GetType());
+			Assert(typeof(OverflowException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style)
 		Assert(42 == Int32.Parse(&quot; $42 &quot;, NumberStyles.Currency));
@@ -118,7 +121,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, IFormatProvider provider)
 		Assert(-42 == Int32.Parse(&quot; -42 &quot;, Nfi));
@@ -127,7 +130,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style, IFormatProvider provider)
 		Assert(16 == Int32.Parse(&quot; 10 &quot;, NumberStyles.HexNumber, Nfi));
@@ -136,7 +139,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 	}
 	
@@ -161,8 +164,9 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 	}
 }
 
+}
Index: class/corlib/Test/System/Int64Test.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System/Int64Test.cs,v
retrieving revision 1.2
diff -u -r1.2 Int64Test.cs
--- class/corlib/Test/System/Int64Test.cs	2001/10/11 18:56:17	1.2
+++ class/corlib/Test/System/Int64Test.cs	2001/10/17 17:17:37
@@ -14,6 +14,9 @@
     /// &lt;summary&gt;
     /// Tests for System.Int64
     /// &lt;/summary&gt;
+namespace MonoTests.System
+{
+
 public class Int64Test : TestCase
 {
 	private const Int64 MyInt64_1 = -42;
@@ -98,7 +101,7 @@
 			Fail(&quot;Should raise a System.ArgumentException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentException) == e.GetType());
+			Assert(typeof(ArgumentException) == e.GetType());
 		}
 	}
 
@@ -167,9 +170,9 @@
         try
         {
             lv = Int64.Parse(sval1Test1, Nfi);
-            Fail(&quot;Should raise System.FormatException 1&quot;);
+            Fail(&quot;Should raise FormatException 1&quot;);
         }
-        catch (System.FormatException)
+        catch (FormatException)
         {
             // ok
         }
@@ -182,9 +185,9 @@
         try
         {
             lv = Int64.Parse(sval1Test4, style1, Nfi);
-            Fail(&quot;Should raise System.FormatException 3&quot;);
+            Fail(&quot;Should raise FormatException 3&quot;);
         }
-        catch (System.FormatException)
+        catch (FormatException)
         {
             // ok
         }
@@ -201,14 +204,14 @@
 			Fail(&quot;Should raise a System.ArgumentNullException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentNullException) == e.GetType());
+			Assert(typeof(ArgumentNullException) == e.GetType());
 		}
 		try {
 			Int64.Parse(&quot;not-a-number&quot;);
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style)
 		try {
@@ -225,7 +228,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		Assert(42 == Int64.Parse(&quot; $42 &quot;, NumberStyles.Currency));
 		try {
@@ -233,7 +236,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, IFormatProvider provider)
 		Assert(-42 == Int64.Parse(&quot; -42 &quot;, Nfi));
@@ -242,7 +245,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style, IFormatProvider provider)
 		Assert(16 == Int64.Parse(&quot; 10 &quot;, NumberStyles.HexNumber, Nfi));
@@ -251,7 +254,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}    
     }
 
@@ -284,7 +287,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
     }
 
@@ -316,4 +319,4 @@
     }
 }
 
-
+}
Index: class/corlib/Test/System/SByteTest.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System/SByteTest.cs,v
retrieving revision 1.1
diff -u -r1.1 SByteTest.cs
--- class/corlib/Test/System/SByteTest.cs	2001/10/11 18:56:17	1.1
+++ class/corlib/Test/System/SByteTest.cs	2001/10/17 17:17:37
@@ -9,6 +9,9 @@
 using System;
 using System.Globalization;
 
+namespace MonoTests.System
+{
+
 public class SByteTest : TestCase
 {
 	private const SByte MySByte1 = -42;
@@ -58,7 +61,7 @@
 			Fail(&quot;Should raise a System.ArgumentException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentException) == e.GetType());
+			Assert(typeof(ArgumentException) == e.GetType());
 		}
 	}
 
@@ -93,14 +96,14 @@
 			Fail(&quot;Should raise a System.ArgumentNullException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentNullException) == e.GetType());
+			Assert(typeof(ArgumentNullException) == e.GetType());
 		}
 		try {
 			SByte.Parse(&quot;not-a-number&quot;);
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		try {
 			int OverInt = SByte.MaxValue + 1;
@@ -108,7 +111,7 @@
 			Fail(&quot;Should raise a System.OverflowException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.OverflowException) == e.GetType());
+			Assert(typeof(OverflowException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style)
 		Assert(42 == SByte.Parse(&quot; $42 &quot;, NumberStyles.Currency));
@@ -117,7 +120,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, IFormatProvider provider)
 		Assert(-42 == SByte.Parse(&quot; -42 &quot;, Nfi));
@@ -126,7 +129,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style, IFormatProvider provider)
 		Assert(16 == SByte.Parse(&quot; 10 &quot;, NumberStyles.HexNumber, Nfi));
@@ -135,7 +138,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 	}
 	
@@ -160,8 +163,9 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 	}
 }
 
+}
Index: class/corlib/Test/System/StringTest.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System/StringTest.cs,v
retrieving revision 1.2
diff -u -r1.2 StringTest.cs
--- class/corlib/Test/System/StringTest.cs	2001/10/12 14:13:12	1.2
+++ class/corlib/Test/System/StringTest.cs	2001/10/17 17:17:37
@@ -9,6 +9,9 @@
 using System;
 using System.Globalization;
 
+namespace MonoTests.System
+{
+
 public class StringTest : TestCase
 {
 	public StringTest (string name) : base (name) {}
@@ -68,5 +71,7 @@
 
 		Assert (String.Concat (string1, string2) == concat);
 	}
+
+}
 
 }
Index: class/corlib/Test/System/UInt16Test.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System/UInt16Test.cs,v
retrieving revision 1.1
diff -u -r1.1 UInt16Test.cs
--- class/corlib/Test/System/UInt16Test.cs	2001/10/11 18:56:17	1.1
+++ class/corlib/Test/System/UInt16Test.cs	2001/10/17 17:17:37
@@ -9,6 +9,9 @@
 using System;
 using System.Globalization;
 
+namespace MonoTests.System
+{
+
 public class UInt16Test : TestCase
 {
 	private const UInt16 MyUInt16_1 = 42;
@@ -55,7 +58,7 @@
 			Fail(&quot;Should raise a System.ArgumentException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentException) == e.GetType());
+			Assert(typeof(ArgumentException) == e.GetType());
 		}
 	}
 
@@ -90,14 +93,14 @@
 			Fail(&quot;Should raise a System.ArgumentNullException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentNullException) == e.GetType());
+			Assert(typeof(ArgumentNullException) == e.GetType());
 		}
 		try {
 			UInt16.Parse(&quot;not-a-number&quot;);
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		try {
 			int OverInt = UInt16.MaxValue + 1;
@@ -105,7 +108,7 @@
 			Fail(&quot;Should raise a System.OverflowException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.OverflowException) == e.GetType());
+			Assert(typeof(OverflowException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style)
 		Assert(42 == UInt16.Parse(&quot; $42 &quot;, NumberStyles.Currency));
@@ -114,7 +117,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, IFormatProvider provider)
 		Assert(42 == UInt16.Parse(&quot; 42 &quot;, Nfi));
@@ -123,7 +126,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style, IFormatProvider provider)
 		Assert(16 == UInt16.Parse(&quot; 10 &quot;, NumberStyles.HexNumber, Nfi));
@@ -132,7 +135,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 	}
 	
@@ -157,8 +160,10 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 	}
 }
 
+
+}
Index: class/corlib/Test/System/UInt32Test.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System/UInt32Test.cs,v
retrieving revision 1.1
diff -u -r1.1 UInt32Test.cs
--- class/corlib/Test/System/UInt32Test.cs	2001/10/11 18:56:17	1.1
+++ class/corlib/Test/System/UInt32Test.cs	2001/10/17 17:17:39
@@ -9,6 +9,9 @@
 using System;
 using System.Globalization;
 
+namespace MonoTests.System
+{
+
 public class UInt32Test : TestCase
 {
 	private const UInt32 MyUInt32_1 = 42;
@@ -55,7 +58,7 @@
 			Fail(&quot;Should raise a System.ArgumentException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentException) == e.GetType());
+			Assert(typeof(ArgumentException) == e.GetType());
 		}
 	}
 
@@ -90,14 +93,14 @@
 			Fail(&quot;Should raise a System.ArgumentNullException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentNullException) == e.GetType());
+			Assert(typeof(ArgumentNullException) == e.GetType());
 		}
 		try {
 			UInt32.Parse(&quot;not-a-number&quot;);
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		try {
 			double OverInt = (double)UInt32.MaxValue + 1;
@@ -105,7 +108,7 @@
 			Fail(&quot;Should raise a System.OverflowException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.OverflowException) == e.GetType());
+			Assert(typeof(OverflowException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style)
 		Assert(42 == UInt32.Parse(&quot; $42 &quot;, NumberStyles.Currency));
@@ -114,7 +117,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, IFormatProvider provider)
 		Assert(42 == UInt32.Parse(&quot; 42 &quot;, Nfi));
@@ -123,7 +126,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style, IFormatProvider provider)
 		Assert(16 == UInt32.Parse(&quot; 10 &quot;, NumberStyles.HexNumber, Nfi));
@@ -132,7 +135,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 	}
 	
@@ -157,8 +160,10 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 	}
 }
 
+
+}
Index: class/corlib/Test/System/UInt64Test.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System/UInt64Test.cs,v
retrieving revision 1.1
diff -u -r1.1 UInt64Test.cs
--- class/corlib/Test/System/UInt64Test.cs	2001/10/11 18:56:17	1.1
+++ class/corlib/Test/System/UInt64Test.cs	2001/10/17 17:17:39
@@ -9,6 +9,9 @@
 using System;
 using System.Globalization;
 
+namespace MonoTests.System
+{
+
 public class UInt64Test : TestCase
 {
 	private const UInt64 MyUInt64_1 = 42;
@@ -55,7 +58,7 @@
 			Fail(&quot;Should raise a System.ArgumentException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentException) == e.GetType());
+			Assert(typeof(ArgumentException) == e.GetType());
 		}
 	}
 
@@ -87,26 +90,26 @@
 		Assert(MyUInt64_3 == UInt64.Parse(MyString3));
 		try {
 			UInt64.Parse(null);
-			Fail(&quot;Should raise a System.ArgumentNullException&quot;);
+			Fail(&quot;Should raise a ArgumentNullException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.ArgumentNullException) == e.GetType());
+			Assert(typeof(ArgumentNullException) == e.GetType());
 		}
 		try {
 			UInt64.Parse(&quot;not-a-number&quot;);
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style)
 		try {
 			double OverInt = (double)UInt64.MaxValue + 1;
 			UInt64.Parse(OverInt.ToString(), NumberStyles.Float);
-			Fail(&quot;Should raise a System.OverflowException&quot;);
+			Fail(&quot;Should raise a OverflowException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.OverflowException) == e.GetType());
+			Assert(typeof(OverflowException) == e.GetType());
 		}
 		try {
 			double OverInt = (double)UInt64.MaxValue + 1;
@@ -114,15 +117,15 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		Assert(42 == UInt64.Parse(&quot; $42 &quot;, NumberStyles.Currency));
 		try {
 			UInt64.Parse(&quot;$42&quot;, NumberStyles.Integer);
-			Fail(&quot;Should raise a System.FormatException&quot;);
+			Fail(&quot;Should raise a FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, IFormatProvider provider)
 		Assert(42 == UInt64.Parse(&quot; 42 &quot;, Nfi));
@@ -131,7 +134,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 		//test Parse(string s, NumberStyles style, IFormatProvider provider)
 		Assert(16 == UInt64.Parse(&quot; 10 &quot;, NumberStyles.HexNumber, Nfi));
@@ -140,7 +143,7 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 	}
 	
@@ -165,8 +168,9 @@
 			Fail(&quot;Should raise a System.FormatException&quot;);
 		}
 		catch (Exception e) {
-			Assert(typeof(System.FormatException) == e.GetType());
+			Assert(typeof(FormatException) == e.GetType());
 		}
 	}
 }
 
+}
Index: class/corlib/Test/System.Collections/HashtableTest.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System.Collections/HashtableTest.cs,v
retrieving revision 1.1
diff -u -r1.1 HashtableTest.cs
--- class/corlib/Test/System.Collections/HashtableTest.cs	2001/09/26 09:25:02	1.1
+++ class/corlib/Test/System.Collections/HashtableTest.cs	2001/10/17 17:17:39
@@ -8,43 +8,32 @@
 
 
 
-namespace Testsuite.System.Collections {
+namespace MonoTests.System.Collections {
 
 
 	/// &lt;summary&gt;Hashtable test.&lt;/summary&gt;
-	public class HashtableTest {
+	public class HashtableTest : TestCase {
 		public static ITest Suite {
 			get {
-				TestSuite suite= new TestSuite(&quot;All Hashtable Tests&quot;);
-				suite.AddTest(BasicOperationsTest.Suite);
+				TestSuite suite = new TestSuite();
+
+				suite.AddTest(new TestSuite(typeof(HashtableTest)));
+				suite.AddTest(new TestSuite(typeof(HashtableTest2)));
 				return suite;
 			}
 		}
-	}
-
-
-
 
-	public class BasicOperationsTest : TestCase {
 
 		protected Hashtable ht;
 		private static Random rnd;
 
-		public BasicOperationsTest(String name) : base(name) {}
+		public HashtableTest(String name) : base(name) {}
 
 		protected override void SetUp() {
 			ht=new Hashtable();
 			rnd=new Random();
 		}
 
-		public static ITest Suite {
-			get {
-				return new TestSuite(typeof(BasicOperationsTest));
-			}
-		}
-
-
-
 		private void SetDefaultData() {
 			ht.Clear();
 			ht.Add(&quot;k1&quot;,&quot;another&quot;);
@@ -147,6 +136,183 @@
 			Assert(nVals==ht.Count);
 
 		}
+
+
+	private class  HashtableTest2 : TestCase {
+
+		protected Hashtable ht;
+		private static Random rnd;
+
+		public HashtableTest2 (String name) : base(name)
+		{
+		}
+
+		protected override void SetUp ()
+		{
+			ht=new Hashtable ();
+			rnd=new Random ();
+		}
+
+		public static ITest Suite
+		{
+			get {
+				return new TestSuite (typeof(HashtableTest2));
+			}
+		}
+
+		private void SetDefaultData ()
+		{
+			ht.Clear ();
+			ht.Add (&quot;k1&quot;,&quot;another&quot;);
+			ht.Add (&quot;k2&quot;,&quot;yet&quot;);
+			ht.Add (&quot;k3&quot;,&quot;hashtable&quot;);
+		}
+
+
+		public void TestAddRemoveClear ()
+		{
+			ht.Clear ();
+			Assert (ht.Count == 0);
+
+			SetDefaultData ();
+			Assert (ht.Count == 3);
+
+			bool thrown=false;
+			try {
+				ht.Add (&quot;k2&quot;,&quot;cool&quot;);
+			} catch (ArgumentException) {thrown=true;}
+			Assert(&quot;Must throw ArgumentException!&quot;,thrown);
+
+			ht[&quot;k2&quot;]=&quot;cool&quot;;
+			Assert(ht.Count == 3);
+			Assert(ht[&quot;k2&quot;].Equals(&quot;cool&quot;));
+
+		}
+
+		public void TestCopyTo ()
+		{
+			SetDefaultData ();
+			Object[] entries=new Object[ht.Count];
+			ht.CopyTo (entries,0);
+			Assert(&quot;Not an entry.&quot;,entries[0] is DictionaryEntry);
+		}
+
+
+		public void TestUnderHeavyLoad ()
+		{
+			Console.WriteLine (&quot;Testing &quot;+ht);
+			ht.Clear ();
+
+			int max=100000;
+			String[] cache=new String[max*2];
+			int n=0;
+
+			for (int i=0;i&lt;max;i++) {
+				int id=rnd.Next()&amp;0xFFFF;
+				String key=&quot;&quot;+id+&quot;-key-&quot;+id;
+				String val=&quot;value-&quot;+id;
+				if (ht[key]==null) {
+					ht[key]=val;
+					cache[n]=key;
+					cache[n+max]=val;
+					n++;
+				}
+			}
+
+			Assert(ht.Count==n);
+
+			for (int i=0;i&lt;n;i++) {
+				String key=cache[i];
+				String val=ht[key] as String;
+				String err=&quot;ht[\&quot;&quot;+key+&quot;\&quot;]=\&quot;&quot;+val+
+				      &quot;\&quot;, expected \&quot;&quot;+cache[i+max]+&quot;\&quot;&quot;;
+				Assert(err,val!=null &amp;&amp; val.Equals(cache[i+max]));
+			}
+
+			int r1=(n/3);
+			int r2=r1+(n/5);
+
+			for (int i=r1;i&lt;r2;i++) {
+				ht.Remove(cache[i]);
+			}
+
+
+			for (int i=0;i&lt;n;i++) {
+				if (i&gt;=r1 &amp;&amp; i&lt;r2) {
+					Assert(ht[cache[i]]==null);
+				} else {
+					String key=cache[i];
+					String val=ht[key] as String;
+					String err=&quot;ht[\&quot;&quot;+key+&quot;\&quot;]=\&quot;&quot;+val+
+					      &quot;\&quot;, expected \&quot;&quot;+cache[i+max]+&quot;\&quot;&quot;;
+					Assert(err,val!=null &amp;&amp; val.Equals(cache[i+max]));
+				}
+			}
+
+			ICollection keys=ht.Keys;
+			int nKeys=0;
+			foreach (Object key in keys) {
+				Assert((key as String) != null);
+				nKeys++;
+			}
+			Assert(nKeys==ht.Count);
+
+
+			ICollection vals=ht.Values;
+			int nVals=0;
+			foreach (Object val in vals) {
+				Assert((val as String) != null);
+				nVals++;
+			}
+			Assert(nVals==ht.Count);
+
+		}
+
+		/// &lt;summary&gt;
+		///  Test hashtable with CaseInsensitiveHashCodeProvider
+		///  and CaseInsensitive comparer.
+		/// &lt;/summary&gt;
+		public void TestCaseInsensitive ()
+		{
+			// Not very meaningfull test, just to make
+			// sure that hcp is set properly set.
+			Hashtable ciHashtable = new Hashtable(11,1.0f,CaseInsensitiveHashCodeProvider.Default,CaseInsensitiveComparer.Default);
+			ciHashtable [&quot;key1&quot;] = &quot;value&quot;;
+			ciHashtable [&quot;key2&quot;] = &quot;VALUE&quot;;
+			Assert(ciHashtable [&quot;key1&quot;].Equals (&quot;value&quot;));
+			Assert(ciHashtable [&quot;key2&quot;].Equals (&quot;VALUE&quot;));
+
+			ciHashtable [&quot;KEY1&quot;] = &quot;new_value&quot;;
+			Assert(ciHashtable [&quot;key1&quot;].Equals (&quot;new_value&quot;));
+
+		}
+
+
+		public void TestCopyConstructor ()
+		{
+			SetDefaultData ();
+
+			Hashtable htCopy = new Hashtable (ht);
+
+			Assert(ht.Count == htCopy.Count);
+		}
+
+
+		public void TestEnumerator ()
+		{
+			SetDefaultData ();
+
+			IEnumerator e = ht.GetEnumerator ();
+
+			while (e.MoveNext ()) {}
+
+			Assert (!e.MoveNext ());
+
+		}
+
+
+	}
+
 
 	}
 }
Index: class/corlib/Test/System.Security.Cryptography/AsymmetricAlgorithmTest.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System.Security.Cryptography/AsymmetricAlgorithmTest.cs,v
retrieving revision 1.1
diff -u -r1.1 AsymmetricAlgorithmTest.cs
--- class/corlib/Test/System.Security.Cryptography/AsymmetricAlgorithmTest.cs	2001/10/10 17:26:22	1.1
+++ class/corlib/Test/System.Security.Cryptography/AsymmetricAlgorithmTest.cs	2001/10/17 17:17:39
@@ -11,7 +11,7 @@
 
 using NUnit.Framework;
 
-namespace Testsuite.System.Security.Cryptography {
+namespace MonoTests.System.Security.Cryptography {
 
 	public class AsymmetricAlgorithmTest : TestCase {
 		private AsymmetricAlgorithm _algo;
Index: class/corlib/Test/System.Security.Cryptography/SymmetricAlgorithmTest.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Test/System.Security.Cryptography/SymmetricAlgorithmTest.cs,v
retrieving revision 1.1
diff -u -r1.1 SymmetricAlgorithmTest.cs
--- class/corlib/Test/System.Security.Cryptography/SymmetricAlgorithmTest.cs	2001/10/10 17:26:22	1.1
+++ class/corlib/Test/System.Security.Cryptography/SymmetricAlgorithmTest.cs	2001/10/17 17:17:39
@@ -11,7 +11,7 @@
 
 using NUnit.Framework;
 
-namespace Testsuite.System.Security.Cryptography {
+namespace MonoTests.System.Security.Cryptography {
 
 	public class SymmetricAlgorithmTest : TestCase {
 		private SymmetricAlgorithm _algo;
Index: class/corlib/Windows/Windows.cs
===================================================================
RCS file: /cvs/public/mcs/class/corlib/Windows/Windows.cs,v
retrieving revision 1.1
diff -u -r1.1 Windows.cs
--- class/corlib/Windows/Windows.cs	2001/09/26 09:35:13	1.1
+++ class/corlib/Windows/Windows.cs	2001/10/17 17:17:40
@@ -691,5 +691,51 @@
 			}
 			return false;
 		}
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;acos&quot;) ]
+		public extern static double Acos(double d);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;asin&quot;) ]
+		public extern static double Asin(double d);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;atan&quot;) ]
+		public extern static double Atan(double d);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;atan2&quot;) ]
+		public extern static double Atan2(double y, double x);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;cos&quot;) ]
+		public extern static double Cos(double d);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;cosh&quot;) ]
+		public extern static double Cosh(double d);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;exp&quot;) ]
+		public extern static double Exp(double d);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;log&quot;) ]
+		public extern static double Log(double d);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;log10&quot;) ]
+		public extern static double Log10(double d);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;pow&quot;) ]
+		public extern static double Pow(double x, double y);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;sin&quot;) ]
+		public extern static double Sin(double d);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;sinh&quot;) ]
+		public extern static double Sinh(double d);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;sqrt&quot;) ]
+		public extern static double Sqrt(double d);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;tan&quot;) ]
+		public extern static double Tan(double d);
+
+		[ DllImport(&quot;msvcrt&quot;, EntryPoint=&quot;tanh&quot;) ]
+		public extern static double Tanh(double d);
+
 	}
 }

--=-LDAOCmhx+clhwFFUVI4V--



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001825.html">[Mono-list] Initial draft of document for beginning testers..
</A></li>
	<LI> Next message: <A HREF="001828.html">[Mono-list] Re: Mono test draft
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1827">[ date ]</a>
              <a href="thread.html#1827">[ thread ]</a>
              <a href="subject.html#1827">[ subject ]</a>
              <a href="author.html#1827">[ author ]</a>
         </LI>
       </UL>
</body></html>
