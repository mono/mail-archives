<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] StringBuilder continued
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ndrochak%40gol.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001904.html">
   <LINK REL="Next"  HREF="001911.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] StringBuilder continued
   </H1>
    <B>Nick Drochak
    </B> 
    <A HREF="mailto:ndrochak%40gol.com"
       TITLE="[Mono-list] StringBuilder continued">ndrochak@gol.com
       </A><BR>
    <I>Mon, 29 Oct 2001 10:26:00 +0900</I>
    <P><UL>
        <LI> Previous message: <A HREF="001904.html">[Mono-list] StringBuilder continued
</A></li>
        <LI> Next message: <A HREF="001911.html">[Mono-list] StringBuilder continued
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1910">[ date ]</a>
              <a href="thread.html#1910">[ thread ]</a>
              <a href="subject.html#1910">[ subject ]</a>
              <a href="author.html#1910">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>|<i> &gt; Two related issues about building and tests that I noticed: 1) the build
</I>|<i> &gt; spits out a bunch of warnings about unused fields, etc.  When do we
</I>|<i> &gt; worry about and fix those?
</I>|<i>
</I>|<i> Most of the warnings are in a piece of code that is currently in flux
</I>|<i> (for the System.Reflection.Emit code).  Lets give Paolo a chance to
</I>|<i> finish this and then we can remove the warnings.
</I>
Yes I realized that after I took a look at the sources. However, this will
probably not be the only time this situation will come up. Would it be a
good idea to include a switch to the compiler for &quot;in flux&quot; sources to
suppress those warnings?  Namely the CS0649 and CS0169 warnings?  I don't
know if this is possible to do in the Nant build files selectively for
particular source files.

If so, then this would keep others from reporting to the list that the build
was broken because they would not see the warnings.  When the class is
really done, the class author could remove the suppression.
|<i>
</I>|<i> &gt; 2) A lot, maybe most, of the unit tests
</I>|<i> &gt; fail.  In fact, if I try to run all the tests for corlib_test.dll, my
</I>|<i> &gt; NUnitGUI just ups and disappears after a couple of seconds!  No GPF or
</I>|<i> &gt; anything.  This is most troubling.
</I>|<i>
</I>|<i> Yes, we have noticed this.  We need to begin somewhere to fix those
</I>|<i> problems though.
</I>|<i>
</I>
A good beginning might be to include at the end of the build process a call
to the console version of NUnit for all the test dll's.  I do this manually
now anyway for corlib.  I don't have enough (read &quot;any&quot;) experience with
Nant to make that change myself, however.

|<i> &gt; The whole point and benefit of the unit tests is lost if we just ignore
</I>|<i> &gt; the fact that they are not working.  Or, am I the only one bothered by
</I>|<i> &gt; this?  Maybe my machine is the only one acting this way?
</I>|<i>
</I>|<i> I would love to fix the unit tests, because they are radically
</I>|<i> important.  Indeed, for the compiler we do not commit code unless all
</I>|<i> the tests pass.
</I>|<i>
</I>|<i> We should have a system like this for the class libraries.
</I>
Agreed.  I would suggest we add something to the web site that explains
that.  In the meantime, perhaps we should notify the class maintainer of any
class that currently does not pass unit tests, and see if they can provide a
fix.  If they can not, for whatever reason, or do not respond within a
couple of days then we request that someone else take on the task. Also, as
Joel S. suggests, we should not be adding any new classes or functionality
until all the tests pass. These are, by definition, &quot;known bugs.&quot;

If we cannot commit new classes because the tests aren't passing, maybe this
will be an incentive to get those darn things working.  Although this is a
bit extreme, I believe it's important enough to warrant it.

|<i> &gt; Anyway, attached is the diff of my changes for today (in diff -u format
</I>|<i> &gt; for easy reading :).
</I>|<i>
</I>|<i> Did you get a chance to put those on CVS?
</I>|<i>
</I>
I did indeed commit those.  Over the weekend I added parameter checking to
the StringBuilder constructors and throw appropriate exceptions now, just
like the MS class.  However, I didn't get to check that in yet.  I will do
so when I get home tonight. I was distracted when my 3 year old put a bunch
of melted chocolate all over my keyboard :).

Regards,
Nick D.



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001904.html">[Mono-list] StringBuilder continued
</A></li>
	<LI> Next message: <A HREF="001911.html">[Mono-list] StringBuilder continued
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1910">[ date ]</a>
              <a href="thread.html#1910">[ thread ]</a>
              <a href="subject.html#1910">[ subject ]</a>
              <a href="author.html#1910">[ author ]</a>
         </LI>
       </UL>
</body></html>
