<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Debug.Assert(): usable in current form?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Debug.Assert%28%29%3A%20usable%20in%20current%20form%3F&In-Reply-To=4595041C.30305%40rug.nl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033774.html">
   <LINK REL="Next"  HREF="033776.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Debug.Assert(): usable in current form?</H1>
    <B>Chris Seaton</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Debug.Assert%28%29%3A%20usable%20in%20current%20form%3F&In-Reply-To=4595041C.30305%40rug.nl"
       TITLE="[Mono-list] Debug.Assert(): usable in current form?">chris at chrisseaton.com
       </A><BR>
    <I>Fri Dec 29 15:37:23 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="033774.html">[Mono-list] Debug.Assert(): usable in current form?
</A></li>
        <LI>Next message: <A HREF="033776.html">[Mono-list] Debug.Assert(): usable in current form?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33775">[ date ]</a>
              <a href="thread.html#33775">[ thread ]</a>
              <a href="subject.html#33775">[ subject ]</a>
              <a href="author.html#33775">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I asked the same questions a while ago and was told how to turn on  
console output and so on. Why can't Mono be set up to handle asserts  
by default in exactly the same way as MS .Net? It's obviously  
confusing people.

Chris

On 29 Dec 2006, at 12:03, Paul Melis wrote:

&gt;<i> Hi there,
</I>&gt;<i>
</I>&gt;<i> After two hours of bug hunting in my ray-tracer code with mono 1.2.2 I
</I>&gt;<i> found that System.Diagnostics.Debug.Assert() isn't called without
</I>&gt;<i> compiling sources with #define DEBUG (or corresponding (g)mcs flag).
</I>&gt;<i>
</I>&gt;<i> Fine.
</I>&gt;<i>
</I>&gt;<i> After setting the flag and still not getting any output in a case I  
</I>&gt;<i> was
</I>&gt;<i> sure there should be some -- Debug.Assert(false) -- I managed to  
</I>&gt;<i> find in
</I>&gt;<i> a bug report that mentioned there is no output at all by default!
</I>&gt;<i>
</I>&gt;<i> This is not mentioned in the FAQ, on the wiki or in the documentation.
</I>&gt;<i>
</I>&gt;<i> After adding a ConsoleTraceListener to fix this I finally get  
</I>&gt;<i> output for
</I>&gt;<i> the failed assertions but there are no line number in the output...
</I>&gt;<i>
</I>&gt;<i> SIGH
</I>&gt;<i>
</I>&gt;<i> Is there a way to get failing asserts to print their line numbers  
</I>&gt;<i> to the
</I>&gt;<i> console?? And yes, I am compiling and running with -debug/--debug
</I>&gt;<i>
</I>&gt;<i> Here's a small example program
</I>&gt;<i>
</I>&gt;<i> // t.cs
</I>&gt;<i> #define DEBUG
</I>&gt;<i> #define TRACE
</I>&gt;<i>
</I>&gt;<i> using System;
</I>&gt;<i> using System.Diagnostics;
</I>&gt;<i>
</I>&gt;<i> class Test
</I>&gt;<i> {
</I>&gt;<i>      public static void Main()
</I>&gt;<i>      {
</I>&gt;<i>          Debug.Listeners.Add(new ConsoleTraceListener());
</I>&gt;<i>
</I>&gt;<i>          Debug.Assert(false);
</I>&gt;<i>      }
</I>&gt;<i> };
</I>&gt;<i>
</I>&gt;<i> When compiled with
</I>&gt;<i>
</I>&gt;<i> gmcs -out:t.exe -debug t.cs
</I>&gt;<i>
</I>&gt;<i> and run with
</I>&gt;<i>
</I>&gt;<i> mono --debug t.exe
</I>&gt;<i>
</I>&gt;<i> I get
</I>&gt;<i>
</I>&gt;<i> ---- DEBUG ASSERTION FAILED ----
</I>&gt;<i> ---- Assert Short Message ----
</I>&gt;<i>
</I>&gt;<i>     at System.Diagnostics.TraceImpl.Assert ()
</I>&gt;<i>     at System.Diagnostics.Debug.Assert ()
</I>&gt;<i>     at Test.Main ()
</I>&gt;<i> ---- Assert Long Message ----
</I>&gt;<i>
</I>&gt;<i> I.e. no line numbers. Without those my assert statements are  
</I>&gt;<i> useless as
</I>&gt;<i> there are several within the same method.
</I>&gt;<i>
</I>&gt;<i> Paul
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033774.html">[Mono-list] Debug.Assert(): usable in current form?
</A></li>
	<LI>Next message: <A HREF="033776.html">[Mono-list] Debug.Assert(): usable in current form?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33775">[ date ]</a>
              <a href="thread.html#33775">[ thread ]</a>
              <a href="subject.html#33775">[ subject ]</a>
              <a href="author.html#33775">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
