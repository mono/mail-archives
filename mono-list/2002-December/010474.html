<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Implementing mix-ins...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jonpryor%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="010472.html">
   <LINK REL="Next"  HREF="010475.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Implementing mix-ins...
   </H1>
    <B>Jonathan Pryor
    </B> 
    <A HREF="mailto:jonpryor%40vt.edu"
       TITLE="[Mono-list] Implementing mix-ins...">jonpryor@vt.edu
       </A><BR>
    <I>17 Dec 2002 18:54:33 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="010472.html">[Mono-list] Implementing mix-ins...
</A></li>
        <LI> Next message: <A HREF="010475.html">[Mono-list] ASP.NET Page_Load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10474">[ date ]</a>
              <a href="thread.html#10474">[ thread ]</a>
              <a href="subject.html#10474">[ subject ]</a>
              <a href="author.html#10474">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Attributes are used to associate data with particular elements, but no
&quot;insertion&quot; is performed.

The problem (as far as your request is concerned) is how Attributes are
used.  You can query a type/member/etc. for its Attributes at runtime
(possibly changing behavior as you do so), but the attributes that are
available on an object are not available at compile time.

It would be akin to wanting to know the result of an arbitrary function
call at compile time, but the function can't be executed (and the result
known) until run-time.

In short, Attributes won't work as you would like them to.

At present, there isn't any real way (AFAIK) to provide mix-ins in C#.

That will change in the future, when Generics are provided.  I believe
you can inherit from a template argument, which would allow a form of
mix-ins to be written as template classes, which can be inherited from
(to an arbitrary depth) to provide services.  For example:

	// Mixin class
	class Foo &lt;Base&gt; : Base {
		public string A { /* ... */ }
	}

	// Use the mixin
	class Bar : Foo &lt;Object&gt; {
		public void Test () {Console.WriteLine (A);}
	}

	// Another Mixin
	class Baz &lt;Base&gt; : Base {
		public object B { /* ... */ }
	}

	// Nest the mix-ins, so Qux mixes Foo &amp; Baz.
	class Qux : Baz&lt;Foo&lt;Object&gt; &gt; {
		public void Test () {
			Console.WriteLine (A);
			Console.WriteLine (B);
		}
	}

Generics will provide most of what's needed to &quot;properly&quot; do mix-ins.

 - Jon

On Tue, 2002-12-17 at 17:51, Freeman Pascal wrote:
&gt;<i> I suspect this is way off topic.  If someone could 
</I>&gt;<i> point me to a better forum I would appreciate it.
</I>&gt;<i> 
</I>&gt;<i> I'm interested in implementing true mix-ins in C#.
</I>&gt;<i> I know this can be done using interfaces, but 
</I>&gt;<i> interfaces force the author to provide an 
</I>&gt;<i> implementation for the interface within the class.
</I>&gt;<i> This forces the implementation to be specific to 
</I>&gt;<i> the class implementing the interface and does not
</I>&gt;<i> allow a generic solution.
</I>&gt;<i> 
</I>&gt;<i> A broader solution would be to write the class to
</I>&gt;<i> be derived from an abstract class that provides
</I>&gt;<i> a general solution to implementing the interface,
</I>&gt;<i> but with a single inheritance model this can be
</I>&gt;<i> problematic at times.
</I>&gt;<i> 
</I>&gt;<i> Is it possible to use attributes in C#/VB.NET to
</I>&gt;<i> have code inserted or associated at compile time
</I>&gt;<i> with a class in such a way as it appears to have
</I>&gt;<i> been originally written within the context of the 
</I>&gt;<i> using class?
</I>&gt;<i> 
</I>&gt;<i> module FooBarBaz
</I>&gt;<i> {
</I>&gt;<i>     public class Foo
</I>&gt;<i>     {
</I>&gt;<i>         public String A
</I>&gt;<i>         {
</I>&gt;<i>             get { return _a; }
</I>&gt;<i>             set { _a = value; }
</I>&gt;<i>         }
</I>&gt;<i> 
</I>&gt;<i>         private string _a = &quot;Bilbo&quot;;
</I>&gt;<i>     }
</I>&gt;<i> 
</I>&gt;<i>     [MixIn (Foo)]
</I>&gt;<i>     public class Bar
</I>&gt;<i>     {
</I>&gt;<i>         public void test ()
</I>&gt;<i>         {
</I>&gt;<i>             Console.Out.WriteLine (A);	// prints &quot;Bilbo&quot;
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i> 
</I>&gt;<i>     [MixIn (Foo)]
</I>&gt;<i>     public class Baz
</I>&gt;<i>     {
</I>&gt;<i> 	  public Baz ()
</I>&gt;<i>         {
</I>&gt;<i>             A = &quot;Fordo&quot;;
</I>&gt;<i>         }
</I>&gt;<i> 
</I>&gt;<i>         public void test ()
</I>&gt;<i>         {
</I>&gt;<i>             Console.Out.WriteLine (A);	// prints &quot;Frodo&quot;
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> I hope I have explained enough to get my idea across.
</I>&gt;<i> 
</I>&gt;<i> -Freeman
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="010472.html">[Mono-list] Implementing mix-ins...
</A></li>
	<LI> Next message: <A HREF="010475.html">[Mono-list] ASP.NET Page_Load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10474">[ date ]</a>
              <a href="thread.html#10474">[ thread ]</a>
              <a href="subject.html#10474">[ subject ]</a>
              <a href="author.html#10474">[ author ]</a>
         </LI>
       </UL>
</body></html>
