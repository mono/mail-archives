<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Using mcs in a C# program
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:danmorg%40sc.rr.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="010124.html">
   <LINK REL="Next"  HREF="010133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Using mcs in a C# program
   </H1>
    <B>Daniel Morgan
    </B> 
    <A HREF="mailto:danmorg%40sc.rr.com"
       TITLE="[Mono-list] Using mcs in a C# program">danmorg@sc.rr.com
       </A><BR>
    <I>Sat, 7 Dec 2002 11:11:49 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="010124.html">[Mono-list] Using mcs in a C# program
</A></li>
        <LI> Next message: <A HREF="010133.html">[Mono-list] Using mcs in a C# program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10128">[ date ]</a>
              <a href="thread.html#10128">[ thread ]</a>
              <a href="subject.html#10128">[ subject ]</a>
              <a href="author.html#10128">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here is a test program that tries to load mcs as an object to run mcs and
compile a program.  It compiles successfully, but it fails running.  It
fails because it cannot find the mcs.exe
assembly.  I copied mcs.exe to mcs.dll, and re-ran McsTest.exe on Mono -- it
worked this time.

// TestHello.cs
using System;

namespace HelloTest
{
	class TestHello
	{
		public static void Main(string[] args)
		{
			string[] mcsArgs = new string[] {
						       &quot;TestHello.cs&quot;
						      };
			Mono.CSharp.Driver.Main(mcsArgs);
		}
	}
}

<A HREF="mailto:DanielMorgan@DANPC">DanielMorgan@DANPC</A> ~/mono/20021130/mcs/mcs
$ mcs TestMcs.cs -r mcs.exe
Compilation succeeded

-- with only mcs.exe

<A HREF="mailto:DanielMorgan@DANPC">DanielMorgan@DANPC</A> ~/mono/20021130/mcs/mcs
$ mono TestMcs.exe

** (TestMcs.exe:3252): WARNING **: Could not find assembly mcs
Can not open image TestMcs.exe

<A HREF="mailto:DanielMorgan@DANPC">DanielMorgan@DANPC</A> ~/mono/20021130/mcs/mcs
$ cp mcs.exe mcs.dll

<A HREF="mailto:DanielMorgan@DANPC">DanielMorgan@DANPC</A> ~/mono/20021130/mcs/mcs
$ cp mcs.exe mcs.dll

<A HREF="mailto:DanielMorgan@DANPC">DanielMorgan@DANPC</A> ~/mono/20021130/mcs/mcs
$ mono TestMcs.exe
Compilation succeeded

-----Original Message-----
From: <A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A> [mailto:<A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A>]On
Behalf Of Guenther Roith
Sent: Saturday, December 07, 2002 9:43 AM
To: Daniel Morgan; Mono-List
Subject: Re: [Mono-list] Using mcs in a C# program


Hi!

There is a class for doing this:

Microsoft.CSharp.Compiler.Compile()

look at msdn or in the Microsofct Documentation for details.

I'm not sure if this has been implemented in mono, but it much better, than
invoking mcs or csc directly.
If not, it's worth implementing. I guess it's also used by ASP.NET.


_______________________________________________
Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="010124.html">[Mono-list] Using mcs in a C# program
</A></li>
	<LI> Next message: <A HREF="010133.html">[Mono-list] Using mcs in a C# program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10128">[ date ]</a>
              <a href="thread.html#10128">[ thread ]</a>
              <a href="subject.html#10128">[ subject ]</a>
              <a href="author.html#10128">[ author ]</a>
         </LI>
       </UL>
</body></html>
