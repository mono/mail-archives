<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] replacement for mscoree.dll
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:japj%40xs4all.nl">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="010717.html">
   <LINK REL="Next"  HREF="010719.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] replacement for mscoree.dll
   </H1>
    <B>Jeroen Janssen
    </B> 
    <A HREF="mailto:japj%40xs4all.nl"
       TITLE="[Mono-list] replacement for mscoree.dll">japj@xs4all.nl
       </A><BR>
    <I>Tue, 31 Dec 2002 14:14:20 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="010717.html">[Mono-list] replacement for mscoree.dll
</A></li>
        <LI> Next message: <A HREF="010719.html">[Mono-list] replacement for mscoree.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10718">[ date ]</a>
              <a href="thread.html#10718">[ thread ]</a>
              <a href="subject.html#10718">[ subject ]</a>
              <a href="author.html#10718">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Guenther Roith wrote:

&gt;&gt;<i>Now a possible scenario would be to have a mono + a mscorwks.dll
</I>&gt;&gt;<i>installed in &quot;C:\WINNT\Microsoft.NET\Framework\&quot;&lt;SOME_VERSION&gt;\.
</I>&gt;&gt;<i>Where SOME_VERSION is a version that is not being used by Microsoft
</I>&gt;&gt;<i>(else we have a conflict with an installed .NET Framework).
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>I knew about this. Somewhere in the registry the directory for this specail
</I>&gt;<i>version can be set (instead of &quot;C:\WINNT\Microsoft.NET\Framework\&quot; ).
</I>&gt;<i>The problem here is, that this solution requires the Microsoft mscoree.dll
</I>&gt;<i>to be installed.
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>Next step would be to have mcs generate executables that don't need a
</I>&gt;&gt;<i>.config file to execute through this mechanism (the resulting exe should
</I>&gt;&gt;<i>probably contain some kind of reference to a 'SOME_VERSION' runtime, so
</I>&gt;&gt;<i>mscoree will select the correct runtime: mono).
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>That is IMO possible, however I like config-file better, because that way we
</I>&gt;<i>can also execute MS compiled apps with mono.
</I>&gt;<i>
</I>&gt;<i>Maybe we endup, distributing a config file _and_ mscoree.dll.
</I>&gt;<i>
</I>
For people that also have the MS .NET Framework installed we can use our 
own mscorwks.dll (+maybe a .config file).

For people that don't have the MS .NET Framework installed (and thus no 
mscoree.dll) we provide one ourselfs. Problem with always distributing a 
mscoree.dll with your application is that people wanting to run it with 
MS .NET will have to remove it before it's going to work.

I think we should do the following:
* write a mscorwks.dll &amp; installation that puts it in the correct 
directory (and possibly registry). This mscorwks.dll should locate the 
mono environment and use it to execute the application
* write a mscoree.dll &amp; installation (in one of the system directories) 
that locates the mono base directory and hands execution to mscorwks.dll

This mscoree.dll could possibly be shared by other .NET projects 
(DotGNU, etc). However, the mscorwks.dll we provide is probably specific 
to mono.

Now, only way you need a .config file is if both MS .NET and mono are 
installed and we cannot get the 'real' mscoree.dll to select the mono 
runtime (by somehow referencing a mscorlib version in the .NET executable).
---
Jeroen



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="010717.html">[Mono-list] replacement for mscoree.dll
</A></li>
	<LI> Next message: <A HREF="010719.html">[Mono-list] replacement for mscoree.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10718">[ date ]</a>
              <a href="thread.html#10718">[ thread ]</a>
              <a href="subject.html#10718">[ subject ]</a>
              <a href="author.html#10718">[ author ]</a>
         </LI>
       </UL>
</body></html>
