<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Advice on optimisation in xml deserialisation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Advice%20on%20optimisation%20in%20xml%20deserialisation&In-Reply-To=117799f00801091548j616a3687h702b1d0c12454b47%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037514.html">
   <LINK REL="Next"  HREF="037516.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Advice on optimisation in xml deserialisation</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Advice%20on%20optimisation%20in%20xml%20deserialisation&In-Reply-To=117799f00801091548j616a3687h702b1d0c12454b47%40mail.gmail.com"
       TITLE="[Mono-list] Advice on optimisation in xml deserialisation">robertj at gmx.net
       </A><BR>
    <I>Wed Jan  9 19:19:24 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="037514.html">[Mono-list] Advice on optimisation in xml deserialisation
</A></li>
        <LI>Next message: <A HREF="037516.html">[Mono-list] Advice on optimisation in xml deserialisation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37515">[ date ]</a>
              <a href="thread.html#37515">[ thread ]</a>
              <a href="subject.html#37515">[ subject ]</a>
              <a href="author.html#37515">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alan McGovern wrote:
&gt;<i> There was a thread a week or two ago called 'Speed difference Windows
</I>&gt;<i> - Linux' which noted there was a big difference in performance between
</I>&gt;<i> .NET and mono. I did a brief bit of profiling and came up with this
</I>&gt;<i> patch which improves performance ~30% for the testcase which was
</I>&gt;<i> attached in the email. This reduces runtime memory usage by about 10MB
</I>&gt;<i> (80MB -&gt; 70MB) and decreases processing time by 30% (3.4s -&gt; 2.6s).
</I>&gt;<i> 
</I>&gt;<i> Anyone have any ideas on how to tidy this up to make it neater? Also,
</I>&gt;<i> would this optimisation be too specific, or can it be generalised
</I>&gt;<i> somewhere higher up in the stack.
</I>
I don't think the patch is correct. It is assuming that every
&quot;Add&quot; method of a collection/list is compatible with
AddDelegate(object).

If the test cases are still working, it could be that
CreateDelegate is buggy: MSDN states:

&quot;A parameter of a delegate is compatible with the corresponding 
parameter of a method if the type of the delegate parameter is more 
restrictive than the type of the method parameter, because this 
guarantees that an argument passed to the delegate can be passed safely 
to the method.&quot;


Robert

</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037514.html">[Mono-list] Advice on optimisation in xml deserialisation
</A></li>
	<LI>Next message: <A HREF="037516.html">[Mono-list] Advice on optimisation in xml deserialisation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37515">[ date ]</a>
              <a href="thread.html#37515">[ thread ]</a>
              <a href="subject.html#37515">[ subject ]</a>
              <a href="author.html#37515">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
