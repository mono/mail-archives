<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] WCF service using JSON over Ajax possible on mono?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20WCF%20service%20using%20JSON%20over%20Ajax%20possible%20on%20mono%3F&In-Reply-To=%3CB3DC8CD0EA2D394B9ADDA7135510869A015A8256%40scaserver.sca-corp.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051228.html">
   <LINK REL="Next"  HREF="051230.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] WCF service using JSON over Ajax possible on mono?</H1>
    <B>Jeff Bonhag</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20WCF%20service%20using%20JSON%20over%20Ajax%20possible%20on%20mono%3F&In-Reply-To=%3CB3DC8CD0EA2D394B9ADDA7135510869A015A8256%40scaserver.sca-corp.local%3E"
       TITLE="[Mono-list] WCF service using JSON over Ajax possible on mono?">jbonhag at SCA-CORP.COM
       </A><BR>
    <I>Tue Sep 23 16:56:27 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="051228.html">[Mono-list] WCF service using JSON over Ajax possible on mono?
</A></li>
        <LI>Next message: <A HREF="051230.html">[Mono-list] WCF service using JSON over Ajax possible on mono?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51229">[ date ]</a>
              <a href="thread.html#51229">[ thread ]</a>
              <a href="subject.html#51229">[ subject ]</a>
              <a href="author.html#51229">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Olli,

If you just want to suppress the error, you can add this to your Web.config under the 
existing service endpoint declaration:

    &lt;endpoint address=&quot;mex&quot; binding=&quot;mexHttpBinding&quot; name=&quot;mex&quot; contract=&quot;IMetadataExchange&quot; /&gt;

Note that this still won't generate a service description (at least it didn't for me).

Good luck.

Jeff Bonhag




-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A> on behalf of Jeff Bonhag
Sent: Tue 9/23/2014 12:24 PM
To: Olli Heiskanen; Agust&#237;n Gim&#233;nez
Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
Subject: Re: [Mono-list] WCF service using JSON over Ajax possible on mono?
 
Hi Olli,

You might not necessarily need a WSDL.  I don't think they're usually used
with JSON/REST services (although WADLs exist to do a similar thing).

The WCF status page indicates that endpoint export is not implemented yet,
which is what that error message seems to confirm:

    <A HREF="http://www.mono-project.com/docs/web/wcf/">http://www.mono-project.com/docs/web/wcf/</A>

What happens if you add a service method with arguments after the service
name, like:

    <A HREF="http://127.0.0.1:8080/Service1.svc/SayHello?name=Olli">http://127.0.0.1:8080/Service1.svc/SayHello?name=Olli</A>

Cheers,

Jeff Bonhag
Software Consulting Associates



-----Original Message-----
From: Olli Heiskanen [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">ohjelmistoarkkitehti at gmail.com</A>]
Sent: Tue 9/23/2014 12:00 PM
To: Agust&#237;n Gim&#233;nez
Cc: Jeff Bonhag; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
Subject: Re: [Mono-list] WCF service using JSON over Ajax possible on mono?
 
Hi Agustin,

Thanks for the suggestion, in other circumstances I might try just that,
but I must use a wcf service without other stacks/frameworks etc. In any
case, there is something wrong with my xsp/mono/mod_mono installation so I
might get problems later with any code I'd run on this environment. I do
appreciate your input though, and will probably try servicestack in other
projects.

According to Jeff's example a simple wcf service should work on mono
environment, and it is configured correctly, yet I'm getting the
NotImplementedException just by trying to access the service. Any help in
locating and fixing the problem is most welcome!

cheers,
Olli




2014-09-23 14:34 GMT+03:00 Agust&#237;n Gim&#233;nez &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">geniwab at gmail.com</A>&gt;:

&gt;<i> Hi Olli.
</I>&gt;<i>
</I>&gt;<i> This is not a solution but a suggestion.
</I>&gt;<i>
</I>&gt;<i> If your needs are a service which communicates through http with json
</I>&gt;<i> encoding, try servicestack, its portable and works with mono in all
</I>&gt;<i> architectures and creates very robust REST services.
</I>&gt;<i>
</I>&gt;<i> Cheers.
</I>&gt;<i>
</I>&gt;<i> Enviado desde mi iPad
</I>&gt;<i>
</I>&gt;<i> El 23/09/2014, a las 11:07, Olli Heiskanen &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">ohjelmistoarkkitehti at gmail.com</A>&gt;
</I>&gt;<i> escribi&#243;:
</I>&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I found that one person has had a similar issue than what I'm having,
</I>&gt;<i> although this does not tell how to fix the situation.
</I>&gt;<i>
</I>&gt;<i> Here's a link to the question:
</I>&gt;<i> <A HREF="http://stackoverflow.com/questions/20882497/issues-with-running-wcf-services-on-debian-using-mono">http://stackoverflow.com/questions/20882497/issues-with-running-wcf-services-on-debian-using-mono</A>
</I>&gt;<i>
</I>&gt;<i> Problem seems to be that xsp wsdl exporter has some parts not implemented.
</I>&gt;<i> Apparently I have something broken in my installations but I don't know how
</I>&gt;<i> to fix it. I tried re-installing xsp (from git master) but that had no
</I>&gt;<i> effect, I still have that same error.
</I>&gt;<i>
</I>&gt;<i> Is there any way xsp can be installed so this error could be avoided? Does
</I>&gt;<i> the compiler used to compile mono or xsp matter here?
</I>&gt;<i>
</I>&gt;<i> I hope you guys can help me solve this error, I really need to get mono
</I>&gt;<i> working.
</I>&gt;<i>
</I>&gt;<i> cheers,
</I>&gt;<i> Olli
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2014-09-22 11:13 GMT+03:00 Olli Heiskanen &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">ohjelmistoarkkitehti at gmail.com</A>&gt;
</I>&gt;<i> :
</I>&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks a million Jeff, your example and comments are extremely helpful!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think there's something wrong in my setup, as my own project is similar
</I>&gt;&gt;<i> to the one you provided. When I made sure my Web.config matches Jeff's
</I>&gt;&gt;<i> example, and eploy my wcf service on my CentOS 6.5 server, I get the
</I>&gt;&gt;<i> following error while accessing the .svc file:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Failed to export endpoint 'WebHttpBinding_IDataService': wsdl exporter
</I>&gt;&gt;<i> 'System.ServiceModel.Channels.WebMessageEncodingBindingElement' threw an
</I>&gt;&gt;<i> exception: System.NotImplementedException: The requested feature is not
</I>&gt;&gt;<i> implemented. at
</I>&gt;&gt;<i> System.ServiceModel.Channels.WebMessageEncodingBindingElement.System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint
</I>&gt;&gt;<i> (System.ServiceModel.Description.WsdlExporter exporter,
</I>&gt;&gt;<i> System.ServiceModel.Description.WsdlEndpointConversionContext context)
</I>&gt;&gt;<i> [0x00000] in &lt;filename unknown&gt;:0 at
</I>&gt;&gt;<i> System.ServiceModel.Description.WsdlExporter.ExportEndpoint_Internal
</I>&gt;&gt;<i> (System.ServiceModel.Description.ServiceEndpoint endpoint) [0x00000] in
</I>&gt;&gt;<i> &lt;filename unknown&gt;:0
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My mono version is  3.10.1 so it seems strange that the
</I>&gt;&gt;<i> WebMessageEncodingBindingElement would not be implemented. In fact, I
</I>&gt;&gt;<i> compiled mono, mod_mono and xsp right from github masters only a few days
</I>&gt;&gt;<i> ago, which leads me to wonder if there's something wrong somewhere else.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Any idea how I could locate the problem?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> cheers,
</I>&gt;&gt;<i> Olli
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2014-09-20 19:00 GMT+03:00 Jeff Bonhag &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jbonhag at sca-corp.com</A>&gt;:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  Hi Olli,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The biggest problem I had was getting the Web.config set up properly.
</I>&gt;&gt;&gt;<i> For each service you need to define an endpoint, a service behavior, and
</I>&gt;&gt;&gt;<i> an endpoint behavior -- .NET does a lot of this automatically so it can
</I>&gt;&gt;&gt;<i> be very confusing why your service doesn't work.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Here's a trivial WCF service that runs on Mono:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>     <A HREF="https://github.com/jeffbonhag/wcfservice1">https://github.com/jeffbonhag/wcfservice1</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> WCF works well!  You can perform AJAX requests, you can deserialize a
</I>&gt;&gt;&gt;<i> request to an object, and serialize a POCO by specifying it as the
</I>&gt;&gt;&gt;<i> return type of your WCF method -- it's all good.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> One issue I had is that UriTemplates of the form:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>     &quot;weather/{state}/{city}&quot;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> don't seem to work -- at least on Ubuntu, Mono 3.2.8.  Perhaps there's
</I>&gt;&gt;&gt;<i> additional behavior that needs to be specified.  I'll revisit the issue
</I>&gt;&gt;&gt;<i> someday.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Good luck!  I've struggled with this for some time so I'm happy to
</I>&gt;&gt;&gt;<i> help any way I can.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Cheers,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Jeff Bonhag
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A> on behalf of Olli Heiskanen
</I>&gt;&gt;&gt;<i> Sent: Sat 9/20/2014 7:16 AM
</I>&gt;&gt;&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;<i> Subject: [Mono-list]  WCF service using JSON over Ajax possible on mono?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hello list,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I've been working on a wcf service to be run on mono on a CentOS 6.5
</I>&gt;&gt;&gt;<i> platform. Can the current mono support a wcf service that communicates
</I>&gt;&gt;&gt;<i> JSON
</I>&gt;&gt;&gt;<i> over Ajax calls from a html5 web client? I can't seem to find any
</I>&gt;&gt;&gt;<i> examples
</I>&gt;&gt;&gt;<i> of someone being able to build such a system on a mono environment. I
</I>&gt;&gt;&gt;<i> wonder if I need to add something extra compared to the plentiful online
</I>&gt;&gt;&gt;<i> examples that are written for Windows platform?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Cheers,
</I>&gt;&gt;&gt;<i> Olli
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20140923/48561d61/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20140923/48561d61/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051228.html">[Mono-list] WCF service using JSON over Ajax possible on mono?
</A></li>
	<LI>Next message: <A HREF="051230.html">[Mono-list] WCF service using JSON over Ajax possible on mono?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51229">[ date ]</a>
              <a href="thread.html#51229">[ thread ]</a>
              <a href="subject.html#51229">[ subject ]</a>
              <a href="author.html#51229">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
