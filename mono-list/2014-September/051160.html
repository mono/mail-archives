<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Does Mono Support the development of plugin based	programs?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Does%20Mono%20Support%20the%20development%20of%20plugin%20based%0A%09programs%3F&In-Reply-To=%3CCALu5pPH8CP2qxVU-bh5hRPyKeC247fQMyYBn7M6vGSaPm95mvQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051159.html">
   <LINK REL="Next"  HREF="051168.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Does Mono Support the development of plugin based	programs?</H1>
    <B>Luke Pulverenti</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Does%20Mono%20Support%20the%20development%20of%20plugin%20based%0A%09programs%3F&In-Reply-To=%3CCALu5pPH8CP2qxVU-bh5hRPyKeC247fQMyYBn7M6vGSaPm95mvQ%40mail.gmail.com%3E"
       TITLE="[Mono-list] Does Mono Support the development of plugin based	programs?">luke.pulverenti at gmail.com
       </A><BR>
    <I>Fri Sep 12 06:33:14 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="051159.html">[Mono-list] Does Mono Support the development of plugin based programs?
</A></li>
        <LI>Next message: <A HREF="051168.html">[Mono-list] Does Mono Support the development of plugin based	programs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51160">[ date ]</a>
              <a href="thread.html#51160">[ thread ]</a>
              <a href="subject.html#51160">[ subject ]</a>
              <a href="author.html#51160">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I would not suggest MEF even if it works with mono because it will force
your plugin developers to have a hard reference to MEF itself, which might
not be optimal if you'd like to have the ability to have plugins as PCL's
(portable class libraries).

Take a look at what we're doing with Media Browser:

<A HREF="https://github.com/MediaBrowser/MediaBrowser">https://github.com/MediaBrowser/MediaBrowser</A>

We have a plugins directory where we find and load assemblies. Then we have
a library of interfaces that plugins can implement. For example, here's the
interface for a video channel, called IChannel:

<A HREF="https://github.com/MediaBrowser/MediaBrowser/blob/master/MediaBrowser.Controller/Channels/IChannel.cs">https://github.com/MediaBrowser/MediaBrowser/blob/master/MediaBrowser.Controller/Channels/IChannel.cs</A>

And here is an implementation from the Vimeo plugin, contained in another
repository:

<A HREF="https://github.com/MediaBrowser/MediaBrowser.Channels/blob/master/MediaBrowser.Plugins.Vimeo/VimeoChannel.cs">https://github.com/MediaBrowser/MediaBrowser.Channels/blob/master/MediaBrowser.Plugins.Vimeo/VimeoChannel.cs</A>

The only thing a plugin has to do is implement the interfaces it intends to
support. No manual wireup. No dependencies on MEF or any other similar
third party library. No custom attributes required. Then once we have the
assemblies loaded into memory, we use SimpleInjector to find and
instantiate the instances:

<A HREF="https://github.com/MediaBrowser/MediaBrowser/blob/master/MediaBrowser.ServerApplication/ApplicationHost.cs#L737">https://github.com/MediaBrowser/MediaBrowser/blob/master/MediaBrowser.ServerApplication/ApplicationHost.cs#L737</A>

This also gives us dependency injection via constructor parameters. For
example, our core library has an ILogger interface which the Vimeo channel
can utilize just by adding it to it's constructor. The core interfaces are
then distributed via nuget packages that contain only the interfaces and
don't expose implementations or core dependencies.

I'm pretty happy with what we've done but if anyone would like to comment
with possible improvements I'd love to hear them.


On Fri, Sep 12, 2014 at 1:46 AM, Wayne Douglas &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">wayne at prjatk.com</A>&gt; wrote:

&gt;<i> Does MEF run on mono?
</I>&gt;<i> &#8212;
</I>&gt;<i> Sent from Mailbox &lt;<A HREF="https://www.dropbox.com/mailbox">https://www.dropbox.com/mailbox</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Fri, Sep 12, 2014 at 6:15 AM, Miljenko Cvjetko &lt;
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mcvjetko at holisticware.net</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 20140912 05:25 , Josiah wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm looking at options for cross-platform development and I was wondering if
</I>&gt;&gt;<i> Mono supports the ability to create a program that can load plugins.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  Mono supports MEF since version 2.8, besides it has Mono.Addin
</I>&gt;&gt;<i> implemetation equivalent to MAF.
</I>&gt;&gt;<i> For MEF I think you need to apply a few patches in  order to get it to
</I>&gt;&gt;<i> work on case sensitive filesystems, but it works.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://stackoverflow.com/questions/3909383/mono-and-mef-are-they-compatible">http://stackoverflow.com/questions/3909383/mono-and-mef-are-they-compatible</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://stackoverflow.com/questions/3685659/programming-with-maf-and-mef-on-mono">http://stackoverflow.com/questions/3685659/programming-with-maf-and-mef-on-mono</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://stackoverflow.com/questions/1592779/mef-vs-mono-addin">http://stackoverflow.com/questions/1592779/mef-vs-mono-addin</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://tirania.org/blog/archive/2008/Sep-07.html">http://tirania.org/blog/archive/2008/Sep-07.html</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> HTH
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> mel
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Any help would be appreciated.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Does-Mono-Support-the-development-of-plugin-based-programs-tp4663822.html">http://mono.1490590.n4.nabble.com/Does-Mono-Support-the-development-of-plugin-based-programs-tp4663822.html</A>
</I>&gt;&gt;<i> Sent from the Mono - General mailing list archive at Nabble.com.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.comhttp</A>://lists.ximian.com/mailman/listinfo/mono-list
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Luke Pulverenti
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20140912/71009b93/attachment-0001.html">http://lists.ximian.com/pipermail/mono-list/attachments/20140912/71009b93/attachment-0001.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051159.html">[Mono-list] Does Mono Support the development of plugin based programs?
</A></li>
	<LI>Next message: <A HREF="051168.html">[Mono-list] Does Mono Support the development of plugin based	programs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51160">[ date ]</a>
              <a href="thread.html#51160">[ thread ]</a>
              <a href="subject.html#51160">[ subject ]</a>
              <a href="author.html#51160">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
