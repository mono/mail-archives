<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mono_runtime_invoke crash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20mono_runtime_invoke%20crash&In-Reply-To=%3C1410719920594-4663866.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051181.html">
   <LINK REL="Next"  HREF="051197.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mono_runtime_invoke crash</H1>
    <B>tbrooks</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20mono_runtime_invoke%20crash&In-Reply-To=%3C1410719920594-4663866.post%40n4.nabble.com%3E"
       TITLE="[Mono-list] mono_runtime_invoke crash">tom at taitale.com
       </A><BR>
    <I>Sun Sep 14 18:38:40 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="051181.html">[Mono-list] mono_runtime_invoke crash
</A></li>
        <LI>Next message: <A HREF="051197.html">[Mono-list] mono_runtime_invoke crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51182">[ date ]</a>
              <a href="thread.html#51182">[ thread ]</a>
              <a href="subject.html#51182">[ subject ]</a>
              <a href="author.html#51182">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robert Jordan wrote
&gt;<i> You did not show us how you're initializing the runtime.
</I>
Much of this code was wrapped in a facade mechanism, here is the
initialization code (directories are the build path + &quot;\\lib&quot; and &quot;\\etc&quot;)

mono_config_parse( NULL ); // Use the standard configuration...
mono_set_dirs( GetLibDirectory().c_str(), GetConfigDirectory().c_str() ); //
Setup the default directories for mono use here for now the directories of
your Mono installation
m_Domain = mono_jit_init_version( m_AppName.c_str(), &quot;v4.0.30319&quot; ); // Init
the JIT Engine
m_Assembly = mono_domain_assembly_open( m_Domain,
m_DomainAssemblyName.c_str() ); // Open the Assembly with your scripts
m_Image = mono_assembly_get_image( m_Assembly ); // Get the Image



Robert Jordan wrote
&gt;<i> Under Windows you could also end up with compiling your app
</I>&gt;<i> for the Windows subsystem which doesn't have a console.
</I>
There is an active console, in this case I can sometimes see output. Even
without recompiling, sometimes it crashes and sometimes it doesn't. It seems
to changed based on the execution, regardless of how many times it's called
in that process instance.

I did some more testing and now I think it's tied to the ToString()
function. If I remove the Console.Writeline and add:

string test = ID.ToString();

I get the same random crashing behavior.



--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/mono-runtime-invoke-crash-tp4663860p4663866.html">http://mono.1490590.n4.nabble.com/mono-runtime-invoke-crash-tp4663860p4663866.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051181.html">[Mono-list] mono_runtime_invoke crash
</A></li>
	<LI>Next message: <A HREF="051197.html">[Mono-list] mono_runtime_invoke crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51182">[ date ]</a>
              <a href="thread.html#51182">[ thread ]</a>
              <a href="subject.html#51182">[ subject ]</a>
              <a href="author.html#51182">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
