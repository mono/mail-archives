<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] WCF service using JSON over Ajax possible on mono?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20WCF%20service%20using%20JSON%20over%20Ajax%20possible%20on%20mono%3F&In-Reply-To=%3CCALu7wuYShoxLEnGOhdn_OwjVJXg-8GRQnZ%3D5%2B4k5Mm-CjVN4BA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051229.html">
   <LINK REL="Next"  HREF="051211.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] WCF service using JSON over Ajax possible on mono?</H1>
    <B>Olli Heiskanen</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20WCF%20service%20using%20JSON%20over%20Ajax%20possible%20on%20mono%3F&In-Reply-To=%3CCALu7wuYShoxLEnGOhdn_OwjVJXg-8GRQnZ%3D5%2B4k5Mm-CjVN4BA%40mail.gmail.com%3E"
       TITLE="[Mono-list] WCF service using JSON over Ajax possible on mono?">ohjelmistoarkkitehti at gmail.com
       </A><BR>
    <I>Tue Sep 23 17:06:49 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="051229.html">[Mono-list] WCF service using JSON over Ajax possible on mono?
</A></li>
        <LI>Next message: <A HREF="051211.html">[Mono-list] Error Installing 3.8.0 on CentoOS 6.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51230">[ date ]</a>
              <a href="thread.html#51230">[ thread ]</a>
              <a href="subject.html#51230">[ subject ]</a>
              <a href="author.html#51230">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Thanks Jeff, that actually starts to make sense. Wow, I need to feel a bit
stupid for a while, although I was confused about the fact that I'm getting
exceptions on a deployed service. So looks like that error is kinda
supposed to happen, at least until mono supports that. Strangely I've had
some tests before where I didn't get those, but there could be a zillion
reasons for that.

After a quick test I do get some output to a called method and no errors in
logs, just need to make sure the method implementation returns proper data,
which is off the mono scope.

So my mono installation works fine, which is awesome. I think I came across
every possible error while trying to compile mono, mod_mono and xsp, but I
think I got it right!

Thanks Jeff for your comments, they've been extremely helpful and
enlightening.

cheers,
Olli


2014-09-23 19:24 GMT+03:00 Jeff Bonhag &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jbonhag at sca-corp.com</A>&gt;:

&gt;<i>  Hi Olli,
</I>&gt;<i>
</I>&gt;<i> You might not necessarily need a WSDL.  I don't think they're usually used
</I>&gt;<i> with JSON/REST services (although WADLs exist to do a similar thing).
</I>&gt;<i>
</I>&gt;<i> The WCF status page indicates that endpoint export is not implemented yet,
</I>&gt;<i> which is what that error message seems to confirm:
</I>&gt;<i>
</I>&gt;<i>     <A HREF="http://www.mono-project.com/docs/web/wcf/">http://www.mono-project.com/docs/web/wcf/</A>
</I>&gt;<i>
</I>&gt;<i> What happens if you add a service method with arguments after the service
</I>&gt;<i> name, like:
</I>&gt;<i>
</I>&gt;<i>     <A HREF="http://127.0.0.1:8080/Service1.svc/SayHello?name=Olli">http://127.0.0.1:8080/Service1.svc/SayHello?name=Olli</A>
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> Jeff Bonhag
</I>&gt;<i> Software Consulting Associates
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Olli Heiskanen [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">ohjelmistoarkkitehti at gmail.com</A>
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">ohjelmistoarkkitehti at gmail.com</A>&gt;]
</I>&gt;<i> Sent: Tue 9/23/2014 12:00 PM
</I>&gt;<i> To: Agust&#237;n Gim&#233;nez
</I>&gt;<i> Cc: Jeff Bonhag; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
</I>&gt;<i> Subject: Re: [Mono-list] WCF service using JSON over Ajax possible on mono?
</I>&gt;<i>
</I>&gt;<i> Hi Agustin,
</I>&gt;<i>
</I>&gt;<i> Thanks for the suggestion, in other circumstances I might try just that,
</I>&gt;<i> but I must use a wcf service without other stacks/frameworks etc. In any
</I>&gt;<i> case, there is something wrong with my xsp/mono/mod_mono installation so I
</I>&gt;<i> might get problems later with any code I'd run on this environment. I do
</I>&gt;<i> appreciate your input though, and will probably try servicestack in other
</I>&gt;<i> projects.
</I>&gt;<i>
</I>&gt;<i> According to Jeff's example a simple wcf service should work on mono
</I>&gt;<i> environment, and it is configured correctly, yet I'm getting the
</I>&gt;<i> NotImplementedException just by trying to access the service. Any help in
</I>&gt;<i> locating and fixing the problem is most welcome!
</I>&gt;<i>
</I>&gt;<i> cheers,
</I>&gt;<i> Olli
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2014-09-23 14:34 GMT+03:00 Agust&#237;n Gim&#233;nez &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">geniwab at gmail.com</A>&gt;:
</I>&gt;<i>
</I>&gt;<i> &gt; Hi Olli.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This is not a solution but a suggestion.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If your needs are a service which communicates through http with json
</I>&gt;<i> &gt; encoding, try servicestack, its portable and works with mono in all
</I>&gt;<i> &gt; architectures and creates very robust REST services.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Cheers.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Enviado desde mi iPad
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; El 23/09/2014, a las 11:07, Olli Heiskanen &lt;
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">ohjelmistoarkkitehti at gmail.com</A>&gt;
</I>&gt;<i> &gt; escribi&#243;:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I found that one person has had a similar issue than what I'm having,
</I>&gt;<i> &gt; although this does not tell how to fix the situation.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Here's a link to the question:
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="http://stackoverflow.com/questions/20882497/issues-with-running-wcf-services-on-debian-using-mono">http://stackoverflow.com/questions/20882497/issues-with-running-wcf-services-on-debian-using-mono</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Problem seems to be that xsp wsdl exporter has some parts not
</I>&gt;<i> implemented.
</I>&gt;<i> &gt; Apparently I have something broken in my installations but I don't know
</I>&gt;<i> how
</I>&gt;<i> &gt; to fix it. I tried re-installing xsp (from git master) but that had no
</I>&gt;<i> &gt; effect, I still have that same error.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is there any way xsp can be installed so this error could be avoided?
</I>&gt;<i> Does
</I>&gt;<i> &gt; the compiler used to compile mono or xsp matter here?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I hope you guys can help me solve this error, I really need to get mono
</I>&gt;<i> &gt; working.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; cheers,
</I>&gt;<i> &gt; Olli
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2014-09-22 11:13 GMT+03:00 Olli Heiskanen &lt;
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">ohjelmistoarkkitehti at gmail.com</A>&gt;
</I>&gt;<i> &gt; :
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; Hi,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Thanks a million Jeff, your example and comments are extremely helpful!
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I think there's something wrong in my setup, as my own project is
</I>&gt;<i> similar
</I>&gt;<i> &gt;&gt; to the one you provided. When I made sure my Web.config matches Jeff's
</I>&gt;<i> &gt;&gt; example, and eploy my wcf service on my CentOS 6.5 server, I get the
</I>&gt;<i> &gt;&gt; following error while accessing the .svc file:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Failed to export endpoint 'WebHttpBinding_IDataService': wsdl exporter
</I>&gt;<i> &gt;&gt; 'System.ServiceModel.Channels.WebMessageEncodingBindingElement' threw an
</I>&gt;<i> &gt;&gt; exception: System.NotImplementedException: The requested feature is not
</I>&gt;<i> &gt;&gt; implemented. at
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> System.ServiceModel.Channels.WebMessageEncodingBindingElement.System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint
</I>&gt;<i> &gt;&gt; (System.ServiceModel.Description.WsdlExporter exporter,
</I>&gt;<i> &gt;&gt; System.ServiceModel.Description.WsdlEndpointConversionContext context)
</I>&gt;<i> &gt;&gt; [0x00000] in &lt;filename unknown&gt;:0 at
</I>&gt;<i> &gt;&gt; System.ServiceModel.Description.WsdlExporter.ExportEndpoint_Internal
</I>&gt;<i> &gt;&gt; (System.ServiceModel.Description.ServiceEndpoint endpoint) [0x00000] in
</I>&gt;<i> &gt;&gt; &lt;filename unknown&gt;:0
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; My mono version is  3.10.1 so it seems strange that the
</I>&gt;<i> &gt;&gt; WebMessageEncodingBindingElement would not be implemented. In fact, I
</I>&gt;<i> &gt;&gt; compiled mono, mod_mono and xsp right from github masters only a few
</I>&gt;<i> days
</I>&gt;<i> &gt;&gt; ago, which leads me to wonder if there's something wrong somewhere else.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Any idea how I could locate the problem?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; cheers,
</I>&gt;<i> &gt;&gt; Olli
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 2014-09-20 19:00 GMT+03:00 Jeff Bonhag &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jbonhag at sca-corp.com</A>&gt;:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;  Hi Olli,
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; The biggest problem I had was getting the Web.config set up properly.
</I>&gt;<i> &gt;&gt;&gt; For each service you need to define an endpoint, a service behavior,
</I>&gt;<i> and
</I>&gt;<i> &gt;&gt;&gt; an endpoint behavior -- .NET does a lot of this automatically so it can
</I>&gt;<i> &gt;&gt;&gt; be very confusing why your service doesn't work.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Here's a trivial WCF service that runs on Mono:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;     <A HREF="https://github.com/jeffbonhag/wcfservice1">https://github.com/jeffbonhag/wcfservice1</A>
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; WCF works well!  You can perform AJAX requests, you can deserialize a
</I>&gt;<i> &gt;&gt;&gt; request to an object, and serialize a POCO by specifying it as the
</I>&gt;<i> &gt;&gt;&gt; return type of your WCF method -- it's all good.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; One issue I had is that UriTemplates of the form:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;     &quot;weather/{state}/{city}&quot;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; don't seem to work -- at least on Ubuntu, Mono 3.2.8.  Perhaps there's
</I>&gt;<i> &gt;&gt;&gt; additional behavior that needs to be specified.  I'll revisit the issue
</I>&gt;<i> &gt;&gt;&gt; someday.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Good luck!  I've struggled with this for some time so I'm happy to
</I>&gt;<i> &gt;&gt;&gt; help any way I can.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Cheers,
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Jeff Bonhag
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; -----Original Message-----
</I>&gt;<i> &gt;&gt;&gt; From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A> on behalf of Olli Heiskanen
</I>&gt;<i> &gt;&gt;&gt; Sent: Sat 9/20/2014 7:16 AM
</I>&gt;<i> &gt;&gt;&gt; To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
</I>&gt;<i> &gt;&gt;&gt; Subject: [Mono-list]  WCF service using JSON over Ajax possible on
</I>&gt;<i> mono?
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Hello list,
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I've been working on a wcf service to be run on mono on a CentOS 6.5
</I>&gt;<i> &gt;&gt;&gt; platform. Can the current mono support a wcf service that communicates
</I>&gt;<i> &gt;&gt;&gt; JSON
</I>&gt;<i> &gt;&gt;&gt; over Ajax calls from a html5 web client? I can't seem to find any
</I>&gt;<i> &gt;&gt;&gt; examples
</I>&gt;<i> &gt;&gt;&gt; of someone being able to build such a system on a mono environment. I
</I>&gt;<i> &gt;&gt;&gt; wonder if I need to add something extra compared to the plentiful
</I>&gt;<i> online
</I>&gt;<i> &gt;&gt;&gt; examples that are written for Windows platform?
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Cheers,
</I>&gt;<i> &gt;&gt;&gt; Olli
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20140923/343ef405/attachment-0001.html">http://lists.ximian.com/pipermail/mono-list/attachments/20140923/343ef405/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051229.html">[Mono-list] WCF service using JSON over Ajax possible on mono?
</A></li>
	<LI>Next message: <A HREF="051211.html">[Mono-list] Error Installing 3.8.0 on CentoOS 6.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51230">[ date ]</a>
              <a href="thread.html#51230">[ thread ]</a>
              <a href="subject.html#51230">[ subject ]</a>
              <a href="author.html#51230">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
