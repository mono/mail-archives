<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Serving cshtml files as parsed.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Serving%20cshtml%20files%20as%20parsed.&In-Reply-To=%3CBLU436-SMTP22982EC935C03D3C78E48988DBA0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051237.html">
   <LINK REL="Next"  HREF="051239.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Serving cshtml files as parsed.</H1>
    <B>Fernando Rodriguez</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Serving%20cshtml%20files%20as%20parsed.&In-Reply-To=%3CBLU436-SMTP22982EC935C03D3C78E48988DBA0%40phx.gbl%3E"
       TITLE="[Mono-list] Serving cshtml files as parsed.">frodriguez.developer at outlook.com
       </A><BR>
    <I>Mon Sep 29 19:24:18 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="051237.html">[Mono-list] Serving cshtml files as parsed.
</A></li>
        <LI>Next message: <A HREF="051239.html">[Mono-list] Exception stacktrace does not contain full call	stack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51238">[ date ]</a>
              <a href="thread.html#51238">[ thread ]</a>
              <a href="subject.html#51238">[ subject ]</a>
              <a href="author.html#51238">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
See this zip file: 
<A HREF="https://drive.google.com/file/d/0BzPt9N2PyrQGdXA1MUxkdWZ5dzA/view?usp=sharing.">https://drive.google.com/file/d/0BzPt9N2PyrQGdXA1MUxkdWZ5dzA/view?usp=sharing.</A> 
Just unzip it, cd to it and run xsp4 then go to 
localhost:8080/index.cshtml. It should work, then you can figure out what 
you're missing from it.

Probably mono can't find the assembly you referenced on the handler, the MVC 
assembly on this sample is 4.0.0.0 from MS and the rest are 3.0.0.0 from mono. 


&gt;<i> So make sure all the references on the Web.config are to the right version on 
</I>&gt;<i> your bin directory.
</I>&gt;<i> 
</I>&gt;<i> On Monday 29 September 2014 6:50:03 PM Martin Thwaites wrote:
</I>&gt;<i> &gt; Nope, that didn't help.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; It seems that &quot;physical&quot; files are overriding the handlers.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Any further suggestions anyone?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Thanks
</I>&gt;<i> &gt; Martin
</I>&gt;<i> &gt; On 29 Sep 2014 08:19, &quot;Martin Thwaites&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">monoforum at my2cents.co.uk</A>&gt; wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; I think the handler's missing so I'll try that tonight.  Don't know why 
</I>it
&gt;<i> &gt; &gt; would work on windows without it though.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Thanks
</I>&gt;<i> &gt; &gt; Martin
</I>&gt;<i> &gt; &gt; On 29 Sep 2014 04:41, &quot;Fernando Rodriguez&quot; &lt;
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">frodriguez.developer at outlook.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; You still need those assemblies on your bin. They're used to process 
</I>the
&gt;<i> &gt; &gt;&gt; cshtml files. On Windows it probably uses the ones in the GAC but at
</I>&gt;<i> &gt; &gt;&gt; least for
</I>&gt;<i> &gt; &gt;&gt; me it doesn't in mono.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; You'll need the following a handler on your Web.config, I tried the
</I>&gt;<i> &gt; &gt;&gt; following:
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;add verb=&quot;*&quot; path=&quot;*.cshtml&quot; validate=&quot;false&quot;
</I>&gt;<i> &gt; &gt;&gt; type=&quot;System.Web.Mvc.MvcHttpHandler,
</I>&gt;<i> &gt; &gt;&gt; System.Web.Mvc, Version=4.0.0.0, Culture=neutral,
</I>&gt;<i> &gt; &gt;&gt; PublicKeyToken=31BF3856AD364E35&quot; /&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; I assume you got that since it works on Windows but make sure the 
</I>version
&gt;<i> &gt; &gt;&gt; matches the assembly that you put on your bin directory.. I used the 
</I>one
&gt;<i> &gt; &gt;&gt; that
</I>&gt;<i> &gt; &gt;&gt; comes with MS MVC4. You may have a different handler on your web.config,
</I>&gt;<i> &gt; &gt;&gt; just
</I>&gt;<i> &gt; &gt;&gt; make sure that whatever it's assembly is you copy it to your bin.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Also all the System.Web.WebPages.* from your mono GAC need to be copied 
</I>&gt;<i> to
</I>&gt;<i> &gt; &gt;&gt; your bin dir.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Once you got that it should compile and serve your cshtml files.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; On Sunday 28 September 2014 10:29:37 PM Martin Thwaites wrote:
</I>&gt;<i> &gt; &gt;&gt; &gt; Thanks Fernando, couple of things I forgot to add...
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; It's running through XSP in debug through MonoDevelop.  Secondly, 
</I>it's
&gt;<i> &gt; &gt;&gt; not
</I>&gt;<i> &gt; &gt;&gt; &gt; MVC that I'm trying to run.  It's a static cshtml that's self 
</I>&gt;<i> contained.
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; i.e. admin/index.cshtml, I need it to be processed and served.
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; Thanks,
</I>&gt;<i> &gt; &gt;&gt; &gt; Martin
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; On 28 September 2014 22:12, Fernando Rodriguez &lt;
</I>&gt;<i> &gt; &gt;&gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">frodriguez.developer at outlook.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; On Sunday 28 September 2014 9:47:53 PM Martin Thwaites wrote:
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; &gt; I'm trying to run a solution on mono that uses cshtml files 
</I>without
&gt;<i> &gt; &gt;&gt; using
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; &gt; MVC.
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; &gt; On Windows, the files are parsed and served, however, on mono it's
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; throwing
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; &gt; them back as if they are static files.
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; &gt; I'm sure I'm missing something obvious, but just can't get my 
</I>head
&gt;<i> &gt; &gt;&gt; around
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; &gt; it.
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; &gt; Anyone got any advice?
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; &gt; Thanks,
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; &gt; Martin
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; Did you configure the web server to handle .cshtml files by mono?
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; Also to get MVC4 working on mono (I could never get MVC5 working)  
</I>I
&gt;<i> &gt; &gt;&gt; had
</I>&gt;<i> &gt; &gt;&gt; to
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; copy all the System.Web.WebPages.* and Razor assemblies to my bin
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; directory so
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; you may need to do the same.
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; ----------
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; Fernando Rodriguez
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">frodriguez.developer at outlook.com</A>
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; --
</I>&gt;<i> &gt; &gt;&gt; ----------
</I>&gt;<i> &gt; &gt;&gt; Fernando Rodriguez
</I>&gt;<i> &gt; &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">frodriguez.developer at outlook.com</A>
</I>&gt;<i> &gt; &gt;&gt; _______________________________________________
</I>&gt;<i> &gt; &gt;&gt; Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> &gt; &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-- 
----------
Fernando Rodriguez
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">frodriguez.developer at outlook.com</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051237.html">[Mono-list] Serving cshtml files as parsed.
</A></li>
	<LI>Next message: <A HREF="051239.html">[Mono-list] Exception stacktrace does not contain full call	stack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51238">[ date ]</a>
              <a href="thread.html#51238">[ thread ]</a>
              <a href="subject.html#51238">[ subject ]</a>
              <a href="author.html#51238">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
