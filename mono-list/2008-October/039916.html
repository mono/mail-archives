<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list]  Got It Working!! How-To: Mono 2.0, Apache2, Ubuntu 10.04 With AJAX Example.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20%20Got%20It%20Working%21%21%20How-To%3A%20Mono%202.0%2C%20Apache2%2C%0A%20Ubuntu%2010.04%20With%20AJAX%20Example.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039915.html">
   <LINK REL="Next"  HREF="039919.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list]  Got It Working!! How-To: Mono 2.0, Apache2, Ubuntu 10.04 With AJAX Example.</H1>
    <B>used2could</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20%20Got%20It%20Working%21%21%20How-To%3A%20Mono%202.0%2C%20Apache2%2C%0A%20Ubuntu%2010.04%20With%20AJAX%20Example.&In-Reply-To="
       TITLE="[Mono-list]  Got It Working!! How-To: Mono 2.0, Apache2, Ubuntu 10.04 With AJAX Example.">used2could at gmail.com
       </A><BR>
    <I>Sun Oct 19 23:00:15 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="039915.html">[Mono-list] MonoDev on OS X - included in install?
</A></li>
        <LI>Next message: <A HREF="039919.html">[Mono-list] Got It Working!! How-To: Mono 2.0, Apache2, Ubuntu 10.04 With AJAX Example.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39916">[ date ]</a>
              <a href="thread.html#39916">[ thread ]</a>
              <a href="subject.html#39916">[ subject ]</a>
              <a href="author.html#39916">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Introduction

Here is my How-To on installing and configuring Mono 2.0 (Allows ASP.NET &amp;
AJAX support) and Apache2 to run on Ubuntu 10.04 with an example to test
ASP.NET/AJAX. 

Background 

This is my first attempt to use anything other than a windows based machine.
I had such a hard time finding help so I thought I would document my efforts
to help someone running into the same problems I did. Hopefully this will
save you the week it took me to get it running. The simple install of Mono
and the mod-mono for apache via apt-get was riddled with problems so I had
to build from the sources to make sure I got the most up to date versions. 

How-To

I am assuming you have a fresh install of Ubuntu Hard (10.04) . If not you
can download the ISO file and burn it to a CD. The installation of Ubuntu is
amazingly simple.  

Let's Start! 

Open a Terminal  
 (Applications &gt; Accessories &gt; Terminal) 

$ sudo su
 #You'll be prompted to enter your password to elevate your user (Give's it
Admin rights)
$ aptitude upgrade
 # Choose &quot;Y&quot; (yes) for any prompts (This could take a while)
$ aptitude install bison libgettextpo-dev gettext libgettextpo0 gettext-base
subversion automake libtool autoconf glibc-2.7-1 bglibs-dev libglib-dev
libglib2.0-0 libglibmm-2.4-dev
 # Choose &quot;Y&quot; (yes) for any prompts
$ cd /
$ mkdir /MonoSources
$ cd /MonoSources
$ svn co <A HREF="svn://anonsvn.mono-project.com/source/trunk/mono">svn://anonsvn.mono-project.com/source/trunk/mono</A>
 #This will take a while
$ svn co <A HREF="svn://anonsvn.mono-project.com/source/trunk/mcs">svn://anonsvn.mono-project.com/source/trunk/mcs</A>
 #This will take a while
$ svn co <A HREF="svn://anonsvn.mono-project.com/source/trunk/libgdiplus">svn://anonsvn.mono-project.com/source/trunk/libgdiplus</A>
$ cd /mono
$ ./autogen.sh --prefix=/usr
 #This will take a very long time
$ make get-monolite-latest
 #Grab a bite to eat. You'll be here for a while
$ make EXTERNAL_MCS=false
$ make
 #Fix a drink. It takes a bit for this to complete.
$ make install
 #Last long part. be patient...
$ aptitude install apache2 libapache2-mod-mono  mono-apache-server2
mono-gmcs
 # Choose &quot;Y&quot; (yes) for any prompts
$ nano /etc/apache2/sites-enabled/000-default
 #Clear out all of 000-default's existing content and replace it with the
below code:
#################################################################
NameVirtualHost *
&lt;VirtualHost *&gt;
        ServerAdmin <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">webmaster at localhost</A>

        DocumentRoot /MonoSources/

        ErrorLog /var/log/apache2/error.log

        LogLevel warn

        CustomLog /var/log/apache2/access.log combined

          MonoUnixSocket default /tmp/.mod_mono_server2
          MonoServerPath default /usr/bin/mod-mono-server2
          AddType application/x-asp-net .aspx .ashx .asmx .ascx .asax
.config .ascx
          MonoApplicationsConfigDir default /etc/mono-server2
          MonoPath default /usr/lib/mono/2.0:/usr/lib:/usr/lib/mono/2.0
             AddMonoApplications default &quot;/:/MonoSources/&quot;
               #&lt;Directory /usr/share/asp.net2-demos&gt;
                &lt;Directory /MonoSources/&gt;
                 SetHandler mono
                   &lt;IfModule mod_dir.c&gt;
                      DirectoryIndex Default.aspx
                   &lt;/IfModule&gt;
               &lt;/Directory&gt;
&lt;/VirtualHost&gt;
#################################################################

# ctrl+x to exit, Y to agree to save.

$ cd /MonoSources
$ nano Default.aspx
 #This creates a new page. Paste the following content in this new file
(Default.aspx) excluding the #'s

#############################################################################
&lt;%@ Page Language=&quot;C#&quot; AutoEventWireup=&quot;true&quot; CodeFile=&quot;Default.aspx.cs&quot;
Inherits=&quot;TestMono._Default&quot; %&gt;

&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;
&quot;<A HREF="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</A>&gt;

&lt;html xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml&quot;">http://www.w3.org/1999/xhtml&quot;</A> &gt;
&lt;head runat=&quot;server&quot;&gt;
    &lt;title&gt;Untitled Page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form id=&quot;form1&quot; runat=&quot;server&quot;&gt;
    &lt;div&gt;
        &lt;asp:ScriptManager ID=&quot;smgTest&quot; runat=&quot;server&quot; /&gt;
        &lt;asp:Label ID=&quot;lblStatic&quot; runat=&quot;server&quot; /&gt;

        &lt;asp:UpdatePanel ID=&quot;pnlTest&quot; runat=&quot;server&quot;&gt;
            &lt;ContentTemplate&gt;
                &lt;asp:Label ID=&quot;lblTest&quot; runat=&quot;server&quot; /&gt;
                &lt;asp:Button ID=&quot;btnTest&quot; Text=&quot;Test Time Stamp&quot;
OnClick=&quot;btnTest_Click&quot; runat=&quot;server&quot; /&gt;
            &lt;/ContentTemplate&gt;
        &lt;/asp:UpdatePanel&gt;

    &lt;/div&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
#############################################################################
 # ctrl+x to exit, Y to agree to save.

$ nano Default.aspx.cs
	#This creates a new page. Past the following content in this new file
(Default.aspx.cs) excluding the #'s
#############################################################################
using System;
using System.Collections;
using System.Configuration;
using System.Data;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;

namespace TestMono
{
    public partial class _Default : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            lblStatic.Text = DateTime.Now.ToString();

        }

        protected void btnTest_Click(object sender, EventArgs e)
        {
            lblTest.Text = DateTime.Now.ToString();
        }
    }
}
#############################################################################
 # ctrl+x to exit, Y to agree to save.

$ mconfig af -t=web AJAX
 # This will make a Web.config file for you with the needed references for
ajax.
$ /etc/init.d/apache2 restart

Open up a browser and go to your new test asp.net page.
(127.0.0.1/Default.aspx)
		 
History

All the online documentation that showed how to install from svn or sources
used  ./autogen.sh --prefix=/usr/local. This i think is what kept messing me
up. It needs to be set to --prefix=/usr.
-- 
View this message in context: <A HREF="http://www.nabble.com/Got-It-Working%21%21-How-To%3A-Mono-2.0%2C-Apache2%2C-Ubuntu-10.04-With-AJAX-Example.-tp20062512p20062512.html">http://www.nabble.com/Got-It-Working%21%21-How-To%3A-Mono-2.0%2C-Apache2%2C-Ubuntu-10.04-With-AJAX-Example.-tp20062512p20062512.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.

</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039915.html">[Mono-list] MonoDev on OS X - included in install?
</A></li>
	<LI>Next message: <A HREF="039919.html">[Mono-list] Got It Working!! How-To: Mono 2.0, Apache2, Ubuntu 10.04 With AJAX Example.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39916">[ date ]</a>
              <a href="thread.html#39916">[ thread ]</a>
              <a href="subject.html#39916">[ subject ]</a>
              <a href="author.html#39916">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
