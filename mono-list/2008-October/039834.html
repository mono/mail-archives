<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mono 2.0 send mail to gmail account error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mono%202.0%20send%20mail%20to%20gmail%20account%20error&In-Reply-To=19851624.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039833.html">
   <LINK REL="Next"  HREF="039835.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mono 2.0 send mail to gmail account error</H1>
    <B>Suvi/mg3</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mono%202.0%20send%20mail%20to%20gmail%20account%20error&In-Reply-To=19851624.post%40talk.nabble.com"
       TITLE="[Mono-list] mono 2.0 send mail to gmail account error">suvi at orientalmedia.com
       </A><BR>
    <I>Thu Oct  9 00:29:47 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="039833.html">[Mono-list] mono 2.0 send mail to gmail account error
</A></li>
        <LI>Next message: <A HREF="039835.html">[Mono-list] mono 2.0 send mail to gmail account error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39834">[ date ]</a>
              <a href="thread.html#39834">[ thread ]</a>
              <a href="subject.html#39834">[ subject ]</a>
              <a href="author.html#39834">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi, all,

This error was gone finally after many test and search. May the following
step could help those who have save problems.

1. mozroots, MONO not shipped with any certs, so we'd better import them.
This is very different with Windows.

    mozroots --import --ask-remove --machine

    BTW: I'm not test with &quot; mozroots --import --ask-remove &quot;, I download
all certs into machine store.

2. certmgr, with gmail smtp server, we could import it first.
   
    certmgr -ssl -m <A HREF="smtps://smtp.gmail.com:465">smtps://smtp.gmail.com:465</A>

    Also, I'm not testing the User store.

3. System.Net.SmtpClient

    EnableSsl = true;
    smtp port = 587, use the submission port.

And , It should work for you.
enjoy.

Suvi@



Suvi/mg3 wrote:
&gt;<i> 
</I>&gt;<i> Dear all,
</I>&gt;<i> 
</I>&gt;<i> Does mono2.0 support send SSL email? such as gmail account.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Here is my error logs that the source code running fine in .net 2.0
</I>&gt;<i> framework on windows. :
</I>&gt;<i> 
</I>&gt;<i> Unable to send email ---&gt; System.Net.Mail.SmtpException: Message could not
</I>&gt;<i> be sent. ---&gt; System.IO.IOException: The authentication or decryption has
</I>&gt;<i> failed. ---&gt; System.InvalidOperationException: SSL authentication error:
</I>&gt;<i> RemoteCertificateChainErrors
</I>&gt;<i>   at System.Net.Mail.SmtpClient.&lt;SmtpClient&gt;m__3 (System.Object sender,
</I>&gt;<i> System.Security.Cryptography.X509Certificates.X509Certificate certificate,
</I>&gt;<i> System.Security.Cryptography.X509Certificates.X509Chain chain,
</I>&gt;<i> SslPolicyErrors sslPolicyErrors) [0x00000]
</I>&gt;<i>   at
</I>&gt;<i> System.Net.Security.SslStream+&lt;BeginAuthenticateAsClient&gt;c__AnonStoreyC.&lt;&gt;m__9
</I>&gt;<i> (System.Security.Cryptography.X509Certificates.X509Certificate cert,
</I>&gt;<i> System.Int32[] certErrors) [0x00000]
</I>&gt;<i>   at
</I>&gt;<i> Mono.Security.Protocol.Tls.SslClientStream.OnRemoteCertificateValidation
</I>&gt;<i> (System.Security.Cryptography.X509Certificates.X509Certificate
</I>&gt;<i> certificate, System.Int32[] errors) [0x00000]
</I>&gt;<i>   at
</I>&gt;<i> Mono.Security.Protocol.Tls.SslStreamBase.RaiseRemoteCertificateValidation
</I>&gt;<i> (System.Security.Cryptography.X509Certificates.X509Certificate
</I>&gt;<i> certificate, System.Int32[] errors) [0x00000]
</I>&gt;<i>   at
</I>&gt;<i> Mono.Security.Protocol.Tls.SslClientStream.RaiseServerCertificateValidation
</I>&gt;<i> (System.Security.Cryptography.X509Certificates.X509Certificate
</I>&gt;<i> certificate, System.Int32[] certificateErrors) [0x00000]
</I>&gt;<i>   at
</I>&gt;<i> Mono.Security.Protocol.Tls.Handshake.Client.TlsServerCertificate.validateCertificates
</I>&gt;<i> (Mono.Security.X509.X509CertificateCollection certificates) [0x00000]
</I>&gt;<i>   at
</I>&gt;<i> Mono.Security.Protocol.Tls.Handshake.Client.TlsServerCertificate.ProcessAsTls1
</I>&gt;<i> () [0x00000]
</I>&gt;<i>   at Mono.Security.Protocol.Tls.Handshake.HandshakeMessage.Process ()
</I>&gt;<i> [0x00000]
</I>&gt;<i>   at (wrapper remoting-invoke-with-check)
</I>&gt;<i> Mono.Security.Protocol.Tls.Handshake.HandshakeMessage:Process ()
</I>&gt;<i>   at
</I>&gt;<i> Mono.Security.Protocol.Tls.ClientRecordProtocol.ProcessHandshakeMessage
</I>&gt;<i> (Mono.Security.Protocol.Tls.TlsStream handMsg) [0x00000]
</I>&gt;<i>   at
</I>&gt;<i> Mono.Security.Protocol.Tls.RecordProtocol.InternalReceiveRecordCallback
</I>&gt;<i> (IAsyncResult asyncResult) [0x00000]
</I>&gt;<i>   --- End of inner exception stack trace ---
</I>&gt;<i>   at Mono.Security.Protocol.Tls.SslStreamBase.AsyncHandshakeCallback
</I>&gt;<i> (IAsyncResult asyncResult) [0x00000]
</I>&gt;<i>   --- End of inner exception stack trace ---
</I>&gt;<i>   at System.Net.Mail.SmtpClient.Send (System.Net.Mail.MailMessage message)
</I>&gt;<i> [0x00000]
</I>&gt;<i> 
</I>&gt;<i> Any help are appreciated.
</I>&gt;<i> 
</I>&gt;<i> Best rdgs,
</I>&gt;<i> 
</I>&gt;<i> Suvi@
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-- 
View this message in context: <A HREF="http://www.nabble.com/mono-2.0-send-mail-to-gmail-account-error-tp19851624p19892174.html">http://www.nabble.com/mono-2.0-send-mail-to-gmail-account-error-tp19851624p19892174.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039833.html">[Mono-list] mono 2.0 send mail to gmail account error
</A></li>
	<LI>Next message: <A HREF="039835.html">[Mono-list] mono 2.0 send mail to gmail account error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39834">[ date ]</a>
              <a href="thread.html#39834">[ thread ]</a>
              <a href="subject.html#39834">[ subject ]</a>
              <a href="author.html#39834">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
