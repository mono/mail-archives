<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mono 2.0 RC1 is out!!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono%202.0%20RC1%20is%20out%21%21&In-Reply-To=48C64735.4040505%40serdyuk.botik.ru">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039767.html">
   <LINK REL="Next"  HREF="039775.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mono 2.0 RC1 is out!!</H1>
    <B>Andreas F&#228;rber</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono%202.0%20RC1%20is%20out%21%21&In-Reply-To=48C64735.4040505%40serdyuk.botik.ru"
       TITLE="[Mono-list] Mono 2.0 RC1 is out!!">planche2k at googlemail.com
       </A><BR>
    <I>Fri Oct  3 10:15:28 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="039767.html">[Mono-list] Accessibility
</A></li>
        <LI>Next message: <A HREF="039775.html">[Mono-list] Mono 2.0 RC1 is out!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39768">[ date ]</a>
              <a href="thread.html#39768">[ thread ]</a>
              <a href="subject.html#39768">[ subject ]</a>
              <a href="author.html#39768">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Am 09.09.2008 um 11:51 schrieb Yury Serdyuk:

&gt;<i> I have tried to build Mono 2.0 RC1 from the sources on PowerPC
</I>&gt;<i> architecture, namely on Cell BE processor
</I>
&gt;<i> Then, I've tried to configure as
</I>&gt;<i>
</I>&gt;&gt;<i> ./configure --prefix=/home/user002/m-2.0rc1 CFLAGS=&quot;-mminimal-toc&quot;
</I>&gt;<i>
</I>&gt;<i> and got the following
</I>&gt;<i>
</I>&gt;&gt;<i> inssel.c:3158: warning: cast to pointer from integer of different  
</I>&gt;&gt;<i> size
</I>&gt;&gt;<i> LD      libmono.la
</I>&gt;&gt;<i> LD      libmono-static.la
</I>&gt;&gt;<i> CC      main.o
</I>&gt;&gt;<i> LD      mono
</I>&gt;&gt;<i> ./.libs/libmono-static.a(driver.o): In function  
</I>&gt;&gt;<i> `parse_optimizations':
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/driver.c:145: undefined reference to
</I>&gt;&gt;<i> `mono_arch_cpu_optimizazions'
</I>&gt;&gt;<i> ./.libs/libmono-static.a(debug-mini.o): In function `print_var_info':
</I>&gt;&gt;<i>                            .
</I>&gt;&gt;<i> .                         .
</I>&gt;&gt;<i> ./.libs/libmono-static.a(mini-codegen.o): In function  
</I>&gt;&gt;<i> `mono_regname_full':
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:130: undefined
</I>&gt;&gt;<i> reference to `mono_arch_fregname'
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:132: undefined
</I>&gt;&gt;<i> reference to `mono_arch_regname'
</I>&gt;&gt;<i> ./.libs/libmono-static.a(mini-codegen.o): In function
</I>&gt;&gt;<i> `mono_print_ins_index':
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:359: undefined
</I>&gt;&gt;<i> reference to `mono_arch_regname'
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:361: undefined
</I>&gt;&gt;<i> reference to `mono_arch_regname'
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:370: undefined
</I>&gt;&gt;<i> reference to `mono_arch_regname'
</I>&gt;&gt;<i> ./.libs/libmono-static.a(mini-codegen.o): In function  
</I>&gt;&gt;<i> `print_regtrack':
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:400: undefined
</I>&gt;&gt;<i> reference to `mono_arch_regname'
</I>&gt;&gt;<i> ./.libs/libmono-static.a(mini-codegen.o): In function
</I>&gt;&gt;<i> `get_register_spilling':
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:523: undefined
</I>&gt;&gt;<i> reference to `mono_arch_fregname'
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:537: undefined
</I>&gt;&gt;<i> reference to `mono_arch_regname'
</I>&gt;&gt;<i> ./.libs/libmono-static.a(mini-codegen.o): In function
</I>&gt;&gt;<i> `mono_local_regalloc':
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:1064: undefined
</I>&gt;&gt;<i> reference to `mono_arch_regname'
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:1095: undefined
</I>&gt;&gt;<i> reference to `mono_arch_regname'
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:1095: undefined
</I>&gt;&gt;<i> reference to `mono_arch_regname'
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:1260: undefined
</I>&gt;&gt;<i> reference to `mono_arch_regname'
</I>&gt;&gt;<i> ./.libs/libmono-static.a(mini-codegen.o):/home/user002/mono-2.0/ 
</I>&gt;&gt;<i> mono/mini/mini-codegen.c:1267:
</I>&gt;&gt;<i> more undefined references to `mono_arch_regname' follow
</I>&gt;&gt;<i> ./.libs/libmono-static.a(mini-codegen.o): In function
</I>&gt;&gt;<i> `mono_local_regalloc':
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:1416: undefined
</I>&gt;&gt;<i> reference to `mono_arch_fregname'
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:1569: undefined
</I>&gt;&gt;<i> reference to `mono_arch_regname'
</I>&gt;&gt;<i> ./.libs/libmono-static.a(mini-codegen.o): In function  
</I>&gt;&gt;<i> `alloc_int_reg':
</I>&gt;&gt;<i> /home/user002/mono-2.0/mono/mini/mini-codegen.c:643: undefined
</I>&gt;&gt;<i> reference to `mono_arch_regname'
</I>&gt;&gt;<i> ./.libs/libmono-static.a(mini-codegen.o):(.toc1+0x30): undefined
</I>&gt;&gt;<i> reference to `ppcg4_idx'
</I>&gt;&gt;<i> ./.libs/libmono-static.a(mini-codegen.o):(.toc1+0x38): undefined
</I>&gt;&gt;<i> reference to `ppcg4'
</I>&gt;&gt;<i> collect2: ld returned 1 exit status
</I>&gt;&gt;<i> make[4]: *** [mono] Error 1
</I>&gt;<i>
</I>
Which likely means you're trying to compile for ppc64, which isn't  
ready - the sources are not yet being compiled in, so there are  
undefined symbols. I will shortly apply part of a patch, so that it  
should error out in case someone unknowingly runs into it.

&gt;<i> Finally, I have tried to configure Mono for ppc32 as
</I>&gt;<i>
</I>&gt;&gt;<i> ./configure --prefix=/home/user002/m-2.0rc1
</I>&gt;&gt;<i> --target=powerpc-redhat-linux CFLAGS=&quot;-mminimal-toc&quot;
</I>&gt;<i>
</I>&gt;<i> but the result is the same:
</I>
...because you would need to use --build=powerpc-redhat-linux instead,  
since you cannot cross-compile from ppc64 to ppc either.

Most likely you do not need to pass --build or --target at all, just  
assure that gcc compiles 32-bit by default or set appropriate options,  
e.g., CPPFLAGS=&quot;-m32&quot; or CC=&quot;gcc -m32&quot; if necessary. The pointer size  
in a test program is used to decide if the ppc64 or 32-bit ppc path is  
taken.

Andreas

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039767.html">[Mono-list] Accessibility
</A></li>
	<LI>Next message: <A HREF="039775.html">[Mono-list] Mono 2.0 RC1 is out!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39768">[ date ]</a>
              <a href="thread.html#39768">[ thread ]</a>
              <a href="subject.html#39768">[ subject ]</a>
              <a href="author.html#39768">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
