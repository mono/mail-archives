<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Newbie Question: Web app life cycle events
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Newbie%20Question%3A%20Web%20app%20life%20cycle%20events&In-Reply-To=200810271205.17019.roger.varley%40googlemail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040016.html">
   <LINK REL="Next"  HREF="040019.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Newbie Question: Web app life cycle events</H1>
    <B>Joe Audette</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Newbie%20Question%3A%20Web%20app%20life%20cycle%20events&In-Reply-To=200810271205.17019.roger.varley%40googlemail.com"
       TITLE="[Mono-list] Newbie Question: Web app life cycle events">joe_audette at yahoo.com
       </A><BR>
    <I>Mon Oct 27 06:12:21 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="040016.html">[Mono-list] Newbie Question: Web app life cycle events
</A></li>
        <LI>Next message: <A HREF="040019.html">[Mono-list] Newbie Question: Web app life cycle events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40017">[ date ]</a>
              <a href="thread.html#40017">[ thread ]</a>
              <a href="subject.html#40017">[ subject ]</a>
              <a href="author.html#40017">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>One possible cause to keep in mind is if Mono is handling all requests
for the app them begin request etc will be called also for css files
and images and javscript, not just .aspx
This is similar to running in the Visual Studio web server. Running in
IIS on windows, requests for css files and images will be handled by
IIS and not by .NET.
It is possible to configure things so that apache handles requests for
css and images, but using xsp2 directly its going to handle all files.
You may be able to find out what the request is for in those events
with HttpContext.Current.Request.RawUrl

Hope it helps,

Joe

On Mon, Oct 27, 2008 at 6:05 AM, Roger &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">roger.varley at googlemail.com</A>&gt; wrote:
&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i> I'm new to mono and C#, I'm coming from a Java background. I've built my
</I>&gt;<i> first &quot;test&quot; web-app using monodevelop using a tutorial I found on the web.
</I>&gt;<i> (Code attached below). Everything works as expected.
</I>&gt;<i>
</I>&gt;<i> I then tried playing around with the Global.asax.cs by inserting
</I>&gt;<i> Console.WriteLine() into each of the calls to try and get a feel for the
</I>&gt;<i> life_cycle events and when they're called. Now when I run my application I
</I>&gt;<i> get one call to Application_Start() - which I would've expected, but I get
</I>&gt;<i> multiple calls to Application_BeginRequest, Session_Start() and
</I>&gt;<i> Application_EndRequest() - which I would not have expected. Why do I get
</I>&gt;<i> three calls?
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> **** Default.aspx ****
</I>&gt;<i> &lt;%@ Page Language=&quot;C#&quot; Inherits=&quot;MyWebProject.Default&quot; %&gt;
</I>&gt;<i> &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0
</I>&gt;<i> Strict//EN&quot; &quot;<A HREF="http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;">http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;</A>&gt;
</I>&gt;<i> &lt;html&gt;
</I>&gt;<i> &lt;head&gt;
</I>&gt;<i>        &lt;title&gt;Default&lt;/title&gt;
</I>&gt;<i> &lt;/head&gt;
</I>&gt;<i> &lt;body&gt;
</I>&gt;<i>        &lt;form id=&quot;form1&quot; runat=&quot;server&quot;&gt;
</I>&gt;<i>        &lt;asp:button id=&quot;clickMeButton&quot; runat=&quot;server&quot; text=&quot;Click Me&quot;
</I>&gt;<i> onClick=&quot;clickMeButton_Click&quot;/&gt;
</I>&gt;<i>        &lt;asp:label id=&quot;outputLabel&quot; runat=&quot;server&quot;/&gt;
</I>&gt;<i>        &lt;/form&gt;
</I>&gt;<i> &lt;/body&gt;
</I>&gt;<i> &lt;/html&gt;
</I>&gt;<i>
</I>&gt;<i> **** Default.aspx.cs ****
</I>&gt;<i> using System;
</I>&gt;<i> using System.Web;
</I>&gt;<i> using System.Web.UI;
</I>&gt;<i>
</I>&gt;<i> namespace MyWebProject
</I>&gt;<i> {
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>        public partial class Default : System.Web.UI.Page
</I>&gt;<i>        {
</I>&gt;<i>
</I>&gt;<i>                public void clickMeButton_Click(object sender, EventArgs e) {
</I>&gt;<i>         object val = ViewState[&quot;ButtonClickCount&quot;];
</I>&gt;<i>    int i = (val == null)? 1 : (int)val + 1;
</I>&gt;<i>    outputLabel.Text = string.Format (&quot;You clicked me {0} {1}&quot;, i,
</I>&gt;<i> i==1?&quot;time&quot;:&quot;times&quot;);
</I>&gt;<i>    ViewState[&quot;ButtonClickCount&quot;] = i;
</I>&gt;<i>                }
</I>&gt;<i>
</I>&gt;<i>        }
</I>&gt;<i> }
</I>&gt;<i> **** Global.asax.cs ****
</I>&gt;<i> using System;
</I>&gt;<i> using System.Collections;
</I>&gt;<i> using System.ComponentModel;
</I>&gt;<i> using System.Web;
</I>&gt;<i> using System.Web.SessionState;
</I>&gt;<i>
</I>&gt;<i> namespace MyWebProject
</I>&gt;<i> {
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>        public class Global : System.Web.HttpApplication
</I>&gt;<i>        {
</I>&gt;<i>
</I>&gt;<i>                protected virtual void Application_Start(object sender, EventArgs e)
</I>&gt;<i>                {
</I>&gt;<i>
</I>&gt;<i>                        Console.WriteLine(&quot;Application_Start is called&quot;);
</I>&gt;<i>                }
</I>&gt;<i>
</I>&gt;<i>                protected virtual void Session_Start(object sender, EventArgs e)
</I>&gt;<i>                {
</I>&gt;<i>                        Console.WriteLine(&quot;Session_Start is called&quot;);
</I>&gt;<i>                }
</I>&gt;<i>
</I>&gt;<i>                protected virtual void Application_BeginRequest(object sender, EventArgs e)
</I>&gt;<i>                {
</I>&gt;<i>                        Console.WriteLine(&quot;Application_BeginRequest is called&quot;);
</I>&gt;<i>                }
</I>&gt;<i>
</I>&gt;<i>                protected virtual void Application_EndRequest(object sender, EventArgs e)
</I>&gt;<i>                {
</I>&gt;<i>                        Console.WriteLine(&quot;Application_EndRequest is called&quot;);
</I>&gt;<i>
</I>&gt;<i>                }
</I>&gt;<i>
</I>&gt;<i>                protected virtual void Application_AuthenticateRequest(object sender,
</I>&gt;<i> EventArgs e)
</I>&gt;<i>                {
</I>&gt;<i>                }
</I>&gt;<i>
</I>&gt;<i>                protected virtual void Application_Error(object sender, EventArgs e)
</I>&gt;<i>                {
</I>&gt;<i>                }
</I>&gt;<i>
</I>&gt;<i>                protected virtual void Session_End(object sender, EventArgs e)
</I>&gt;<i>                {
</I>&gt;<i>
</I>&gt;<i>                        Console.WriteLine(&quot;Session_End is called&quot;);
</I>&gt;<i>                }
</I>&gt;<i>
</I>&gt;<i>                protected virtual void Application_End(object sender, EventArgs e)
</I>&gt;<i>                {
</I>&gt;<i>                        Console.WriteLine(&quot;Application_End is called&quot;);
</I>&gt;<i>
</I>&gt;<i>                }
</I>&gt;<i>        }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>


-- 
Joe Audette
Software Solutions Architect
Source Tree Solutions, LLC
PO Box 621861
Charlotte, NC 28262
704.323.8225
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">joe.audette at gmail.com</A>
<A HREF="http://www.sourcetreesolutions.com">http://www.sourcetreesolutions.com</A>
<A HREF="http://www.mojoportal.com">http://www.mojoportal.com</A>
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040016.html">[Mono-list] Newbie Question: Web app life cycle events
</A></li>
	<LI>Next message: <A HREF="040019.html">[Mono-list] Newbie Question: Web app life cycle events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40017">[ date ]</a>
              <a href="thread.html#40017">[ thread ]</a>
              <a href="subject.html#40017">[ subject ]</a>
              <a href="author.html#40017">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
