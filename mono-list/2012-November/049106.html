<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Tracing disregards SourceSwitch and EventTypeFilter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Tracing%20disregards%20SourceSwitch%20and%20EventTypeFilter&In-Reply-To=%3CCAAqmy6P05hxo50vKp3%2B7ML1B%3D9-E4NuyvdxynWED59cUEWyd7A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049105.html">
   <LINK REL="Next"  HREF="049107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Tracing disregards SourceSwitch and EventTypeFilter</H1>
    <B>Dave Curylo</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Tracing%20disregards%20SourceSwitch%20and%20EventTypeFilter&In-Reply-To=%3CCAAqmy6P05hxo50vKp3%2B7ML1B%3D9-E4NuyvdxynWED59cUEWyd7A%40mail.gmail.com%3E"
       TITLE="[Mono-list] Tracing disregards SourceSwitch and EventTypeFilter">curylod at asme.org
       </A><BR>
    <I>Thu Nov  1 19:29:24 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="049105.html">[Mono-list] using a DLL/ActiveX library on a linux webserver
</A></li>
        <LI>Next message: <A HREF="049107.html">[Mono-list] 4.0 Client Profile
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49106">[ date ]</a>
              <a href="thread.html#49106">[ thread ]</a>
              <a href="subject.html#49106">[ subject ]</a>
              <a href="author.html#49106">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My application outputs tracing using the TraceSource API, writing trace
statements at various levels with TraceEventType.Verbose, Information,
Warning, Error, etc.  While the verbose logging is useful during
troubleshooting, most of the time I would like to keep it turned off, so I
use a System.Diagnostics.SourceSwitch to turn down the logging on my
TraceSource entries in my app.config.  On Windows, the configured
SourceSwitch is honored, so if set to &quot;Information&quot;, then only trace
statements of Information and greater severity appear.  However, on Mono
2.10.8.1 (Debian 2.10.8.1-1ubuntu2.2), the SourceSwitch doesn't seem to
have any effect, and neither does an EventTypeFilter.  As a result, the
logs are always filled with overly verbose log entries.  Is there some way
to configure SourceSwitch and EventTypeFilter so they work under Mono or
are these unsupported?

Here is an example, which doesn't output anything under Windows / .NET (as
expected) since the EventTypeFilter is set to Information and the
SourceSwitch is set to Error.  However, on Linux / Mono, the Verbose level
output is displayed.

C# Source:
class Program {
    static void Main(string[] args) {
        TraceSource trace = new TraceSource(&quot;Testing&quot;);
        trace.TraceEvent (TraceEventType.Verbose, 0, &quot;Testing verbose
event.&quot;);
    }
}

App.config:
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;configuration&gt;
&lt;system.diagnostics&gt;
 &lt;sources&gt;
&lt;source name=&quot;Testing&quot; switchName=&quot;sourceSwitch&quot;
switchType=&quot;System.Diagnostics.SourceSwitch&quot;&gt;
 &lt;listeners&gt;
&lt;add name=&quot;consoleListener&quot; type=&quot;System.Diagnostics.ConsoleTraceListener&quot;
traceOutputOptions=&quot;DateTime,ThreadId&quot;&gt;
 &lt;filter type=&quot;System.Diagnostics.EventTypeFilter&quot;
initializeData=&quot;Information&quot; /&gt;
&lt;/add&gt;
 &lt;/listeners&gt;
&lt;/source&gt;
&lt;/sources&gt;
 &lt;switches&gt;
&lt;add name=&quot;sourceSwitch&quot; value=&quot;Error&quot; /&gt;
 &lt;/switches&gt;
&lt;/system.diagnostics&gt;
&lt;/configuration&gt;

Program output:
Testing Verbose: 0 : Testing verbose event.
    ThreadId=
    DateTime=2012-11-01T15:25:42.9727200-04:00


Thanks for you help.
-Dave
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20121101/9bcb5e0a/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20121101/9bcb5e0a/attachment.html</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049105.html">[Mono-list] using a DLL/ActiveX library on a linux webserver
</A></li>
	<LI>Next message: <A HREF="049107.html">[Mono-list] 4.0 Client Profile
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49106">[ date ]</a>
              <a href="thread.html#49106">[ thread ]</a>
              <a href="subject.html#49106">[ subject ]</a>
              <a href="author.html#49106">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
