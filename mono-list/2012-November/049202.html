<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Windows Forms App under Mac OS X Mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Windows%20Forms%20App%20under%20Mac%20OS%20X%20Mono&In-Reply-To=%3C1354092965103-4657560.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049201.html">
   <LINK REL="Next"  HREF="049203.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Windows Forms App under Mac OS X Mono</H1>
    <B>Stifu</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Windows%20Forms%20App%20under%20Mac%20OS%20X%20Mono&In-Reply-To=%3C1354092965103-4657560.post%40n4.nabble.com%3E"
       TITLE="[Mono-list] Windows Forms App under Mac OS X Mono">stifu at free.fr
       </A><BR>
    <I>Wed Nov 28 08:56:05 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="049201.html">[Mono-list] Windows Forms App under Mac OS X Mono
</A></li>
        <LI>Next message: <A HREF="049203.html">[Mono-list] Over night introduced error in compiling any project: Error initializing task ResolveAssemblyReference
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49202">[ date ]</a>
              <a href="thread.html#49202">[ thread ]</a>
              <a href="subject.html#49202">[ subject ]</a>
              <a href="author.html#49202">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>WinForms works the worst on Mac. Although I don't have a Mac, I recommend the
users of my WinForms app to run their app this way, and it seems to work
fine for them: &quot;MONO_MWF_MAC_FORCE_X11=1 mono yourapp.exe&quot;
That makes it so it runs the app using the X11 driver rather than the Mac
(Carbon) one, which means the app should work as well as on Linux. The only
problem is that it requires an X11 server to be installed on the Mac.


jeff clausius wrote
&gt;<i> I'm investigating Mono as a possible solution for porting a Windows
</I>&gt;<i> Forms based app to OS X.
</I>&gt;<i> 
</I>&gt;<i> As a test, I've created a small C# app.  The Main form contains a button
</I>&gt;<i> which invokes another window with the following code in the _Click()
</I>&gt;<i> event:
</I>&gt;<i> 
</I>&gt;<i> Form2 f2 = new Form2();
</I>&gt;<i> f2.ShowDialog();
</I>&gt;<i> f2.Dispose();
</I>&gt;<i> 
</I>&gt;<i> Form2 has a button which just calls &quot;Close();&quot;
</I>&gt;<i> 
</I>&gt;<i> No other real code in the test app.
</I>&gt;<i> 
</I>&gt;<i> I'm running into problems on a Mac OS X Lion (10.7.5) computer, I've
</I>&gt;<i> installed/tested the app against Mono SDK 2.10.9 and 3.0.1.  I've also
</I>&gt;<i> tried binaries compiled with MonoDevelop (3.0.5) as well as one from VS
</I>&gt;<i> 2010.
</I>&gt;<i> 
</I>&gt;<i> Testing involves clicking Form1's Button #1 (to show Form2) and Button
</I>&gt;<i> #2 (on Form 2) to close Form2.  Clicking these buttons over and over
</I>&gt;<i> eventually causes the mono app to bring up 3 to 5 simultaneous Form2s.
</I>&gt;<i> The &quot;topmost&quot; Form2 is the normal one w/ default coloring and Button #2.
</I>&gt;<i>  However, the underneath dialogs are &quot;blank&quot; windows w/ a white
</I>&gt;<i> background and no layout of any kind for Button #2.  You cannot even
</I>&gt;<i> close these forms w/ the &quot;X&quot; close button.
</I>&gt;<i> 
</I>&gt;<i> After this occurs, if I close Form1, the mono process hangs, and Ctrl-C
</I>&gt;<i> is req'd to kill the process.
</I>&gt;<i> 
</I>&gt;<i> Also, the following is displayed in the shell which launched the app:
</I>&gt;<i> 
</I>&gt;<i> user$ mono WindowsFormsMonoTest.exe
</I>&gt;<i> Nov 27 18:35:16 comp-lion.local mono[210] 
</I>&gt;<i> &lt;Error&gt;
</I>&gt;<i> :
</I>&gt;<i> kCGErrorInvalidConnection: CGSGetWindowTags: Invalid connection
</I>&gt;<i> Nov 27 18:35:16 comp-lion.local mono[210] 
</I>&gt;<i> &lt;Error&gt;
</I>&gt;<i> : kCGErrorFailure: Set
</I>&gt;<i> a breakpoint @ CGErrorBreakpoint() to catch errors as they are logged.
</I>&gt;<i> ^C
</I>&gt;<i> 
</I>&gt;<i> Has anyone seen this before?  Seems like a simple case which should work
</I>&gt;<i> under Mac OS X.  Can anyone suggest possible solutions?  Is it a
</I>&gt;<i> mismatch between X11 and/or GTK versions and Mono?  Any other
</I>&gt;<i> possibilities?  BTW, I have the sample source if anyone would like to
</I>&gt;<i> see this firsthand.
</I>&gt;<i> 
</I>&gt;<i> TIA,
</I>&gt;<i> Jeff Clausius
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  
</I>
&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at .ximian</A>
</I>
&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>




--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Windows-Forms-App-under-Mac-OS-X-Mono-tp4657557p4657560.html">http://mono.1490590.n4.nabble.com/Windows-Forms-App-under-Mac-OS-X-Mono-tp4657557p4657560.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049201.html">[Mono-list] Windows Forms App under Mac OS X Mono
</A></li>
	<LI>Next message: <A HREF="049203.html">[Mono-list] Over night introduced error in compiling any project: Error initializing task ResolveAssemblyReference
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49202">[ date ]</a>
              <a href="thread.html#49202">[ thread ]</a>
              <a href="subject.html#49202">[ subject ]</a>
              <a href="author.html#49202">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
