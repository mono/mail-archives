<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Latest DLR/IronPython under Mono 2.4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Latest%20DLR/IronPython%20under%20Mono%202.4&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042491.html">
   <LINK REL="Next"  HREF="042497.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Latest DLR/IronPython under Mono 2.4</H1>
    <B>Doug Blank</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Latest%20DLR/IronPython%20under%20Mono%202.4&In-Reply-To="
       TITLE="[Mono-list] Latest DLR/IronPython under Mono 2.4">doug.blank at gmail.com
       </A><BR>
    <I>Thu May 21 10:05:29 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="042491.html">[Mono-list] OnDeserialization problem
</A></li>
        <LI>Next message: <A HREF="042497.html">[Mono-list] Latest DLR/IronPython under Mono 2.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42496">[ date ]</a>
              <a href="thread.html#42496">[ thread ]</a>
              <a href="subject.html#42496">[ subject ]</a>
              <a href="author.html#42496">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have built the nightly source #23898 of the Dynamic Language Runtime (DLR)
from:

<A HREF="http://www.codeplex.com/dlr/SourceControl/ListDownloadableCommits.aspx">http://www.codeplex.com/dlr/SourceControl/ListDownloadableCommits.aspx</A>

I built this under Vista, and marked the Configuration for Release. I then
copied all of the Bin directory over to Linux, and tried running the
IronPython console program, and got the following error under Mono 2.4:

$ mono ipy.exe
IronPython 2.6 Beta (2.6.0.1) on .NET 2.0.50727.1433
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt;<i> 1 + 1
</I>Unhandled exception:

Unhandled Exception: System.ArgumentException: method arguments are
incompatible
  at System.Delegate.CreateDelegate (System.Type type, System.Object
firstArgument, System.Reflection.MethodInfo method, Boolean
throwOnBindFailure) [0x00000]
  at System.Delegate.CreateDelegate (System.Type type, System.Object
firstArgument, System.Reflection.MethodInfo method) [0x00000]
  at Microsoft.Scripting.Actions.Calls.SimpleArgBuilder.ToDelegate
(Microsoft.Scripting.Actions.Calls.OverloadResolver resolver, IList`1
knownTypes, System.Boolean[] hasBeenUsed) [0x00000]
  at Microsoft.Scripting.Actions.Calls.MethodCandidate.MakeDelegate
(Microsoft.Scripting.Actions.Calls.RestrictionInfo restrictionInfo)
[0x00000]
  at Microsoft.Scripting.Actions.Calls.BindingTarget.MakeDelegate ()
[0x00000]
  at
IronPython.Runtime.Types.BuiltinFunction+&lt;&gt;c__DisplayClass17`1[Microsoft.Func`4[Microsoft.Runtime.CompilerServices.CallSite,Microsoft.Scripting.Runtime.CodeContext,System.Object,System.Object]].&lt;MakeCall&gt;b__13
(Microsoft.Scripting.DynamicMetaObject[] newArgs) [0x00000]
  at IronPython.Runtime.Types.BuiltinFunction.MakeBuiltinFunctionDelegate
(Microsoft.Scripting.DynamicMetaObjectBinder call,
Microsoft.Linq.Expressions.Expression codeContext,
Microsoft.Scripting.DynamicMetaObject[] args, Boolean hasSelf,
Microsoft.Func`2 bind) [0x00000]
  at IronPython.Runtime.Types.BuiltinFunction.MakeCall[Func`4]
(IronPython.Runtime.Binding.PythonInvokeBinder binder, System.Object[] args)
[0x00000]
  at
IronPython.Runtime.Types.BuiltinFunction.IronPython.Runtime.Binding.IFastInvokable.MakeInvokeBinding[Func`4]
(Microsoft.Runtime.CompilerServices.CallSite`1 site,
IronPython.Runtime.Binding.PythonInvokeBinder binder,
Microsoft.Scripting.Runtime.CodeContext state, System.Object[] args)
[0x00000]
  at (wrapper static-rgctx-invoke)
IronPython.Runtime.Types.BuiltinFunction:static_rgctx_invoke_FastBindResult`1&lt;Func`4&lt;CallSite,
CodeContext, object, object&gt;&gt;__this___CallSite`1&lt;Func`4&lt;CallSite,
CodeContext, object, object&gt;&gt;_PythonInvokeBinder_CodeContext_object[]
(Microsoft.Runtime.CompilerServices.CallSite`1&lt;Microsoft.Func`4&lt;Microsoft.Runtime.CompilerServices.CallSite,
Microsoft.Scripting.Runtime.CodeContext, object,
object&gt;&gt;,IronPython.Runtime.Binding.PythonInvokeBinder,Microsoft.Scripting.Runtime.CodeContext,object[])
  at IronPython.Runtime.Binding.PythonInvokeBinder.BindDelegate[Func`4]
(Microsoft.Runtime.CompilerServices.CallSite`1 site, System.Object[] args)
[0x00000]
  at (wrapper static-rgctx-invoke)
IronPython.Runtime.Binding.PythonInvokeBinder:static_rgctx_invoke_Func`4&lt;CallSite,
CodeContext, object, object&gt;__this___CallSite`1&lt;Func`4&lt;CallSite,
CodeContext, object, object&gt;&gt;_object[]
(Microsoft.Runtime.CompilerServices.CallSite`1&lt;Microsoft.Func`4&lt;Microsoft.Runtime.CompilerServices.CallSite,
Microsoft.Scripting.Runtime.CodeContext, object, object&gt;&gt;,object[])
  at
Microsoft.Scripting.UpdateDelegates.UpdateAndExecute2[CodeContext,Object,Object]
(Microsoft.Runtime.CompilerServices.CallSite site,
Microsoft.Scripting.Runtime.CodeContext arg0, System.Object arg1) [0x00000]
  at (wrapper static-rgctx-invoke)
Microsoft.Scripting.UpdateDelegates:static_rgctx_invoke_object_CallSite_CodeContext_object
(Microsoft.Runtime.CompilerServices.CallSite,Microsoft.Scripting.Runtime.CodeContext,object)
  at IronPython.Runtime.PythonContext.InvokeOperatorWorker
(Microsoft.Scripting.Runtime.CodeContext context, UnaryOperators oper,
System.Object target, System.Object&amp; result) [0x00000]
  at IronPython.Runtime.PythonContext.InvokeUnaryOperator
(Microsoft.Scripting.Runtime.CodeContext context, UnaryOperators oper,
System.Object target) [0x00000]
  at IronPython.Runtime.Operations.PythonOps.ToString
(Microsoft.Scripting.Runtime.CodeContext context, System.Object o) [0x00000]

  at IronPython.Runtime.Operations.PythonOps.ToString (System.Object o)
[0x00000]
  at IronPython.Runtime.PythonContext.FormatPythonException (System.Object
pythonException) [0x00000]
  at IronPython.Runtime.PythonContext.FormatException (System.Exception
exception) [0x00000]
  at Microsoft.Scripting.Hosting.ExceptionOperations.FormatException
(System.Exception exception) [0x00000]
  at (wrapper remoting-invoke-with-check)
Microsoft.Scripting.Hosting.ExceptionOperations:FormatException
(System.Exception)
  at Microsoft.Scripting.Hosting.Shell.ConsoleHost.UnhandledException
(Microsoft.Scripting.Hosting.ScriptEngine engine, System.Exception e)
[0x00000]
  at Microsoft.Scripting.Hosting.Shell.ConsoleHost.RunCommandLine ()
[0x00000]
  at Microsoft.Scripting.Hosting.Shell.ConsoleHost.ExecuteInternal ()
[0x00000]
  at Microsoft.Scripting.Hosting.Shell.ConsoleHost.Execute () [0x00000]
  at Microsoft.Scripting.Hosting.Shell.ConsoleHost.Run (System.String[]
args) [0x00000]

I am not 100% sure that I have built the DLLs correctly for mono, but I've
tried a few times, and this does work on Vista with .NET. This has worked
with earlier builds, at least with the ones that Microsoft has built (for
the example, the DLR release 0.9.0). I also get the same error in my own
hosting app.

Is this a known issue? Is it fixed in 2.6? Am I doing something wrong?

Any hints would be appreciated!

-Doug
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20090521/753d578c/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20090521/753d578c/attachment.html</A> 
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042491.html">[Mono-list] OnDeserialization problem
</A></li>
	<LI>Next message: <A HREF="042497.html">[Mono-list] Latest DLR/IronPython under Mono 2.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42496">[ date ]</a>
              <a href="thread.html#42496">[ thread ]</a>
              <a href="subject.html#42496">[ subject ]</a>
              <a href="author.html#42496">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
