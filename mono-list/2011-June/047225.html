<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] DataContractSerializer differs from .Net on Generic class
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20DataContractSerializer%20differs%20from%20.Net%20on%20Generic%0A%20class&In-Reply-To=1308242289494-3603011.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="047219.html">
   <LINK REL="Next"  HREF="047231.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] DataContractSerializer differs from .Net on Generic class</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20DataContractSerializer%20differs%20from%20.Net%20on%20Generic%0A%20class&In-Reply-To=1308242289494-3603011.post%40n4.nabble.com"
       TITLE="[Mono-list] DataContractSerializer differs from .Net on Generic class">atsushieno at veritas-vos-liberabit.com
       </A><BR>
    <I>Thu Jun 16 20:13:39 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="047219.html">[Mono-list] DataContractSerializer differs from .Net on Generic	class
</A></li>
        <LI>Next message: <A HREF="047231.html">[Mono-list] DataContractSerializer differs from .Net on Generic	class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47225">[ date ]</a>
              <a href="thread.html#47225">[ thread ]</a>
              <a href="subject.html#47225">[ subject ]</a>
              <a href="author.html#47225">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Haven't exactly examined your repro, but it is likely that .NET adds cryptic
suffix to mapped xml name for generic types, to avoid possible conflicts.
We can add similar suffix but that cannot be compatible with .NET.
In that case, giving explicit data contract name for generic types is a 
solution.

Atsushi Eno

(2011/06/17 1:38), Cocai wrote:
&gt;<i> The serialization of a generic class by DataContractSerializer of a generic
</I>&gt;<i> class get different result if it was made in Mono 2.10.2 or in .Net 4, so
</I>&gt;<i> they are not interoperable.
</I>&gt;<i>
</I>&gt;<i> I have tried with:
</I>&gt;<i>          [DataContract]
</I>&gt;<i> 	public class MyClass
</I>&gt;<i> 	{
</I>&gt;<i> 		[DataMember]
</I>&gt;<i> 		public int Age { get; set; }
</I>&gt;<i> 	}
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 	[DataContract]
</I>&gt;<i> 	[KnownType(typeof(MyClass))]
</I>&gt;<i> 	[KnownType(typeof(String))]
</I>&gt;<i> 	public class MyGenerics&lt;T&gt;
</I>&gt;<i> 	{
</I>&gt;<i> 		[DataMember]
</I>&gt;<i> 		public T Test { get; set; }
</I>&gt;<i> 	}
</I>&gt;<i>
</I>&gt;<i> and serialize :
</I>&gt;<i>   var test1 = new MyGenerics&lt;string&gt;() {Test = &quot;test&quot;};
</I>&gt;<i> var test2 =  new MyGenerics&lt;MyClass&gt;() {Test = new MyClass() {Age = 4}};
</I>&gt;<i>
</I>&gt;<i> using the constructor
</I>&gt;<i> new DataContractSerializer(typeof (MyGenerics&lt;string&gt;), new [] {typeof
</I>&gt;<i> (MyGenerics&lt;string&gt;)}, int.MaxValue, false, true, null);
</I>&gt;<i>
</I>&gt;<i> or
</I>&gt;<i> new DataContractSerializer(typeof (MyGenerics&lt;MyClass&gt;), new [] {typeof
</I>&gt;<i> (MyGenerics&lt;MyClass&gt;)}, int.MaxValue, false, true, null);
</I>&gt;<i>
</I>&gt;<i> Someone else got the same problem? Has found an easy workaround?
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> Cristiano
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/DataContractSerializer-differs-from-Net-on-Generic-class-tp3603011p3603011.html">http://mono.1490590.n4.nabble.com/DataContractSerializer-differs-from-Net-on-Generic-class-tp3603011p3603011.html</A>
</I>&gt;<i> Sent from the Mono - General mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="047219.html">[Mono-list] DataContractSerializer differs from .Net on Generic	class
</A></li>
	<LI>Next message: <A HREF="047231.html">[Mono-list] DataContractSerializer differs from .Net on Generic	class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47225">[ date ]</a>
              <a href="thread.html#47225">[ thread ]</a>
              <a href="subject.html#47225">[ subject ]</a>
              <a href="author.html#47225">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
