<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Threads max out at 512?!?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="009303.html">
   <LINK REL="Next"  HREF="009314.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Threads max out at 512?!?
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] Threads max out at 512?!?">lupus@ximian.com
       </A><BR>
    <I>Tue, 29 Oct 2002 11:57:24 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="009303.html">[Mono-list] Threads max out at 512?!?
</A></li>
        <LI> Next message: <A HREF="009314.html">[Mono-list] Building Tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9304">[ date ]</a>
              <a href="thread.html#9304">[ thread ]</a>
              <a href="subject.html#9304">[ subject ]</a>
              <a href="author.html#9304">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/29/02 Dick Porter wrote:
&gt;<i> It's a mono issue.  There is a limit on the number of threads you can
</I>&gt;<i> have in a process on linux (its 1024 i think.)  The problem you're
</I>&gt;<i> seeing though is that it's running out of handle slots.  We used to get
</I>&gt;<i> up to a thousand or so threads before this happened, so I don't know why
</I>&gt;<i> it's lower now.
</I>&gt;<i> 
</I>&gt;<i> It's possible to increase the number of handle slots available (and I'm
</I>&gt;<i> currently thinking of making it increase dynamically) but you will still
</I>&gt;<i> run into the pthreads limit.
</I>
The 1024 process limit in linux is a old limit (probably in kernel version
2.0 or 2.2). Even then it could be increased by changing a #define, IIRC.
With the current libpthread/kernel the limit is more like 8196 threads
per process and with linux 2.6 and glibc 2.3 there won't be any hard
limit.
So, we need to not limit artificially the number of threads allowed
(and we need to check a C# program gets the proper notification when
thread creation fails).

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="009303.html">[Mono-list] Threads max out at 512?!?
</A></li>
	<LI> Next message: <A HREF="009314.html">[Mono-list] Building Tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9304">[ date ]</a>
              <a href="thread.html#9304">[ thread ]</a>
              <a href="subject.html#9304">[ subject ]</a>
              <a href="author.html#9304">[ author ]</a>
         </LI>
       </UL>
</body></html>
