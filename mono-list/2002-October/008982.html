<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Help needed with XSLT transformations
 (documentation browser)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:bronson%40rinspin.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="008974.html">
   <LINK REL="Next"  HREF="008997.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Help needed with XSLT transformations
 (documentation browser)
   </H1>
    <B>Scott Bronson
    </B> 
    <A HREF="mailto:bronson%40rinspin.com"
       TITLE="[Mono-list] Help needed with XSLT transformations
 (documentation browser)">bronson@rinspin.com
       </A><BR>
    <I>14 Oct 2002 00:22:39 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="008974.html">[Mono-list] Help needed with XSLT transformations
 (documentation browser)
</A></li>
        <LI> Next message: <A HREF="008997.html">[Mono-list] Help needed with XSLT transformations
 (documentation browser)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8982">[ date ]</a>
              <a href="thread.html#8982">[ thread ]</a>
              <a href="subject.html#8982">[ subject ]</a>
              <a href="author.html#8982">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-MIBDmR7iduu5GJDQEAUq
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

I played around with mscorlib.xml today.  Enclosed are some files to
generate a really raw set of index pages.



On Sat, 2002-10-12 at 15:59, Miguel de Icaza wrote:
&gt;<i> Well, the various &quot;scripts&quot; should be used to generate different
</I>&gt;<i> presentations (class info, complete class dumping, specific member,
</I>&gt;<i> member summary).  So just assume that you can jump to all of those entry
</I>&gt;<i> points.
</I>
OK, right now they're generating static html files, locally browsable. 
All the information needed to generate the files is contained in the
link, i.e. 


&gt;<i> I would like to only ship the XML files, and have our documentation
</I>&gt;<i> browser generate the various presentations on the flight using the XSLT
</I>&gt;<i> transformations. 
</I>
It takes both Sablotron and xalan C++ the better part of a second just
to read in mscorlib.xml (Athlon 1800, 512 Mb RAM).  Breakdown: parsing
the input files takes 900 ms, the transform takes 150 ms.  I can cut
this down by doing a pre-transform and caching the results.

Where did mscorlib.xml come from?  Can we add class summaries to it? 
Right now, if I want to create a page that lists classes and their
summaries


&gt;<i> &gt; 3) Where can I find the other XML files?  Is there a DTD or spec
</I>&gt;<i> &gt;    or something?  I've only tested against Types.xml.
</I>&gt;<i> 
</I>&gt;<i> I have now checked in all the XML files into the Mono CVS repository in
</I>&gt;<i> the module `monodoc' (I had forgotten to push it to the anoncvs servers,
</I>&gt;<i> but am forcing a push right now).
</I>

--=-MIBDmR7iduu5GJDQEAUq
Content-Disposition: attachment; filename=generate-index.pl
Content-Transfer-Encoding: quoted-printable
Content-Type: text/x-perl; name=generate-index.pl; charset=ANSI_X3.4-1968

#!/usr/bin/perl -w

my $xml =3D 'mscorlib.xml';

open(FH, &quot;xalan -Q -XSL list-namespaces.xsl -IN $xml |&quot;)
  or die &quot;Could not list namespaces: $!\n&quot;;
my @arr =3D &lt;FH&gt;;
close FH;

print &quot;Generating (root)\n&quot;;
system(&quot;xalan -Q -XSL show-namespace.xsl -IN $xml -OUT show-namespace.xsl--=
[].html&quot;) =3D=3D 0 or die &quot;Could not run xalan: returned $?\n&quot;;

for(@arr)
{
   chomp;
   print &quot;Generating $_\n&quot;;
   system(&quot;xalan -Q -XSL show-namespace.xsl -IN $xml -PARAM ns \&quot;'$_'\&quot; -OU=
T show-namespace.xsl--[$_].html&quot;) =3D=3D 0 or die &quot;Could not run xalan: ret=
urned $?\n&quot;;
}



--=-MIBDmR7iduu5GJDQEAUq--



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="008974.html">[Mono-list] Help needed with XSLT transformations
 (documentation browser)
</A></li>
	<LI> Next message: <A HREF="008997.html">[Mono-list] Help needed with XSLT transformations
 (documentation browser)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8982">[ date ]</a>
              <a href="thread.html#8982">[ thread ]</a>
              <a href="subject.html#8982">[ subject ]</a>
              <a href="author.html#8982">[ author ]</a>
         </LI>
       </UL>
</body></html>
