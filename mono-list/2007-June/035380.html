<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mono.Data.SqliteClient.SqliteSyntaxException: database	is locked
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono.Data.SqliteClient.SqliteSyntaxException%3A%20database%0A%09is%20locked&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035375.html">
   <LINK REL="Next"  HREF="035381.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mono.Data.SqliteClient.SqliteSyntaxException: database	is locked</H1>
    <B>Manish Rai Jain</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono.Data.SqliteClient.SqliteSyntaxException%3A%20database%0A%09is%20locked&In-Reply-To="
       TITLE="[Mono-list] Mono.Data.SqliteClient.SqliteSyntaxException: database	is locked">manishrjain at gmail.com
       </A><BR>
    <I>Tue Jun 19 12:09:45 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="035375.html">[Mono-list] Does Mono xsd support external schema files?
</A></li>
        <LI>Next message: <A HREF="035381.html">[Mono-list] Mono.Data.SqliteClient.SqliteSyntaxException:	database is locked
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35380">[ date ]</a>
              <a href="thread.html#35380">[ thread ]</a>
              <a href="subject.html#35380">[ subject ]</a>
              <a href="author.html#35380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My application is utilizing sqlite as the backend. I'm using the
libmono-sqlite library which comes with Ubuntu, the version as reported is
2.0. The connection setting is set as &quot;URI=file:/../sqlite.db,version=3&quot;. My
application is a GUI application, with one extra thread than the
Gtk.application main thread. This thread tries to communicate with online
server, and update the records in the database. I've couple of tables inside
the single database. Initially I had opened up a single connection, and was
doing updates/selects through that. I ended up with &quot;library sequence out of
error&quot; exceptions. So, I modified the code such that each query will open up
new connection, and then run itself. So, &quot;library sequence&quot; exceptions went
away, but got overtaken by &quot;database locked&quot; ones. So, to do synchronization
at the application level, I've set the C# locking mechanism to such that
1. each table only runs one query at a time, and
2. only one write query is being run at a time.

However, all this has done is just to _reduce_ the number of database locked
exceptions. I'm still getting them. Is there a way by which they can be
eliminated? Mono database page shows that we can use the new library
System.Data.Sqlite, which is version 3 and apparently doesn't have these
synchronization issues. However, I've been unable to find the .dll for
linux. Any help is appreciated.

Thanks
Manish
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20070620/00320812/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20070620/00320812/attachment.html</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035375.html">[Mono-list] Does Mono xsd support external schema files?
</A></li>
	<LI>Next message: <A HREF="035381.html">[Mono-list] Mono.Data.SqliteClient.SqliteSyntaxException:	database is locked
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35380">[ date ]</a>
              <a href="thread.html#35380">[ thread ]</a>
              <a href="subject.html#35380">[ subject ]</a>
              <a href="author.html#35380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
