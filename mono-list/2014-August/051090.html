<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Exception stacktrace does not contain full call	stack
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Exception%20stacktrace%20does%20not%20contain%20full%20call%0A%09stack&In-Reply-To=%3CCALwbK7R%2BV8%2BxiBz-39GuUM1jKc_VCeH9jY1HeF3%2BLUooymMTig%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051081.html">
   <LINK REL="Next"  HREF="051083.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Exception stacktrace does not contain full call	stack</H1>
    <B>Giuliano Barberi</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Exception%20stacktrace%20does%20not%20contain%20full%20call%0A%09stack&In-Reply-To=%3CCALwbK7R%2BV8%2BxiBz-39GuUM1jKc_VCeH9jY1HeF3%2BLUooymMTig%40mail.gmail.com%3E"
       TITLE="[Mono-list] Exception stacktrace does not contain full call	stack">gbarberi at aotaonline.com
       </A><BR>
    <I>Thu Aug 21 21:11:42 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="051081.html">[Mono-list] Exception stacktrace does not contain full call	stack
</A></li>
        <LI>Next message: <A HREF="051083.html">[Mono-list] Mono 1.2.5 for Novell iFolder 3 for Mac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51090">[ date ]</a>
              <a href="thread.html#51090">[ thread ]</a>
              <a href="subject.html#51090">[ subject ]</a>
              <a href="author.html#51090">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Can anyone help me out with this. I'm really baffled as to why this is
happening. I wonder if it's something to do with async and the way mono
builds up the aggregate exception but the behavior is certainly different
than the .NET Framework and I am wondering if there is something I can do
to get the correct stack trace.

Thanks!


On Mon, Aug 18, 2014 at 2:16 PM, giulianob &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">gbarberi at aotaonline.com</A>&gt; wrote:

&gt;<i> Can anyone explain to me why when I do exception.StackTrace it does not
</I>&gt;<i> give
</I>&gt;<i> me the full call stack but when I call Environment.StackTrace it does?
</I>&gt;<i>
</I>&gt;<i> For example, here's the callstack when I catch an exception and call
</I>&gt;<i> exception.StackTrace
</I>&gt;<i> ================
</I>&gt;<i> 2014-08-18 14:10:28,243 [Threadpool worker] ERROR Persistance.IDbManager -
</I>&gt;<i> Stack from exception:   at MySql.Data.MySqlClient.MySqlStream.ReadPacket ()
</I>&gt;<i> [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at MySql.Data.MySqlClient.NativeDriver.GetResult (System.Int32&amp;
</I>&gt;<i> affectedRow, System.Int64&amp; insertedId) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i> ================
</I>&gt;<i>
</I>&gt;<i> And here is an exception when I call Environment.StackTrace from the place
</I>&gt;<i> where the exception is caught:
</I>&gt;<i>
</I>&gt;<i> ================
</I>&gt;<i> 2014-08-18 14:10:28,244 [Threadpool worker] ERROR Persistance.IDbManager -
</I>&gt;<i> Stack from environment:    at System.Environment.get_StackTrace() in
</I>&gt;<i> /build/buildd/mono-3-opt-3.2.8/mcs/class/corlib/System/Environment.cs:line
</I>&gt;<i> 261
</I>&gt;<i>    at
</I>&gt;<i> Persistance.Managers.MySqlDbManager.HandleGeneralException(System.Exception
</I>&gt;<i> e, System.Data.Common.DbCommand command) in
</I>&gt;<i>
</I>&gt;<i> /var/lib/jenkins/jobs/Server_Build/workspace/server/Persistance/Managers/MySqlDbManager.cs:line
</I>&gt;<i> 926
</I>&gt;<i>    at
</I>&gt;<i>
</I>&gt;<i> Persistance.Managers.MySqlDbManager.ExecuteNonQuery(MySql.Data.MySqlClient.MySqlCommand
</I>&gt;<i> command) in
</I>&gt;<i>
</I>&gt;<i> /var/lib/jenkins/jobs/Server_Build/workspace/server/Persistance/Managers/MySqlDbManager.cs:line
</I>&gt;<i> 904
</I>&gt;<i>    at Persistance.Managers.MySqlDbManager.Query(System.String query,
</I>&gt;<i> Persistance.DbColumn[] parms) in
</I>&gt;<i>
</I>&gt;<i> /var/lib/jenkins/jobs/Server_Build/workspace/server/Persistance/Managers/MySqlDbManager.cs:line
</I>&gt;<i> 383
</I>&gt;<i>    at Game.Comm.SystemCommandLineModule.ThrowSqlError(Game.Comm.Session
</I>&gt;<i> session, System.String[] parms) in
</I>&gt;<i> /var/lib/jenkins/jobs/Server_Build/workspace/server/Game/Comm/CmdLine
</I>&gt;<i> Commands/SystemCommandLineModule.cs:line 35
</I>&gt;<i>    at Game.Comm.CommandLineProcessor.Execute(Game.Comm.Session session,
</I>&gt;<i> System.String cmd, System.String parms) in
</I>&gt;<i>
</I>&gt;<i> /var/lib/jenkins/jobs/Server_Build/workspace/server/Game/Comm/CommandLineProcessor.cs:line
</I>&gt;<i> 67
</I>&gt;<i>    at
</I>&gt;<i>
</I>&gt;<i> Game.Comm.ProcessorCommands.CommandLineCommandsModule.CommandLine(Game.Comm.Session
</I>&gt;<i> session, Game.Comm.Packet packet) in
</I>&gt;<i>
</I>&gt;<i> /var/lib/jenkins/jobs/Server_Build/workspace/server/Game/Comm/ProcessorCommands/CommandLineCommandsModule.cs:line
</I>&gt;<i> 55
</I>&gt;<i>    at Game.Comm.Processor.Execute(Game.Comm.Session session,
</I>&gt;<i> Game.Comm.Packet packet) in
</I>&gt;<i>
</I>&gt;<i> /var/lib/jenkins/jobs/Server_Build/workspace/server/Game/Comm/Processor.cs:line
</I>&gt;<i> 49
</I>&gt;<i>    at Game.Comm.Session.Process(Game.Comm.Packet packet) in
</I>&gt;<i>
</I>&gt;<i> /var/lib/jenkins/jobs/Server_Build/workspace/server/Game/Comm/Session.cs:line
</I>&gt;<i> 92
</I>&gt;<i>    at Game.Comm.AsyncTcpServer+&lt;ReadLoop&gt;c__async1.MoveNext() in
</I>&gt;<i>
</I>&gt;<i> /var/lib/jenkins/jobs/Server_Build/workspace/server/Game/Comm/AsyncTcpServer.cs:line
</I>&gt;<i> 301
</I>&gt;<i>    at Dawn.Net.Sockets.SocketAwaiter.&lt;.ctor&gt;b__0(System.Object param0,
</I>&gt;<i> System.Net.Sockets.SocketAsyncEventArgs param1)
</I>&gt;<i>    at
</I>&gt;<i>
</I>&gt;<i> System.Net.Sockets.SocketAsyncEventArgs.OnCompleted(System.Net.Sockets.SocketAsyncEventArgs
</I>&gt;<i> e) in
</I>&gt;<i>
</I>&gt;<i> /build/buildd/mono-3-opt-3.2.8/mcs/class/System/System.Net.Sockets/SocketAsyncEventArgs.cs:line
</I>&gt;<i> 177
</I>&gt;<i>    at System.Net.Sockets.SocketAsyncEventArgs.ReceiveCallback(IAsyncResult
</I>&gt;<i> ares) in
</I>&gt;<i>
</I>&gt;<i> /build/buildd/mono-3-opt-3.2.8/mcs/class/System/System.Net.Sockets/SocketAsyncEventArgs.cs:line
</I>&gt;<i> 253
</I>&gt;<i>    at System.Net.Sockets.SocketAsyncEventArgs.DispatcherCB(IAsyncResult
</I>&gt;<i> ares) in
</I>&gt;<i>
</I>&gt;<i> /build/buildd/mono-3-opt-3.2.8/mcs/class/System/System.Net.Sockets/SocketAsyncEventArgs.cs:line
</I>&gt;<i> 222
</I>&gt;<i> ================
</I>&gt;<i>
</I>&gt;<i> I have the mdb files and running with --debug if that makes a difference.
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://mono.1490590.n4.nabble.com/Exception-stacktrace-does-not-contain-full-call-stack-tp4663558.html">http://mono.1490590.n4.nabble.com/Exception-stacktrace-does-not-contain-full-call-stack-tp4663558.html</A>
</I>&gt;<i> Sent from the Mono - General mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>


-- 
Giuliano Barberi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20140821/50c598eb/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20140821/50c598eb/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051081.html">[Mono-list] Exception stacktrace does not contain full call	stack
</A></li>
	<LI>Next message: <A HREF="051083.html">[Mono-list] Mono 1.2.5 for Novell iFolder 3 for Mac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51090">[ date ]</a>
              <a href="thread.html#51090">[ thread ]</a>
              <a href="subject.html#51090">[ subject ]</a>
              <a href="author.html#51090">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
