<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] HttpListener SSL client certificate
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20HttpListener%20SSL%20client%20certificate&In-Reply-To=%3C1407425587490-4663487.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051050.html">
   <LINK REL="Next"  HREF="051056.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] HttpListener SSL client certificate</H1>
    <B>DrGusman</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20HttpListener%20SSL%20client%20certificate&In-Reply-To=%3C1407425587490-4663487.post%40n4.nabble.com%3E"
       TITLE="[Mono-list] HttpListener SSL client certificate">geniwab at gmail.com
       </A><BR>
    <I>Thu Aug  7 15:33:07 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="051050.html">[Mono-list] HttpListener SSL client certificate
</A></li>
        <LI>Next message: <A HREF="051056.html">[Mono-list] HttpListener SSL client certificate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51052">[ date ]</a>
              <a href="thread.html#51052">[ thread ]</a>
              <a href="subject.html#51052">[ subject ]</a>
              <a href="author.html#51052">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>No, it's not related (but is good to know), found what happens and had to
modify the mono source for HttpConnection.

Some time ago someone had the brilliant idea to enable client certificate
support, /*and hardcoded it*/

<A HREF="https://groups.google.com/forum/#!topic/mono-svn-patches/FHBT66s39pg">https://groups.google.com/forum/#!topic/mono-svn-patches/FHBT66s39pg</A>

I can understand that someone can want to use client certificates, but not
everybody will (99.99999999% of times will not be used (did I mis some
nines?)), so if this is added it must have a configuration property or
something like that.

Just in case someone is in my same situation, if you are compiling mono from
source as me go to /mcs/class/System/System.Net/HttpConnection.cs and
change:

    SslServerStream ssl_stream = new SslServerStream (new NetworkStream
(sock, false), cert, false, true, false);

for

    SslServerStream ssl_stream = new SslServerStream (new NetworkStream
(sock, false), cert, false, false);

Recompile and voila, you can now use SSL without annoying your users asking
on each connection for a user certificate.

Cheers.



--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/HttpListener-SSL-client-certificate-tp4663483p4663487.html">http://mono.1490590.n4.nabble.com/HttpListener-SSL-client-certificate-tp4663483p4663487.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051050.html">[Mono-list] HttpListener SSL client certificate
</A></li>
	<LI>Next message: <A HREF="051056.html">[Mono-list] HttpListener SSL client certificate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51052">[ date ]</a>
              <a href="thread.html#51052">[ thread ]</a>
              <a href="subject.html#51052">[ subject ]</a>
              <a href="author.html#51052">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
