<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Exception stacktrace does not contain full call	stack
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Exception%20stacktrace%20does%20not%20contain%20full%20call%0A%09stack&In-Reply-To=%3C1408389880060-4663560.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051080.html">
   <LINK REL="Next"  HREF="051090.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Exception stacktrace does not contain full call	stack</H1>
    <B>giulianob</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Exception%20stacktrace%20does%20not%20contain%20full%20call%0A%09stack&In-Reply-To=%3C1408389880060-4663560.post%40n4.nabble.com%3E"
       TITLE="[Mono-list] Exception stacktrace does not contain full call	stack">gbarberi at aotaonline.com
       </A><BR>
    <I>Mon Aug 18 19:24:40 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="051080.html">[Mono-list] Exception stacktrace does not contain full call stack
</A></li>
        <LI>Next message: <A HREF="051090.html">[Mono-list] Exception stacktrace does not contain full call	stack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51081">[ date ]</a>
              <a href="thread.html#51081">[ thread ]</a>
              <a href="subject.html#51081">[ subject ]</a>
              <a href="author.html#51081">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Also to add something else. I'm using async sockets if that makes a
difference. I did this to get the aggregate exception as well:
==============
task.ContinueWith(continuation =&gt;
            {
                Logger.Error(continuation.Exception);
            }, TaskContinuationOptions.ExecuteSynchronously |
TaskContinuationOptions.OnlyOnFaulted);
==============

With Mono this is the exception that gets logged:
==============
2014-08-18 14:10:28,249 [Threadpool worker] ERROR Game.Engine - Unhandled
exception System.AggregateException:  ---&gt;
MySql.Data.MySqlClient.MySqlException: xxxxxxxxxxxxx
  at MySql.Data.MySqlClient.MySqlStream.ReadPacket () [0x00000] in &lt;filename
unknown&gt;:0 
  at MySql.Data.MySqlClient.NativeDriver.GetResult (System.Int32&amp;
affectedRow, System.Int64&amp; insertedId) [0x00000] in &lt;filename unknown&gt;:0 
  --- End of inner exception stack trace ---
 --&gt; (Inner exception 0) MySql.Data.MySqlClient.MySqlException: PROCEDURE
BOOM does not exist
  at MySql.Data.MySqlClient.MySqlStream.ReadPacket () [0x00000] in &lt;filename
unknown&gt;:0 
  at MySql.Data.MySqlClient.NativeDriver.GetResult (System.Int32&amp;
affectedRow, System.Int64&amp; insertedId) [0x00000] in &lt;filename unknown&gt;:0 

 =================

whereas when I run it in the .NET framework I get this:
=================
2014-08-18 15:13:34,884 [39] ERROR Game.Engine - Unhandled exception
System.AggregateException: One or more errors occurred. ---&gt;
MySql.Data.MySqlClient.MySqlException: xxxxxxxxxxxxxxxxxx
   at Persistance.Managers.MySqlDbManager.HandleGeneralException(Exception
e, DbCommand command) in server\Persistance\Managers\MySqlDbManager.cs:line
935
   at Persistance.Managers.MySqlDbManager.ExecuteNonQuery(MySqlCommand
command) in server\Persistance\Managers\MySqlDbManager.cs:line 904
   at Persistance.Managers.MySqlDbManager.Query(String query, DbColumn[]
parms) in server\Persistance\Managers\MySqlDbManager.cs:line 383
   at Game.Comm.SystemCommandLineModule.ThrowSqlError(Session session,
String[] parms) in server\Game\Comm\CmdLine
Commands\SystemCommandLineModule.cs:line 35
   at Game.Comm.CommandLineProcessor.Execute(Session session, String cmd,
String parms) in server\Game\Comm\CommandLineProcessor.cs:line 67
   at
Game.Comm.ProcessorCommands.CommandLineCommandsModule.CommandLine(Session
session, Packet packet) in
server\Game\Comm\ProcessorCommands\CommandLineCommandsModule.cs:line 55
   at Game.Comm.Processor.Execute(Session session, Packet packet) in
server\Game\Comm\Processor.cs:line 49
   at Game.Comm.Session.Process(Packet packet) in
server\Game\Comm\Session.cs:line 92
   at Game.Comm.AsyncTcpServer.&lt;ReadLoop&gt;d__8.MoveNext() in
server\Game\Comm\AsyncTcpServer.cs:line 340
   --- End of inner exception stack trace ---
---&gt; (Inner Exception #0) MySql.Data.MySqlClient.MySqlException
(0x80004005): Cannot load from mysql.proc. The table is probably corrupted
   at Persistance.Managers.MySqlDbManager.HandleGeneralException(Exception
e, DbCommand command) in server\Persistance\Managers\MySqlDbManager.cs:line
935
   at Persistance.Managers.MySqlDbManager.ExecuteNonQuery(MySqlCommand
command) in server\Persistance\Managers\MySqlDbManager.cs:line 904
   at Persistance.Managers.MySqlDbManager.Query(String query, DbColumn[]
parms) in server\Persistance\Managers\MySqlDbManager.cs:line 383
   at Game.Comm.SystemCommandLineModule.ThrowSqlError(Session session,
String[] parms) in server\Game\Comm\CmdLine
Commands\SystemCommandLineModule.cs:line 35
   at Game.Comm.CommandLineProcessor.Execute(Session session, String cmd,
String parms) in server\Game\Comm\CommandLineProcessor.cs:line 67
   at
Game.Comm.ProcessorCommands.CommandLineCommandsModule.CommandLine(Session
session, Packet packet) in
server\Game\Comm\ProcessorCommands\CommandLineCommandsModule.cs:line 55
   at Game.Comm.Processor.Execute(Session session, Packet packet) in
server\Game\Comm\Processor.cs:line 49
   at Game.Comm.Session.Process(Packet packet) in
server\Game\Comm\Session.cs:line 92
   at Game.Comm.AsyncTcpServer.&lt;ReadLoop&gt;d__8.MoveNext() in
server\Game\Comm\AsyncTcpServer.cs:line 340&lt;---
=================



--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Exception-stacktrace-does-not-contain-full-call-stack-tp4663558p4663560.html">http://mono.1490590.n4.nabble.com/Exception-stacktrace-does-not-contain-full-call-stack-tp4663558p4663560.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051080.html">[Mono-list] Exception stacktrace does not contain full call stack
</A></li>
	<LI>Next message: <A HREF="051090.html">[Mono-list] Exception stacktrace does not contain full call	stack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51081">[ date ]</a>
              <a href="thread.html#51081">[ thread ]</a>
              <a href="subject.html#51081">[ subject ]</a>
              <a href="author.html#51081">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
