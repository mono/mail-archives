<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Problem with MySql.Data.MySqlClient.MySqlConnection.Open()
 or System.Text.Encoding.GetEncoding()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:charles%40acolytecommunication.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="024435.html">
   <LINK REL="Next"  HREF="024445.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Problem with MySql.Data.MySqlClient.MySqlConnection.Open()
 or System.Text.Encoding.GetEncoding()
   </H1>
    <B>Charles Martin
    </B> 
    <A HREF="mailto:charles%40acolytecommunication.com"
       TITLE="[Mono-list] Problem with MySql.Data.MySqlClient.MySqlConnection.Open()
 or System.Text.Encoding.GetEncoding()">charles@acolytecommunication.com
       </A><BR>
    <I>Wed, 17 Nov 2004 09:29:10 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="024435.html">[Mono-list] Problem with MySql.Data.MySqlClient.MySqlConnection.Open() or System.Text.Encoding.GetEncoding()
</A></li>
        <LI> Next message: <A HREF="024445.html">[Mono-list] mon_mono howto guide?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24436">[ date ]</a>
              <a href="thread.html#24436">[ thread ]</a>
              <a href="subject.html#24436">[ subject ]</a>
              <a href="author.html#24436">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a multi-part message in MIME format.
--------------050706010306070500040202
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Well, I think this has been fixed in the cvs but not in the realeased 
tarball I thnk.

I recompiled mono with the following changes and it fixed the problem :

/root/mcs-1.0.4/class/corlib/System.Text/Encoding.cs (or wherever you 
put the source files)

Near line 393, there's a line that says something like

                        Latin1Encoding.ISOLATIN_CODE_PAGE,
                        &quot;iso_8859_1&quot;

Juste change the second one for

                        Latin1Encoding.ISOLATIN_CODE_PAGE,
                        &quot;iso_8859_1&quot;, &quot;latin1&quot;

And recompile, everything should be fine !

Have fun !

P.S. There's a bug-report with the correspond bugfix for this but I 
haven't bookmarked it...



Charles Martin  Programmeur analyste
819.378.4242    *acolyte*communication.com
<A HREF="mailto:charles@acolytecommunication.com">charles@acolytecommunication.com</A>


Joshua Brickel wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I'm not sure if this is a problem with the MySql library or with a 
</I>&gt;<i> System library.  But what appears to be happenning is that  the Method 
</I>&gt;<i> MySql.Data.MySqlClient.MySqlConnection.Open() appears to be calling 
</I>&gt;<i> System.Text.Encoding.GetEncoding(&quot;latin1&quot;); The reason I say this is 
</I>&gt;<i> that the error I get when trying to open a database is:
</I>&gt;<i>
</I>&gt;<i>  Unhandled Exception: System.NotSupportedException: Encoding name 
</I>&gt;<i> `latin1' not supported
</I>&gt;<i> in [0x000fe] (at 
</I>&gt;<i> /opt/src2/mono-all/1.0.4/mcs-1.0.4/class/corlib/System.Text/Encoding.cs:446) 
</I>&gt;<i> System.Text.Encoding:GetEncoding (string)
</I>&gt;<i>
</I>&gt;<i> And indeed if I run just the line 
</I>&gt;<i> System.Text.Encoding.GetEncoding(&quot;latin1&quot;) I get the same error of: 
</I>&gt;<i> Unhandled Exception: System.NotSupportedException: Encoding name 
</I>&gt;<i> `latin1' not supported
</I>&gt;<i> in [0x000fe] (at 
</I>&gt;<i> /opt/src2/mono-all/1.0.4/mcs-1.0.4/class/corlib/System.Text/Encoding.cs:446) 
</I>&gt;<i> System.Text.Encoding:GetEncoding (string)
</I>&gt;<i>
</I>&gt;<i> Now I figure this is a problem either with System.Text or with the 
</I>&gt;<i> Mysql.Data Library.  But I can not tell unless I can find 
</I>&gt;<i> documentation of whether or not System.Text should support the string 
</I>&gt;<i> value of &quot;latin1&quot;.
</I>&gt;<i>
</I>&gt;<i> Does anyone know where the requirments for System.Text are kept? 
</I>&gt;<i>
</I>&gt;<i> In addition, apparently I will not be able to get this library to work 
</I>&gt;<i> with my MySql database unless I change the language encoding.  Does 
</I>&gt;<i> anyone have any experience on which charchter set is common to both 
</I>&gt;<i> DotNet and MySql?
</I>&gt;<i>
</I>&gt;<i> Finally, does anyone know to Whom do I contact to see if I can be of 
</I>&gt;<i> any help in the area of documentation?
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Joshua
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
--------------050706010306070500040202
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta content=&quot;text/html;charset=ISO-8859-1&quot; http-equiv=&quot;Content-Type&quot;&gt;
  &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;
&lt;meta content=&quot;text/html;charset=ISO-8859-1&quot; http-equiv=&quot;Content-Type&quot;&gt;
&lt;title&gt;&lt;/title&gt;
Well, I think this has been fixed in the cvs but not in the realeased
tarball I thnk.&lt;br&gt;
&lt;br&gt;
I recompiled mono with the following changes and it fixed the problem :&lt;br&gt;
&lt;br&gt;
/root/mcs-1.0.4/class/corlib/System.Text/Encoding.cs (or wherever you
put the source files)&lt;br&gt;
&lt;br&gt;
Near line 393, there's a line that says something like&lt;br&gt;
&lt;br&gt;
&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Latin1Encoding.ISOLATIN_CODE_PAGE,&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &quot;iso_8859_1&quot;&lt;/tt&gt;&lt;br&gt;
&lt;br&gt;
Juste change the second one for&lt;br&gt;
&lt;br&gt;
&lt;tt&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Latin1Encoding.ISOLATIN_CODE_PAGE,&lt;br&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &quot;iso_8859_1&quot;, &quot;latin1&quot;&lt;/tt&gt;&lt;br&gt;
&lt;br&gt;
And recompile, everything should be fine !&lt;br&gt;
&lt;br&gt;
Have fun !&lt;br&gt;
&lt;br&gt;
P.S. There's a bug-report with the correspond bugfix for this but I
haven't bookmarked it...&lt;br&gt;
&lt;br&gt;
&lt;div class=&quot;moz-signature&quot;&gt;&lt;img moz-do-not-send=&quot;true&quot;
 src=&quot;<A HREF="http://www.acolytecommunication.com/images/acolytetag.gif"">http://www.acolytecommunication.com/images/acolytetag.gif&quot;</A> alt=&quot;&quot;
 border=&quot;0&quot;&gt;&lt;br&gt;
&lt;br&gt;
&lt;font style=&quot;font-size: 12px;&quot; color=&quot;#60614d&quot;
 face=&quot;Arial, Helvetica, Trebuchet MS, Avant Garde, AvantGarde Bk BT&quot;&gt;&lt;font
 color=&quot;#7096af&quot;&gt;Charles Martin&lt;/font&gt;&amp;nbsp;&amp;nbsp;Programmeur analyste&lt;br&gt;
819.378.4242&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;b&gt;acolyte&lt;/b&gt;communication.com&lt;br&gt;
&lt;a class=&quot;moz-txt-link-abbreviated&quot;
 href=&quot;mailto:<A HREF="mailto:charles@acolytecommunication.com">charles@acolytecommunication.com</A>&quot;&gt;<A HREF="mailto:charles@acolytecommunication.com">charles@acolytecommunication.com</A>&lt;/a&gt;&lt;/font&gt;&lt;br&gt;
&lt;/div&gt;
&lt;br&gt;
&lt;br&gt;
Joshua Brickel wrote:
&lt;blockquote cite=&quot;<A HREF="mailto:mid419B8FF2.6080504@aquanet.co.il">mid419B8FF2.6080504@aquanet.co.il</A>&quot; type=&quot;cite&quot;&gt;
  &lt;meta content=&quot;text/html;charset=ISO-8859-1&quot; http-equiv=&quot;Content-Type&quot;&gt;
  &lt;title&gt;&lt;/title&gt;
Hi,&lt;br&gt;
  &lt;br&gt;
I'm not sure if this is a problem with the MySql library or with a
System library.&amp;nbsp; But what appears to be happenning is that&amp;nbsp; the Method &lt;font
 color=&quot;#3366ff&quot;&gt;MySql.Data.MySqlClient.MySqlConnection.Open()&lt;/font&gt;
appears to be calling &lt;font color=&quot;#3366ff&quot;&gt;System.Text.Encoding.GetEncoding(&quot;latin1&quot;);
  &lt;font color=&quot;#000000&quot;&gt;The reason I say this is that the error I get
when trying to open a database is:&lt;br&gt;
  &lt;br&gt;
  &lt;/font&gt;&lt;/font&gt;&amp;nbsp;Unhandled Exception: System.NotSupportedException:
Encoding name `latin1' not supported&lt;br&gt;
in [0x000fe] (at
/opt/src2/mono-all/1.0.4/mcs-1.0.4/class/corlib/System.Text/Encoding.cs:446)
System.Text.Encoding:GetEncoding (string)&lt;br&gt;
  &lt;br&gt;
And indeed if I run just the line &lt;font color=&quot;#3366ff&quot;&gt;System.Text.Encoding.GetEncoding(&quot;latin1&quot;)
  &lt;/font&gt;I get the same error of:&amp;nbsp; &lt;br&gt;
Unhandled Exception: System.NotSupportedException: Encoding name
`latin1' not supported&lt;br&gt;
in [0x000fe] (at
/opt/src2/mono-all/1.0.4/mcs-1.0.4/class/corlib/System.Text/Encoding.cs:446)
System.Text.Encoding:GetEncoding (string)&lt;br&gt;
  &lt;br&gt;
Now I figure this is a problem either with System.Text or with the
Mysql.Data Library.&amp;nbsp; But I can not tell unless I can find documentation
of whether or not System.Text should support the string value of
&quot;latin1&quot;.&lt;br&gt;
  &lt;br&gt;
Does anyone know where the requirments for System.Text are kept?&amp;nbsp; &lt;br&gt;
  &lt;br&gt;
In addition, apparently I will not be able to get this library to work
with my MySql database unless I change the language encoding.&amp;nbsp; Does
anyone have any experience on which charchter set is common to both
DotNet and MySql?&lt;br&gt;
  &lt;br&gt;
Finally, does anyone know to Whom do I contact to see if I can be of
any help in the area of documentation?&lt;br&gt;
  &lt;br&gt;
Regards,&lt;br&gt;
  &lt;br&gt;
Joshua&lt;br&gt;
  &lt;br&gt;
  &lt;br&gt;
  &lt;br&gt;
&lt;/blockquote&gt;
&lt;/body&gt;
&lt;/html&gt;

--------------050706010306070500040202--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="024435.html">[Mono-list] Problem with MySql.Data.MySqlClient.MySqlConnection.Open() or System.Text.Encoding.GetEncoding()
</A></li>
	<LI> Next message: <A HREF="024445.html">[Mono-list] mon_mono howto guide?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24436">[ date ]</a>
              <a href="thread.html#24436">[ thread ]</a>
              <a href="subject.html#24436">[ subject ]</a>
              <a href="author.html#24436">[ author ]</a>
         </LI>
       </UL>
</body></html>
