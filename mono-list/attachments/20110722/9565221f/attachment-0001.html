<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-15&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;I'm&nbsp;trying&nbsp;to&nbsp;migrate&nbsp;an&nbsp;existing&nbsp;application&nbsp;to&nbsp;Mono&nbsp;(v2.10.2).&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Therefore&nbsp;I&nbsp;created&nbsp;a&nbsp;test&nbsp;WCF&nbsp;service&nbsp;with&nbsp;BasicHttpBinding&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;security.&nbsp;The&nbsp;client&nbsp;works&nbsp;perfectly&nbsp;with&nbsp;.NET,&nbsp;but&nbsp;when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;running&nbsp;with&nbsp;Mono&nbsp;it&nbsp;fails.&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;The&nbsp;client&nbsp;factory&nbsp;is&nbsp;instantiated&nbsp;as&nbsp;follows:&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;class=&quot;default&nbsp;prettyprint&quot;&gt;&lt;code&gt;&lt;span&nbsp;class=&quot;com&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;com&quot;&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;kwd&quot;&gt;var&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;certificate&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;kwd&quot;&gt;new&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;X509Certificate2&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;str&quot;&gt;&quot;certificate.pfx&quot;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;str&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;);&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;kwd&quot;&gt;var&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;binding&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;kwd&quot;&gt;new&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;BasicHttpBinding&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;();&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
binding&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Security&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Mode&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;BasicHttpSecurityMode&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Message&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;;&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
binding&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Security&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Message&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;ClientCredentialType&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;BasicHttpMessageCredentialType&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Certificate&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;;&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;kwd&quot;&gt;var&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;epa&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;kwd&quot;&gt;new&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;EndpointAddress&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
 &nbsp; &nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;kwd&quot;&gt;new&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Uri&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;str&quot;&gt;&lt;a&nbsp;class=&quot;moz-txt-link-rfc2396E&quot;&nbsp;href=&quot;http://localhost:53076/Service1.svc&quot;&gt;&quot;http://localhost:53076/Service1.svc&quot;&lt;/a&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;),&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
 &nbsp; &nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;kwd&quot;&gt;new&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;X509CertificateEndpointIdentity&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;certificate&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;));&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;kwd&quot;&gt;var&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;factory&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;kwd&quot;&gt;new&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;ChannelFactory&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;IService1&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;&amp;gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;binding&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;epa&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;);&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
factory&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Credentials&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;ServiceCertificate&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;DefaultCertificate&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;certificate&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;;&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
factory&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Credentials&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;ServiceCertificate&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Authentication&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;CertificateValidationMode&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;X509CertificateValidationMode&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;kwd&quot;&gt;None&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;;&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
factory&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Credentials&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;ServiceCertificate&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Authentication&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;RevocationMode&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;X509RevocationMode&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;NoCheck&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;;&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
factory&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Credentials&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;ClientCertificate&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;Certificate&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;certificate&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;;&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;kwd&quot;&gt;var&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;client&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;factory&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;typ&quot;&gt;CreateChannel&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;();&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;<br>
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;In&nbsp;Mono&nbsp;the&nbsp;application&nbsp;fails&nbsp;within&nbsp;CreateChannel&nbsp;throwing&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exception:&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;System.InvalidOperationException:&nbsp;The&nbsp;binding&nbsp;does&nbsp;not&nbsp;support<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;of&nbsp;the&nbsp;channel&nbsp;types&nbsp;that&nbsp;the&nbsp;contract&nbsp;'IService1'&nbsp;allows.&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;I&nbsp;debugged&nbsp;into&nbsp;the&nbsp;Mono&nbsp;source&nbsp;code&nbsp;and&nbsp;found&nbsp;out&nbsp;that&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;problem&nbsp;is&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AsymmetricSecurityBindingElement.InitiatorTokenParameter&nbsp;==&nbsp;null.&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;I'm&nbsp;new&nbsp;to&nbsp;Mono,&nbsp;maybe&nbsp;you&nbsp;could&nbsp;point&nbsp;me&nbsp;to&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;documentation/tutorial&nbsp;which&nbsp;covers&nbsp;this&nbsp;topic.&lt;/p&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
