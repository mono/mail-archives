<tt>
&lt;html&nbsp;xmlns:v=&quot;urn:schemas-microsoft-com:vml&quot;&nbsp;xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;&nbsp;xmlns:w=&quot;urn:schemas-microsoft-com:office:word&quot;&nbsp;xmlns:m=&quot;http://schemas.microsoft.com/office/2004/12/omml&quot;&nbsp;xmlns=&quot;http://www.w3.org/TR/REC-html40&quot;&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Microsoft&nbsp;Word&nbsp;15&nbsp;(filtered&nbsp;medium)&quot;&gt;<br>
&lt;style&gt;&lt;!--<br>
/*&nbsp;Font&nbsp;Definitions&nbsp;*/<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;Cambria&nbsp;Math&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;4&nbsp;5&nbsp;3&nbsp;5&nbsp;4&nbsp;6&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;15&nbsp;5&nbsp;2&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Consolas;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;11&nbsp;6&nbsp;9&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
/*&nbsp;Style&nbsp;Definitions&nbsp;*/<br>
p.MsoNormal,&nbsp;li.MsoNormal,&nbsp;div.MsoNormal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{margin:0in;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:.0001pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:11.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;}<br>
a:link,&nbsp;span.MsoHyperlink<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:#0563C1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
a:visited,&nbsp;span.MsoHyperlinkFollowed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:#954F72;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
span.EmailStyle17<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:personal-compose;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:windowtext;}<br>
.MsoChpDefault<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:export-only;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;}<br>
@page&nbsp;WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{size:8.5in&nbsp;11.0in;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin:1.0in&nbsp;1.0in&nbsp;1.0in&nbsp;1.0in;}<br>
div.WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{page:WordSection1;}<br>
--&gt;&lt;/style&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapedefaults&nbsp;v:ext=&quot;edit&quot;&nbsp;spidmax=&quot;1026&quot;&nbsp;/&gt;<br>
&lt;/xml&gt;&lt;![endif]--&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapelayout&nbsp;v:ext=&quot;edit&quot;&gt;<br>
&lt;o:idmap&nbsp;v:ext=&quot;edit&quot;&nbsp;data=&quot;1&quot;&nbsp;/&gt;<br>
&lt;/o:shapelayout&gt;&lt;/xml&gt;&lt;![endif]--&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;lang=&quot;EN-US&quot;&nbsp;link=&quot;#0563C1&quot;&nbsp;vlink=&quot;#954F72&quot;&gt;<br>
&lt;div&nbsp;class=&quot;WordSection1&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;I&nbsp;have&nbsp;a&nbsp;dictionary,&nbsp;and&nbsp;I&nbsp;want&nbsp;to&nbsp;read&nbsp;it&nbsp;from&nbsp;one&nbsp;thread,&nbsp;while&nbsp;possibly&nbsp;modifying&nbsp;it&nbsp;from&nbsp;another&nbsp;thread.&nbsp;&nbsp;In&nbsp;the&nbsp;event&nbsp;when&nbsp;one&nbsp;thread&nbsp;modifies&nbsp;it&nbsp;while&nbsp;another&nbsp;thread&nbsp;is&nbsp;enumerating&nbsp;it,&nbsp;I&nbsp;actually&nbsp;*want*&nbsp;the&nbsp;change&nbsp;to&nbsp;occur,&nbsp;and&nbsp;I<br>
&nbsp;want&nbsp;the&nbsp;enumerating&nbsp;thread&nbsp;to&nbsp;be&nbsp;aware&nbsp;a&nbsp;change&nbsp;has&nbsp;occurred.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;The&nbsp;best&nbsp;way&nbsp;I&nbsp;know&nbsp;is&nbsp;to&nbsp;let&nbsp;the&nbsp;exception&nbsp;occur,&nbsp;and&nbsp;simply&nbsp;handle&nbsp;the&nbsp;exception.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Problem&nbsp;is,&nbsp;the&nbsp;exception&nbsp;type&nbsp;is&nbsp;InvalidOperationException,&nbsp;which&nbsp;is&nbsp;pretty&nbsp;generic.&nbsp;&nbsp;So&nbsp;I&nbsp;need&nbsp;to&nbsp;handle&nbsp;InvalidOperationException,&nbsp;and&nbsp;look&nbsp;inside&nbsp;it,&nbsp;to&nbsp;see&nbsp;if&nbsp;&quot;Collection&nbsp;was&nbsp;modified&quot;&nbsp;is&nbsp;the&nbsp;cause&nbsp;of&nbsp;the&nbsp;exception.&nbsp;&nbsp;Right&nbsp;now,&nbsp;the<br>
&nbsp;only&nbsp;way&nbsp;I&nbsp;know&nbsp;to&nbsp;do&nbsp;it&nbsp;is&nbsp;like&nbsp;this:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;text-autospace:none&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9.5pt;font-family:Consolas&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&lt;span&nbsp;style=&quot;color:blue&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;style=&quot;color:#2B91AF&quot;&gt;InvalidOperationException&lt;/span&gt;&nbsp;e)&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;text-autospace:none&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9.5pt;font-family:Consolas&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;text-autospace:none&quot;&gt;&lt;span&nbsp;style=&quot;font-size:9.5pt;font-family:Consolas&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&lt;span&nbsp;style=&quot;color:blue&quot;&gt;if&lt;/span&gt;&nbsp;(e.Message&nbsp;==&nbsp;&lt;span&nbsp;style=&quot;color:#A31515&quot;&gt;&quot;Collection&nbsp;was&nbsp;modified;&nbsp;enumeration&nbsp;operation&nbsp;may&nbsp;not&nbsp;execute.&quot;&lt;/span&gt;)&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;This&nbsp;seems&nbsp;a&nbsp;little&nbsp;kludgy...&nbsp;&nbsp;First&nbsp;of&nbsp;all,&nbsp;can&nbsp;I&nbsp;be&nbsp;guaranteed&nbsp;the&nbsp;string&nbsp;will&nbsp;remain&nbsp;exactly&nbsp;the&nbsp;same,&nbsp;across&nbsp;platforms,&nbsp;and&nbsp;different&nbsp;versions&nbsp;of&nbsp;.Net&nbsp;and&nbsp;mono?&nbsp;&nbsp;Second&nbsp;of&nbsp;all,&nbsp;it's&nbsp;a&nbsp;string&nbsp;comparison.&nbsp;&nbsp;If&nbsp;it&nbsp;works,&nbsp;I&nbsp;don't&nbsp;mind&nbsp;it.&nbsp;<br>
&nbsp;It&nbsp;will&nbsp;happen&nbsp;rarely&nbsp;enough&nbsp;that&nbsp;I'm&nbsp;willing&nbsp;to&nbsp;pay&nbsp;the&nbsp;performance&nbsp;of&nbsp;string&nbsp;comparisons.&nbsp;&nbsp;The&nbsp;important&nbsp;goal&nbsp;is&nbsp;to&nbsp;accurately&nbsp;and&nbsp;reliably&nbsp;catch&nbsp;the&nbsp;right&nbsp;exception,&nbsp;on&nbsp;different&nbsp;platforms.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Thanks&nbsp;for&nbsp;suggestions...&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
