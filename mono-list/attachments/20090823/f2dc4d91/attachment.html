<tt>
Can&nbsp;you&nbsp;run&nbsp;your&nbsp;application&nbsp;under&nbsp;valgrind&nbsp;to&nbsp;verify&nbsp;if&nbsp;it&amp;#39;s&nbsp;not&nbsp;a&nbsp;runtime&lt;br&gt;memory&nbsp;leak?&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;Rodrigo&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;Aug&nbsp;2,&nbsp;2009&nbsp;at&nbsp;5:52&nbsp;PM,&nbsp;Manuel&nbsp;C.&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:wtesto@zero.undo.it&quot;&gt;wtesto@zero.undo.it&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;br&gt;<br>
I&amp;#39;m&nbsp;working&nbsp;on&nbsp;a&nbsp;long&nbsp;running&nbsp;application&nbsp;without&nbsp;GUI.&nbsp;My&nbsp;problem&nbsp;is,&nbsp;that&lt;br&gt;<br>
mono&nbsp;uses&nbsp;an&nbsp;increasing&nbsp;amount&nbsp;of&nbsp;memory&nbsp;until&nbsp;it&nbsp;crashes&nbsp;after&nbsp;~2&nbsp;weeks.&lt;br&gt;<br>
&lt;br&gt;<br>
Here&nbsp;is&nbsp;a&nbsp;example&nbsp;output&nbsp;of&nbsp;&amp;quot;top&amp;quot;&nbsp;after&nbsp;a&nbsp;few&nbsp;days:&lt;br&gt;<br>
&lt;br&gt;<br>
26225&nbsp;xxxx&nbsp; &nbsp; &nbsp; 16&nbsp; &nbsp;0&nbsp; 5360&nbsp;1540&nbsp;1336&nbsp;S&nbsp; &nbsp; 0&nbsp; 0.0&nbsp; &nbsp;0:00.01&nbsp;bash&lt;br&gt;<br>
 1478&nbsp;xxxx&nbsp; &nbsp; &nbsp; 16&nbsp; &nbsp;0&nbsp; 373m&nbsp;151m&nbsp;6088&nbsp;S&nbsp; &nbsp; 0&nbsp; 1.9&nbsp; &nbsp;0:35.80&nbsp;mono&lt;br&gt;<br>
&nbsp; 608&nbsp;root&nbsp; &nbsp; &nbsp; 18&nbsp; &nbsp;0&nbsp;23284&nbsp;7968&nbsp;4760&nbsp;R&nbsp; &nbsp; 0&nbsp; 0.1&nbsp; &nbsp;0:00.07&nbsp;apache2&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;first&nbsp;thoughts&nbsp;were&nbsp;some&nbsp;kind&nbsp;of&nbsp;memory&nbsp;leak&nbsp;caused&nbsp;by&nbsp;me.&nbsp;To&nbsp;track&nbsp;them&lt;br&gt;<br>
down&nbsp;I&nbsp;downloaded&nbsp;the&nbsp;trial&nbsp;version&nbsp;of&nbsp;ANTS&nbsp;Memory&nbsp;profiler&nbsp;for&nbsp;Windwos&nbsp;and&lt;br&gt;<br>
tracked&nbsp;the&nbsp;memory&nbsp;consumption&nbsp;over&nbsp;a&nbsp;few&nbsp;hours.&nbsp;Surprisingly&nbsp;there&nbsp;was&nbsp;no&lt;br&gt;<br>
memory&nbsp;leak.&nbsp;The&nbsp;Process&nbsp;started&nbsp;with&nbsp;~20mb&nbsp;of&nbsp;virtual&nbsp;memory,&nbsp;the&nbsp;real&lt;br&gt;<br>
memory&nbsp;usage&nbsp;was&nbsp;the&nbsp;whole&nbsp;time&nbsp;less&nbsp;than&nbsp;1mb.&nbsp;The&nbsp;virtual&nbsp;memory&nbsp;did&nbsp;also&lt;br&gt;<br>
not&nbsp;increase&nbsp;the&nbsp;whole&nbsp;time.&lt;br&gt;<br>
&lt;br&gt;<br>
To&nbsp;get&nbsp;an&nbsp;approximation&nbsp;of&nbsp;the&nbsp;real&nbsp;memory&nbsp;used&nbsp;by&nbsp;my&nbsp;application&nbsp;running&lt;br&gt;<br>
with&nbsp;mono,&nbsp;I&nbsp;logged&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;&amp;quot;System.GC.GetTotalMemory(false)&amp;quot;.&lt;br&gt;<br>
It&nbsp;is&nbsp;stable&nbsp;while&nbsp;the&nbsp;memory&nbsp;consumption&nbsp;by&nbsp;the&nbsp;mono&nbsp;process&nbsp;increases.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;don&amp;#39;t&nbsp;know&nbsp;what&nbsp;to&nbsp;try&nbsp;now...&nbsp;Has&nbsp;anyone&nbsp;a&nbsp;hint&nbsp;or&nbsp;tip?&nbsp;Please&nbsp;ask&nbsp;if&nbsp;you&lt;br&gt;<br>
need&nbsp;more&nbsp;information.&lt;br&gt;<br>
&lt;br&gt;<br>
Some&nbsp;additional&nbsp;information:&lt;br&gt;<br>
&lt;br&gt;<br>
Because&nbsp;I&nbsp;work&nbsp;under&nbsp;Windows&nbsp;XP,&nbsp;my&nbsp;C#&nbsp;code&nbsp;is&nbsp;written&nbsp;and&nbsp;built&nbsp;with&nbsp;Visual&lt;br&gt;<br>
Studio&nbsp;2008&nbsp;Express&nbsp;Edition.&nbsp;The&nbsp;production&nbsp;environment&nbsp;is&nbsp;a&nbsp;VPS&nbsp;with&nbsp;Debian&lt;br&gt;<br>
Etch&nbsp;and&nbsp;Mono&nbsp;version&nbsp;1.9.1&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://debian.meebey.net/etch-backports&quot;&nbsp;target=&quot;_blank&quot;&gt;http://debian.meebey.net/etch-backports&lt;/a&gt;.&lt;br&gt;<br>
The&nbsp;VPS&nbsp;is&nbsp;a&nbsp;64-bit&nbsp;system.&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;quot;uname&nbsp;-a&amp;quot;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; Linux&nbsp;xxxxxx&nbsp;2.6.18&nbsp;#1&nbsp;SMP&nbsp;Fri&nbsp;Dec&nbsp;12&nbsp;06:15:44&nbsp;UTC&nbsp;2008&nbsp;x86_64&nbsp;GNU/Linux&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;quot;mono&nbsp;-V&amp;quot;&lt;br&gt;<br>
Mono&nbsp;JIT&nbsp;compiler&nbsp;version&nbsp;1.9.1&nbsp;(tarball)&lt;br&gt;<br>
Copyright&nbsp;(C)&nbsp;2002-2007&nbsp;Novell,&nbsp;Inc&nbsp;and&nbsp;Contributors.&nbsp;&lt;a&nbsp;href=&quot;http://www.mono-project.com&quot;&nbsp;target=&quot;_blank&quot;&gt;www.mono-project.com&lt;/a&gt;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; TLS:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;__thread&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; GC:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Included&nbsp;Boehm&nbsp;(with&nbsp;typed&nbsp;GC)&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; SIGSEGV:&nbsp; &nbsp; &nbsp; &nbsp;altstack&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; Notifications:&nbsp;epoll&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; Architecture:&nbsp; x86&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; Disabled:&nbsp; &nbsp; &nbsp; none&lt;br&gt;<br>
&lt;br&gt;<br>
Application&nbsp;details:&lt;br&gt;<br>
-&nbsp;built&nbsp;with&nbsp;.Net&nbsp;2.0&nbsp;as&nbsp;target&nbsp;framework&lt;br&gt;<br>
-&nbsp;creates&nbsp;many&nbsp;shortliving&nbsp;TCP-clients&nbsp;(like&nbsp;a&nbsp;HTTP&nbsp;client)&lt;br&gt;<br>
-&nbsp;uses&nbsp;generic&nbsp;lists&nbsp;with&nbsp;own&nbsp;classes&lt;br&gt;<br>
-&nbsp;small&nbsp;built-in-HTTP-server&lt;br&gt;<br>
-&nbsp;2&nbsp;main&nbsp;threads,&nbsp;one&nbsp;for&nbsp;the&nbsp;main&nbsp;loop,&nbsp;the&nbsp;other&nbsp;for&nbsp;the&nbsp;HTTP-&nbsp;server&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
Manuel&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://www.nabble.com/Mono-memory-usage-grows-but-application-memory-looks-stable-tp24782014p24782014.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.nabble.com/Mono-memory-usage-grows-but-application-memory-looks-stable-tp24782014p24782014.html&lt;/a&gt;&lt;br&gt;<br>
<br>
Sent&nbsp;from&nbsp;the&nbsp;Mono&nbsp;-&nbsp;General&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-list&nbsp;maillist&nbsp; -&nbsp; &lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
