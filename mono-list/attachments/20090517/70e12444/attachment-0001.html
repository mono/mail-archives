<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;Hey&nbsp;guys,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I've&nbsp;been&nbsp;for&nbsp;the&nbsp;past&nbsp;couple&nbsp;of&nbsp;days&nbsp;hitting&nbsp;my&nbsp;head&nbsp;against&nbsp;the&nbsp;wall&nbsp;over&nbsp;a&nbsp;problem&nbsp;that&nbsp;I&nbsp;finally&nbsp;admit&nbsp;I&nbsp;can't&nbsp;figure&nbsp;out.&nbsp;I'm&nbsp;using&nbsp;mono&nbsp;as&nbsp;an&nbsp;extension&nbsp;platform&nbsp;for&nbsp;my&nbsp;C++&nbsp;application,&nbsp;and&nbsp;everything&nbsp;seemed&nbsp;fine&nbsp;up&nbsp;until&nbsp;I&nbsp;started&nbsp;needing&nbsp;to&nbsp;call&nbsp;methods&nbsp;in&nbsp;various&nbsp;contexts&nbsp;(it&nbsp;wasn't&nbsp;fine&nbsp;for&nbsp;long,&nbsp;as&nbsp;you&nbsp;can&nbsp;see).&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;an&nbsp;extension&nbsp;manager&nbsp;that&nbsp;loads&nbsp;assemblies&nbsp;up&nbsp;and&nbsp;returns&nbsp;an&nbsp;object&nbsp;wrapping&nbsp;a&nbsp;MonoAssembly*&nbsp;which&nbsp;knows&nbsp;a&nbsp;little&nbsp;extra&nbsp;over&nbsp;paths,&nbsp;returns&nbsp;its&nbsp;image&nbsp;and&nbsp;so&nbsp;on&nbsp;--&nbsp;simple&nbsp;sugar&nbsp;coating.&nbsp;I&nbsp;proceeded&nbsp;to&nbsp;build&nbsp;MonoMethodDescs,&nbsp;search&nbsp;for&nbsp;the&nbsp;methods&nbsp;and&nbsp;get&nbsp;up&nbsp;to&nbsp;mono_runtime_invoke,&nbsp;and&nbsp;invariably&nbsp;got&nbsp;a&nbsp;SIGSEGV.&nbsp;All&nbsp;the&nbsp;pointers&nbsp;were&nbsp;initialized&nbsp;and&nbsp;everything&nbsp;seemed&nbsp;fine,&nbsp;which&nbsp;baffled&nbsp;me&nbsp;all&nbsp;the&nbsp;gazillion&nbsp;times&nbsp;I&nbsp;stepped&nbsp;through&nbsp;in&nbsp;gdb,&nbsp;but&nbsp;I&nbsp;figured:&nbsp;&quot;hey,&nbsp;I'm&nbsp;overengineering,&nbsp;let's&nbsp;do&nbsp;away&nbsp;with&nbsp;this&nbsp;wrapper&nbsp;altogether.&nbsp;Makes&nbsp;no&nbsp;sense,&nbsp;but&nbsp;I'm&nbsp;out&nbsp;of&nbsp;ideas&quot;.&nbsp;So&nbsp;I&nbsp;passed&nbsp;around&nbsp;the&nbsp;MonoAssembly*&nbsp;and&nbsp;get&nbsp;the&nbsp;same&nbsp;SIGSEGV's&nbsp;when&nbsp;invoking.&nbsp;Ok,&nbsp;consistent.&lt;/div&gt;&lt;div&gt;But&nbsp;then,&nbsp;to&nbsp;my&nbsp;utter&nbsp;puzzlement,&nbsp;I&nbsp;tried&nbsp;hardcoding&nbsp;the&nbsp;loading&nbsp;of&nbsp;the&nbsp;assembly&nbsp;in&nbsp;the&nbsp;scope&nbsp;it&nbsp;was&nbsp;supposed&nbsp;to&nbsp;be&nbsp;used,&nbsp;and&nbsp;invocation&nbsp;then&nbsp;worked&nbsp;perfectly.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;looked&nbsp;for&nbsp;references&nbsp;of&nbsp;a&nbsp;similar&nbsp;use&nbsp;in&nbsp;a&nbsp;similar&nbsp;context&nbsp;and&nbsp;found&nbsp;out&nbsp;that&nbsp;the&nbsp;guy&nbsp;responsible&nbsp;for&nbsp;Qyoto&nbsp;is&nbsp;doing&nbsp;pretty&nbsp;much&nbsp;the&nbsp;same&nbsp;thing&nbsp;I&nbsp;am,&nbsp;and&nbsp;there&nbsp;seem&nbsp;to&nbsp;be&nbsp;no&nbsp;special&nbsp;calls.&nbsp;Is&nbsp;there&nbsp;something&nbsp;I&nbsp;should&nbsp;be&nbsp;aware&nbsp;of&nbsp;regarding&nbsp;sharing&nbsp;a&nbsp;MonoAssembly*?&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'm&nbsp;using&nbsp;Mono&nbsp;2.4&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;Leopard&nbsp;and&nbsp;Ubuntu&nbsp;9.04,&nbsp;the&nbsp;dmg&nbsp;version&nbsp;on&nbsp;the&nbsp;first&nbsp;and&nbsp;compiled&nbsp;from&nbsp;source&nbsp;in&nbsp;the&nbsp;second.&nbsp;I&nbsp;don't&nbsp;have&nbsp;access&nbsp;to&nbsp;my&nbsp;work&nbsp;computer&nbsp;right&nbsp;now,&nbsp;so&nbsp;I&nbsp;can't&nbsp;provide&nbsp;the&nbsp;more&nbsp;detailed&nbsp;stacktrace&nbsp;it's&nbsp;giving&nbsp;on&nbsp;Linux,&nbsp;but&nbsp;it&nbsp;fails&nbsp;on&nbsp;exactly&nbsp;the&nbsp;same&nbsp;place&nbsp;in&nbsp;both&nbsp;OS's.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;extra&nbsp;information&nbsp;of&nbsp;any&nbsp;type&nbsp;is&nbsp;needed,&nbsp;let&nbsp;me&nbsp;know.&nbsp;I'll&nbsp;try&nbsp;to&nbsp;provide&nbsp;it&nbsp;to&nbsp;my&nbsp;best&nbsp;capacity.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;in&nbsp;advance,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;apple-content-edited=&quot;true&quot;&gt;&nbsp;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Helvetica;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-align:&nbsp;auto;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-border-horizontal-spacing:&nbsp;0px;&nbsp;-webkit-border-vertical-spacing:&nbsp;0px;&nbsp;-webkit-text-decorations-in-effect:&nbsp;none;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Helvetica;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-border-horizontal-spacing:&nbsp;0px;&nbsp;-webkit-border-vertical-spacing:&nbsp;0px;&nbsp;-webkit-text-decorations-in-effect:&nbsp;none;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Helvetica;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-border-horizontal-spacing:&nbsp;0px;&nbsp;-webkit-border-vertical-spacing:&nbsp;0px;&nbsp;-webkit-text-decorations-in-effect:&nbsp;none;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;arial&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;13px;&nbsp;&quot;&gt;--&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial;&nbsp;font-size:&nbsp;13px;&nbsp;&quot;&gt;Vitor&nbsp;Peres&nbsp;(dodecaphonic)&lt;br&gt;---------------------------------------------&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial;&nbsp;font-size:&nbsp;13px;&nbsp;&quot;&gt;&lt;a&nbsp;href=&quot;http://unabridgedhaiku.com&quot;&gt;http://unabridgedhaiku.com&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial;&nbsp;font-size:&nbsp;13px;&nbsp;&quot;&gt;&lt;a&nbsp;href=&quot;http://sotellmegod.com&quot;&gt;http://sotellmegod.com&lt;/a&gt;&lt;br&gt;http://twitter.com/dodecaphonic&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&nbsp;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
