<?xml version="1.0" encoding="UTF-8"?>
<wsdl:definitions
	name="elastix-taskbar"
	targetNamespace="http://www.elastix.org/webservices/elastix-taskbar/"
	xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
	xmlns:xsd="http://www.w3.org/2001/XMLSchema"
	xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
	xmlns:elx="http://www.elastix.org/webservices/elastix-taskbar/" >

	<!-- Los tipos de datos para los parámetros -->
	<wsdl:types>
		<xsd:schema targetNamespace="http://www.elastix.org/webservices/elastix-taskbar/">
			
			<!-- Parámetros y respuesta para consultarAgenda -->
			<xsd:element name="consultarAgenda">
				<xsd:complexType />
			</xsd:element>
			<xsd:element name="consultarAgenda_Response">
				<xsd:complexType>
					<xsd:sequence>
						<xsd:element minOccurs="0" maxOccurs="unbounded" name="extension" type="xsd:string" />
					</xsd:sequence>
				</xsd:complexType>
			</xsd:element>
			<xsd:element name="consultarAgenda_errMsg">
				<xsd:complexType>
					<xsd:sequence>
						<xsd:element name="errMsg" type="xsd:string" />
					</xsd:sequence>
				</xsd:complexType>
			</xsd:element>

			<!-- Parámetros y respuesta para consultarCalendario -->
			<xsd:element name="consultarCalendario">
				<!-- TODO: implementar parámetros apropiados -->
				<xsd:complexType />
			</xsd:element>
			<xsd:element name="consultarCalendario_Response">
				<!-- TODO: implementar parámetros apropiados -->
				<xsd:complexType />
			</xsd:element>
			<xsd:element name="consultarCalendario_errMsg">
				<xsd:complexType>
					<xsd:sequence>
						<xsd:element name="errMsg" type="xsd:string" />
					</xsd:sequence>
				</xsd:complexType>
			</xsd:element>

			<!-- Parámetros y respuesta para llamarNumero -->
			<xsd:element name="llamarNumero">
				<!-- TODO: implementar parámetros apropiados -->
				<xsd:complexType>
					<xsd:sequence>
						<xsd:element name="dialnumber" type="xsd:string" />
					</xsd:sequence>
				</xsd:complexType>
			</xsd:element>
			<xsd:element name="llamarNumero_Response">
				<!-- TODO: implementar parámetros apropiados -->
				<xsd:complexType />
			</xsd:element>
			<xsd:element name="llamarNumero_errMsg">
				<xsd:complexType>
					<xsd:sequence>
						<xsd:element name="errMsg" type="xsd:string" />
					</xsd:sequence>
				</xsd:complexType>
			</xsd:element>

			<!-- Parámetros y respuesta para activarForward -->
			<xsd:element name="activarForward">
				<!-- TODO: implementar parámetros apropiados -->
				<xsd:complexType />
			</xsd:element>
			<xsd:element name="activarForward_Response">
				<!-- TODO: implementar parámetros apropiados -->
				<xsd:complexType />
			</xsd:element>
			<xsd:element name="activarForward_errMsg">
				<xsd:complexType>
					<xsd:sequence>
						<xsd:element name="errMsg" type="xsd:string" />
					</xsd:sequence>
				</xsd:complexType>
			</xsd:element>

			<!-- Parámetros y respuesta para inactivarForward -->
			<xsd:element name="inactivarForward">
				<!-- TODO: implementar parámetros apropiados -->
				<xsd:complexType />
			</xsd:element>
			<xsd:element name="inactivarForward_Response">
				<!-- TODO: implementar parámetros apropiados -->
				<xsd:complexType />
			</xsd:element>
			<xsd:element name="inactivarForward_errMsg">
				<xsd:complexType>
					<xsd:sequence>
						<xsd:element name="errMsg" type="xsd:string" />
					</xsd:sequence>
				</xsd:complexType>
			</xsd:element>
		</xsd:schema>
	</wsdl:types>

	<!-- Los mensajes que contienen los parámetros y respuestas de los métodos -->

	<!-- Para el método consultarAgenda -->
	<wsdl:message name="consultarAgenda_Request">
		<wsdl:part name="parameters" element="elx:consultarAgenda" />
	</wsdl:message>
	<wsdl:message name="consultarAgenda_Response">
		<wsdl:part name="parameters" element="elx:consultarAgenda_Response" />
	</wsdl:message>
	<wsdl:message name="consultarAgenda_errMsg">
		<wsdl:part name="parameters" element="elx:consultarAgenda_errMsg" />
	</wsdl:message>

	<!-- Para el método consultarCalendario -->
	<wsdl:message name="consultarCalendario_Request">
		<wsdl:part name="parameters" element="elx:consultarCalendario" />
	</wsdl:message>
	<wsdl:message name="consultarCalendario_Response">
		<wsdl:part name="parameters" element="elx:consultarCalendario_Response" />
	</wsdl:message>
	<wsdl:message name="consultarCalendario_errMsg">
		<wsdl:part name="parameters" element="elx:consultarCalendario_errMsg" />
	</wsdl:message>

	<!-- Para el método llamarNumero -->
	<wsdl:message name="llamarNumero_Request">
		<wsdl:part name="parameters" element="elx:llamarNumero" />
	</wsdl:message>
	<wsdl:message name="llamarNumero_Response">
		<wsdl:part name="parameters" element="elx:llamarNumero_Response" />
	</wsdl:message>
	<wsdl:message name="llamarNumero_errMsg">
		<wsdl:part name="parameters" element="elx:llamarNumero_errMsg" />
	</wsdl:message>

	<!-- Para el método activarForward -->
	<wsdl:message name="activarForward_Request">
		<wsdl:part name="parameters" element="elx:activarForward" />
	</wsdl:message>
	<wsdl:message name="activarForward_Response">
		<wsdl:part name="parameters" element="elx:activarForward_Response" />
	</wsdl:message>
	<wsdl:message name="activarForward_errMsg">
		<wsdl:part name="parameters" element="elx:activarForward_errMsg" />
	</wsdl:message>

	<!-- Para el método inactivarForward -->
	<wsdl:message name="inactivarForward_Request">
		<wsdl:part name="parameters" element="elx:inactivarForward" />
	</wsdl:message>
	<wsdl:message name="inactivarForward_Response">
		<wsdl:part name="parameters" element="elx:inactivarForward_Response" />
	</wsdl:message>
	<wsdl:message name="inactivarForward_errMsg">
		<wsdl:part name="parameters" element="elx:inactivarForward_errMsg" />
	</wsdl:message>


	<!-- Todas las definiciones de abajo asumen que se trabaja bajo un 
	     usuario y contraseña enviados por autenticación HTTP. También
	     asumen que el usuario tiene asociado una extensión sobre la cual
	     se trabaja para las siguientes operaciones 
	  -->
	<wsdl:portType name="ElastixTaskbarSOAPPort">
		<wsdl:operation name="consultarAgenda">
			<wsdl:input message="elx:consultarAgenda_Request" />
			<wsdl:output message="elx:consultarAgenda_Response" />
			<wsdl:fault name="fault" message="elx:consultarAgenda_errMsg" />
		</wsdl:operation>
		<wsdl:operation name="consultarCalendario">
			<wsdl:input message="elx:consultarCalendario_Request" />
			<wsdl:output message="elx:consultarCalendario_Response" />
			<wsdl:fault name="fault" message="elx:consultarCalendario_errMsg" />
		</wsdl:operation>
		<wsdl:operation name="llamarNumero">
			<wsdl:input message="elx:llamarNumero_Request" />
			<wsdl:output message="elx:llamarNumero_Response" />
			<wsdl:fault name="fault" message="elx:llamarNumero_errMsg" />
		</wsdl:operation>
		<wsdl:operation name="activarForward">
			<wsdl:input message="elx:activarForward_Request" />
			<wsdl:output message="elx:activarForward_Response" />
			<wsdl:fault name="fault" message="elx:activarForward_errMsg" />
		</wsdl:operation>
		<wsdl:operation name="inactivarForward">
			<wsdl:input message="elx:inactivarForward_Request" />
			<wsdl:output message="elx:inactivarForward_Response" />
			<wsdl:fault name="fault" message="elx:inactivarForward_errMsg" />
		</wsdl:operation>
	</wsdl:portType>

	<!-- La definición del binding HTTP para el servicio -->
	<wsdl:binding
		name="ElastixTaskbarSOAP"
		type="elx:ElastixTaskbarSOAPPort">

		<!-- Aquí se indica que el binding es de tipo HTTP con estilo "document" -->
		<soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http" />
		
		<!-- Aquí se indican las operaciones definidas para el servicio SOAP. La
		     indicación de style="literal" debería resultar en document/literal.
		     La definición del método está en el portType con nombre 
		     ElastixTaskbarSOAP que está más arriba. 
		  -->
		<wsdl:operation name="consultarAgenda">
			<soap:operation soapAction="http://www.elastix.org/webservices/elastix-taskbar/consultarAgenda" style="document" />
			<wsdl:input><soap:body use="literal" /></wsdl:input>
			<wsdl:output><soap:body use="literal" /></wsdl:output>
			<wsdl:fault name="fault"><soap:fault use="literal" name="fault"/></wsdl:fault>
		</wsdl:operation>
		<wsdl:operation name="consultarCalendario">
			<soap:operation soapAction="http://www.elastix.org/webservices/elastix-taskbar/consultarCalendario" style="document" />
			<wsdl:input><soap:body use="literal" /></wsdl:input>
			<wsdl:output><soap:body use="literal" /></wsdl:output>
			<wsdl:fault name="fault"><soap:fault use="literal" name="fault"/></wsdl:fault>
		</wsdl:operation>
		<wsdl:operation name="llamarNumero">
			<soap:operation soapAction="http://www.elastix.org/webservices/elastix-taskbar/llamarNumero" style="document" />
			<wsdl:input><soap:body use="literal" /></wsdl:input>
			<wsdl:output><soap:body use="literal" /></wsdl:output>
			<wsdl:fault name="fault"><soap:fault use="literal" name="fault"/></wsdl:fault>
		</wsdl:operation>
		<wsdl:operation name="activarForward">
			<soap:operation soapAction="http://www.elastix.org/webservices/elastix-taskbar/activarForward" style="document" />
			<wsdl:input><soap:body use="literal" /></wsdl:input>
			<wsdl:output><soap:body use="literal" /></wsdl:output>
			<wsdl:fault name="fault"><soap:fault use="literal" name="fault"/></wsdl:fault>
		</wsdl:operation>
		<wsdl:operation name="inactivarForward">
			<soap:operation soapAction="http://www.elastix.org/webservices/elastix-taskbar/inactivarForward" style="document" />
			<wsdl:input><soap:body use="literal" /></wsdl:input>
			<wsdl:output><soap:body use="literal" /></wsdl:output>
			<wsdl:fault name="fault"><soap:fault use="literal" name="fault"/></wsdl:fault>
		</wsdl:operation>
	</wsdl:binding>

	<!-- La definición del servicio SOAP. -->
	<wsdl:service name="ElastixTaskbar">
		<!-- Sólo existe el binding HTTP -->
		<wsdl:port
			name="ElastixTaskbarSOAP"
			binding="elx:ElastixTaskbarSOAP">
			<!-- La locación del servicio de abajo debe cambiar según el URL de quien provea el servicio. -->
			<soap:address location="https://rpmbuild64-2.elastix.palosanto.com/modules/elastix-taskbar/libs/elastix-taskbar.php?WSDL" />
		</wsdl:port>
	</wsdl:service>

</wsdl:definitions>
