<tt>
Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;On&nbsp;the&nbsp;topic&nbsp;of&nbsp;Microsoft&amp;#39;s&nbsp;recommended&nbsp;expressions,&nbsp;it&nbsp;seems&nbsp;that&nbsp;Mono&nbsp;is&nbsp;still&nbsp;lacking&nbsp;some&nbsp;implementations,&nbsp;specifically&nbsp;CONVERT.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;this&nbsp;code&nbsp;segment,&nbsp;an&nbsp;exception&nbsp;is&nbsp;thrown&nbsp;when&nbsp;the&nbsp;filter&nbsp;is&nbsp;used&nbsp;(spaces&nbsp;here&nbsp;and&nbsp;there&nbsp;for&nbsp;clarity):&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;String&nbsp;source_filter&nbsp;=&nbsp;&amp;quot;&nbsp;CONVERT(wsUhBedOccupancy__dsUhBedOccupancy__vwBedOccupancy__strBedCode,&amp;#39;System.String&amp;#39;)&nbsp;LIKE&nbsp;&amp;#39;%03cb%&amp;#39;&nbsp;&amp;quot;;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;foreach&nbsp;(&nbsp;DataRow&nbsp;raw_result_row&nbsp;in&nbsp;intermediate_data_table.Select(source_filter)&nbsp;)&nbsp;{&lt;/div&gt;<br>
&lt;div&gt;....&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Exception:&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;error_message&quot;&gt;Expression&nbsp;<br>
&amp;#39;CONVERT(wsUhBedOccupancy__dsUhBedOccupancy__vwBedOccupancy__strBedCode,&amp;#39;System.String&amp;#39;)<br>
&nbsp;LIKE&nbsp;&amp;#39;%03cb%&amp;#39;&amp;#39;&nbsp;is&nbsp;invalid.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Of&nbsp;course,&nbsp;some&nbsp;help&nbsp;on&nbsp;exactly&nbsp;WHAT&nbsp;is&nbsp;invalid&nbsp;would&nbsp;help&nbsp;resolve&nbsp;the&nbsp;problem.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;All&nbsp;the&nbsp;columns&nbsp;exist&nbsp;etc.,&nbsp;and&nbsp;it&nbsp;does&nbsp;work&nbsp;on&nbsp;.NET.&lt;/div&gt;<br>
&lt;div&gt;(and&nbsp;so&nbsp;does:&lt;/div&gt;&lt;div&gt;&amp;quot;&nbsp;wsUhBedOccupancy__dsUhBedOccupancy__vwBedOccupancy__strBedCode&nbsp;LIKE&nbsp;&amp;#39;%03cb%&amp;#39;&nbsp;&amp;quot;&lt;/div&gt;&lt;div&gt;)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Before&nbsp;I&nbsp;log&nbsp;a&nbsp;bug&nbsp;for&nbsp;this,&nbsp;will&nbsp;you&nbsp;please&nbsp;be&nbsp;so&nbsp;kind&nbsp;and&nbsp;just&nbsp;check&nbsp;that&nbsp;I&nbsp;did&nbsp;not&nbsp;go&nbsp;and&nbsp;do&nbsp;something&nbsp;terribly&nbsp;stupid&nbsp;in&nbsp;the&nbsp;way&nbsp;I&nbsp;constructed&nbsp;the&nbsp;filter&nbsp;:-)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Jan&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;10&nbsp;February&nbsp;2010&nbsp;22:36,&nbsp;Stifu&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:stifu@free.fr&quot;&gt;stifu@free.fr&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;br&gt;<br>
It&nbsp;looks&nbsp;like&nbsp;a&nbsp;Mono&nbsp;bug&nbsp;(or&nbsp;incompatibility),&nbsp;could&nbsp;you&nbsp;file&nbsp;a&nbsp;bug&nbsp;report&lt;br&gt;<br>
for&nbsp;it?&lt;br&gt;<br>
&lt;br&gt;<br>
By&nbsp;the&nbsp;way,&nbsp;could&nbsp;you&nbsp;try&nbsp;using&nbsp;another&nbsp;expression,&nbsp;such&nbsp;as&nbsp;&amp;quot;IS&nbsp;NULL&amp;quot;&nbsp;or&nbsp;&amp;quot;IS&lt;br&gt;<br>
NOT&nbsp;NULL&amp;quot;?&lt;br&gt;<br>
That&amp;#39;s&nbsp;what&nbsp;Microsoft&nbsp;recommends,&nbsp;too:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://msdn.microsoft.com/en-us/library/system.data.datacolumn.expression%28VS.85%29.aspx&quot;&nbsp;target=&quot;_blank&quot;&gt;http://msdn.microsoft.com/en-us/library/system.data.datacolumn.expression%28VS.85%29.aspx&lt;/a&gt;&lt;br&gt;<br>
&amp;quot;You&nbsp;can&nbsp;check&nbsp;for&nbsp;null&nbsp;values&nbsp;using&nbsp;the&nbsp;&amp;quot;is&nbsp;null&amp;quot;&nbsp;and&nbsp;&amp;quot;is&nbsp;not&nbsp;null&amp;quot;&lt;br&gt;<br>
expressions.&amp;quot;&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
jan&nbsp;van&nbsp;der&nbsp;watt&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Hi,&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Please&nbsp;let&nbsp;me&nbsp;know&nbsp;if&nbsp;this&nbsp;should&nbsp;be&nbsp;posted&nbsp;to&nbsp;another&nbsp;forum.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Has&nbsp;anyone&nbsp;else&nbsp;seen&nbsp;that&nbsp;the&nbsp;DataTable.Select(filterExpression)&nbsp;produces&lt;br&gt;<br>
&amp;gt;&nbsp;a&lt;br&gt;<br>
&amp;gt;&nbsp;funny&nbsp;when&nbsp;evaluating&nbsp;an&nbsp;expression&nbsp;that&nbsp;involves&nbsp;NULL,&nbsp;or&nbsp;is&nbsp;it&nbsp;just&nbsp;my&lt;br&gt;<br>
&amp;gt;&nbsp;data/code&nbsp;gone&nbsp;wrong?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;My&nbsp;code&nbsp;snippet&nbsp;is&nbsp;this:&lt;br&gt;<br>
&amp;gt;&nbsp;DataTable&nbsp;lookup_value_schema_table&nbsp;=&nbsp;&amp;lt;an&nbsp;appropriate&nbsp;table&amp;gt;;&lt;br&gt;<br>
&amp;gt;&nbsp;lookup_value_schema_table.Select(&amp;quot;IsDeletedColumn&amp;lt;&amp;gt;0&amp;quot;)&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;The&nbsp;dataset&nbsp;has&nbsp;either&nbsp;NULL&nbsp;or&nbsp;True&nbsp;in&nbsp;that&nbsp;column&nbsp;(but&nbsp;not&nbsp;False).&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;MS&nbsp;.NET,&nbsp;only&nbsp;the&nbsp;rows&nbsp;with&nbsp;&amp;quot;True&amp;quot;&nbsp;are&nbsp;returned,&nbsp;but&nbsp;on&nbsp;Mono,&nbsp;ALL&nbsp;rows&lt;br&gt;<br>
&amp;gt;&nbsp;are&nbsp;returned.&nbsp;It&nbsp;seems&nbsp;that&nbsp;the&nbsp;expression&nbsp;&amp;quot;NULL&amp;lt;&amp;gt;0&amp;quot;&nbsp;is&nbsp;FALSE&nbsp;on&nbsp;MS&nbsp;.NET,&lt;br&gt;<br>
&amp;gt;&nbsp;but&nbsp;TRUE&nbsp;on&nbsp;Mono.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;If&nbsp;I&nbsp;use:&lt;br&gt;<br>
&amp;gt;&nbsp;lookup_value_schema_table.Select(&amp;quot;IsDeletedColumn=True&amp;quot;)&lt;br&gt;<br>
&amp;gt;&nbsp;the&nbsp;results&nbsp;are&nbsp;as&nbsp;expected&nbsp;(i.e.&nbsp;only&nbsp;the&nbsp;rows&nbsp;with&nbsp;&amp;quot;True&amp;quot;&nbsp;in&nbsp;the&nbsp;column&lt;br&gt;<br>
&amp;gt;&nbsp;are&nbsp;returned)&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Thanks&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Jan&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;Mono-list&nbsp;maillist&nbsp; -&nbsp; &lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://old.nabble.com/%28generic%29DataTable-SELECT-logic-tp27528859p27529788.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://old.nabble.com/%28generic%29DataTable-SELECT-logic-tp27528859p27529788.html&lt;/a&gt;&lt;br&gt;<br>
<br>
Sent&nbsp;from&nbsp;the&nbsp;Mono&nbsp;-&nbsp;General&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-list&nbsp;maillist&nbsp; -&nbsp; &lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
