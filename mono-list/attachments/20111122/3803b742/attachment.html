<tt>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;color:&nbsp;rgb(34,&nbsp;34,&nbsp;34);&nbsp;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;13px;&nbsp;background-color:&nbsp;rgba(255,&nbsp;255,&nbsp;255,&nbsp;0.917969);&nbsp;&quot;&gt;After&nbsp;digging&nbsp;arround&nbsp;in&nbsp;the&nbsp;source&nbsp;code&nbsp;for&nbsp;Mono.Data.Sqlite&nbsp;it&nbsp;appears&nbsp;that &lt;/span&gt;&lt;/div&gt;<br>
&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;color:&nbsp;rgb(34,&nbsp;34,&nbsp;34);&nbsp;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;13px;&nbsp;background-color:&nbsp;rgba(255,&nbsp;255,&nbsp;255,&nbsp;0.917969);&nbsp;&quot;&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;color:&nbsp;rgb(34,&nbsp;34,&nbsp;34);&nbsp;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;13px;&nbsp;background-color:&nbsp;rgba(255,&nbsp;255,&nbsp;255,&nbsp;0.917969);&nbsp;&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;SqliteConnectionHandle&nbsp;implements&nbsp;CriticalHandle&nbsp;which&nbsp;has&nbsp;the&nbsp;following &lt;/span&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;attribute:&lt;/font&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;[SecurityPermissionAttribute(SecurityAction.InheritanceDemand,&nbsp;UnmanagedCode&nbsp;=&nbsp;true)]&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;This&nbsp;requires&nbsp;that&nbsp;the&nbsp;inheriting&nbsp;class&nbsp;(SqliteConnectionHandle)&nbsp;have&nbsp;the&nbsp;same&nbsp;or&nbsp;more&nbsp;restrictive&nbsp;permissions.&nbsp;However&nbsp;SqliteConnectionHandle&nbsp;does&nbsp;not&nbsp;specify&nbsp;any&nbsp;security&nbsp;permissions&nbsp;and&nbsp;so violates the&nbsp;contract.&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;This&nbsp;does&nbsp;not&nbsp;seem&nbsp;to&nbsp;be&nbsp;a&nbsp;problem&nbsp;when&nbsp;running&nbsp;on&nbsp;mono&nbsp;for&nbsp;linux&nbsp;only&nbsp;.net&nbsp;for&nbsp;windows.&nbsp;(maybe&nbsp;mono&nbsp;does&nbsp;not&nbsp;implement&nbsp;these&nbsp;security&nbsp;checks)&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;The&nbsp;upshot&nbsp;of&nbsp;all&nbsp;this&nbsp;is&nbsp;that&nbsp;Mono.Data.Sqlite.dll&nbsp;v4.0.0.0&nbsp;cannot&nbsp;be&nbsp;used&nbsp;on&nbsp;.net&nbsp;until&nbsp;a&nbsp;fix&nbsp;is&nbsp;made&nbsp;(adding&nbsp;the &lt;/font&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;color:&nbsp;rgb(34,&nbsp;34,&nbsp;34);&nbsp;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;&quot;&gt;SecurityPermissionAttribute).&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;I&nbsp;am&nbsp;happy&nbsp;to&nbsp;raise&nbsp;a&nbsp;bug&nbsp;and&nbsp;submit&nbsp;a&nbsp;patch&nbsp;(if&nbsp;that&amp;#39;s&nbsp;the&nbsp;correct&nbsp;thing&nbsp;to&nbsp;do)&nbsp;however&nbsp;I&nbsp;can&amp;#39;t&nbsp;wait&nbsp;for&nbsp;the&nbsp;fix&nbsp;to&nbsp;be&nbsp;released&nbsp;so&nbsp;will&nbsp;have&nbsp;to&nbsp;ship&nbsp;a&nbsp;custom&nbsp;build&nbsp;of&nbsp;Mono.Data.Sqlite.dll&nbsp;with&nbsp;a&nbsp;fix&nbsp;applied&nbsp;in&nbsp;Wide&nbsp;Margin&nbsp;for&nbsp;windows.&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;Cheers,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;Daniel&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(68,&nbsp;85,&nbsp;136);&nbsp;font-family:&nbsp;&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;&amp;#39;Courier&nbsp;New&amp;#39;,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;19px;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;line-height:&nbsp;normal;&nbsp;white-space:&nbsp;normal;&nbsp;&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Nov&nbsp;22,&nbsp;2011&nbsp;at&nbsp;1:02&nbsp;PM,&nbsp;Daniel&nbsp;Hughes&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:trampster@gmail.com&quot;&gt;trampster@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
When&nbsp;trying&nbsp;to&nbsp;use&nbsp;Mono.Data.Sqlite&nbsp;v4.0.0.0&nbsp;from&nbsp;.net&nbsp;on&nbsp;windows&nbsp;I&nbsp;get&nbsp;the&nbsp;following&nbsp;exception&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;Unhandled&nbsp;Exception:&nbsp;System.TypeLoadException:&nbsp;Inheritance&nbsp;security&nbsp;rules&nbsp;violated&nbsp;by&nbsp;type:&nbsp;&amp;#39;Mono.Data.Sqlite.SqliteConnectionHandle&amp;#39;.&nbsp;Derived&nbsp;types&nbsp;must&nbsp;either&nbsp;match&nbsp;the&nbsp;security&nbsp;accessibility&nbsp;of&nbsp;the&nbsp;base&nbsp;type&nbsp;or&nbsp;be&nbsp;less&nbsp;accessible.&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; at&nbsp;Mono.Data.Sqlite.SQLite3.Open(String&nbsp;strFilename,&nbsp;SQLiteOpenFlagsEnum&nbsp;flags,&nbsp;Int32&nbsp;maxPoolSize,&nbsp;Boolean&nbsp;usePool)&lt;/div&gt;&lt;div&gt; &nbsp; at&nbsp;Mono.Data.Sqlite.SqliteConnection.Open()&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;idea&nbsp;whats&nbsp;causing&nbsp;this?&nbsp;or&nbsp;what&nbsp;I&nbsp;can&nbsp;do&nbsp;to&nbsp;work around it?&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;ve&nbsp;been&nbsp;using&nbsp;the&nbsp;2.0&nbsp;version&nbsp;of&nbsp;this&nbsp;assembly&nbsp;(which&nbsp;works&nbsp;fine)&nbsp;until recently when&nbsp;I&nbsp;tried&nbsp;to&nbsp;update&nbsp;to&nbsp;.net&nbsp;4.0&nbsp;support.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;Daniel&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
