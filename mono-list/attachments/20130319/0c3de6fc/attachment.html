<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;I'm&nbsp;running&nbsp;mono&nbsp;2.10.8.1&nbsp;on&nbsp;CentOS&nbsp;6.3&nbsp;and&nbsp;running&nbsp;a&nbsp;mono-service&nbsp;application.&nbsp;&nbsp;It&nbsp;seems&nbsp;to&nbsp;run&nbsp;fine&nbsp;for&nbsp;a&nbsp;while,&nbsp;but&nbsp;then&nbsp;after&nbsp;a&nbsp;few&nbsp;hours&nbsp;appears&nbsp;hung.&nbsp;&nbsp;No&nbsp;CPU&nbsp;is&nbsp;in&nbsp;use,&nbsp;but&nbsp;my&nbsp;application&nbsp;doesn't&nbsp;respond&nbsp;to&nbsp;HTTP&nbsp;requests&nbsp;anymore,&nbsp;isn't&nbsp;logging&nbsp;anything,&nbsp;nothing.&nbsp;&nbsp;I&nbsp;used&nbsp;gdb&nbsp;to&nbsp;get&nbsp;a&nbsp;backtrace&nbsp;when&nbsp;it's&nbsp;hung,&nbsp;and&nbsp;it&nbsp;appears&nbsp;that&nbsp;every&nbsp;thread&nbsp;is&nbsp;stuck&nbsp;in&nbsp;sigsuspend().&nbsp;&nbsp;Most&nbsp;seem&nbsp;to&nbsp;be&nbsp;following&nbsp;a&nbsp;_GC_suspend_handler,&nbsp;like&nbsp;here&nbsp;is&nbsp;an&nbsp;example:&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;Thread&nbsp;13&nbsp;(Thread&nbsp;0x7f4c286a7700&nbsp;(LWP&nbsp;1395)):&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#0&nbsp;&nbsp;0x00007f4c2f1abc54&nbsp;in&nbsp;sigsuspend&nbsp;()&nbsp;from&nbsp;/lib64/libc.so.6&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#1&nbsp;&nbsp;0x00000000005f2efe&nbsp;in&nbsp;_GC_suspend_handler&nbsp;(sig=30)&nbsp;at&nbsp;pthread_stop_world.c:186&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#2&nbsp;&nbsp;0x00000000005f2f3d&nbsp;in&nbsp;GC_suspend_handler&nbsp;(sig=30)&nbsp;at&nbsp;pthread_stop_world.c:211&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#3&nbsp;&nbsp;&lt;signal&nbsp;handler&nbsp;called&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#4&nbsp;&nbsp;0x00007f4c2f5177bb&nbsp;in&nbsp;pthread_cond_timedwait@@GLIBC_2.3.2&nbsp;()&nbsp;from&nbsp;/lib64/libpthread.so.0&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#5&nbsp;&nbsp;0x00000000005aeeed&nbsp;in&nbsp;_wapi_handle_timedwait_signal_handle&nbsp;(handle=0x42b,&nbsp;timeout=0x7f4c286a6810,&nbsp;alertable=1,&nbsp;poll=&lt;value&nbsp;optimized&nbsp;out&gt;)&nbsp;at&nbsp;handles.c:1653&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#6&nbsp;&nbsp;0x00000000005a6a11&nbsp;in&nbsp;WaitForSingleObjectEx&nbsp;(handle=0x42b,&nbsp;timeout=9999,&nbsp;alertable=1)&nbsp;at&nbsp;wait.c:205&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#7&nbsp;&nbsp;0x00000000005995ab&nbsp;in&nbsp;ves_icall_System_Threading_WaitHandle_WaitOne_internal&nbsp;(this=&lt;value&nbsp;optimized&nbsp;out&gt;,&nbsp;handle=0x42b,&nbsp;ms=9999,&nbsp;exitContext=&lt;value&nbsp;optimized&nbsp;out&gt;)&nbsp;at&nbsp;threads.c:1665&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#8&nbsp;&nbsp;0x00000000413d31f8&nbsp;in&nbsp;??&nbsp;()&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#9&nbsp;&nbsp;0x00007f4c10000c40&nbsp;in&nbsp;??&nbsp;()&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#10&nbsp;0x00007fff1d77ba37&nbsp;in&nbsp;clock_gettime&nbsp;()&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#11&nbsp;0x00000000413d2ddb&nbsp;in&nbsp;??&nbsp;()&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#12&nbsp;0x000000000000270f&nbsp;in&nbsp;??&nbsp;()&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#13&nbsp;0x000000000000270f&nbsp;in&nbsp;??&nbsp;()&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#14&nbsp;0x00000000413d1340&nbsp;in&nbsp;??&nbsp;()&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#15&nbsp;0x00000000413d137b&nbsp;in&nbsp;??&nbsp;()&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#16&nbsp;0x0000000000000000&nbsp;in&nbsp;??&nbsp;()&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;After&nbsp;I&nbsp;stop&nbsp;and&nbsp;restart&nbsp;the&nbsp;mono-service,&nbsp;the&nbsp;application&nbsp;responds&nbsp;as&nbsp;normal,&nbsp;and&nbsp;most&nbsp;of&nbsp;the&nbsp;threads&nbsp;are&nbsp;in&nbsp;pthread_cond_wait,&nbsp;but&nbsp;NONE&nbsp;of&nbsp;them&nbsp;are&nbsp;in&nbsp;sigsuspend():&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;Thread&nbsp;13&nbsp;(Thread&nbsp;0x7fabf2954700&nbsp;(LWP&nbsp;7493)):&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#0&nbsp;&nbsp;0x00007fabf4af643c&nbsp;in&nbsp;pthread_cond_wait@@GLIBC_2.3.2&nbsp;()&nbsp;from&nbsp;/lib64/libpthread.so.0&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#1&nbsp;&nbsp;0x00000000005e455f&nbsp;in&nbsp;GC_wait_marker&nbsp;()&nbsp;at&nbsp;pthread_support.c:1863&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#2&nbsp;&nbsp;0x00000000005d55bd&nbsp;in&nbsp;GC_help_marker&nbsp;(my_mark_no=105)&nbsp;at&nbsp;mark.c:1116&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#3&nbsp;&nbsp;0x00000000005e32e0&nbsp;in&nbsp;GC_mark_thread&nbsp;(id=0x3)&nbsp;at&nbsp;pthread_support.c:552&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#4&nbsp;&nbsp;0x00007fabf4af2851&nbsp;in&nbsp;start_thread&nbsp;()&nbsp;from&nbsp;/lib64/libpthread.so.0&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;#5&nbsp;&nbsp;0x00007fabf484090d&nbsp;in&nbsp;clone&nbsp;()&nbsp;from&nbsp;/lib64/libc.so.6&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;Any&nbsp;idea&nbsp;why&nbsp;all&nbsp;the&nbsp;threads&nbsp;would&nbsp;go&nbsp;into&nbsp;sigsuspend()?&nbsp;&nbsp;I'm&nbsp;not&nbsp;using&nbsp;sgen,&nbsp;by&nbsp;the&nbsp;way.&nbsp;&nbsp;I&nbsp;can&nbsp;try&nbsp;if&nbsp;anyone&nbsp;expects&nbsp;that&nbsp;to&nbsp;be&nbsp;of&nbsp;any&nbsp;help.&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;If&nbsp;you&nbsp;need&nbsp;a&nbsp;full&nbsp;backtrace&nbsp;of&nbsp;all&nbsp;the&nbsp;threads,&nbsp;let&nbsp;me&nbsp;know.&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;Thanks&nbsp;for&nbsp;your&nbsp;help.&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Helvetica;&nbsp;&quot;&gt;-Dave&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
