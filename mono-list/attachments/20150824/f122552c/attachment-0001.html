<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello&nbsp;all. &nbsp;I&nbsp;searched&nbsp;the&nbsp;list&nbsp;archives&nbsp;(using&nbsp;google)&nbsp;and&nbsp;couldn&#39;t&nbsp;find&nbsp;anything&nbsp;related&nbsp;to&nbsp;this&nbsp;issue.&nbsp; &lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;environment&nbsp;is:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Linux&nbsp;raspberrypi&nbsp;3.12.35+&nbsp;#730&nbsp;PREEMPT&nbsp;Fri&nbsp;Dec&nbsp;19&nbsp;18:31:24&nbsp;GMT&nbsp;2014&nbsp;armv6l&nbsp;GNU/Linux&nbsp;and&nbsp;Mono&nbsp;JIT&nbsp;compiler&nbsp;version&nbsp;3.2.8&nbsp;(Debian&nbsp;3.2.8+dfsg-4+rpi1). &nbsp;I&nbsp;develop&nbsp;on&nbsp;Windows&nbsp;with&nbsp;&lt;a&nbsp;href=&quot;http://VS.NET&quot;&gt;VS.NET&lt;/a&gt;&nbsp;and&nbsp;automate&nbsp;builds&nbsp;on&nbsp;Linux/Mono&nbsp;and&nbsp;test&nbsp;on&nbsp;Windows&nbsp;and&nbsp;Raspbian&nbsp;(ARM)&nbsp;and&nbsp;Ubuntu. &nbsp;Most&nbsp;of&nbsp;the&nbsp;time&nbsp;it&nbsp;*just&nbsp;works*,&nbsp;but&nbsp;every&nbsp;once&nbsp;in&nbsp;a&nbsp;while&nbsp;I&nbsp;run&nbsp;into&nbsp;some&nbsp;weird&nbsp;differences&nbsp;between&nbsp;.NET&nbsp;and&nbsp;Mono.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;product&nbsp;is&nbsp;a&nbsp;daemon&nbsp;with&nbsp;ServiceStack&nbsp;3.9.x&nbsp;embedded&nbsp;to&nbsp;provide&nbsp;web&nbsp;services. &nbsp;I&nbsp;have&nbsp;features for&nbsp;altering&nbsp;server&nbsp;configuration&nbsp;options&nbsp;through&nbsp;a&nbsp;web&nbsp;UI. &nbsp;When&nbsp;that&nbsp;web&nbsp;service&nbsp;is&nbsp;called&nbsp;it&nbsp;looks&nbsp;for&nbsp;specific&nbsp;ConfigurationSection&nbsp;instances&nbsp;(some&nbsp;custom,&nbsp;some&nbsp;standard)&nbsp;by&nbsp;iterating&nbsp;the&nbsp;configuration&nbsp;hierarchy,&nbsp;through&nbsp;the&nbsp;SectionGroups&nbsp;(ConfigurationSectionGroupCollection)&nbsp;on&nbsp;downward&nbsp;until&nbsp;it&nbsp;finds&nbsp;a&nbsp;match. &nbsp;Here&nbsp;is&nbsp;one&nbsp;example:&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;foreach&nbsp;(Config.ConfigurationSectionGroup&nbsp;group&nbsp;in&nbsp;_config.SectionGroups)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;......&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;this&nbsp;code&nbsp;_config&nbsp;is&nbsp;a&nbsp;System.Configuration.Configuration&nbsp;instance&nbsp;and&nbsp;this&nbsp;code&nbsp;works&nbsp;on&nbsp;.NET&nbsp;(Windows&nbsp;7),&nbsp;but&nbsp;breaks&nbsp;on&nbsp;Mono&nbsp;on&nbsp;the&nbsp;foreach&nbsp;line&nbsp;with:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;System.InvalidCastException:&nbsp;Cannot&nbsp;cast&nbsp;from&nbsp;source&nbsp;type&nbsp;to&nbsp;destination&nbsp;type.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;some&nbsp;reason&nbsp;the&nbsp;contents&nbsp;of&nbsp;SectionGroups&nbsp;don&#39;t&nbsp;seem&nbsp;to&nbsp;be&nbsp;ConfigurationSectionGroup&nbsp;objects.&nbsp;So&nbsp;I&nbsp;put&nbsp;in&nbsp;some&nbsp;debug&nbsp;logging&nbsp;like&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if&nbsp;(_log.IsDebugEnabled)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;StringBuilder&nbsp;sb&nbsp;=&nbsp;new&nbsp;StringBuilder();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sb.AppendLine(string.Format(&quot;Configuration&nbsp;has&nbsp;[{0}]&nbsp;section&nbsp;groups:&quot;,&nbsp;_config.SectionGroups.Count));&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;foreach(object&nbsp;o&nbsp;in&nbsp;_config.SectionGroups)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sb.AppendLine(string.Format(&quot;\tSectionGroup&nbsp;of&nbsp;type:&nbsp;[{0}]&nbsp;is&nbsp;[{1}]&quot;,&nbsp;o.GetType().FullName,&nbsp;o));&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_log.Debug(sb.ToString());&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;output&nbsp;on&nbsp;.NET&nbsp;shows&nbsp;the&nbsp;right&nbsp;types&nbsp;(don&#39;t&nbsp;have&nbsp;an&nbsp;example&nbsp;handy&nbsp;right&nbsp;now). &nbsp;The&nbsp;output&nbsp;on&nbsp;Mono&nbsp;looks&nbsp;like:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;2015-08-23&nbsp;21:59:14,945&nbsp;[Threadpool&nbsp;worker]&nbsp;DEBUG&nbsp;raspberrypi&nbsp;ConfigurationHandler.getSection&nbsp;(line&nbsp;0)&nbsp;-&nbsp;Configuration&nbsp;has&nbsp;[5]&nbsp;section&nbsp;groups:&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;SectionGroup&nbsp;of&nbsp;type:&nbsp;[System.String]&nbsp;is&nbsp;[system.web]&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;SectionGroup&nbsp;of&nbsp;type:&nbsp;[System.String]&nbsp;is&nbsp;[&lt;a&nbsp;href=&quot;http://system.net&quot;&gt;system.net&lt;/a&gt;]&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;SectionGroup&nbsp;of&nbsp;type:&nbsp;[System.String]&nbsp;is&nbsp;[system.serviceModel]&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;SectionGroup&nbsp;of&nbsp;type:&nbsp;[System.String]&nbsp;is&nbsp;[system.transactions]&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;SectionGroup&nbsp;of&nbsp;type:&nbsp;[System.String]&nbsp;is&nbsp;[apac]&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;you&nbsp;can&nbsp;see,&nbsp;the&nbsp;types&nbsp;are&nbsp;string&nbsp;and&nbsp;the&nbsp;values&nbsp;are&nbsp;the&nbsp;names&nbsp;of&nbsp;the&nbsp;section&nbsp;groups&nbsp;in&nbsp;question. &nbsp;I&#39;ve&nbsp;looked&nbsp;at&nbsp;the&nbsp;code&nbsp;history&nbsp;for&nbsp;ConfiguratoinSectionGroupCollection&nbsp;and&nbsp;Configuration.SectionGroups&nbsp;and&nbsp;I&nbsp;don&#39;t&nbsp;see&nbsp;where&nbsp;either&nbsp;was&nbsp;ever&nbsp;written&nbsp;to&nbsp;store&nbsp;just&nbsp;simple&nbsp;strings,&nbsp;though&nbsp;I&nbsp;may&nbsp;be&nbsp;missing&nbsp;something.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;&lt;configSections&gt;&nbsp;element&nbsp;is:&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp;&lt;configSections&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;&lt;sectionGroup&nbsp;name=&quot;apac&quot;&nbsp;type=&quot;System.Configuration.ConfigurationSectionGroup,&nbsp;System.Configuration,&nbsp;Version=2.0.0.0,&nbsp;Culture=neutral,&nbsp;PublicKeyToken=b03f5f7f11d50a3a&quot;&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;&lt;section&nbsp;name=&quot;default&quot;&nbsp;type=&quot;Apac.Configuration.XmlSerializingConfigSection,&nbsp;apac.core&quot;/&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;&lt;section&nbsp;name=&quot;pluginPaths&quot;&nbsp;type=&quot;Apac.Configuration.NameMultipleValueSectionHandler,&nbsp;apac.core&quot;/&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;&lt;/sectionGroup&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;&lt;!--&nbsp;APAC&nbsp;Messaging&nbsp;Configuration--&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;&lt;section&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; name=&quot;apac.messaging&quot;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; type=&quot;Apac.Configuration.MessageControllerConfigSection,&nbsp;apac.core&quot;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; restartOnExternalChanges=&quot;true&quot;&nbsp;/&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;&lt;!--&nbsp;APAC&nbsp;Licensing&nbsp;Configuration--&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;&lt;section&nbsp;name=&quot;apac.licensing&quot; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; type=&quot;Apac.Licensing.Configuration.LicensingConfigurationSection,&nbsp;apac.licensing&quot; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; restartOnExternalChanges=&quot;true&quot;/&gt;&lt;/div&gt;&lt;div&gt; &nbsp;&lt;/configSections&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Anyone&nbsp;have&nbsp;any&nbsp;idea&nbsp;why&nbsp;this&nbsp;would&nbsp;be&nbsp;happening? &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Danny&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
