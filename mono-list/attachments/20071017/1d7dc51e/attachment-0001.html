<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.6000.16544&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=750312014-17102007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Lately,&nbsp;I&nbsp;started&nbsp;<br>
using&nbsp;the&nbsp;OnDeserialized&nbsp;event&nbsp;to&nbsp;do&nbsp;some&nbsp;stuff&nbsp;after&nbsp;an&nbsp;object&nbsp;is&nbsp;<br>
deserialized.&amp;nbsp;&nbsp;It&nbsp;works&nbsp;fine&nbsp;when&nbsp;I&nbsp;compile&nbsp;it&nbsp;on&nbsp;my&nbsp;machine,&nbsp;<br>
unfortunately,&nbsp;when&nbsp;compiled&nbsp;on&nbsp;our&nbsp;build&nbsp;machine,&nbsp;I&nbsp;get&nbsp;the&nbsp;following&nbsp;error&nbsp;<br>
when&nbsp;deserializing&nbsp;my&nbsp;object&nbsp;with&nbsp;mono&nbsp;:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=750312014-17102007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=750312014-17102007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;System.NotSupportedException:&nbsp;Collection&nbsp;is&nbsp;read-only&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
System.Array.InternalArray__RemoveAt[Object]&nbsp;(Int32&nbsp;index)&nbsp;[0x00000]&nbsp;in&nbsp;<br>
/tmp/scratch/BUILD/mono-1.2.3.1/mcs/class/corlib/System/Array.cs:131&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;(wrapper&nbsp;managed-to-managed)&nbsp;<br>
Croesus.EntityManagement.IAccessControlInformation[]:System.Collections.Generic.IList`1.RemoveAt&nbsp;<br>
(int)&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;delegate-invoke)&nbsp;<br>
System.MulticastDelegate:invoke_void_StreamingContext&nbsp;<br>
(System.Runtime.Serialization.StreamingContext)&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
System.Runtime.Serialization.SerializationCallbacks.Invoke&nbsp;<br>
(System.Collections.ArrayList&nbsp;list,&nbsp;System.Object&nbsp;target,&nbsp;StreamingContext&nbsp;<br>
context)&nbsp;[0x00064]&nbsp;in&nbsp;<br>
/tmp/scratch/BUILD/mono-1.2.3.1/mcs/class/corlib/System.Runtime.Serialization/SerializationCallbacks.cs:116&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;System.Runtime.Serialization.SerializationCallbacks.RaiseOnDeserialized&nbsp;<br>
(System.Object&nbsp;target,&nbsp;StreamingContext&nbsp;contex)&nbsp;[0x00000]&nbsp;in&nbsp;<br>
/tmp/scratch/BUILD/mono-1.2.3.1/mcs/class/corlib/System.Runtime.Serialization/SerializationCallbacks.cs:136&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;System.Runtime.Serialization.ObjectManager.RaiseOnDeserializedEvent&nbsp;<br>
(System.Object&nbsp;obj)&nbsp;[0x0000c]&nbsp;in&nbsp;<br>
/tmp/scratch/BUILD/mono-1.2.3.1/mcs/class/corlib/System.Runtime.Serialization/ObjectManager.cs:186&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;System.Runtime.Serialization.ObjectManager.RaiseDeserializationEvent&nbsp;()&nbsp;<br>
[0x00025]&nbsp;in&nbsp;<br>
/tmp/scratch/BUILD/mono-1.2.3.1/mcs/class/corlib/System.Runtime.Serialization/ObjectManager.cs:162&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadNextObject&nbsp;<br>
(System.IO.BinaryReader&nbsp;reader)&nbsp;[0x0001a]&nbsp;in&nbsp;<br>
/tmp/scratch/BUILD/mono-1.2.3.1/mcs/class/corlib/System.Runtime.Serialization.Formatters.Binary/ObjectReader.cs:117&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;System.Runtime.Serialization.Formatters.Binary.ObjectReader.ReadObjectGraph&nbsp;<br>
(System.IO.BinaryReader&nbsp;reader,&nbsp;Boolean&nbsp;readHeaders,&nbsp;System.Object&amp;amp;&nbsp;result,&nbsp;<br>
System.Runtime.Remoting.Messaging.Header[]&amp;amp;&nbsp;headers)&nbsp;[0x00042]&nbsp;in&nbsp;<br>
/tmp/scratch/BUILD/mono-1.2.3.1/mcs/class/corlib/System.Runtime.Serialization.Formatters.Binary/ObjectReader.cs:105&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;<br>
System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.NoCheckDeserialize&nbsp;<br>
(System.IO.Stream&nbsp;serializationStream,&nbsp;<br>
System.Runtime.Remoting.Messaging.HeaderHandler&nbsp;handler)&nbsp;[0x00077]&nbsp;in&nbsp;<br>
/tmp/scratch/BUILD/mono-1.2.3.1/mcs/class/corlib/System.Runtime.Serialization.Formatters.Binary/BinaryFormatter.cs:172&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize&nbsp;<br>
(System.IO.Stream&nbsp;serializationStream)&nbsp;[0x00000]&nbsp;in&nbsp;<br>
/tmp/scratch/BUILD/mono-1.2.3.1/mcs/class/corlib/System.Runtime.Serialization.Formatters.Binary/BinaryFormatter.cs:129&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;Croesus.FrameworkServerInterface.FrameworkSocket.ReadObject&nbsp;()&nbsp;[0x00008]&nbsp;in&nbsp;<br>
c:\DailyBuild\Sources\70.0101-CFF\Foundations\FrameworkComponents\FrameworkServerInterface\FrameworkSocket.cs:493&lt;BR&gt;&amp;nbsp;&nbsp;<br>
at&nbsp;<br>
Croesus.FrameworkServer.RequestProcessing.ClientConnectionHandler.ReceiveRequest&nbsp;<br>
(ReadStatus&nbsp;readStatus)&nbsp;[0x0001f]&nbsp;in&nbsp;<br>
c:\DailyBuild\Sources\70.0101-CFF\Products\FrameworkServer\RequestProcessing\ClientConnectionHandler.cs:168&lt;BR&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=750312014-17102007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;In&nbsp;both&nbsp;cases,&nbsp;<br>
everything&nbsp;is&nbsp;compiled&nbsp;using&nbsp;Visual&nbsp;Studio&nbsp;2005.&amp;nbsp;&nbsp;The&nbsp;compiled&nbsp;dlls&nbsp;are&nbsp;<br>
different&nbsp;when&nbsp;I&nbsp;compare&nbsp;them&amp;nbsp;with&nbsp;a&nbsp;binary&nbsp;diff,&nbsp;but&nbsp;if&nbsp;I&nbsp;use&nbsp;the&nbsp;<br>
reflector&nbsp;to&nbsp;dump&nbsp;the&nbsp;source&nbsp;code,&nbsp;they&nbsp;are&nbsp;identical.&amp;nbsp;&nbsp;So&nbsp;basically,&nbsp;the&nbsp;<br>
reflector&nbsp;sees&nbsp;both&nbsp;dlls&nbsp;as&nbsp;identical,&nbsp;but&nbsp;mono&nbsp;can't&nbsp;handle&nbsp;one&nbsp;of&nbsp;them.&amp;nbsp;&nbsp;<br>
.NET&nbsp;works&nbsp;fine&nbsp;with&nbsp;both.&amp;nbsp;&nbsp;I&nbsp;tried&nbsp;recompiling&nbsp;the&nbsp;dlls&nbsp;many&nbsp;times&nbsp;on&nbsp;both&nbsp;<br>
machines.&amp;nbsp;&nbsp;It&nbsp;seems&nbsp;that&nbsp;Visual&nbsp;Studio&nbsp;produces&nbsp;different&nbsp;binaries&nbsp;every&nbsp;<br>
time,&nbsp;but&nbsp;there&nbsp;is&nbsp;one&nbsp;constant,&nbsp;the&nbsp;one&nbsp;I&nbsp;compile&nbsp;on&nbsp;my&nbsp;machine&nbsp;works&nbsp;and&nbsp;the&nbsp;<br>
one&nbsp;I&nbsp;compile&nbsp;on&nbsp;the&nbsp;build&nbsp;machine&nbsp;doesn't.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=750312014-17102007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=750312014-17102007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Looking&nbsp;at&nbsp;the&nbsp;call&nbsp;<br>
stack&nbsp;of&nbsp;the&nbsp;error,&nbsp;it&nbsp;seems&nbsp;like&nbsp;the&nbsp;delegate&nbsp;doesn't&nbsp;call&nbsp;the&nbsp;right&nbsp;<br>
method.&amp;nbsp;&nbsp;It&nbsp;doesn't&nbsp;call&nbsp;the&nbsp;method&nbsp;that&nbsp;I&nbsp;identified&nbsp;with&nbsp;the&nbsp;<br>
OnDeserialized&nbsp;attribute,&nbsp;it&nbsp;calls&nbsp;InternalArray__RemoveAt&nbsp;instead,&nbsp;which&nbsp;<br>
triggers&nbsp;the&nbsp;error.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=750312014-17102007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=750312014-17102007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Any&nbsp;idea&nbsp;what&nbsp;could&nbsp;<br>
be&nbsp;the&nbsp;source&nbsp;of&nbsp;that&nbsp;problem?&amp;nbsp;&nbsp;I'm&nbsp;using&nbsp;mono&nbsp;1.2.3.1.&amp;nbsp;&nbsp;I&nbsp;will&nbsp;try&nbsp;<br>
with&nbsp;the&nbsp;latest&nbsp;sources&nbsp;ASAP.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=750312014-17102007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=750312014-17102007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;Thanks,&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=750312014-17102007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=750312014-17102007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Jonathan&nbsp;<br>
Gagnon&lt;/DIV&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
