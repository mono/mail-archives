// Main.cs created with MonoDevelop
// User: ndellamico at 7:29 PMÂ 2/20/2008
//
// To change standard headers go to Edit->Preferences->Coding->Standard Headers
//
using System;

namespace test
{
	class MainClass
	{
		public static void Main(string[] args)
		{
			Console.WriteLine("Hello World!");
		}
		private enum COMMANDS{
			GVAR,
			LVAR,
			EVT_ADD,
			EVT_DEL,
			SET,
			ADD,
			SUB,
			MUL,
			DIV,
			JE,
			JGE,
			JG,
			JLE,
			JL,
			GOTO,
			GOSUB,
		};
		public bool Parse( System.IO.StreamReader stream){
			int source_line_index= 0;
			while( stream.Peek()>= 0) {
				++source_line_index;
				string line= stream.ReadLine( ).Trim().ToUpper();
				// Check for empty line
				if( line.Length== 0)
					continue;
				// Check for comments
				if( line[0]== ';')
					continue;
				// Strip away comments
				string[] cmd_line= line.Split( ';');
				// Tokenize the command string
				string[] tokens= cmd_line[0].Split( new char[]{' ','\t'});

				// Other specific stuff here 
				// ... omitted for clarity
				
				// Command found
				COMMANDS cmd= (COMMANDS) System.Enum.Parse( typeof( COMMANDS), tokens[0]);
				switch( cmd) {			
					case COMMANDS.ADD:
						// Dummy stuff here
						System.Console.WriteLine( "command is ADD");
						break;
					case COMMANDS.MUL:
						// Dummy stuff here
						System.Console.WriteLine( "command is MUL");
						break;
					// This should cause a compiler exception error !! 
					case COMMANDS.MUL:
						System.Console.WriteLine( "command is MUL ");
						break;
				}
			}
		}
	}
}