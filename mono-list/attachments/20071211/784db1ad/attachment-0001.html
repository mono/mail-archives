<tt>
Oops,&nbsp;seems&nbsp;I&nbsp;haven&amp;#39;t&nbsp;been&nbsp;including&nbsp;the&nbsp;list&nbsp;in&nbsp;posting.&nbsp;See&nbsp;below!&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Dec&nbsp;11,&nbsp;2007&nbsp;8:37&nbsp;PM,&nbsp;Russell&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:rusvdw@gmail.com&quot;&gt;rusvdw@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Rodrigo,&lt;br&gt;&lt;br&gt;Sorry&nbsp;for&nbsp;the&nbsp;long&nbsp;delay,&nbsp;but&nbsp;my&nbsp;day&nbsp;job&nbsp;has&nbsp;had&nbsp;me&nbsp;a&nbsp;bit&nbsp;swamped&nbsp;of&nbsp;late&nbsp;(and&nbsp;it&nbsp;took&nbsp;a&nbsp;while&nbsp;to&nbsp;figure&nbsp;out&nbsp;the&nbsp;whole&nbsp;gdb&nbsp;thing).&lt;br&gt;&lt;br&gt;Managed&nbsp;stack&nbsp;trace&nbsp;with&nbsp;debug:&lt;br&gt;&lt;br&gt;root@ruski:/var/www/web4/web#&nbsp;mono&nbsp;--debug&nbsp;--profile=heap-buddy:<br>
heap.log&nbsp;/usr/local/lib/mono/2.0/xsp2.exe&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;***&nbsp;Running&nbsp;with&nbsp;heap-buddy&nbsp;***&lt;br&gt;xsp2&lt;br&gt;Listening&nbsp;on&nbsp;port:&nbsp;8080&nbsp;(non-secure)&lt;br&gt;Listening&nbsp;on&nbsp;address:&nbsp;&lt;a&nbsp;href=&quot;http://0.0.0.0&quot;&nbsp;target=&quot;_blank&quot;&gt;0.0.0.0&lt;/a&gt;<br>
&lt;br&gt;Root&nbsp;directory:&nbsp;/var/www/web4/web<br>
&lt;br&gt;Hit&nbsp;Return&nbsp;to&nbsp;stop&nbsp;the&nbsp;server.&lt;br&gt;Stacktrace:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;System.Net.Sockets.Socket.LocalEndPoint_internal&nbsp;(intptr,int&amp;amp;)&nbsp;&amp;lt;0x00004&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;System.Net.Sockets.Socket.LocalEndPoint_internal<br>
<br>
&nbsp;(intptr,int&amp;amp;)&nbsp;&amp;lt;0xffffffff&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;System.Net.Sockets.Socket.get_LocalEndPoint&nbsp;()&nbsp;[0x00027]&nbsp;in&nbsp;/src/mono-&lt;a&nbsp;href=&quot;http://1.2.5.1/mcs/class/System/System.Net.Sockets/Socket.cs:1099&quot;&nbsp;target=&quot;_blank&quot;&gt;1.2.5.1/mcs/class/System/System.Net.Sockets/Socket.cs:1099<br>
&lt;/a&gt;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;Mono.WebServer.XSPWebSource.CreateWorker&nbsp;(System.Net.Sockets.Socket,Mono.WebServer.ApplicationServer)&nbsp;[0x00000]&nbsp;in&nbsp;/src/xsp-1.2.5/src/Mono.WebServer/XSPWebSource.cs:105&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;Mono.WebServer.ApplicationServer.StartRequest<br>
<br>
&nbsp;(System.Net.Sockets.Socket,int)&nbsp;[0x00002]&nbsp;in&nbsp;/src/xsp-1.2.5/src/Mono.WebServer/ApplicationServer.cs:348&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;Mono.WebServer.ApplicationServer.ReuseSocket&nbsp;(System.Net.Sockets.Socket,int)&nbsp;[0x00000]&nbsp;in&nbsp;/src/xsp-1.2.5/src/Mono.WebServer/ApplicationServer.cs:361<br>
&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;remoting-invoke-with-check)&nbsp;Mono.WebServer.ApplicationServer.ReuseSocket&nbsp;(System.Net.Sockets.Socket,int)&nbsp;&amp;lt;0xffffffff&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;Mono.WebServer.XSPWorker.Close&nbsp;(bool)&nbsp;[0x00097]&nbsp;in&nbsp;/src/xsp-1.2.5/src/Mono.WebServer/XSPWorker.cs:236<br>
&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;Mono.WebServer.XSPRequestBroker.Close&nbsp;(int,bool)&nbsp;[0x00014]&nbsp;in&nbsp;/src/xsp-1.2.5/src/Mono.WebServer/XSPRequestBroker.cs:66&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;remoting-invoke-with-check)&nbsp;Mono.WebServer.XSPRequestBroker.Close<br>
&nbsp;(int,bool)&nbsp;&amp;lt;0xffffffff&amp;gt;<br>
&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;xdomain-dispatch)&nbsp;Mono.WebServer.XSPRequestBroker.Close&nbsp;(object,byte[]&amp;amp;,byte[]&amp;amp;,int,bool)&nbsp;&amp;lt;0xffffffff&amp;gt;&lt;br&gt;Segmentation&nbsp;fault&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;then&nbsp;ran&nbsp;the&nbsp;same&nbsp;command&nbsp;line&nbsp;and&nbsp;attached&nbsp;to&nbsp;the&nbsp;process&nbsp;using&nbsp;gdb:<br>
&lt;br&gt;&lt;br&gt;root@ruski:/var/www/web4/web#&nbsp;gdb&nbsp;mono&nbsp;9371&lt;br&gt;GNU&nbsp;gdb&nbsp;6.4.90-debian&lt;br&gt;Copyright&nbsp;(C)&nbsp;2006&nbsp;Free&nbsp;Software&nbsp;Foundation,&nbsp;Inc.&lt;br&gt;GDB&nbsp;is&nbsp;free&nbsp;software,&nbsp;covered&nbsp;by&nbsp;the&nbsp;GNU&nbsp;General&nbsp;Public&nbsp;License,&nbsp;and&nbsp;you&nbsp;are&lt;br&gt;welcome&nbsp;to&nbsp;change&nbsp;it&nbsp;and/or&nbsp;distribute&nbsp;copies&nbsp;of&nbsp;it&nbsp;under&nbsp;certain&nbsp;conditions.<br>
&lt;br&gt;Type&nbsp;&amp;quot;show&nbsp;copying&amp;quot;&nbsp;to&nbsp;see&nbsp;the&nbsp;conditions.&lt;br&gt;There&nbsp;is&nbsp;absolutely&nbsp;no&nbsp;warranty&nbsp;for&nbsp;GDB.&amp;nbsp;&nbsp;Type&nbsp;&amp;quot;show&nbsp;warranty&amp;quot;&nbsp;for&nbsp;details.&lt;br&gt;This&nbsp;GDB&nbsp;was&nbsp;configured&nbsp;as&nbsp;&amp;quot;i486-linux-gnu&amp;quot;...Using&nbsp;host&nbsp;libthread_db&nbsp;library&nbsp;&amp;quot;/lib/libthread_db.so.1&amp;quot;.<br>
&lt;br&gt;&lt;br&gt;Attaching&nbsp;to&nbsp;program:&nbsp;/usr/local/bin/mono,&nbsp;process&nbsp;9371&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/usr/lib/libgthread-2.0.so.0...done.&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/usr/lib/libgthread-2.0.so.0&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/usr/lib/libglib-2.0.so.0...done<br>
<br>
.&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/usr/lib/libglib-2.0.so.0&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/librt.so.1...done.&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/lib/librt.so.1&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libdl.so.2...done.&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/lib/libdl.so.2<br>
&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libpthread.so.0...done.&lt;br&gt;[Thread&nbsp;debugging&nbsp;using&nbsp;libthread_db&nbsp;enabled]&lt;br&gt;[New&nbsp;Thread&nbsp;-1210198336&nbsp;(LWP&nbsp;9371)]&lt;br&gt;[New&nbsp;Thread&nbsp;-1231938640&nbsp;(LWP&nbsp;9390)]&lt;br&gt;[New&nbsp;Thread&nbsp;-1220764752&nbsp;(LWP&nbsp;9379)]&lt;br&gt;<br>
<br>
[New&nbsp;Thread&nbsp;-1220682832&nbsp;(LWP&nbsp;9378)]&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/lib/libpthread.so.0&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libm.so.6...done.&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/lib/libm.so.6&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libc.so.6...done.&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/lib/libc.so.6<br>
&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/ld-linux.so.2...done.&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/lib/ld-linux.so.2&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/usr/local/lib/libmono-profiler-heap-buddy.so...done.&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/usr/local/lib/libmono-profiler-heap-buddy.so<br>
<br>
&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/usr/local/lib/libmono.so.0...done.&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/usr/local/lib/libmono.so.0&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libnss_compat.so.2...done.&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/lib/libnss_compat.so.2&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libnsl.so.1...done.<br>
&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/lib/libnsl.so.1&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libnss_nis.so.2...done.&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/lib/libnss_nis.so.2&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libnss_files.so.2...done.&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/lib/libnss_files.so.2<br>
&lt;br&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/lib/libgcc_s.so.1...done.&lt;br&gt;Loaded&nbsp;symbols&nbsp;for&nbsp;/lib/libgcc_s.so.1&lt;br&gt;0xb7f2ec41&nbsp;in&nbsp;__read_nocancel&nbsp;()&nbsp;from&nbsp;/lib/libpthread.so.0&lt;br&gt;(gdb)&nbsp;bt&lt;br&gt;#0&amp;nbsp;&nbsp;0xb7f2ec41&nbsp;in&nbsp;__read_nocancel&nbsp;()&nbsp;from&nbsp;/lib/libpthread.so.0<br>
&lt;br&gt;#1&amp;nbsp;&nbsp;0x081148ca&nbsp;in&nbsp;console_read&nbsp;(handle=0x0,&nbsp;buffer=0xc2ab0,&nbsp;numbytes=1024,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;bytesread=0xbfffd3ec,&nbsp;overlapped=0x0)&nbsp;at&nbsp;io.c:1069&lt;br&gt;#2&amp;nbsp;&nbsp;0x08115bed&nbsp;in&nbsp;ReadFile&nbsp;(handle=0x0,&nbsp;buffer=0xc2ab0,&nbsp;numbytes=1024,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;bytesread=0xbfffd3ec,&nbsp;overlapped=0x0)&nbsp;at&nbsp;<br>
io.c:2179&lt;br&gt;#3&amp;nbsp;&nbsp;0x0817ed26&nbsp;in&nbsp;ves_icall_System_IO_MonoIO_Read&nbsp;(handle=0x0,&nbsp;dest=0xc2aa0,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;dest_offset=0,&nbsp;count=797360,&nbsp;error=0xbfffd45c)&nbsp;at&nbsp;file-io.c:605&lt;br&gt;#4&amp;nbsp;&nbsp;0xb6aa4293&nbsp;in&nbsp;??&nbsp;()&lt;br&gt;#5&amp;nbsp;&nbsp;0x00000000&nbsp;in&nbsp;??&nbsp;()&lt;br&gt;(gdb)&nbsp;continue<br>
&lt;br&gt;Continuing.&lt;br&gt;Could&nbsp;not&nbsp;open&nbsp;/proc/12054/status&lt;br&gt;(gdb)&nbsp;continue&lt;br&gt;Continuing.&lt;br&gt;Could&nbsp;not&nbsp;open&nbsp;/proc/12054/status&lt;br&gt;(gdb)&lt;br&gt;&lt;br&gt;as&nbsp;you&nbsp;can&nbsp;see,&nbsp;I&amp;#39;m&nbsp;unable&nbsp;to&nbsp;continue&nbsp;the&nbsp;process&nbsp;and&nbsp;thus&nbsp;cannot&nbsp;cause&nbsp;the&nbsp;errant&nbsp;behavour.&nbsp;<br>
&lt;br&gt;&lt;br&gt;Any&nbsp;further&nbsp;ideas?&lt;br&gt;&lt;br&gt;Russell&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;On&nbsp;Dec&nbsp;6,&nbsp;2007&nbsp;1:14&nbsp;PM,&nbsp;Rodrigo&nbsp;Kumpera&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:kumpera@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;kumpera@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:<br>
&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Russel,&lt;br&gt;&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;Send&nbsp;the&nbsp;whole&nbsp;stack&nbsp;trace,&nbsp;including&nbsp;the&nbsp;native&nbsp;ones.&nbsp;In&nbsp;case&nbsp;it&amp;#39;s&nbsp;not&nbsp;appearing,&nbsp;run&nbsp;xsp&nbsp;under&nbsp;debug&nbsp;and&nbsp;get&nbsp;it&nbsp;from&nbsp;gdb&nbsp;(use&nbsp;&amp;quot;bt&amp;quot;&nbsp;when&nbsp;the&nbsp;gdb&nbsp;console&nbsp;appears).&lt;br&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;Rodrigo&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
On&nbsp;Dec&nbsp;6,&nbsp;2007&nbsp;5:38&nbsp;AM,&nbsp;Russell&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:rusvdw@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rusvdw@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
<br>
XSP2&nbsp;now&nbsp;dies&nbsp;with&nbsp;a&nbsp;segmentation&nbsp;fault&nbsp;while&nbsp;serving&nbsp;the&nbsp;page:&lt;br&gt;&lt;br&gt;root@ruski:/var/www/web4/web#&nbsp;mono&nbsp;--profile=heap-buddy:heap.log&nbsp;/usr/local/lib/mono/2.0/xsp2.exe&lt;br&gt;***&nbsp;Running&nbsp;with&nbsp;heap-buddy&nbsp;***&lt;br&gt;xsp2&lt;br&gt;Listening&nbsp;on&nbsp;port:&nbsp;8080&nbsp;(non-secure)<br>
&lt;br&gt;Listening&nbsp;on&nbsp;address:&nbsp;&lt;a&nbsp;href=&quot;http://0.0.0.0&quot;&nbsp;target=&quot;_blank&quot;&gt;0.0.0.0&lt;/a&gt;&lt;br&gt;Root&nbsp;directory:&nbsp;/var/www/web4/web&lt;br&gt;Hit&nbsp;Return&nbsp;to&nbsp;stop&nbsp;the&nbsp;server.&lt;br&gt;Stacktrace:&lt;br&gt;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;System.Object.__icall_wrapper_mono_array_new_specific<br>
<br>
<br>
<br>
&nbsp;(intptr,int)&nbsp;&amp;lt;0x00004&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;System.Object.__icall_wrapper_mono_array_new_specific&nbsp;(intptr,int)&nbsp;&amp;lt;0xffffffff&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;Mono.WebServer.LingeringNetworkStream.LingeringClose&nbsp;()&nbsp;&amp;lt;0x000e6&amp;gt;<br>
&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;Mono.WebServer.LingeringNetworkStream.Close&nbsp;()&nbsp;&amp;lt;0x00018&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;Mono.WebServer.XSPWorker.Close&nbsp;(bool)&nbsp;&amp;lt;0x0003f&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;Mono.WebServer.XSPRequestBroker.Close&nbsp;(int,bool)&nbsp;&amp;lt;0x00046&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;remoting-invoke-with-check)&nbsp;<br>
Mono.WebServer.XSPRequestBroker.Close&nbsp;(int,bool)&nbsp;&amp;lt;0xffffffff&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;xdomain-dispatch)&nbsp;Mono.WebServer.XSPRequestBroker.Close&nbsp;(object,byte[]&amp;amp;,byte[]&amp;amp;,int,bool)&nbsp;&amp;lt;0xffffffff&amp;gt;&lt;br&gt;Segmentation&nbsp;fault<br>
&lt;br&gt;&lt;br&gt;Any&nbsp;further&nbsp;ideas?&nbsp;&lt;br&gt;&lt;br&gt;ps.&nbsp;heap-shot&nbsp;isn&amp;#39;t&nbsp;an&nbsp;option&nbsp;as&nbsp;I&amp;#39;m&nbsp;on&nbsp;an&nbsp;GUI-less&nbsp;server.&nbsp;I&nbsp;can&amp;#39;t&nbsp;compile&nbsp;it&nbsp;either&nbsp;due&nbsp;to&nbsp;it&amp;#39;s&nbsp;GUI&nbsp;dependencies.&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;<br>
<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
