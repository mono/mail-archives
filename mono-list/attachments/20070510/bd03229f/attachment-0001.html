<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.6000.16414&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=716513913-10052007&gt;Hi,&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=716513913-10052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=716513913-10052007&gt;Here's&nbsp;a&nbsp;little&nbsp;more&nbsp;information.&amp;nbsp;&nbsp;Looking&nbsp;at&nbsp;the&nbsp;<br>
stacktrace,&nbsp;I&nbsp;noticed&nbsp;that&nbsp;this&nbsp;problem&nbsp;always&nbsp;happens&nbsp;when&nbsp;trying&nbsp;to&nbsp;serialize&nbsp;<br>
a&nbsp;big&nbsp;List&amp;lt;&amp;gt;&nbsp;into&nbsp;a&nbsp;MemoryStream.&amp;nbsp;&nbsp;My&nbsp;guess&nbsp;is&nbsp;that&nbsp;because&nbsp;the&nbsp;<br>
memory&nbsp;stream&nbsp;needs&nbsp;to&nbsp;be&nbsp;expanded&nbsp;many&nbsp;times&nbsp;in&nbsp;the&nbsp;process,&nbsp;il&nbsp;leads&nbsp;to&nbsp;memory&nbsp;<br>
fragmentation.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=716513913-10052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=716513913-10052007&gt;What&nbsp;is&nbsp;weird&nbsp;though,&nbsp;is&nbsp;that&nbsp;I&nbsp;don't&nbsp;have&nbsp;the&nbsp;same&nbsp;<br>
behavior&nbsp;if&nbsp;I&nbsp;run&nbsp;the&nbsp;same&nbsp;application&nbsp;with&nbsp;mono&nbsp;on&nbsp;Windows.&amp;nbsp;&nbsp;On&nbsp;windows,&nbsp;I&nbsp;<br>
am&nbsp;able&nbsp;to&nbsp;get&nbsp;further,&nbsp;but&nbsp;I&nbsp;eventually&nbsp;get&nbsp;an&nbsp;out&nbsp;of&nbsp;memory&nbsp;error,&nbsp;which&nbsp;is&nbsp;<br>
weird&nbsp;because&nbsp;if&nbsp;I&nbsp;run&nbsp;the&nbsp;application&nbsp;with&nbsp;.NET,&nbsp;the&nbsp;allocated&nbsp;memory&nbsp;never&nbsp;<br>
goes&nbsp;beyond&nbsp;150&nbsp;megs.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=716513913-10052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=716513913-10052007&gt;Any&nbsp;idea&nbsp;what&nbsp;could&nbsp;explain&nbsp;the&nbsp;difference&nbsp;in&nbsp;behavior&nbsp;<br>
between&nbsp;the&nbsp;2&nbsp;OS?&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=716513913-10052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=716513913-10052007&gt;I'd&nbsp;also&nbsp;like&nbsp;to&nbsp;know&nbsp;if&nbsp;mono&nbsp;uses&nbsp;a&nbsp;large&nbsp;object&nbsp;heap&nbsp;<br>
like&nbsp;.NET&nbsp;for&nbsp;objects&nbsp;larger&nbsp;than&nbsp;a&nbsp;certain&nbsp;number&nbsp;of&nbsp;bytes&nbsp;(85000&nbsp;bytes&nbsp;in&nbsp;<br>
.NET)&nbsp;and&nbsp;what&nbsp;is&nbsp;that&nbsp;number&nbsp;of&nbsp;bytes.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=716513913-10052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=716513913-10052007&gt;Here&nbsp;is&nbsp;the&nbsp;actual&nbsp;error&nbsp;I&nbsp;get&nbsp;on&nbsp;Linux,&nbsp;in&nbsp;case&nbsp;it&nbsp;<br>
could&amp;nbsp;help&amp;nbsp;:&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Too&nbsp;many&nbsp;heap&nbsp;sections:&nbsp;Increase&nbsp;<br>
MAXHINCR&nbsp;or&nbsp;MAX_HEAP_SECTS&lt;BR&gt;Stacktrace:&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#0000ff&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;<br>
managed-to-native)&nbsp;System.Object.__icall_wrapper_mono_object_new_fast&nbsp;(intptr)&nbsp;<br>
&amp;lt;0x00004&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;<br>
System.Object.__icall_wrapper_mono_object_new_fast&nbsp;(intptr)&nbsp;<br>
&amp;lt;0xffffffff&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;System.Array.GetEnumerator&nbsp;()&nbsp;<br>
&amp;lt;0x0000d&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
System.Runtime.Serialization.Formatters.Binary.ObjectWriter.WriteSingleDimensionArrayElements&nbsp;<br>
(System.IO.BinaryWriter,System.Array,System.Type)&nbsp;&amp;lt;0x00020&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
System.Runtime.Serialization.Formatters.Binary.ObjectWriter.WriteObjectArray&nbsp;<br>
(System.IO.BinaryWriter,long,System.Array)&nbsp;&amp;lt;0x0003f&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
System.Runtime.Serialization.Formatters.Binary.ObjectWriter.WriteArray&nbsp;<br>
(System.IO.BinaryWriter,long,System.Array)&nbsp;&amp;lt;0x00046&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
System.Runtime.Serialization.Formatters.Binary.ObjectWriter.WriteObjectInstance&nbsp;<br>
(System.IO.BinaryWriter,object,bool)&nbsp;&amp;lt;0x00143&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
System.Runtime.Serialization.Formatters.Binary.ObjectWriter.WriteQueuedObjects&nbsp;<br>
(System.IO.BinaryWriter)&nbsp;&amp;lt;0x0002d&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
System.Runtime.Serialization.Formatters.Binary.ObjectWriter.WriteObjectGraph&nbsp;<br>
(System.IO.BinaryWriter,object,System.Runtime.Remoting.Messaging.Header[])&nbsp;<br>
&amp;lt;0x0003a&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Serialize&nbsp;<br>
(System.IO.Stream,object,System.Runtime.Remoting.Messaging.Header[])&nbsp;<br>
&amp;lt;0x0020c&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Serialize&nbsp;<br>
(System.IO.Stream,object)&nbsp;&amp;lt;0x00015&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;<br>
MyCompany.MyClass.Serialize&nbsp;(System.IO.MemoryStream&amp;amp;,object,bool)&nbsp;<br>
&amp;lt;0x00068&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;MyCompany.MyClass.ExecuteRequest&nbsp;<br>
(System.Guid,MyCompany.MyClass.MyEnum,System.Guid,object[])&nbsp;<br>
&amp;lt;0x00153&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;delegate-invoke)&nbsp;<br>
System.MulticastDelegate.invoke_void_Guid_MyEnum_Guid_object[]&nbsp;<br>
(System.Guid,MyCompany.MyClass.MyEnum,System.Guid,object[])&nbsp;<br>
&amp;lt;0xffffffff&amp;gt;&lt;BR&gt;&amp;nbsp;&nbsp;at&nbsp;(wrapper&nbsp;runtime-invoke)&nbsp;<br>
ExecuteRequestDelegate.runtime_invoke_void_Guid_MyEnum_Guid_object[]&nbsp;<br>
(object,intptr,intptr,intptr)&nbsp;&amp;lt;0xffffffff&amp;gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=716513913-10052007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;Thanks,&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=716513913-10052007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;SPAN&nbsp;class=716513913-10052007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;Jonathan&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;BR&gt;<br>
&lt;DIV&nbsp;class=OutlookMessageHeader&nbsp;lang=fr&nbsp;dir=ltr&nbsp;align=left&gt;<br>
&lt;HR&nbsp;tabIndex=-1&gt;<br>
&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;&lt;B&gt;De&amp;nbsp;:&lt;/B&gt;&nbsp;mono-list-bounces@lists.ximian.com&nbsp;<br>
[mailto:mono-list-bounces@lists.ximian.com]&nbsp;&lt;B&gt;De&nbsp;la&nbsp;part&nbsp;de&lt;/B&gt;&nbsp;Jonathan&nbsp;<br>
Gagnon&lt;BR&gt;&lt;B&gt;Envoyé&amp;nbsp;:&lt;/B&gt;&nbsp;Wednesday,&nbsp;May&nbsp;09,&nbsp;2007&nbsp;1:26&nbsp;<br>
PM&lt;BR&gt;&lt;B&gt;À&amp;nbsp;:&lt;/B&gt;&nbsp;Mono-list@lists.ximian.com&lt;BR&gt;&lt;B&gt;Objet&amp;nbsp;:&lt;/B&gt;&nbsp;<br>
[Mono-list]&nbsp;Too&nbsp;many&nbsp;heap&nbsp;sections:&nbsp;Increase&nbsp;MAXHINCR&nbsp;<br>
orMAX_HEAP_SECTS&lt;BR&gt;&lt;/FONT&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=935402317-09052007&gt;Hi,&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=935402317-09052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=935402317-09052007&gt;I&nbsp;have&nbsp;an&nbsp;<br>
application&nbsp;that&nbsp;runs&nbsp;fine&nbsp;with&nbsp;.NET,&nbsp;but&nbsp;when&nbsp;I&nbsp;run&nbsp;it&nbsp;with&nbsp;mono,&nbsp;I&nbsp;get&nbsp;the&nbsp;<br>
following&nbsp;error&nbsp;:&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=935402317-09052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=935402317-09052007&gt;Too&nbsp;many&nbsp;heap&nbsp;<br>
sections:&nbsp;Increase&nbsp;MAXHINCR&nbsp;or&nbsp;MAX_HEAP_SECTS&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=935402317-09052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=935402317-09052007&gt;What&nbsp;could&nbsp;be&nbsp;the&nbsp;<br>
source&nbsp;of&nbsp;this&nbsp;problem&nbsp;and&nbsp;how&nbsp;can&nbsp;I&nbsp;increase&nbsp;those&nbsp;values&nbsp;(MAXHINCR&nbsp;or&nbsp;<br>
MAX_HEAP_SECTS)?&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=935402317-09052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=935402317-09052007&gt;I'm&nbsp;using&nbsp;mono&nbsp;<br>
1.2.3.1.&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=935402317-09052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=935402317-09052007&gt;Thanks,&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=935402317-09052007&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=935402317-09052007&gt;Jonathan&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
