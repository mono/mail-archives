<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;You&nbsp;really&nbsp;have&nbsp;two&nbsp;options:&lt;div&gt;1)&nbsp; Use&nbsp;float/double&nbsp;values&nbsp;and&nbsp;accept&nbsp;that&nbsp;you&nbsp;will&nbsp;get&nbsp;rounding&nbsp;errors&nbsp;in&nbsp;all&nbsp;trivial&nbsp;and/non-trivial&nbsp;floating&nbsp;point&nbsp;calculations.&nbsp;You&nbsp;will&nbsp;have&nbsp;to&nbsp;deal&nbsp;with&nbsp;this&nbsp;lack&nbsp;of&nbsp;precision&nbsp;appropriately&nbsp;for&nbsp;the&nbsp;type&nbsp;of&nbsp;calculation&nbsp;you&nbsp;are&nbsp;performing.&nbsp;This&nbsp;is&nbsp;not&nbsp;a&nbsp;bug,&nbsp;this&nbsp;is&nbsp;just&nbsp;how&nbsp;floating&nbsp;point&nbsp;works.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2)&nbsp;Use&nbsp;a&nbsp;higher&nbsp;precision/infinite&nbsp;precision&nbsp;type&nbsp;which&nbsp;will&nbsp;give&nbsp;you&nbsp;the&nbsp;higher&nbsp;accuracy&nbsp;you&nbsp;require,&nbsp;if&nbsp;you&nbsp;require&nbsp;it.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;calculation&nbsp;which&nbsp;kickstarted&nbsp;this&nbsp;conversation&nbsp;contains&nbsp;the&nbsp;value&nbsp;&#39;0.2&#39;&nbsp;which&nbsp;cannot&nbsp;be&nbsp;precisely&nbsp;represented&nbsp;by&nbsp;a&nbsp;float/double.&nbsp;The&nbsp;expectation&nbsp;here&nbsp;is&nbsp;that&nbsp;you&nbsp;*will*&nbsp;have&nbsp;rounding&nbsp;errors.&nbsp;If&nbsp;you&nbsp;get&nbsp;&#39;0&#39;&nbsp;it&#39;s&nbsp;because&nbsp;you&nbsp;got&nbsp;lucky&nbsp;and&nbsp;those&nbsp;rounding&nbsp;errors&nbsp;just&nbsp;happened&nbsp;to&nbsp;get&nbsp;truncated&nbsp;to&nbsp;give&nbsp;a&nbsp;final&nbsp;value&nbsp;of&nbsp;0.&nbsp;The&nbsp;stackoverflow&nbsp;link&nbsp;in&nbsp;my&nbsp;last&nbsp;email&nbsp;has&nbsp;a&nbsp;very&nbsp;thorough&nbsp;explanation&nbsp;as&nbsp;to&nbsp;exactly&nbsp;why&nbsp;non-zero&nbsp;errors&nbsp;in&nbsp;every&nbsp;calculation&nbsp;can&nbsp;give&nbsp;a&nbsp;final&nbsp;result&nbsp;with&nbsp;zero&nbsp;error.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;fact&nbsp;that&nbsp;different&nbsp;versions&nbsp;of&nbsp;.NET&nbsp;produce&nbsp;different&nbsp;outputs&nbsp;doesn&#39;t&nbsp;mean&nbsp;much&nbsp;as&nbsp;long&nbsp;as&nbsp;the&nbsp;error&nbsp;is&nbsp;within&nbsp;the&nbsp;expected&nbsp;range.&nbsp;The&nbsp;JIT&nbsp;in&nbsp;newer&nbsp;releases&nbsp;of&nbsp;.NET&nbsp;could&#39;ve&nbsp;started&nbsp;choosing&nbsp;a&nbsp;different&nbsp;(better/faster/whatever)&nbsp;codepath&nbsp;to&nbsp;implement&nbsp;the&nbsp;calculation&nbsp;which&nbsp;triggers&nbsp;this&nbsp;negligible&nbsp;difference.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;23&nbsp;May&nbsp;2016&nbsp;at&nbsp;13:59,&nbsp;MarLOne&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:InfoSeeker002@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;InfoSeeker002@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;Alan,&lt;br&gt;<br>
&lt;br&gt;<br>
While&nbsp;all&nbsp;this&nbsp;is&nbsp;find&nbsp;it&nbsp;does&nbsp;not&nbsp;explain&nbsp;the&nbsp;following&nbsp;observation&nbsp;using&lt;br&gt;<br>
the&nbsp;same&nbsp;CPU:&lt;br&gt;<br>
VS2015 &nbsp;the&nbsp;delta&nbsp;is&nbsp;zero&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;all&nbsp;other&nbsp;VS&nbsp;dated&nbsp;back&nbsp;to&nbsp;2003&nbsp;the&nbsp;delta&nbsp;is&nbsp;non-zero.&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;fact&nbsp;my&nbsp;friend&nbsp;has&nbsp;shown&nbsp;me&nbsp;his&nbsp;code&nbsp;that&nbsp;led&nbsp;him&nbsp;to&nbsp;question&nbsp;this:&lt;br&gt;<br>
He&nbsp;has&nbsp;a&nbsp;web&nbsp;server&nbsp;implementing&nbsp;that&nbsp;simple&nbsp;expression.&nbsp;When&nbsp;the&nbsp;server&nbsp;was&lt;br&gt;<br>
hosted&nbsp;in&nbsp;VS2015&nbsp;IIS&nbsp;(v10)&nbsp;Express&nbsp;and&nbsp;in&nbsp;a&nbsp;local&nbsp;IIS&nbsp;7.5,&nbsp;the&nbsp;results&nbsp;are&lt;br&gt;<br>
different.&nbsp;One&nbsp;returning&nbsp;perfect&nbsp;zero&nbsp;while&nbsp;the&nbsp;other&nbsp;the&nbsp;delta&nbsp;I&nbsp;have&lt;br&gt;<br>
reported.&lt;br&gt;<br>
&lt;br&gt;<br>
There&nbsp;is&nbsp;hardly&nbsp;any&nbsp;accumulated&nbsp;error.&nbsp;It&nbsp;seems&nbsp;to&nbsp;be&nbsp;MS&nbsp;finally&nbsp;decides&lt;br&gt;<br>
that&nbsp;the&nbsp;result&nbsp;should&nbsp;be&nbsp;zero&nbsp;(previously&nbsp;some&nbsp;mistake&nbsp;or&nbsp;simplistic&lt;br&gt;<br>
approach)&nbsp;so&nbsp;that&nbsp;it&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;Java,&nbsp;Swift&nbsp;and&nbsp;C/C++.&lt;br&gt;<br>
&lt;br&gt;<br>
Something&nbsp;dodgy&nbsp;to&nbsp;me.&nbsp;My&nbsp;friend&#39;s&nbsp;web&nbsp;demo&nbsp;is&nbsp;pretty&nbsp;much&nbsp;the&nbsp;same&nbsp;as&nbsp;mine&lt;br&gt;<br>
using&nbsp;C/Com&nbsp;and&nbsp;.Net&nbsp;assembly&nbsp;resulting&nbsp;in&nbsp;two&nbsp;different&nbsp;values.&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;those&nbsp;that&nbsp;are&nbsp;using&nbsp;this&nbsp;for&nbsp;SCIENTIFIC&nbsp;calculations,&nbsp;I&nbsp;urge&nbsp;you&nbsp;to&nbsp;do&lt;br&gt;<br>
fine&nbsp;grain&nbsp;test&nbsp;them&nbsp;using&nbsp;Learning&nbsp;Test&nbsp;when&nbsp;moving&nbsp;to&nbsp;and&nbsp;from&nbsp;VS2015&nbsp;or&lt;br&gt;<br>
Roslyn.&nbsp;It&nbsp;seems&nbsp;VS2015&nbsp;has&nbsp;changed&nbsp;something&nbsp;leading&nbsp;to&nbsp;the&nbsp;observation.&lt;br&gt;<br>
Just&nbsp;to&nbsp;make&nbsp;sure&nbsp;the&nbsp;change&nbsp;does&nbsp;not&nbsp;have&nbsp;impact&nbsp;on&nbsp;it.&nbsp;Alternately&nbsp;those&lt;br&gt;<br>
developed&nbsp;in&nbsp;VS2015&nbsp;but&nbsp;run&nbsp;with&nbsp;code&nbsp;developed&nbsp;in&nbsp;earlier&nbsp;compiler&nbsp;one&lt;br&gt;<br>
needs&nbsp;to&nbsp;implement&nbsp;floating&nbsp;point&nbsp;defensive&nbsp;code.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;have&nbsp;to&nbsp;do&nbsp;some&nbsp;SCIENTIFIC&nbsp;computation&nbsp;of&nbsp;running&nbsp;that&nbsp;expression&nbsp;or&lt;br&gt;<br>
more&nbsp;complex&nbsp;one&nbsp;a&nbsp;few&nbsp;hundred&nbsp;times,&nbsp;the&nbsp;result&nbsp;if&nbsp;not&nbsp;taken&nbsp;care&nbsp;of&nbsp;of&nbsp;the&lt;br&gt;<br>
type&#39;s&nbsp;accuracy&nbsp;at&nbsp;each&nbsp;iteration,&nbsp;the&nbsp;end&nbsp;result&nbsp;will&nbsp;have&nbsp;accumulation&lt;br&gt;<br>
error&nbsp;that&nbsp;puts&nbsp;the&nbsp;end&nbsp;result&nbsp;within&nbsp;the&nbsp;precision&nbsp;of&nbsp;the&nbsp;type.&nbsp;Clearly&lt;br&gt;<br>
that&nbsp;is&nbsp;wrong&nbsp;and&nbsp;should&nbsp;not&nbsp;be&nbsp;so&nbsp;sensitive&nbsp;to&nbsp;version&nbsp;change&nbsp;of&nbsp;the&nbsp;VS.&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;fairness&nbsp;scientific&nbsp;calculation&nbsp;is&nbsp;best&nbsp;to&nbsp;be&nbsp;performed&nbsp;in&nbsp;Double&nbsp;because&lt;br&gt;<br>
more&nbsp;floating&nbsp;point&nbsp;operations&nbsp;are&nbsp;performed&nbsp;internally&nbsp;in&nbsp;double.&nbsp;Doing&nbsp;so&lt;br&gt;<br>
with&nbsp;produce&nbsp;a&nbsp;number&nbsp;of&nbsp;5.55E-017&nbsp;which&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;produced&nbsp;by&nbsp;Java&nbsp;and&lt;br&gt;<br>
C.&lt;br&gt;<br>
&lt;br&gt;<br>
Rover&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://mono.1490590.n4.nabble.com/Why-is-0-1f-0-2f-0-3f-produces-such-a-large-error-number-tp4667837p4667862.html&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://mono.1490590.n4.nabble.com/Why-is-0-1f-0-2f-0-3f-produces-such-a-large-error-number-tp4667837p4667862.html&lt;/a&gt;&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;Sent&nbsp;from&nbsp;the&nbsp;Mono&nbsp;-&nbsp;General&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-list&nbsp;maillist &nbsp;- &nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
