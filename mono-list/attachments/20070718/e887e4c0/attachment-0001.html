<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2900.3132&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Hi&nbsp;<br>
All&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;I&nbsp;have&nbsp;been&nbsp;trying&nbsp;<br>
to&nbsp;track&nbsp;down&nbsp;this&nbsp;problem&nbsp;for&nbsp;a&nbsp;while,&nbsp;but&nbsp;have&nbsp;come&nbsp;up&nbsp;blank&nbsp;so&nbsp;I&nbsp;thought&nbsp;I&nbsp;<br>
would&nbsp;ask&nbsp;you&nbsp;guys&nbsp;for&nbsp;help.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;write&nbsp;<br>
a&nbsp;simple&nbsp;Soap&nbsp;client&nbsp;to&nbsp;talk&nbsp;to&nbsp;a&nbsp;UPnP&nbsp;Directory&nbsp;Service.&amp;nbsp;&nbsp;The&nbsp;code&nbsp;looks&nbsp;<br>
something&nbsp;like&nbsp;this:&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;[WebServiceBindingAttribute&nbsp;Name=&quot;ContentDirectory&nbsp;<br>
Namespace=&quot;urn:schemas-upnp-org:service:ContentDirectory:1&quot;)]&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;class&nbsp;<br>
ContendDirectoryControl&nbsp;:&nbsp;Protocols.SoapHttpClientProtocol&nbsp;{&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;public&nbsp;ContentDirectoryControl(Uri&nbsp;peer)&nbsp;{&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;this.Url=peer.ToString();&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
}&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;[Protocols.SoapDocumentMethodAttribute&nbsp;<br>
(&quot;urn:schemas-upnp-org:service:ContentDirectory:1#Browse&quot;,&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;RequestNamespace=...&nbsp;same&nbsp;as&nbsp;above&nbsp;<br>
...,&lt;/FONT&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&nbsp;<br>
ResponseNamespace=&nbsp;...&nbsp;same&nbsp;as&nbsp;above&nbsp;...,&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Use=&nbsp;....&nbsp;Literal,&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
class=813482113-18072007&gt;&nbsp;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;SoapParameterStyle=Wrapped)]&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
public&nbsp;BrowseResponse&nbsp;Browse(string&nbsp;ObjectID,&nbsp;string&nbsp;BrowseFlag,&nbsp;string&nbsp;Filter,&nbsp;<br>
uint&nbsp;StartingIndex,&nbsp;uint&nbsp;RequestedCount,&nbsp;string&nbsp;SortCriteria)&nbsp;<br>
{&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;object[]&nbsp;results=this.Invoke(&quot;Browse&quot;,new&nbsp;object[]&nbsp;<br>
{ObjectID,BrowseFlag,Filter,StartingIndex,RequestedCount,SortCriteria);&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
return((BrowseResponse)results[0]);&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
}&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;}&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;class&nbsp;BrowseResponse&nbsp;<br>
{&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;public&nbsp;strring&nbsp;Result;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
public&nbsp;uint&nbsp;NumberReturnedl&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;public&nbsp;uint&nbsp;TotalMatches;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
public&nbsp;uint&nbsp;UpdateID;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;}&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;The&nbsp;request&nbsp;fires&nbsp;<br>
off&nbsp;ok&nbsp;to&nbsp;the&nbsp;peer&nbsp;and&nbsp;a&nbsp;valid&nbsp;soap&nbsp;response&nbsp;is&nbsp;generated,&nbsp;however&nbsp;it&nbsp;is&nbsp;never&nbsp;<br>
deserialized&nbsp;in&nbsp;the&nbsp;client&nbsp;code&nbsp;(I&nbsp;am&nbsp;using&nbsp;mono&nbsp;1.2.4&nbsp;if&nbsp;that&nbsp;makes&nbsp;a&nbsp;<br>
difference).&amp;nbsp;&nbsp;I&nbsp;have&nbsp;hacked&nbsp;through&nbsp;the&nbsp;deserialize&nbsp;code&nbsp;(in&nbsp;<br>
XmlSerializationReaderInterpreter)&nbsp;and&nbsp;it&nbsp;only&nbsp;seems&nbsp;to&nbsp;be&nbsp;wanting&nbsp;to&nbsp;work&nbsp;with&nbsp;<br>
the&nbsp;element&nbsp;'BroserResponse'&nbsp;and&nbsp;not&nbsp;any&nbsp;of&nbsp;the&nbsp;elements&nbsp;of&nbsp;the&nbsp;<br>
class.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Have&nbsp;I&nbsp;missed&nbsp;<br>
something&nbsp;silly&nbsp;here?&amp;nbsp;&nbsp;There&nbsp;is&nbsp;probably&nbsp;some&nbsp;attribute&nbsp;I&nbsp;need&nbsp;to&nbsp;set&nbsp;on&nbsp;<br>
the&nbsp;BrowseResponse&nbsp;class&nbsp;to&nbsp;make&nbsp;this&nbsp;work.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Any&nbsp;help&nbsp;would&nbsp;be&nbsp;<br>
greatly&nbsp;appreciated.&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;Regards&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=813482113-18072007&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;Matt&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;*********************************************************************************************************&lt;br&gt;This&nbsp;e-mail&nbsp;is&nbsp;confidential,&nbsp;the&nbsp;property&nbsp;of&nbsp;NDS&nbsp;Ltd&nbsp;and&nbsp;intended&nbsp;for&nbsp;the&nbsp;addressee&nbsp;only.&nbsp;Any&nbsp;dissemination,&nbsp;copying&nbsp;or&nbsp;distribution&nbsp;of&nbsp;this&nbsp;message&nbsp;or&nbsp;any&nbsp;attachments&nbsp;by&nbsp;anyone&nbsp;other&nbsp;than&nbsp;the&nbsp;intended&nbsp;recipient&nbsp;is&nbsp;strictly&nbsp;prohibited.&nbsp;If&nbsp;you&nbsp;have&nbsp;received&nbsp;this&nbsp;message&nbsp;in&nbsp;error,&nbsp;please&nbsp;immediately&nbsp;notify&nbsp;the&nbsp;postmaster@nds.com&nbsp;and&nbsp;destroy&nbsp;the&nbsp;original&nbsp;message.&nbsp;Messages&nbsp;sent&nbsp;to&nbsp;and&nbsp;from&nbsp;NDS&nbsp;may&nbsp;be&nbsp;monitored.&nbsp;NDS&nbsp;cannot&nbsp;guarantee&nbsp;any&nbsp;message&nbsp;delivery&nbsp;method&nbsp;is&nbsp;secure&nbsp;or&nbsp;error-free.&nbsp;Information&nbsp;could&nbsp;be&nbsp;intercepted,&nbsp;corrupted,&nbsp;lost,&nbsp;destroyed,&nbsp;arrive&nbsp;late&nbsp;or&nbsp;incomplete,&nbsp;or&nbsp;contain&nbsp;viruses.&nbsp;We&nbsp;do&nbsp;not&nbsp;accept&nbsp;responsibility&nbsp;for&nbsp;any&nbsp;errors&nbsp;or&nbsp;omissions&nbsp;in&nbsp;this&nbsp;message&nbsp;and/or&nbsp;attachment&nbsp;that&nbsp;arise&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;transmission.&nbsp;You&nbsp;should&nbsp;carry&nbsp;out&nbsp;your&nbsp;own&nbsp;virus&nbsp;checks&nbsp;before&nbsp;opening&nbsp;any&nbsp;attachment.&nbsp;Any&nbsp;views&nbsp;or&nbsp;opinions&nbsp;presented&nbsp;are&nbsp;solely&nbsp;those&nbsp;of&nbsp;the&nbsp;author&nbsp;and&nbsp;do&nbsp;not&nbsp;necessarily&nbsp;represent&nbsp;those&nbsp;of&nbsp;NDS.&lt;br&gt;&lt;br&gt;To&nbsp;protect&nbsp;the&nbsp;environment&nbsp;please&nbsp;do&nbsp;not&nbsp;print&nbsp;this&nbsp;e-mail&nbsp;unless&nbsp;necessary.&lt;br&gt;&lt;br&gt;NDS&nbsp;Limited&nbsp;Registered&nbsp;office:&nbsp;One&nbsp;Heathrow&nbsp;Boulevard,&nbsp;286&nbsp;Bath&nbsp;Road,&nbsp;West&nbsp;Drayton,&nbsp;Middlesex,&nbsp;UB7&nbsp;0DQ,&nbsp;United&nbsp;Kingdom.&nbsp;A&nbsp;company&nbsp;registered&nbsp;in&nbsp;England&nbsp;and&nbsp;Wales&nbsp;Registered&nbsp;no.&nbsp;3080780&nbsp;VAT&nbsp;no.&nbsp;GB&nbsp;603&nbsp;8808&nbsp;40-00&lt;br&gt;**********************************************************************************************************&lt;br&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
