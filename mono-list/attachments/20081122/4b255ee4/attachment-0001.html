<tt>
I&nbsp;mean&amp;#39;t&nbsp;to&nbsp;say&nbsp;a&nbsp;typespec.&nbsp;Just&nbsp;take&nbsp;a&nbsp;look&nbsp;at&nbsp;P&nbsp;II&nbsp;23.2.14,&nbsp;no&nbsp;way&nbsp;to&nbsp;encode&nbsp;byref&nbsp;with&nbsp;it.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sat,&nbsp;Nov&nbsp;22,&nbsp;2008&nbsp;at&nbsp;12:51&nbsp;PM,&nbsp;Jeroen&nbsp;Frijters&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jeroen@sumatra.nl&quot;&gt;jeroen@sumatra.nl&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;With&nbsp;a&nbsp;typespec&nbsp;you&nbsp;can.&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;-----Original&nbsp;Message-----&lt;br&gt;<br>
&amp;gt;&nbsp;From:&nbsp;Rodrigo&nbsp;Kumpera&nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:kumpera@gmail.com&quot;&gt;kumpera@gmail.com&lt;/a&gt;]&lt;br&gt;<br>
&amp;gt;&nbsp;Sent:&nbsp;Saturday,&nbsp;November&nbsp;22,&nbsp;2008&nbsp;15:48&lt;br&gt;<br>
&amp;gt;&nbsp;To:&nbsp;Jeroen&nbsp;Frijters&lt;br&gt;<br>
&amp;gt;&nbsp;Cc:&nbsp;DraconisBG;&nbsp;&lt;a&nbsp;href=&quot;mailto:mono-list@lists.ximian.com&quot;&gt;mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[Mono-list]&nbsp;ldtoken&nbsp;with&nbsp;ByRef,&nbsp;question&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Well,&nbsp;with&nbsp;a&nbsp;methodspec&nbsp;you&nbsp;can&nbsp;encode&nbsp;pointers&nbsp;and&nbsp;custom&nbsp;modifiers,&lt;br&gt;<br>
&amp;gt;&nbsp;but&nbsp;not&nbsp;byref.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;Sat,&nbsp;Nov&nbsp;22,&nbsp;2008&nbsp;at&nbsp;6:52&nbsp;AM,&nbsp;Jeroen&nbsp;Frijters&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jeroen@sumatra.nl&quot;&gt;jeroen@sumatra.nl&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Rodrigo&nbsp;Kumpera&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;gt;&nbsp;As&nbsp;you&nbsp;have&nbsp;found&nbsp;out&nbsp;ldtoken&nbsp;can&nbsp;only&nbsp;reference&nbsp;types&nbsp;and&nbsp;not&lt;br&gt;<br>
&amp;gt;&nbsp;type&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;gt;&nbsp;signatures.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Not&nbsp;true.&nbsp;Spec&nbsp;says:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;quot;The&nbsp;token&nbsp;shall&nbsp;be&nbsp;one&nbsp;of:&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;A&nbsp;methoddef,&nbsp;methodref&nbsp;or&nbsp;methodspec:&nbsp;pushes&nbsp;a&lt;br&gt;<br>
&amp;gt;&nbsp;RuntimeMethodHandle&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;A&nbsp;typedef,&nbsp;typeref,&nbsp;or&nbsp;typespec&nbsp;:&nbsp;pushes&nbsp;a&nbsp;RuntimeTypeHandle&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;A&nbsp;fielddef&nbsp;or&nbsp;fieldref&nbsp;:&nbsp;pushes&nbsp;a&nbsp;RuntimeFieldHandle&amp;quot;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Now,&nbsp;.NET&nbsp;reflection&nbsp;won&amp;#39;t&nbsp;allow&lt;br&gt;<br>
&amp;gt;&nbsp;ILGenerator.Emit(OpCodes.Ldtoken,&nbsp;typeof(xxx).MakeByRefType()),&nbsp;but&nbsp;if&lt;br&gt;<br>
&amp;gt;&nbsp;you&nbsp;create&nbsp;the&nbsp;IL&nbsp;in&nbsp;another&nbsp;way&nbsp;(e.g.&nbsp;by&nbsp;using&nbsp;my&nbsp;non-broken&lt;br&gt;<br>
&amp;gt;&nbsp;IKVM.Reflection.Emit&nbsp;implementation&nbsp;;-))&nbsp;you&nbsp;get&nbsp;perfectly&nbsp;valid&nbsp;IL.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Regards,&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Jeroen&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
