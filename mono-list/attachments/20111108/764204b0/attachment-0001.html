<tt>
Hi,&lt;br&gt;&lt;br&gt;My&nbsp;version:&lt;br&gt;&lt;br&gt;$&nbsp;mono&nbsp;--version&lt;br&gt;Mono&nbsp;JIT&nbsp;compiler&nbsp;version&nbsp;2.11&nbsp;((no/7917753&nbsp;Wed&nbsp;Mar&nbsp;30&nbsp;15:47:09&nbsp;EDT&nbsp;2011)&lt;br&gt;Copyright&nbsp;(C)&nbsp;2002-2011&nbsp;Novell,&nbsp;Inc&nbsp;and&nbsp;Contributors.&nbsp;&lt;a&nbsp;href=&quot;http://www.mono-project.com&quot;&gt;www.mono-project.com&lt;/a&gt;&lt;br&gt;<br>
<br>
   &nbsp;TLS:          &nbsp;__thread&lt;br&gt;   &nbsp;SIGSEGV:      &nbsp;altstack&lt;br&gt;   &nbsp;Notifications:&nbsp;epoll&lt;br&gt;   &nbsp;Architecture: &nbsp;amd64&lt;br&gt;   &nbsp;Disabled:     &nbsp;none&lt;br&gt;   &nbsp;Misc:         &nbsp;softdebug&nbsp;&lt;br&gt;   &nbsp;LLVM:         &nbsp;yes(2.8svn-mono)&lt;br&gt;   &nbsp;GC:           &nbsp;Included&nbsp;Boehm&nbsp;(with&nbsp;typed&nbsp;GC&nbsp;and&nbsp;Parallel&nbsp;Mark)&lt;br&gt;<br>
<br>
&lt;br&gt;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;use&nbsp;MemoryCache,&nbsp;but&nbsp;am&nbsp;running&nbsp;into&nbsp;two&nbsp;problems.&nbsp;First,&nbsp;it&nbsp;does&nbsp;not&nbsp;appear&nbsp;to&nbsp;me&nbsp;that&nbsp;the&nbsp;cacheMemoryLimitMegabytes&nbsp;config&nbsp;parameter&nbsp;is&nbsp;respected.&nbsp;The&nbsp;application&nbsp;in&nbsp;which&nbsp;the&nbsp;cache&nbsp;is&nbsp;used&nbsp;continually&nbsp;puts&nbsp;objects&nbsp;into&nbsp;the&nbsp;cache,&nbsp;and&nbsp;its&nbsp;memory&nbsp;footprint&nbsp;continues&nbsp;to&nbsp;grow,&nbsp;regardless&nbsp;of&nbsp;the&nbsp;value&nbsp;I&nbsp;put&nbsp;in&nbsp;for&nbsp;the&nbsp;memory&nbsp;limit.&nbsp;I&nbsp;implemented&nbsp;a&nbsp;CachePolicy.RemovedCallback&nbsp;and&nbsp;placed&nbsp;a&nbsp;debugger&nbsp;in&nbsp;it&nbsp;and&nbsp;that&nbsp;callback&nbsp;is&nbsp;invoked&nbsp;when&nbsp;the&nbsp;timeout&nbsp;for&nbsp;an&nbsp;object&nbsp;expires,&nbsp;but&nbsp;does&nbsp;not&nbsp;get&nbsp;invoked&nbsp;based&nbsp;on&nbsp;memory&nbsp;usage.&nbsp;Disabling&nbsp;caching&nbsp;altogether&nbsp;removes&nbsp;the&nbsp;problem&nbsp;of&nbsp;expanding&nbsp;memory&nbsp;usage.&lt;br&gt;<br>
<br>
&lt;br&gt;The&nbsp;second&nbsp;issue&nbsp;I&nbsp;am&nbsp;having&nbsp;is&nbsp;that&nbsp;despite&nbsp;the&nbsp;RemovedCallback&nbsp;being&nbsp;invoked,&nbsp;it&nbsp;does&nbsp;not&nbsp;appear&nbsp;that&nbsp;the&nbsp;object&nbsp;is&nbsp;in&nbsp;fact&nbsp;removed.&nbsp;I&nbsp;realize&nbsp;that&nbsp;garbage&nbsp;collection&nbsp;puts&nbsp;some&nbsp;uncertainty&nbsp;into&nbsp;this&nbsp;observation,&nbsp;but&nbsp;I&nbsp;do&nbsp;not&nbsp;see&nbsp;the&nbsp;memory&nbsp;footprint&nbsp;diminish&nbsp;even&nbsp;with&nbsp;very&nbsp;frequent&nbsp;timeouts&nbsp;on&nbsp;the&nbsp;cache&nbsp;entries.&nbsp;&lt;br&gt;<br>
<br>
&lt;br&gt;I&nbsp;perused&nbsp;the&nbsp;source&nbsp;code&nbsp;a&nbsp;bit,&nbsp;and&nbsp;I&nbsp;do&nbsp;not&nbsp;see&nbsp;where&nbsp;the&nbsp;memory&nbsp;usage&nbsp;is&nbsp;monitored.&nbsp;I&nbsp;do&nbsp;see&nbsp;where&nbsp;the&nbsp;RemovedCallback&nbsp;is&nbsp;invoked,&nbsp;and&nbsp;it&nbsp;seems&nbsp;that&nbsp;having&nbsp;this&nbsp;called&nbsp;should&nbsp;imply&nbsp;the&nbsp;object&nbsp;was&nbsp;removed&nbsp;from&nbsp;the&nbsp;cache,&nbsp;but&nbsp;the&nbsp;grosser&nbsp;statistics&nbsp;of&nbsp;memory&nbsp;usage&nbsp;do&nbsp;not&nbsp;support&nbsp;that.&nbsp;&lt;br&gt;<br>
<br>
&lt;br&gt;Does&nbsp;the&nbsp;MemoryCache&nbsp;class&nbsp;support&nbsp;the&nbsp;memory&nbsp;limit&nbsp;parameter?&lt;br&gt;&lt;br&gt;Is&nbsp;there&nbsp;some&nbsp;way&nbsp;the&nbsp;RemovedCallback&nbsp;might&nbsp;be&nbsp;called&nbsp;but&nbsp;the&nbsp;object&nbsp;not&nbsp;removed&nbsp;from&nbsp;the&nbsp;cache?&nbsp;If&nbsp;not,&nbsp;is&nbsp;it&nbsp;possible&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;is&nbsp;not&nbsp;collecting?&nbsp;(Yes&nbsp;I&nbsp;realize&nbsp;that&nbsp;is&nbsp;difficult&nbsp;to&nbsp;answer,&nbsp;if&nbsp;it&nbsp;helps,&nbsp;the&nbsp;cached&nbsp;objects&nbsp;are&nbsp;~1Mb&nbsp;each. &nbsp; &nbsp;&lt;br&gt;<br>
<br>
&lt;br&gt;Thank&nbsp;you&nbsp;for&nbsp;any&nbsp;help&nbsp;on&nbsp;this,&lt;br&gt;&lt;br&gt;Matt&lt;br&gt;<br>

</tt>
