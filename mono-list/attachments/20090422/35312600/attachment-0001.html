<tt>
Hi,&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Apr&nbsp;22,&nbsp;2009&nbsp;at&nbsp;8:52&nbsp;PM,&nbsp;Ishwor&nbsp;Gurung&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:ishwor@loopback.ath.cx&quot;&gt;ishwor@loopback.ath.cx&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Hi&nbsp;list,&lt;br&gt;<br>
&lt;br&gt;<br>
Whats&nbsp;an&nbsp;appropriate&nbsp;way&nbsp;to&nbsp;check&nbsp;for&nbsp;memory&nbsp;leak&nbsp;of&nbsp;a&nbsp;mono&nbsp;application?&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;googled&nbsp;around&nbsp;with&nbsp;some&nbsp;example&nbsp;using&nbsp;valgrind&nbsp;for&nbsp;mono&nbsp;app&nbsp;but&lt;br&gt;<br>
couldn&amp;#39;t&nbsp;find&nbsp;any&nbsp;concrete&nbsp;examples.&nbsp;What&nbsp;I&amp;#39;ve&nbsp;essentially&nbsp;done&nbsp;so&nbsp;far&lt;br&gt;<br>
using&nbsp;valgrind&nbsp;is:&lt;br&gt;<br>
$&nbsp;valgrind&nbsp;--tool=memcheck&nbsp;--leak-check=full&nbsp;--show-reachable=yes&nbsp;mono&lt;br&gt;<br>
./ConnectUTest.exe&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;however,&nbsp;always&nbsp;produces&nbsp;memory&nbsp;leak&nbsp;(~14k/test&nbsp;on&nbsp;five&nbsp;runs&nbsp;so&nbsp;far):&lt;br&gt;<br>
&lt;br&gt;<br>
==15141==&nbsp;LEAK&nbsp;SUMMARY:&lt;br&gt;<br>
==15141==&nbsp; &nbsp; definitely&nbsp;lost:&nbsp;14,408&nbsp;bytes&nbsp;in&nbsp;760&nbsp;blocks.&lt;br&gt;<br>
==15141==&nbsp; &nbsp; indirectly&nbsp;lost:&nbsp;2,496&nbsp;bytes&nbsp;in&nbsp;126&nbsp;blocks.&lt;br&gt;<br>
==15141==&nbsp; &nbsp; &nbsp; possibly&nbsp;lost:&nbsp;12,460&nbsp;bytes&nbsp;in&nbsp;419&nbsp;blocks.&lt;br&gt;<br>
==15141==&nbsp; &nbsp; still&nbsp;reachable:&nbsp;2,569,056&nbsp;bytes&nbsp;in&nbsp;16,726&nbsp;blocks.&lt;br&gt;<br>
==15141==&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;suppressed:&nbsp;0&nbsp;bytes&nbsp;in&nbsp;0&nbsp;blocks.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Is&nbsp;this&nbsp;something&nbsp;I&nbsp;should&nbsp;worry&nbsp;about&nbsp;in&nbsp;itself&nbsp;or&nbsp;let&nbsp;the&nbsp;Mono&amp;#39;s&nbsp;GC&lt;br&gt;<br>
do&nbsp;its&nbsp;job&nbsp;with&nbsp;the&nbsp;memory&nbsp;and&nbsp;not&nbsp;worry&nbsp;about&nbsp;memory&nbsp;leaks?&nbsp;Can&lt;br&gt;<br>
someone&nbsp;confirm&nbsp;if&nbsp;these&nbsp;are&nbsp;even&nbsp;a&nbsp;real&nbsp;memory&nbsp;leak&nbsp;(the&nbsp;one&nbsp;above&lt;br&gt;<br>
with&nbsp;14,408&nbsp;bytes&nbsp;gone!)?&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;Valgrind&nbsp;is&nbsp;the&nbsp;best&nbsp;too&nbsp;to&nbsp;dig&nbsp;for&nbsp;memory&nbsp;leaks.&nbsp;But&nbsp;it&nbsp;will&nbsp;only&nbsp;report&nbsp;problems&nbsp;of&lt;br&gt;unmanaged&nbsp;memory&nbsp;leaks.&nbsp;For&nbsp;managed&nbsp;memory,&nbsp;just&nbsp;trust&nbsp;the&nbsp;GC.&lt;br&gt;&lt;br&gt;Mono&nbsp;is&nbsp;supposed&nbsp;to&nbsp;do&nbsp;a&nbsp;clean&nbsp;shutdown,&nbsp;but&nbsp;we&nbsp;still&nbsp;have&nbsp;some&nbsp;small&nbsp;non-important&lt;br&gt;<br>
fix&nbsp;leaks&nbsp;on&nbsp;things&nbsp;like&nbsp;support&nbsp;code.&nbsp;All&nbsp;of&nbsp;them&nbsp;leak&nbsp;a&nbsp;fixed&nbsp;set&nbsp;of&nbsp;memory&nbsp;at&nbsp;startup.&lt;br&gt;&lt;br&gt;Anyway,&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;go&nbsp;is&nbsp;if&nbsp;your&nbsp;attach&nbsp;your&nbsp;valgrind&nbsp;file&nbsp;so&nbsp;I&nbsp;can&nbsp;take&nbsp;a&nbsp;look.&lt;br&gt;&lt;br&gt;Cheers,&lt;br&gt;Rodrigo&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
