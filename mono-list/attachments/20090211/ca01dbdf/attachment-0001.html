<tt>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Feb&nbsp;11,&nbsp;2009&nbsp;at&nbsp;7:23&nbsp;PM,&nbsp;Robert&nbsp;Weiss&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:rweiss@chesapeakebay.net&quot;&gt;rweiss@chesapeakebay.net&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Ok.&nbsp;I&nbsp;understand&nbsp;that&nbsp;answer&nbsp;and&nbsp;I&nbsp;have&nbsp;implemented&nbsp;a&nbsp;change&nbsp;similar&nbsp;to&lt;br&gt;<br>
what&nbsp;you&nbsp;responded.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;That&amp;#39;s&nbsp;a&nbsp;good&nbsp;move.&nbsp;Binary&nbsp;serialization&nbsp;isn&amp;#39;t&nbsp;even&nbsp;compatible&nbsp;between&nbsp;different&nbsp;releases&nbsp;of&nbsp;the&nbsp;.NET&nbsp;framework&nbsp;if&nbsp;you&nbsp;happen&nbsp;to&nbsp;try&nbsp;serializing&nbsp;the&nbsp;wrong&nbsp;class.&lt;br&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
However,&nbsp;I&nbsp;was&nbsp;under&nbsp;the&nbsp;assumption&nbsp;that&nbsp;mono&nbsp;was&nbsp;a&nbsp;supported&nbsp;project,&lt;br&gt;<br>
had&nbsp;access&nbsp;to&nbsp;the&nbsp;MS&nbsp;.NET&nbsp;Framework&nbsp;Source&nbsp;and&nbsp;was&nbsp;implementing&nbsp;it&nbsp;based&lt;br&gt;<br>
on&nbsp;that&nbsp;source.&lt;/blockquote&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;Nope,&nbsp;not&nbsp;at&nbsp;all.&lt;br&gt;&amp;nbsp;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Is&nbsp;this&nbsp;not&nbsp;the&nbsp;case?&nbsp;If&nbsp;it&nbsp;is&nbsp;the&nbsp;case,&nbsp;then&nbsp;this&nbsp;is&nbsp;a&nbsp;bug&nbsp;that&nbsp;needs&lt;br&gt;<br>
to&nbsp;be&nbsp;fixed&nbsp;to&nbsp;the&nbsp;correct&nbsp;implementation.&lt;/blockquote&gt;&lt;div&gt;The&nbsp;fix&nbsp;is&nbsp;really&nbsp;to&nbsp;not&nbsp;use&nbsp;binary&nbsp;serialization&nbsp;on&nbsp;that&nbsp;datatype.&nbsp;As&nbsp;I&nbsp;said&nbsp;above,&nbsp;you&nbsp;can&nbsp;end&nbsp;up&nbsp;in&nbsp;trouble&nbsp;just&nbsp;trying&nbsp;to&nbsp;interop&nbsp;with&nbsp;another&nbsp;version&nbsp;of&nbsp;&lt;a&nbsp;href=&quot;http://MS.NET&quot;&gt;MS.NET&lt;/a&gt;.&nbsp;If&nbsp;i&nbsp;remember&nbsp;correctly,&nbsp;binary&nbsp;DateTime&nbsp;serialization&nbsp;is&nbsp;one&nbsp;which&nbsp;changed&nbsp;between&nbsp;&lt;a&nbsp;href=&quot;http://MS.NET&quot;&gt;MS.NET&lt;/a&gt;&nbsp;releases.&lt;br&gt;<br>
&lt;br&gt;Glad&nbsp;you&nbsp;got&nbsp;it&nbsp;working&nbsp;anyway.&nbsp;That&amp;#39;s&nbsp;the&nbsp;important&nbsp;part&nbsp;;)&lt;br&gt;&lt;br&gt;Alan.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
Thanks&nbsp;for&nbsp;the&nbsp;info.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;<br>
-----Original&nbsp;Message-----&lt;br&gt;<br>
From:&nbsp;&lt;a&nbsp;href=&quot;mailto:mono-list-bounces@lists.ximian.com&quot;&gt;mono-list-bounces@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
[mailto:&lt;a&nbsp;href=&quot;mailto:mono-list-bounces@lists.ximian.com&quot;&gt;mono-list-bounces@lists.ximian.com&lt;/a&gt;]&nbsp;On&nbsp;Behalf&nbsp;Of&nbsp;Robert&nbsp;Jordan&lt;br&gt;<br>
Sent:&nbsp;Wednesday,&nbsp;February&nbsp;11,&nbsp;2009&nbsp;2:18&nbsp;PM&lt;br&gt;<br>
To:&nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
Subject:&nbsp;Re:&nbsp;[Mono-list]&nbsp;Deserialization&nbsp;issue&nbsp;when&nbsp;talking&nbsp;to&lt;br&gt;<br>
webservicefrom&nbsp;mono&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;Robert&nbsp;Weiss&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;Yes.&nbsp;Assuming&nbsp;that&nbsp;your&nbsp;example&nbsp;class&nbsp;&amp;quot;Sample&amp;quot;&nbsp;was&nbsp;part&nbsp;of&nbsp;the&nbsp;.net&lt;br&gt;<br>
&amp;gt;&nbsp;framework&nbsp;and&nbsp;the&nbsp;implementation&nbsp;in&nbsp;.Net&nbsp;was&nbsp;what&nbsp;you&nbsp;listed&nbsp;and&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;mono&nbsp;implementation&nbsp;differs,&nbsp;then&nbsp;the&nbsp;binary&nbsp;serialization&nbsp;would&nbsp;not&lt;br&gt;<br>
&amp;gt;&nbsp;work.&nbsp;Since&nbsp;this&nbsp;*appears*&nbsp;to&nbsp;be&nbsp;the&nbsp;issue&nbsp;at&nbsp;hand&nbsp;with&nbsp;the&nbsp;way&nbsp;that&lt;br&gt;<br>
the&lt;br&gt;<br>
&amp;gt;&nbsp;Generic&nbsp;Sorted&nbsp;List&nbsp;was&nbsp;implemented&nbsp;in&nbsp;mono,&nbsp;how&nbsp;does&nbsp;one&nbsp;get&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;incorrect&nbsp;mono&nbsp;implementation&nbsp;fixed?&lt;br&gt;<br>
&lt;br&gt;<br>
Mono&amp;#39;s&nbsp;implementation&nbsp;isn&amp;#39;t&nbsp;incorrect.&nbsp;It&amp;#39;s&nbsp;just&nbsp;incompatible&lt;br&gt;<br>
regarding&nbsp;binary&nbsp;serialization.&lt;br&gt;<br>
&lt;br&gt;<br>
Since&nbsp;SortedList&amp;lt;K,&nbsp;V&amp;gt;&nbsp;does&nbsp;not&nbsp;implement&nbsp;ISerializable,&nbsp;there&lt;br&gt;<br>
is&nbsp;no&nbsp;way&nbsp;to&nbsp;intercept&nbsp;the&nbsp;serialization&nbsp;process&nbsp;other&nbsp;than&lt;br&gt;<br>
trying&nbsp;to&nbsp;design&nbsp;the&nbsp;class&nbsp;layout&nbsp;like&nbsp;MS&nbsp;did.&nbsp;It&amp;#39;s&nbsp;not&nbsp;an&lt;br&gt;<br>
easy&nbsp;process&nbsp;given&nbsp;that&nbsp;mono&amp;#39;s&nbsp;developers&nbsp;never&nbsp;decompile&lt;br&gt;<br>
and&nbsp;look&nbsp;at&nbsp;MS&amp;#39;&nbsp;implementation.&lt;br&gt;<br>
&lt;br&gt;<br>
Here&amp;#39;s&nbsp;an&nbsp;exception&nbsp;I&nbsp;got&nbsp;while&nbsp;trying&nbsp;to&nbsp;deserialize&lt;br&gt;<br>
a&nbsp;stream&nbsp;created&nbsp;with&nbsp;&lt;a&nbsp;href=&quot;http://MS.NET&quot;&nbsp;target=&quot;_blank&quot;&gt;MS.NET&lt;/a&gt;&nbsp;2.x:&lt;br&gt;<br>
&lt;br&gt;<br>
Unhandled&nbsp;Exception:&nbsp;System.TypeLoadException:&nbsp;Could&nbsp;not&nbsp;load&nbsp;type&lt;br&gt;<br>
&amp;#39;System.Collections.Generic.SortedList`2+KeyList[[System.Int32,&lt;br&gt;<br>
mscorlib,&nbsp;Version=2.0.0.0,&nbsp;Culture=neutral,&lt;br&gt;<br>
PublicKeyToken=b77a5c561934e089],[System.String,&nbsp;mscorlib,&lt;br&gt;<br>
Version=2.0.0.0,&nbsp;Culture=neutral,&nbsp;PublicKeyToken=b77a5c561934e089]]&amp;#39;.&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;means&nbsp;that&nbsp;MS&amp;#39;&nbsp;implementation&nbsp;is&nbsp;using&nbsp;an&nbsp;internal&nbsp;class&lt;br&gt;<br>
SortedList&amp;lt;K,V&amp;gt;.KeyList.&nbsp;No&nbsp;one&nbsp;knows&nbsp;exactly&nbsp;what&nbsp;this&nbsp;class&nbsp;is&lt;br&gt;<br>
for&nbsp;and&nbsp;how&nbsp;it&amp;#39;s&nbsp;implemented...&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;should&nbsp;replace&nbsp;the&nbsp;SortedList&nbsp;from&nbsp;your&nbsp;WebService&nbsp;API&nbsp;with&lt;br&gt;<br>
something&nbsp;that&nbsp;can&nbsp;be&nbsp;serialized&nbsp;better,&nbsp;like&nbsp;an&nbsp;array&nbsp;of&nbsp;pairs.&lt;br&gt;<br>
&lt;br&gt;<br>
More&nbsp;on&nbsp;serialization:&nbsp;&lt;a&nbsp;href=&quot;http://www.mono-project.com/FAQ:_Technical&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.mono-project.com/FAQ:_Technical&lt;/a&gt;&lt;br&gt;<br>
(search&nbsp;for&nbsp;serialization).&lt;br&gt;<br>
&lt;br&gt;<br>
Robert&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-list&nbsp;maillist&nbsp;&amp;nbsp;-&nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-list&nbsp;maillist&nbsp;&amp;nbsp;-&nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
