<tt>
<br>
&lt;pre&gt;<br>
Hi,<br>
&nbsp;I&nbsp;try&nbsp;to&nbsp;integrate&nbsp;AD&nbsp;user&nbsp;account&nbsp;validation&nbsp;into&nbsp;a&nbsp;MONO&nbsp;project.&nbsp;I&nbsp;got&nbsp;this&nbsp;piece&nbsp;of&nbsp;code,&nbsp;that&nbsp;works&nbsp;perfectly&nbsp;undex&nbsp;.NET&nbsp;2.0,&nbsp;but&nbsp;under&nbsp;MONO&nbsp;it&nbsp;does&nbsp;not.<br>
<br>
&lt;code&gt;<br>
DirectoryEntry&nbsp;de&nbsp;=&nbsp;new&nbsp;DirectoryEntry(null,&nbsp;domain&nbsp;+&nbsp;&quot;\\&quot;&nbsp;+&nbsp;login,&nbsp;password);<br>
try<br>
{<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspDirectorySearcher&nbsp;ds&nbsp;=&nbsp;new&nbsp;DirectorySearcher(de);<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspds.Filter&nbsp;=&nbsp;&quot;SAMAccountName=&quot;&nbsp;+&nbsp;login;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspds.PropertiesToLoad.Add(&quot;cn&quot;);<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspSearchResult&nbsp;sr&nbsp;=&nbsp;ds.FindOne();<br>
<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbsp;(sr&nbsp;!=&nbsp;null);<br>
}<br>
catch&nbsp;(Exception&nbsp;ex)<br>
{<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbsp;false;<br>
}<br>
&lt;/code&gt;<br>
<br>
When&nbsp;running&nbsp;this&nbsp;piece&nbsp;of&nbsp;code&nbsp;under&nbsp;Linux&nbsp;MONO&nbsp;i&nbsp;get&nbsp;this&nbsp;Exception:<br>
<br>
&lt;code&gt;6/14/2008&nbsp;7:12:51&nbsp;AM:&nbsp;Connection&nbsp;refused<br>
&nbsp;&nbsp;at&nbsp;System.Net.Sockets.Socket.Connect&nbsp;(System.Net.EndPoint&nbsp;remote_end)&nbsp;[0x00000]<br>
&nbsp;&nbsp;at&nbsp;System.Net.Sockets.TcpClient.Connect&nbsp;(System.Net.IPEndPoint&nbsp;remote_end_point)&nbsp;[0x00000]<br>
&nbsp;&nbsp;at&nbsp;System.Net.Sockets.TcpClient.Connect&nbsp;(System.Net.IPAddress[]&nbsp;ipAddresses,&nbsp;Int32&nbsp;port)&nbsp;[0x00000]&lt;/code&gt;<br>
<br>
<br>
Thanks&nbsp;a&nbsp;lot&nbsp;for&nbsp;any&nbsp;kind&nbsp;of&nbsp;help&nbsp;and&nbsp;advice.&nbsp;<br>
<br>
JanOpi&lt;/pre&gt;<br>
<br>
&lt;br&gt;&lt;hr&nbsp;align=&quot;left&quot;&nbsp;width=&quot;300&quot;&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://www.nabble.com/User-validation-in-Active-Directory-tp17859278p17859278.html&quot;&gt;User&nbsp;validation&nbsp;in&nbsp;Active&nbsp;Directory&lt;/a&gt;&lt;br&gt;<br>
Sent&nbsp;from&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://www.nabble.com/Mono---General-f1378.html&quot;&gt;Mono&nbsp;-&nbsp;General&nbsp;mailing&nbsp;list&nbsp;archive&lt;/a&gt;&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>

</tt>
