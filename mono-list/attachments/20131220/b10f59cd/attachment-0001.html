<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;tested&nbsp;the&nbsp;new&nbsp;version&nbsp;of&nbsp;Mono&nbsp;3.2&nbsp;using&nbsp;the&nbsp;sgen&nbsp;GC.&lt;div&gt;I&nbsp;still&nbsp;have&nbsp;the&nbsp;same&nbsp;problem:&nbsp;every&nbsp;new&nbsp;thread&nbsp;uses&nbsp;a&nbsp;bit&nbsp;more&nbsp;than&nbsp;64MB&nbsp;or&nbsp;RAM&nbsp;on&nbsp;Linux.&nbsp;So,&nbsp;in&nbsp;my&nbsp;virtual&nbsp;environment&nbsp;limited&nbsp;to&nbsp;512MB&nbsp;of&nbsp;(virtual)&nbsp;RAM,&nbsp;it&nbsp;crashes&nbsp;(stops&nbsp;silently&nbsp;with&nbsp;a&nbsp;return&nbsp;code&nbsp;equals&nbsp;to&nbsp;1)&nbsp;when&nbsp;I&nbsp;try&nbsp;to&nbsp;create&nbsp;my&nbsp;6th&nbsp;thread.&lt;br&gt;<br>
<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;tested&nbsp;the&nbsp;same&nbsp;program&nbsp;on&nbsp;Windows&nbsp;7&nbsp;with&nbsp;a&nbsp;MS&nbsp;.Net&nbsp;environment.&nbsp;I&nbsp;started&nbsp;1000&nbsp;threads&nbsp;and&nbsp;my&nbsp;program&nbsp;only&nbsp;used&nbsp;48MB&nbsp;of&nbsp;RAM.&nbsp;I&nbsp;did&nbsp;not&nbsp;try&nbsp;to&nbsp;create&nbsp;more&nbsp;threads&nbsp;because&nbsp;I&nbsp;would&nbsp;have&nbsp;to&nbsp;create&nbsp;millions&nbsp;of&nbsp;thread&nbsp;to&nbsp;each&nbsp;a&nbsp;problem.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;really&nbsp;not&nbsp;doing&nbsp;some&nbsp;strange&nbsp;operations,&nbsp;just&nbsp;create&nbsp;threads&nbsp;in&nbsp;a&nbsp;loop,&nbsp;with&nbsp;a&nbsp;pause&nbsp;of&nbsp;1&nbsp;sec&nbsp;between&nbsp;each&nbsp;one&nbsp;to&nbsp;let&nbsp;me&nbsp;time&nbsp;to&nbsp;see&nbsp;how&nbsp;munch&nbsp;memory&nbsp;is&nbsp;consumed.&lt;/div&gt;&lt;div&gt;Am&nbsp;I&nbsp;the&nbsp;only&nbsp;one&nbsp;who&nbsp;encounter&nbsp;this&nbsp;strange&nbsp;behavior&nbsp;with&nbsp;thread&nbsp;of&nbsp;64MB&nbsp;or&nbsp;is&nbsp;it&nbsp;considered&nbsp;as&nbsp;normal?&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:collapse;color:rgb(136,136,136)&quot;&gt;Nicolas&nbsp;Antoniazzi&lt;br&gt;CTO&nbsp;-&nbsp;CodinGame&lt;/span&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;border-collapse:collapse;color:rgb(136,136,136)&quot;&gt;&lt;a&nbsp;href=&quot;http://www.codingame.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.codingame.com&lt;/a&gt;&lt;br&gt;<br>
<br>
+33&nbsp;(0)4&nbsp;67&nbsp;13&nbsp;00&nbsp;96&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2013/12/19&nbsp;&quot;Andrés&nbsp;G.&nbsp;Aragoneses&quot;&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:knocte@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;knocte@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
Try&nbsp;finding&nbsp;the&nbsp;limit&nbsp;on&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://MS.NET&quot;&nbsp;target=&quot;_blank&quot;&gt;MS.NET&lt;/a&gt;&nbsp;platform,&nbsp;to&nbsp;know&nbsp;how&nbsp;it&nbsp;dies&nbsp;in&lt;br&gt;<br>
.NET&nbsp;as&nbsp;opposed&nbsp;to&nbsp;Mono.&lt;br&gt;<br>
&lt;br&gt;<br>
Also,&nbsp;try&nbsp;the&nbsp;new&nbsp;version&nbsp;3.2.x&nbsp;of&nbsp;mono&nbsp;which&nbsp;comes&nbsp;with&nbsp;a&nbsp;new&nbsp;garbage&lt;br&gt;<br>
collector,&nbsp;and&nbsp;post&nbsp;new&nbsp;results.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
On&nbsp;19/12/13&nbsp;15:29,&nbsp;Nicolas&nbsp;Antoniazzi&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;installed&nbsp;Visual&nbsp;Studio&nbsp;in&nbsp;a&nbsp;windows&nbsp;virtual&nbsp;machine.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;a&nbsp;standard&nbsp;.Net&nbsp;platform,&nbsp;the&nbsp;same&nbsp;program&nbsp;uses&nbsp;16MB&nbsp;of&nbsp;memory&nbsp;at&lt;br&gt;<br>
&gt;&nbsp;initialization&nbsp;and&nbsp;adds&nbsp;approximately&nbsp;20KB&nbsp;for&nbsp;each&nbsp;thread.&lt;br&gt;<br>
&gt;&nbsp;It&nbsp;looks&nbsp;normal&nbsp;to&nbsp;me&nbsp;since&nbsp;the&nbsp;main&nbsp;goal&nbsp;of&nbsp;threads&nbsp;are&nbsp;to&nbsp;be&nbsp;light.&lt;br&gt;<br>
&gt;&nbsp;It&#39;s&nbsp;like&nbsp;if&nbsp;threads&nbsp;were&nbsp;acting&nbsp;like&nbsp;a&nbsp;fork()&nbsp;for&nbsp;Mono.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;So,&nbsp;I&#39;m&nbsp;still&nbsp;stuck&nbsp;with&nbsp;this&nbsp;problem&nbsp;at&nbsp;the&nbsp;moment&nbsp;:(&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;2013/12/19&nbsp;Nicolas&nbsp;Antoniazzi&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:nicolas@codingame.com&quot;&gt;nicolas@codingame.com&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&gt;&nbsp;&lt;mailto:&lt;a&nbsp;href=&quot;mailto:nicolas@codingame.com&quot;&gt;nicolas@codingame.com&lt;/a&gt;&gt;&gt;&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp;I&nbsp;tried&nbsp;with&nbsp;version&nbsp;2.10.8&nbsp;and&nbsp;3.0.6.&nbsp;Both&nbsp;leads&nbsp;to&nbsp;the&nbsp;same&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp;behavior.&nbsp;(Maybe&nbsp;gaining&nbsp;few&nbsp;KB&nbsp;with&nbsp;3.0.6)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp;Unfortunately,&nbsp;I&nbsp;do&nbsp;not&nbsp;have&nbsp;.Net&nbsp;development&nbsp;environment&nbsp;to&nbsp;test.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp;Nicolas&nbsp;Antoniazzi&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp;CTO&nbsp;-&nbsp;CodinGame&lt;br&gt;<br>
&lt;/div&gt;&gt;&nbsp; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;http://www.codingame.com&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.codingame.com&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;http://www.codingame.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.codingame.com/&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;tel:%2B33%20%280%294%2067%2013%2000%2096&quot;&nbsp;value=&quot;+33467130096&quot;&gt;+33&nbsp;(0)4&nbsp;67&nbsp;13&nbsp;00&nbsp;96&lt;/a&gt;&nbsp;&lt;tel:%2B33%20%280%294%2067%2013%2000%2096&gt;&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp;2013/12/19&nbsp;&quot;Andrés&nbsp;G.&nbsp;Aragoneses&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:knocte@gmail.com&quot;&gt;knocte@gmail.com&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&gt;&nbsp; &nbsp; &nbsp;&lt;mailto:&lt;a&nbsp;href=&quot;mailto:knocte@gmail.com&quot;&gt;knocte@gmail.com&lt;/a&gt;&gt;&gt;&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;On&nbsp;19/12/13&nbsp;11:09,&nbsp;Nicolas&nbsp;Antoniazzi&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&nbsp;I&nbsp;am&nbsp;using&nbsp;Mono&nbsp;in&nbsp;a&nbsp;virtualized&nbsp;environment&nbsp;with&nbsp;512MB&nbsp;of&nbsp;RAM.&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&nbsp;I&nbsp;made&nbsp;a&nbsp;very&nbsp;simple&nbsp;program&nbsp;which&nbsp;starts&nbsp;10&nbsp;threads&nbsp;in&nbsp;a&nbsp;loop&nbsp;and&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&nbsp;apparently,&nbsp;every&nbsp;time&nbsp;that&nbsp;I&nbsp;start&nbsp;a&nbsp;new&nbsp;thread,&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;approximately&nbsp;65MB&nbsp;of&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&nbsp;memory&nbsp;is&nbsp;used.&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&nbsp;In&nbsp;my&nbsp;case,&nbsp;I&nbsp;can&nbsp;run&nbsp;5&nbsp;threads,&nbsp;but&nbsp;for&nbsp;the&nbsp;6th,&nbsp;the&nbsp;program&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;crashes&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&nbsp;(without&nbsp;any&nbsp;exception).&nbsp;150MB&nbsp;are&nbsp;already&nbsp;consumed&nbsp;without&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the&nbsp;use&nbsp;of&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&nbsp;any&nbsp;thread.&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&nbsp;Is&nbsp;it&nbsp;a&nbsp;normal&nbsp;behavior?&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;&nbsp;Thanks!&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;What&nbsp;version&nbsp;of&nbsp;mono&nbsp;are&nbsp;you&nbsp;using?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Have&nbsp;you&nbsp;tried&nbsp;running&nbsp;your&nbsp;program&nbsp;under&nbsp;the&nbsp;.NET&nbsp;framework,&nbsp;to&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;compare?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Mono-list&nbsp;maillist&nbsp; -&nbsp; &lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;mailto:&lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;Mono-list&nbsp;maillist&nbsp; -&nbsp; &lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-list&nbsp;maillist&nbsp; -&nbsp; &lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
