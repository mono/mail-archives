<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=UTF-8&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#333333&quot;&gt;<br>
Francisco&nbsp;Figueiredo&nbsp;Jr.&nbsp;wrote:<br>
&lt;blockquote&nbsp;cite=&quot;mid43AED02A.2040905@yahoo.com.br&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;-----BEGIN&nbsp;PGP&nbsp;SIGNED&nbsp;MESSAGE-----<br>
Hash:&nbsp;SHA1<br>
<br>
Joe&nbsp;Audette&nbsp;wrote:<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Being&nbsp;close&nbsp;to&nbsp;christmas&nbsp;not&nbsp;everyone&nbsp;may&nbsp;be&nbsp;reading&nbsp;the&nbsp;mail&nbsp;but&nbsp;Francisco&nbsp;is&nbsp;the&nbsp;developer&nbsp;of&nbsp;npgsql&nbsp;and&nbsp;I&nbsp;know&nbsp;he&nbsp;follows&nbsp;this&nbsp;list.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
Hi&nbsp;Joe.&nbsp;That&nbsp;was&nbsp;exactly&nbsp;what&nbsp;happened&nbsp;:)<br>
<br>
<br>
Christopher,&nbsp;do&nbsp;you&nbsp;have&nbsp;a&nbsp;test&nbsp;case&nbsp;for&nbsp;your&nbsp;problem?<br>
<br>
<br>
To&nbsp;check&nbsp;what&nbsp;type&nbsp;is&nbsp;being&nbsp;returned,&nbsp;add&nbsp;the&nbsp;following:<br>
<br>
Console.WriteLine(command.ExecuteScalar().GetType());<br>
<br>
What&nbsp;type&nbsp;in&nbsp;your&nbsp;database&nbsp;is&nbsp;the&nbsp;field&nbsp;which&nbsp;you&nbsp;are&nbsp;doing&nbsp;the<br>
executeScalar()?<br>
<br>
If&nbsp;you&nbsp;are&nbsp;using&nbsp;an&nbsp;select&nbsp;*&nbsp;from&nbsp;some&nbsp;table,&nbsp;Postgresql&nbsp;changed&nbsp;the<br>
type&nbsp;of&nbsp;the&nbsp;data&nbsp;returned&nbsp;from&nbsp;int4&nbsp;to&nbsp;int8,&nbsp;which&nbsp;Npgsql&nbsp;translates&nbsp;to<br>
Int64.&nbsp;So,&nbsp;you&nbsp;may&nbsp;be&nbsp;receiving&nbsp;an&nbsp;Int64&nbsp;and&nbsp;this&nbsp;explains&nbsp;why&nbsp;you&nbsp;may<br>
be&nbsp;not&nbsp;being&nbsp;able&nbsp;to&nbsp;directly&nbsp;cast&nbsp;it&nbsp;to&nbsp;int32.<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
The&nbsp;below&nbsp;returns&nbsp;System.Int64&lt;br&gt;<br>
&lt;br&gt;<br>
That's&nbsp;exactly&nbsp;what's&nbsp;going&nbsp;on..&nbsp;Question&nbsp;is..&nbsp;How&nbsp;do&nbsp;we&nbsp;handle&nbsp;it..&lt;br&gt;<br>
&lt;br&gt;<br>
a)&nbsp;Make&nbsp;the&nbsp;type&nbsp;cast&nbsp;error&nbsp;more&nbsp;explicit?&lt;br&gt;<br>
b)&nbsp;Somehow&nbsp;make&nbsp;it&nbsp;return&nbsp;Int32?&lt;br&gt;<br>
&lt;br&gt;<br>
I'm&nbsp;thinking&nbsp;this&nbsp;is&nbsp;pretty&nbsp;common&nbsp;error&nbsp;based&nbsp;on&nbsp;the&nbsp;offlist&nbsp;responses<br>
I&nbsp;got..&nbsp;Could&nbsp;be&nbsp;helpful&nbsp;to&nbsp;document..&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;lt;snip&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
NpgsqlCommand&nbsp;myCommand&nbsp;=&nbsp;new&nbsp;NpgsqlCommand(&quot;SELECT&nbsp;COUNT(*)&nbsp;FROM <br>
tbl_users&nbsp;WHERE &nbsp;fld_varchar_username='&quot;+txtUsername.Text+&quot;'&nbsp;and<br>
fld_varchar_password='&quot;+txtPassword.Text+&quot;';&quot;,&nbsp;myConnection);&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
//&nbsp;This&nbsp;should&nbsp;work&nbsp;for&nbsp;all&nbsp;results&nbsp;where&nbsp;SELECT&nbsp;COUNT&nbsp;(*)&nbsp;&amp;lt;&nbsp;Int64<br>
and&nbsp;the&nbsp;result&nbsp;can&nbsp;be&nbsp;cast&nbsp;into&nbsp;an&nbsp;Int32&lt;br&gt;<br>
int&nbsp;i&nbsp;=&nbsp;(int)myCommand.ExecuteScalar();&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;lt;/snip&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Where&nbsp;and&nbsp;how&nbsp;do&nbsp;you&nbsp;want&nbsp;me&nbsp;to&nbsp;submit&nbsp;a&nbsp;test&nbsp;case&nbsp;if&nbsp;you&nbsp;still&nbsp;need<br>
more&nbsp;info?&nbsp;(I&nbsp;also&nbsp;posted&nbsp;this&nbsp;in&nbsp;the&nbsp;Npgsql&nbsp;forum&nbsp;as&nbsp;well. &nbsp;Once<br>
worked&nbsp;out&nbsp;I'll&nbsp;make&nbsp;sure&nbsp;to&nbsp;follow&nbsp;up&nbsp;and&nbsp;document&nbsp;everything&nbsp;there&nbsp;as<br>
well.&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&lt;br&gt;<br>
&lt;br&gt;<br>
C.&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
