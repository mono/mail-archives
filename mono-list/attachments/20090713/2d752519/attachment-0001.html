<tt>
Start&nbsp;by&nbsp;installing&nbsp;debug&nbsp;symbols&nbsp;for&nbsp;mono&nbsp;and&nbsp;them&nbsp;reporting&nbsp;the&nbsp;bug&nbsp;with&nbsp;the&nbsp;improved&nbsp;stack&nbsp;trace.&lt;br&gt;If&nbsp;you&nbsp;can&nbsp;provide&nbsp;a&nbsp;test&nbsp;case&nbsp;on&nbsp;the&nbsp;bug&nbsp;report,&nbsp;fixing&nbsp;it&nbsp;will&nbsp;be&nbsp;a&nbsp;lot&nbsp;simpler.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
On&nbsp;Mon,&nbsp;Jul&nbsp;13,&nbsp;2009&nbsp;at&nbsp;1:58&nbsp;PM,&nbsp;rick_l&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:rick.lamanna@mccdaq.com&quot;&gt;rick.lamanna@mccdaq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;br&gt;<br>
Hello,&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;C#&nbsp;program&nbsp;is&nbsp;crashing&nbsp;on&nbsp;Linux.&nbsp;I&nbsp;get&nbsp;the&nbsp;following&nbsp;stack&nbsp;trace:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; at&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;object.__icall_wrapper_mono_array_new_2&lt;br&gt;<br>
(intptr,intptr,intptr)&nbsp;&amp;lt;0x00004&amp;gt;&lt;br&gt;<br>
&nbsp; at&nbsp;(wrapper&nbsp;managed-to-native)&nbsp;object.__icall_wrapper_mono_array_new_2&lt;br&gt;<br>
(intptr,intptr,intptr)&nbsp;&amp;lt;0xffffffff&amp;gt;&lt;br&gt;<br>
&nbsp; at&nbsp;MC7000API.DaqDevice.ReadScanData&nbsp;(int)&nbsp;[0x00032]&nbsp;in&lt;br&gt;<br>
/root/Linux/MC7000Software/Library/MC7000API/api/api.cs:91&lt;br&gt;<br>
&nbsp; at&nbsp;AInScanContinuous.AInScanContinuousForm.StartButton_Click&lt;br&gt;<br>
(object,System.EventArgs)&nbsp;[0x000ca]&nbsp;in&lt;br&gt;<br>
/root/Linux/AInScanContinuous/AInScanContinuousForm.cs:74&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.Control.OnClick&nbsp;(System.EventArgs)&nbsp;[0x0001c]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:6033&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.Button.OnClick&nbsp;(System.EventArgs)&nbsp;[0x00024]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Button.cs:106&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.ButtonBase.OnMouseUp&lt;br&gt;<br>
(System.Windows.Forms.MouseEventArgs)&nbsp;[0x00081]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/ButtonBase.cs:634&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.Button.OnMouseUp&lt;br&gt;<br>
(System.Windows.Forms.MouseEventArgs)&nbsp;[0x00000]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Button.cs:128&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.Control.WmLButtonUp&lt;br&gt;<br>
(System.Windows.Forms.Message&amp;amp;)&nbsp;[0x00081]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:5595&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.Control.WndProc&nbsp;(System.Windows.Forms.Message&amp;amp;)&lt;br&gt;<br>
[0x0017c]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:5332&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.ButtonBase.WndProc&nbsp;(System.Windows.Forms.Message&amp;amp;)&lt;br&gt;<br>
[0x00055]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/ButtonBase.cs:692&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.Button.WndProc&nbsp;(System.Windows.Forms.Message&amp;amp;)&lt;br&gt;<br>
[0x00000]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Button.cs:150&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.Control/ControlWindowTarget.OnMessage&lt;br&gt;<br>
(System.Windows.Forms.Message&amp;amp;)&nbsp;[0x00000]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:234&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.Control/ControlNativeWindow.WndProc&lt;br&gt;<br>
(System.Windows.Forms.Message&amp;amp;)&nbsp;[0x00000]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Control.cs:215&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.NativeWindow.WndProc&lt;br&gt;<br>
(intptr,System.Windows.Forms.Msg,intptr,intptr)&nbsp;[0x00085]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/NativeWindow.cs:242&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.XplatUIX11.DispatchMessage&lt;br&gt;<br>
(System.Windows.Forms.MSG&amp;amp;)&nbsp;[0x00000]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/XplatUIX11.cs:3424&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.XplatUI.DispatchMessage&lt;br&gt;<br>
(System.Windows.Forms.MSG&amp;amp;)&nbsp;[0x00000]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/XplatUI.cs:605&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.Application.RunLoop&lt;br&gt;<br>
(bool,System.Windows.Forms.ApplicationContext)&nbsp;[0x0036a]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Application.cs:982&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.Application.Run&lt;br&gt;<br>
(System.Windows.Forms.ApplicationContext)&nbsp;[0x00014]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Application.cs:761&lt;br&gt;<br>
&nbsp; at&nbsp;System.Windows.Forms.Application.Run&nbsp;(System.Windows.Forms.Form)&lt;br&gt;<br>
[0x00000]&nbsp;in&lt;br&gt;<br>
/usr/src/packages/BUILD/mono-2.4.2/mcs/class/Managed.Windows.Forms/System.Windows.Forms/Application.cs:740&lt;br&gt;<br>
&nbsp; at&nbsp;AInScanContinuous.Program.Main&nbsp;()&nbsp;[0x0000b]&nbsp;in&lt;br&gt;<br>
/root/Linux/AInScanContinuous/Program.cs:17&lt;br&gt;<br>
&nbsp; at&nbsp;(wrapper&nbsp;runtime-invoke)&nbsp;object.runtime_invoke_void&lt;br&gt;<br>
(object,intptr,intptr,intptr)&nbsp;&amp;lt;0xffffffff&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Native&nbsp;stacktrace:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x80cbfe4]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x80f66bb]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xffffe410]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x81d9023]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x81e5447]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x81e0074]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x81df942]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x81d98dd]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x81d9ccf]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x81da009]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x81dcf7a]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x81dd231]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x81dd463]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono(mono_array_new_full+0x182)&nbsp;[0x81143c2]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x80a6ebd]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb56a6753]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb56a6440]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb565d8dd]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb565d6f0]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb565d66d]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb565d352]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb565d1e6]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb565d07a]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb5a82df4]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb5a005b0]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb5a00506]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb5a82bbf]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb5a82b97]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb5a81ce5]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb56aee3c]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb569d268]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb5a1b8e8]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb5a1accf]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb5a1a8e4]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb78e431f]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; [0xb78e4252]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono(mono_runtime_exec_main+0xe5)&nbsp;[0x8113825]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono(mono_runtime_run_main+0x16b)&nbsp;[0x8113fcb]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono(mono_debugger_main+0x77)&nbsp;[0x80f9c47]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono(mono_main+0x15bc)&nbsp;[0x80b354c]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x805af21]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /lib/libc.so.6(__libc_start_main+0xe5)&nbsp;[0xb7e43705]&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; /usr/bin/mono&nbsp;[0x805ae51]&lt;br&gt;<br>
&lt;br&gt;<br>
=================================================================&lt;br&gt;<br>
Got&nbsp;a&nbsp;SIGSEGV&nbsp;while&nbsp;executing&nbsp;native&nbsp;code.&nbsp;This&nbsp;usually&nbsp;indicates&lt;br&gt;<br>
a&nbsp;fatal&nbsp;error&nbsp;in&nbsp;the&nbsp;mono&nbsp;runtime&nbsp;or&nbsp;one&nbsp;of&nbsp;the&nbsp;native&nbsp;libraries&lt;br&gt;<br>
used&nbsp;by&nbsp;your&nbsp;application.&lt;br&gt;<br>
=================================================================&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;program&nbsp;allocates&nbsp;and&nbsp;copies&nbsp;many&nbsp;arrays.&nbsp;The&nbsp;code&nbsp;at&nbsp;line&nbsp;91&nbsp;in&nbsp;api.cs&lt;br&gt;<br>
is&nbsp;allocating&nbsp;an&nbsp;array&nbsp;inside&nbsp;a&nbsp;method...&lt;br&gt;<br>
&lt;br&gt;<br>
double[,]&nbsp;scanData&nbsp;=&nbsp;new&nbsp;double[channelCount,&nbsp;samplesRequested]&nbsp;//&lt;br&gt;<br>
channelCount&nbsp;=&nbsp;8,&nbsp;samples&nbsp;requested&nbsp;=&nbsp;316&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;array&nbsp;is&nbsp;passed&nbsp;back&nbsp;to&nbsp;my&nbsp;application.&nbsp;I&nbsp;get&nbsp;the&nbsp;crash&nbsp;when&nbsp;this&lt;br&gt;<br>
method&nbsp;gets&nbsp;called&nbsp;100&nbsp;to&nbsp;130&nbsp;times.&lt;br&gt;<br>
I&nbsp;don’t&nbsp;get&nbsp;an&nbsp;Exception&nbsp;that&nbsp;I&nbsp;can&nbsp;catch.&nbsp;How&nbsp;can&nbsp;I&nbsp;debug&nbsp;this?&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&lt;br&gt;<br>
&lt;br&gt;<br>
Rick&nbsp;L&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://www.nabble.com/Crash---Array-allocation-tp24461029p24461029.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.nabble.com/Crash---Array-allocation-tp24461029p24461029.html&lt;/a&gt;&lt;br&gt;<br>
Sent&nbsp;from&nbsp;the&nbsp;Mono&nbsp;-&nbsp;General&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-list&nbsp;maillist&nbsp; -&nbsp; &lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
