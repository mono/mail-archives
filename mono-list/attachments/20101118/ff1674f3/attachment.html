<tt>
&lt;html&gt;&lt;head&gt;&lt;style&nbsp;type=&quot;text/css&quot;&gt;&lt;!--&nbsp;DIV&nbsp;{margin:0px;}&nbsp;--&gt;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;font-family:arial,&nbsp;helvetica,&nbsp;sans-serif;font-size:10pt&quot;&gt;&lt;div&gt;I&nbsp;would&nbsp;like&nbsp;to&nbsp;get&nbsp;your&nbsp;advice&nbsp;on&nbsp;porting&nbsp;code&nbsp;from&nbsp;.NET&nbsp;to&nbsp;Mono.&nbsp;&amp;nbsp;I&nbsp;have&nbsp;a&nbsp;class&nbsp;library&nbsp;that&nbsp;I&nbsp;wrote&nbsp;for&nbsp;.NET&nbsp;3.5&nbsp;on&nbsp;Windows.&nbsp;In&nbsp;addition&nbsp;to&nbsp;working&nbsp;in&nbsp;.NET&nbsp;on&nbsp;Windows&nbsp;I&nbsp;want&nbsp;to&nbsp;get&nbsp;it&nbsp;working&nbsp;in&nbsp;Mono&nbsp;on&nbsp;non-Windows&nbsp;platforms&nbsp;(especially&nbsp;OS&nbsp;X&nbsp;on&nbsp;Intel&nbsp;chips.)&nbsp;This&nbsp;class&nbsp;library&nbsp;is&nbsp;currently&nbsp;about&nbsp;90%&nbsp;C#&nbsp;and&nbsp;10%&nbsp;managed&nbsp;C++.&nbsp;The&nbsp;C#&nbsp;code&nbsp;is&nbsp;in&nbsp;one&nbsp;assembly&nbsp;and&nbsp;the&nbsp;managed&nbsp;C++&nbsp;code&nbsp;is&nbsp;in&nbsp;another&nbsp;assembly.&nbsp;The&nbsp;library&nbsp;has&nbsp;no&nbsp;GUI,&nbsp;but&nbsp;does&nbsp;make&nbsp;use&nbsp;of&nbsp;some&nbsp;classes/methods&nbsp;that&nbsp;are&nbsp;not&nbsp;available/implemented&nbsp;in&nbsp;Mono.&nbsp;It&nbsp;also&nbsp;p/invokes&nbsp;to&nbsp;some&nbsp;Win32&nbsp;APIs.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;initial&nbsp;thoughts&nbsp;on&nbsp;a&nbsp;plan&nbsp;for&nbsp;porting&nbsp;the&nbsp;code:&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;If&nbsp;available&nbsp;replace&nbsp;each&nbsp;p/invoke&nbsp;to&nbsp;a&nbsp;Win32&nbsp;API&nbsp;with&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;Mono&nbsp;class/method&nbsp;providing&nbsp;similar&nbsp;functionality.&lt;/li&gt;&lt;li&gt;If&nbsp;not&nbsp;available&nbsp;I&nbsp;plan<br>
&nbsp;to&nbsp;leave&nbsp;the&nbsp;p/invoke&nbsp;in&nbsp;place&nbsp;and&nbsp;build&nbsp;a&nbsp;platform&nbsp;specific&nbsp;native&nbsp;library&nbsp;(.dylib&nbsp;on&nbsp;OS&nbsp;X)&nbsp;providing&nbsp;similar&nbsp;functionality&nbsp;with&nbsp;the&nbsp;same&nbsp;signature.&lt;/li&gt;&lt;li&gt;Stub&nbsp;out&nbsp;or&nbsp;#ifdef&nbsp;out&nbsp;the&nbsp;code&nbsp;entirely.&nbsp;(For&nbsp;example&nbsp;the&nbsp;code&nbsp;that&nbsp;ties&nbsp;in&nbsp;to&nbsp;Windows&nbsp;event&nbsp;logging&nbsp;is&nbsp;not&nbsp;essential&nbsp;functionality.)&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;initial&nbsp;thoughts&nbsp;on&nbsp;a&nbsp;strategy&nbsp;for&nbsp;porting&nbsp;the&nbsp;code:&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;Port&nbsp;this&nbsp;library&nbsp;to&nbsp;Mono&nbsp;on&nbsp;Windows&lt;/li&gt;&lt;li&gt;Port&nbsp;it&nbsp;to&nbsp;Mono&nbsp;on&nbsp;WINE&nbsp;on&amp;nbsp;non-Windows&nbsp;platforms&lt;/li&gt;&lt;li&gt;Port&nbsp;it&nbsp;to&nbsp;Mono&nbsp;on&amp;nbsp;non-Windows&nbsp;platforms&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;questions:&lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;Aside&nbsp;from&nbsp;unavailable&nbsp;or&nbsp;unimplemented&nbsp;classes/methods&nbsp;in&nbsp;Mono&nbsp;and&nbsp;p/invokes&nbsp;to&nbsp;native&nbsp;code&nbsp;what&nbsp;are&nbsp;some&nbsp;common&nbsp;gotchas&nbsp;when&nbsp;porting&nbsp;.NET&nbsp;code&nbsp;to&nbsp;Mono?&lt;/li&gt;&lt;li&gt;Can&nbsp;Mono&nbsp;on&nbsp;Windows&nbsp;run&nbsp;managed&nbsp;C++&nbsp;code?&lt;/li&gt;&lt;li&gt;Assuming&nbsp;the&nbsp;managed&nbsp;C++&nbsp;code&nbsp;makes&nbsp;no&nbsp;platform&nbsp;specific&nbsp;calls,&nbsp;is&nbsp;clean&nbsp;for&nbsp;32/64&nbsp;bit&nbsp;architectures,&nbsp;clean&nbsp;for&nbsp;bit&nbsp;endianness&nbsp;could&nbsp;it&nbsp;be&nbsp;recompiled&nbsp;can&nbsp;Mono&nbsp;on<br>
&nbsp;non-Windows&nbsp;platforms&nbsp;run&nbsp;managed&nbsp;C++&nbsp;code?&lt;/li&gt;&lt;li&gt;Would&nbsp;porting&nbsp;to&nbsp;Mono&nbsp;on&nbsp;WINE&nbsp;on&nbsp;OS&nbsp;X&nbsp;as&nbsp;an&nbsp;intermediate&nbsp;step&nbsp;be&nbsp;worth&nbsp;the&nbsp;effort?&lt;/li&gt;&lt;li&gt;Is&nbsp;there&nbsp;a&nbsp;better&nbsp;or&nbsp;alternative&nbsp;porting&nbsp;strategy&nbsp;that&nbsp;you&nbsp;would&nbsp;recommend?&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;position:fixed&quot;&gt;&lt;/div&gt;<br>
<br>
<br>
&lt;/div&gt;&lt;br&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;&lt;/html&gt;
</tt>
