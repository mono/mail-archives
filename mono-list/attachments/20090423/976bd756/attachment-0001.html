<tt>
&lt;div&gt;I&nbsp;guess&nbsp;this&nbsp;really&nbsp;depends&nbsp;on&nbsp;what&nbsp;you&nbsp;mean&nbsp;by&nbsp;a&nbsp;memory&nbsp;leak.. &nbsp;If&nbsp;you&nbsp;mean&nbsp;the&nbsp;object&nbsp;is&nbsp;not&nbsp;reachable&nbsp;and&nbsp;on&nbsp;the&nbsp;queue&nbsp;to&nbsp;be&nbsp;garbage&nbsp;collected,&nbsp;one&nbsp;might&nbsp;&amp;quot;just&nbsp;trust&nbsp;the&nbsp;GC&amp;quot;. &nbsp;However,&nbsp;there&amp;#39;s&nbsp;also&nbsp;a&nbsp;lot&nbsp;of&nbsp;value&nbsp;on&nbsp;being&nbsp;able&nbsp;to&nbsp;see&nbsp;what&nbsp;objects&nbsp;are&nbsp;on&nbsp;the&nbsp;heap&nbsp;(and&nbsp;large&nbsp;object&nbsp;heap),&nbsp;what&nbsp;generation&nbsp;they&amp;#39;re&nbsp;in,&nbsp;etc. &nbsp;There&nbsp;may&nbsp;be&nbsp;objects&nbsp;that&nbsp;you&nbsp;believe&nbsp;are&nbsp;no&nbsp;longer&nbsp;used,&nbsp;but&nbsp;the&nbsp;runtime&nbsp;still&nbsp;sees&nbsp;them&nbsp;as&nbsp;reachable&nbsp;due&nbsp;to&nbsp;your&nbsp;own&nbsp;coding&nbsp;errors,&nbsp;and&nbsp;not&nbsp;GC&nbsp;bugs.&lt;/div&gt;<br>
<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;The&nbsp;.NET&nbsp;world&nbsp;has&nbsp;all&nbsp;sorts&nbsp;of&nbsp;great&nbsp;tools&nbsp;like&nbsp;SOS/Windbg&nbsp;as&nbsp;well&nbsp;as&nbsp;all&nbsp;sorts&nbsp;of&nbsp;third&nbsp;party&nbsp;analysis. &nbsp;Is&nbsp;there&nbsp;anything&nbsp;in&nbsp;the&nbsp;Mono&nbsp;world&nbsp;to&nbsp;help&nbsp;out&nbsp;with&nbsp;this?&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;Mike&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Apr&nbsp;22,&nbsp;2009&nbsp;at&nbsp;5:03&nbsp;PM,&nbsp;Rodrigo&nbsp;Kumpera&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:kumpera@gmail.com&quot;&gt;kumpera@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;style=&quot;BORDER-LEFT:&nbsp;#ccc&nbsp;1px&nbsp;solid;&nbsp;MARGIN:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;PADDING-LEFT:&nbsp;1ex&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;Hi,&lt;br&gt;&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;h5&quot;&gt;On&nbsp;Wed,&nbsp;Apr&nbsp;22,&nbsp;2009&nbsp;at&nbsp;8:52&nbsp;PM,&nbsp;Ishwor&nbsp;Gurung&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:ishwor@loopback.ath.cx&quot;&nbsp;target=&quot;_blank&quot;&gt;ishwor@loopback.ath.cx&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;style=&quot;BORDER-LEFT:&nbsp;rgb(204,204,204)&nbsp;1px&nbsp;solid;&nbsp;MARGIN:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;PADDING-LEFT:&nbsp;1ex&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;Hi&nbsp;list,&lt;br&gt;&lt;br&gt;Whats&nbsp;an&nbsp;appropriate&nbsp;way&nbsp;to&nbsp;check&nbsp;for&nbsp;memory&nbsp;leak&nbsp;of&nbsp;a&nbsp;mono&nbsp;application?&lt;br&gt;&lt;br&gt;<br>
I&nbsp;googled&nbsp;around&nbsp;with&nbsp;some&nbsp;example&nbsp;using&nbsp;valgrind&nbsp;for&nbsp;mono&nbsp;app&nbsp;but&lt;br&gt;couldn&amp;#39;t&nbsp;find&nbsp;any&nbsp;concrete&nbsp;examples.&nbsp;What&nbsp;I&amp;#39;ve&nbsp;essentially&nbsp;done&nbsp;so&nbsp;far&lt;br&gt;using&nbsp;valgrind&nbsp;is:&lt;br&gt;$&nbsp;valgrind&nbsp;--tool=memcheck&nbsp;--leak-check=full&nbsp;--show-reachable=yes&nbsp;mono&lt;br&gt;<br>
./ConnectUTest.exe&lt;br&gt;&lt;br&gt;This&nbsp;however,&nbsp;always&nbsp;produces&nbsp;memory&nbsp;leak&nbsp;(~14k/test&nbsp;on&nbsp;five&nbsp;runs&nbsp;so&nbsp;far):&lt;br&gt;&lt;br&gt;==15141==&nbsp;LEAK&nbsp;SUMMARY:&lt;br&gt;==15141==&nbsp; &nbsp; definitely&nbsp;lost:&nbsp;14,408&nbsp;bytes&nbsp;in&nbsp;760&nbsp;blocks.&lt;br&gt;==15141==&nbsp; &nbsp; indirectly&nbsp;lost:&nbsp;2,496&nbsp;bytes&nbsp;in&nbsp;126&nbsp;blocks.&lt;br&gt;<br>
==15141==&nbsp; &nbsp; &nbsp; possibly&nbsp;lost:&nbsp;12,460&nbsp;bytes&nbsp;in&nbsp;419&nbsp;blocks.&lt;br&gt;==15141==&nbsp; &nbsp; still&nbsp;reachable:&nbsp;2,569,056&nbsp;bytes&nbsp;in&nbsp;16,726&nbsp;blocks.&lt;br&gt;==15141==&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;suppressed:&nbsp;0&nbsp;bytes&nbsp;in&nbsp;0&nbsp;blocks.&lt;br&gt;&lt;br&gt;&lt;br&gt;Is&nbsp;this&nbsp;something&nbsp;I&nbsp;should&nbsp;worry&nbsp;about&nbsp;in&nbsp;itself&nbsp;or&nbsp;let&nbsp;the&nbsp;Mono&amp;#39;s&nbsp;GC&lt;br&gt;<br>
do&nbsp;its&nbsp;job&nbsp;with&nbsp;the&nbsp;memory&nbsp;and&nbsp;not&nbsp;worry&nbsp;about&nbsp;memory&nbsp;leaks?&nbsp;Can&lt;br&gt;someone&nbsp;confirm&nbsp;if&nbsp;these&nbsp;are&nbsp;even&nbsp;a&nbsp;real&nbsp;memory&nbsp;leak&nbsp;(the&nbsp;one&nbsp;above&lt;br&gt;with&nbsp;14,408&nbsp;bytes&nbsp;gone!)?&lt;br&gt;&lt;br&gt;Thanks.&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;br&gt;Valgrind&nbsp;is&nbsp;the&nbsp;best&nbsp;too&nbsp;to&nbsp;dig&nbsp;for&nbsp;memory&nbsp;leaks.&nbsp;But&nbsp;it&nbsp;will&nbsp;only&nbsp;report&nbsp;problems&nbsp;of&lt;br&gt;unmanaged&nbsp;memory&nbsp;leaks.&nbsp;For&nbsp;managed&nbsp;memory,&nbsp;just&nbsp;trust&nbsp;the&nbsp;GC.&lt;br&gt;&lt;br&gt;Mono&nbsp;is&nbsp;supposed&nbsp;to&nbsp;do&nbsp;a&nbsp;clean&nbsp;shutdown,&nbsp;but&nbsp;we&nbsp;still&nbsp;have&nbsp;some&nbsp;small&nbsp;non-important&lt;br&gt;<br>
fix&nbsp;leaks&nbsp;on&nbsp;things&nbsp;like&nbsp;support&nbsp;code.&nbsp;All&nbsp;of&nbsp;them&nbsp;leak&nbsp;a&nbsp;fixed&nbsp;set&nbsp;of&nbsp;memory&nbsp;at&nbsp;startup.&lt;br&gt;&lt;br&gt;Anyway,&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;go&nbsp;is&nbsp;if&nbsp;your&nbsp;attach&nbsp;your&nbsp;valgrind&nbsp;file&nbsp;so&nbsp;I&nbsp;can&nbsp;take&nbsp;a&nbsp;look.&lt;br&gt;&lt;br&gt;Cheers,&lt;br&gt;Rodrigo&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Mono-list&nbsp;maillist&nbsp; -&nbsp; &lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
