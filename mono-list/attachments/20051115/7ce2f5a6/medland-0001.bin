using System;
using System.Runtime.InteropServices;
using System.Text;

struct mystruct {
	public ushort length;
	[MarshalAs (UnmanagedType.ByValArray, SizeConst=8)]
	public byte[] mystring1;
	public int myint;
	[MarshalAs (UnmanagedType.ByValArray, SizeConst=12)]
	public byte[] mystring2;
}

class Test {
	[DllImport ("medland")]
	private static extern void myfunc (ref mystruct input);

	public static void Main ()
	{
		mystruct input = new mystruct ();
		input.length = 42;
		input.mystring1 = Encoding.UTF8.GetBytes ("12345678");
		input.myint = 64;
		input.mystring2 = Encoding.UTF8.GetBytes ("123456789ABC");

		myfunc (ref input);
	}
}

