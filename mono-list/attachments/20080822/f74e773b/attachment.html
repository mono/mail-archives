<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello,&nbsp;&lt;br&gt;&lt;br&gt;I&amp;#39;m&nbsp;developing&nbsp;an&nbsp;application&nbsp;that&nbsp;will&nbsp;run&nbsp;in&nbsp;a&nbsp;Windows&nbsp;box&nbsp;in&nbsp;Linux&nbsp;box&nbsp;and&nbsp;we&nbsp;have&nbsp;a&nbsp;method&nbsp;to&nbsp;Evaluating&nbsp;Expressions&nbsp;and&nbsp;for&nbsp;that&nbsp;I&amp;#39;m&nbsp;using&nbsp;the&nbsp;CSharpCodeProvider&nbsp;to&nbsp;create&nbsp;a&nbsp;dynamic&nbsp;method&nbsp;to&nbsp;return&nbsp;the&amp;nbsp;&nbsp;value&nbsp;of&nbsp;the&nbsp;math&nbsp;expression.&lt;br&gt;<br>
&lt;br&gt;In&nbsp;windows,&nbsp;this&nbsp;works&nbsp;fine&nbsp;but&nbsp;in&nbsp;linux&nbsp;I&nbsp;got&nbsp;the&nbsp;message:&nbsp;&lt;br&gt;&lt;br&gt;Unhandled&nbsp;Exception:&nbsp;System.ArgumentException:&nbsp;Expression&nbsp;cannot&nbsp;be&nbsp;evaluated,&nbsp;please&nbsp;use&nbsp;a&nbsp;valid&nbsp;C#&nbsp;expression:&nbsp;0+1&nbsp;(&amp;nbsp;&nbsp;at&nbsp;System.Reflection.Emit.AssemblyBuilder.DefineDynamicModule&nbsp;(System.String&nbsp;name,&nbsp;System.String&nbsp;fileName,&nbsp;Boolean&nbsp;emitSymbolInfo,&nbsp;Boolean&nbsp;transient)&nbsp;[0x00000]&nbsp;)&lt;br&gt;<br>
&amp;nbsp;&nbsp;at&nbsp;RefletionExample.Program.EvaluateExpression&nbsp;(System.String&nbsp;statement)&nbsp;[0x00000]&lt;br&gt;&amp;nbsp;&nbsp;at&nbsp;RefletionExample.Program.Main&nbsp;(System.String[]&nbsp;args)&nbsp;[0x00000]&lt;br&gt;&lt;br&gt;&lt;br&gt;The&nbsp;code&nbsp;is&nbsp;very&nbsp;simple:&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;static&nbsp;void&nbsp;Main(string[]&nbsp;args)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Console.WriteLine(EvaluateExpression(&amp;quot;0+1&amp;quot;));&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;private&nbsp;static&nbsp;string&nbsp;EvaluateExpression(string&nbsp;statement)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;CSharpCodeProvider&nbsp;codeProvider&nbsp;=&nbsp;new&nbsp;CSharpCodeProvider();&lt;br&gt;<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;CompilerParameters&nbsp;cp&nbsp;=&nbsp;new&nbsp;CompilerParameters();&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;cp.GenerateExecutable&nbsp;=&nbsp;false;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;cp.GenerateInMemory&nbsp;=&nbsp;true;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;cp.OutputAssembly&nbsp;=&nbsp;&amp;quot;Module&amp;quot;;&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;string&nbsp;ModuleSource&nbsp;=&nbsp;&amp;quot;namespace&nbsp;ns&nbsp;{&nbsp;&amp;quot;&nbsp;+&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;quot;using&nbsp;System;&nbsp;&amp;quot;&nbsp;+&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;quot;class&nbsp;class1&nbsp;{&nbsp;&amp;quot;&nbsp;+&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;quot;public&nbsp;static&nbsp;string&nbsp;Evaluate(){return&nbsp;(&amp;quot;&nbsp;+&nbsp;statement&nbsp;+&nbsp;&amp;quot;).ToString();}}}&nbsp;&amp;quot;;&lt;br&gt;<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;CompilerResults&nbsp;cr&nbsp;=&nbsp;codeProvider.CompileAssemblyFromSource(cp,&nbsp;ModuleSource);&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;(cr.Errors.Count&nbsp;&amp;gt;&nbsp;0)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;throw&nbsp;new&nbsp;ArgumentException(string.Format(&amp;quot;Expression&nbsp;cannot&nbsp;be&nbsp;evaluated,&nbsp;please&nbsp;use&nbsp;a&nbsp;valid&nbsp;C#&nbsp;expression:&nbsp;{0}&nbsp;({1})&amp;quot;,&nbsp;statement,&nbsp;cr.Errors[0].ErrorText));&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//return&nbsp;null;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;else&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;MethodInfo&nbsp;methodinfo&nbsp;=&nbsp;cr.CompiledAssembly.GetType(&amp;quot;ns.class1&amp;quot;).GetMethod(&amp;quot;Evaluate&amp;quot;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;(string)methodinfo.Invoke(null,&nbsp;null);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;br&gt;Can&nbsp;i&nbsp;use&nbsp;this&nbsp;on&nbsp;Mono?&nbsp;What&nbsp;should&nbsp;be&nbsp;the&nbsp;way&nbsp;to&nbsp;do&nbsp;this&nbsp;on&nbsp;Mono!??&nbsp;&lt;br&gt;The&nbsp;mono&nbsp;version&nbsp;is:&nbsp;&lt;br&gt;$&nbsp;mono&nbsp;--version&lt;br&gt;Mono&nbsp;JIT&nbsp;compiler&nbsp;version&nbsp;1.9.1&nbsp;(tarball)&lt;br&gt;Copyright&nbsp;(C)&nbsp;2002-2007&nbsp;Novell,&nbsp;Inc&nbsp;and&nbsp;Contributors.&nbsp;&lt;a&nbsp;href=&quot;http://www.mono-project.com&quot;&gt;www.mono-project.com&lt;/a&gt;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;TLS:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;__thread&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;GC:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Included&nbsp;Boehm&nbsp;(with&nbsp;typed&nbsp;GC)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;SIGSEGV:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;normal&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Notifications:&nbsp;epoll&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Architecture:&amp;nbsp;&nbsp;x86&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Disabled:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;none&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;Hope&nbsp;you&nbsp;guys&nbsp;help&nbsp;me,&nbsp;in&nbsp;my&nbsp;company&nbsp;was&nbsp;too&nbsp;hard&nbsp;to&nbsp;put&nbsp;something&nbsp;work&nbsp;on&nbsp;mono&nbsp;and&nbsp;have&nbsp;this&nbsp;problem&nbsp;will&nbsp;kill&nbsp;all&nbsp;mono&nbsp;development...&nbsp;hope&nbsp;there&nbsp;is&nbsp;an&nbsp;solution&nbsp;for&nbsp;this.&lt;br&gt;&lt;br&gt;&lt;br&gt;regards&lt;br&gt;Paulo&nbsp;Aboim&nbsp;Pinto&lt;br&gt;<br>
Odivelas&nbsp;-&nbsp;Portugal&lt;br&gt;&lt;/div&gt;<br>

</tt>
