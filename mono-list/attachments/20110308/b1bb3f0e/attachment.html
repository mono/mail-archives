<tt>
I&nbsp;recently&nbsp;saw&nbsp;the&nbsp;announcement&nbsp;of&nbsp;mono&nbsp;2.10&nbsp;which&nbsp;included&nbsp;the&nbsp;Mono&nbsp;C#&nbsp;Compiler&nbsp;Service&nbsp;which&nbsp;seemed&nbsp;very&nbsp;relevant&nbsp;to&nbsp;a&nbsp;project&nbsp;under&nbsp;development.<br>
We&nbsp;are&nbsp;using&nbsp;Visual&nbsp;Studio&nbsp;and&nbsp;.Net&nbsp;4.0&nbsp;(and&nbsp;eventually&nbsp;will&nbsp;want&nbsp;to&nbsp;use&nbsp;this&nbsp;with&nbsp;Silverlight)<br>
<br>
I&nbsp;downloaded&nbsp;and&nbsp;installed&nbsp;mono&nbsp;2.10&nbsp;(a&nbsp;great&nbsp;experience&nbsp;-&nbsp;thank&nbsp;you)&nbsp;and&nbsp;then&nbsp;created&nbsp;a&nbsp;simple&nbsp;Windows&nbsp;console&nbsp;app&nbsp;in&nbsp;Visual&nbsp;Studio&nbsp;2010.&nbsp;I&nbsp;added&nbsp;Mono.CSharp&nbsp;to&nbsp;the&nbsp;references&nbsp;and&nbsp;the&nbsp;main&nbsp;program&nbsp;contains&nbsp;just&nbsp;a&nbsp;single&nbsp;line<br>
<br>
&lt;pre&gt;<br>
using&nbsp;Mono.CSharp;<br>
<br>
namespace&nbsp;TestMono<br>
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;Program<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;void&nbsp;Main(string[]&nbsp;args)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;result&nbsp;=&nbsp;Evaluator.Evaluate(&amp;quot;34&nbsp;+&nbsp;56;&amp;quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br>
&lt;/pre&gt;<br>
This&nbsp;compiled&nbsp;without&nbsp;a&nbsp;problem&nbsp;but&nbsp;when&nbsp;executed&nbsp;it&nbsp;raises&nbsp;an&nbsp;exception&nbsp;when&nbsp;the&nbsp;line&nbsp;is&nbsp;executed.&nbsp;<br>
<br>
The&nbsp;exception&nbsp;is&nbsp;a&nbsp;TypeInitializationException&nbsp;and&nbsp;appears&nbsp;to&nbsp;occur&nbsp;when&nbsp;the&nbsp;Mono.CSharp.dll&nbsp;assembly&nbsp;is&nbsp;loaded&nbsp;The&nbsp;inner&nbsp;exception&nbsp;complains&nbsp;about&nbsp;the&nbsp;security&nbsp;of&nbsp;the&nbsp;type&nbsp;Location&nbsp;in&nbsp;the&nbsp;dll<br>
&lt;pre&gt;<br>
{&amp;quot;Method&nbsp;'Mono.CSharp.Location.ToString()'&nbsp;is&nbsp;security&nbsp;transparent,&nbsp;but&nbsp;is&nbsp;a&nbsp;member&nbsp;of&nbsp;a&nbsp;<br>
&nbsp;security&nbsp;critical&nbsp;type.&amp;quot;:&amp;quot;Mono.CSharp.Location.ToString()&amp;quot;}<br>
&lt;/pre&gt;<br>
<br>
The&nbsp;full&nbsp;details&nbsp;of&nbsp;the&nbsp;exception&nbsp;are:<br>
&lt;pre&gt;<br>
System.TypeInitializationException&nbsp;was&nbsp;unhandled<br>
&nbsp;&nbsp;Message=The&nbsp;type&nbsp;initializer&nbsp;for&nbsp;'Mono.CSharp.Evaluator'&nbsp;threw&nbsp;an&nbsp;exception.<br>
&nbsp;&nbsp;Source=Mono.CSharp<br>
&nbsp;&nbsp;TypeName=Mono.CSharp.Evaluator<br>
&nbsp;&nbsp;StackTrace:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;Mono.CSharp.Evaluator.Evaluate(String&nbsp;input)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;TestMono.Program.Main(String[]&nbsp;args)&nbsp;in&nbsp;c:\users\cnwbm1\documents\visual&nbsp;studio&nbsp;2010\Projects\TestMono\TestMono\Program.cs:line&nbsp;9<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.AppDomain._nExecuteAssembly(RuntimeAssembly&nbsp;assembly,&nbsp;String[]&nbsp;args)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.AppDomain.ExecuteAssembly(String&nbsp;assemblyFile,&nbsp;Evidence&nbsp;assemblySecurity,&nbsp;String[]&nbsp;args)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.Threading.ThreadHelper.ThreadStart_Context(Object&nbsp;state)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.Threading.ExecutionContext.Run(ExecutionContext&nbsp;executionContext,&nbsp;ContextCallback&nbsp;callback,&nbsp;Object&nbsp;state,&nbsp;Boolean&nbsp;ignoreSyncCtx)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.Threading.ExecutionContext.Run(ExecutionContext&nbsp;executionContext,&nbsp;ContextCallback&nbsp;callback,&nbsp;Object&nbsp;state)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;System.Threading.ThreadHelper.ThreadStart()<br>
&nbsp;&nbsp;InnerException:&nbsp;System.TypeLoadException<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message=Method&nbsp;'Mono.CSharp.Location.ToString()'&nbsp;is&nbsp;security&nbsp;transparent,&nbsp;but&nbsp;is&nbsp;a&nbsp;member&nbsp;of&nbsp;a&nbsp;security&nbsp;critical&nbsp;type.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Source=Mono.CSharp<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TypeName=Mono.CSharp.Location.ToString()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StackTrace:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;Mono.CSharp.Evaluator..cctor()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InnerException:&nbsp;<br>
&lt;/pre&gt;<br>
<br>
Can&nbsp;anyone&nbsp;shed&nbsp;any&nbsp;light&nbsp;on&nbsp;why&nbsp;this&nbsp;exception&nbsp;occurs?<br>
Is&nbsp;it&nbsp;valid&nbsp;to&nbsp;mix&nbsp;mono&nbsp;and&nbsp;.Net&nbsp;4.0&nbsp;dlls&nbsp;in&nbsp;the&nbsp;manner&nbsp;I&nbsp;am&nbsp;attempting?<br>
<br>
Thanks&nbsp;in&nbsp;advance<br>
Bruce<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<br>
&lt;br/&gt;&lt;hr&nbsp;align=&quot;left&quot;&nbsp;width=&quot;300&quot;&nbsp;/&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://mono.1490590.n4.nabble.com/Security-exception-using-2-10-Evaluator-with-Net-tp3342676p3342676.html&quot;&gt;Security&nbsp;exception&nbsp;using&nbsp;2.10&nbsp;Evaluator&nbsp;with&nbsp;.Net&lt;/a&gt;&lt;br/&gt;<br>
Sent&nbsp;from&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://mono.1490590.n4.nabble.com/Mono-General-f1490591.html&quot;&gt;Mono&nbsp;-&nbsp;General&nbsp;mailing&nbsp;list&nbsp;archive&lt;/a&gt;&nbsp;at&nbsp;Nabble.com.&lt;br/&gt;
</tt>
