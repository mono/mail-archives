<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
FONT-SIZE:&nbsp;10pt;<br>
FONT-FAMILY:Tahoma<br>
}<br>
&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;<br>
Hi&nbsp;all,&lt;BR&gt;<br>
I'm&nbsp;still&nbsp;new&nbsp;to&nbsp;this&nbsp;mailing-list&nbsp;and&nbsp;I'm&nbsp;sure&nbsp;someone's&nbsp;asked&nbsp;about&nbsp;similar&nbsp;questions&nbsp;before,&nbsp;but&nbsp;it's&nbsp;hard&nbsp;to&nbsp;find&nbsp;documented&nbsp;materials&nbsp;related&amp;nbsp;to&nbsp;this&nbsp;topic:&amp;nbsp;does&nbsp;the&nbsp;current&nbsp;stable&nbsp;version&nbsp;of&nbsp;Mono&nbsp;(namely&nbsp;1.2.5.1)&nbsp;conform&nbsp;to&nbsp;the&nbsp;ECMA&nbsp;standard&nbsp;of&nbsp;memory&nbsp;model,&nbsp;which&nbsp;is&nbsp;a&nbsp;weak&nbsp;model,&nbsp;or&nbsp;does&nbsp;it&nbsp;conform&nbsp;to&nbsp;the&nbsp;stronger&nbsp;one&nbsp;as&nbsp;used&nbsp;by&nbsp;MS&nbsp;.Net&nbsp;Framework&nbsp;2.0&nbsp;or&nbsp;later?&nbsp;Is&nbsp;it&nbsp;different&nbsp;on&nbsp;various&nbsp;implementations&nbsp;of&nbsp;Mono,&nbsp;such&nbsp;that&nbsp;the&nbsp;ones&nbsp;on&nbsp;IA64&nbsp;are&nbsp;not&nbsp;using&nbsp;the&nbsp;stronger&nbsp;model?&lt;BR&gt;<br>
I'd&nbsp;also&nbsp;like&nbsp;to&nbsp;know,&nbsp;there&nbsp;was&nbsp;a&nbsp;hint&nbsp;that&nbsp;MS&nbsp;is&nbsp;trying&nbsp;to&nbsp;revise&nbsp;the&nbsp;ECMA&nbsp;CLI&nbsp;standard&nbsp;so&nbsp;that&nbsp;a&nbsp;stronger&nbsp;memory&nbsp;gets&nbsp;employed,&nbsp;does&nbsp;anybody&nbsp;know&nbsp;how's&nbsp;that&nbsp;in&nbsp;progress?&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
Anyway,&nbsp;just&nbsp;to&nbsp;be&nbsp;sure&nbsp;I&nbsp;got&nbsp;the&nbsp;concepts&nbsp;right,&nbsp;please&nbsp;correct&nbsp;me&nbsp;if&nbsp;I&nbsp;got&nbsp;the&nbsp;Mono/CLR&nbsp;memory&nbsp;model&nbsp;wrong:&lt;BR&gt;<br>
1.&nbsp;No&amp;nbsp;reorder&nbsp;can&nbsp;happen&nbsp;if&nbsp;there's&nbsp;a&nbsp;MemoryBarrier&nbsp;(as&nbsp;given&nbsp;by&nbsp;Interlocked&nbsp;or&nbsp;Thread.VolatileRead/Write)&nbsp;or&nbsp;volatile&nbsp;variable&nbsp;in&nbsp;between&nbsp;in&nbsp;a&nbsp;method;&nbsp;or&nbsp;if&nbsp;reorder&nbsp;happened,&nbsp;it's&nbsp;invisible&nbsp;to&nbsp;programmers&nbsp;(given&nbsp;that&nbsp;reads&nbsp;and&nbsp;writes&nbsp;cannot&nbsp;move&nbsp;before&nbsp;a&nbsp;volatile&nbsp;read,&nbsp;and&nbsp;reads&nbsp;and&nbsp;writes&nbsp;cannot&nbsp;move&nbsp;after&nbsp;a&nbsp;volatile&nbsp;write)&lt;BR&gt;<br>
2.&nbsp;Monitor.Enter&nbsp;has&nbsp;aquire&nbsp;semantics,&nbsp;Monitor.Exit&nbsp;has&nbsp;release&nbsp;semantics,&nbsp;does&nbsp;that&nbsp;mean&nbsp;that&nbsp;before&nbsp;entering&nbsp;a&nbsp;critical&nbsp;section,&nbsp;everything&nbsp;in&nbsp;the&nbsp;thread's&nbsp;own&nbsp;copy&nbsp;of&nbsp;memory&nbsp;(if&nbsp;the&nbsp;memory&nbsp;is&nbsp;cached)&amp;nbsp;gets&nbsp;synchronized&nbsp;with&nbsp;the&nbsp;latest&nbsp;values&nbsp;in&nbsp;the&nbsp;main&nbsp;memory,&nbsp;and&nbsp;after&nbsp;leaving&nbsp;a&nbsp;critical&nbsp;section,&nbsp;all&nbsp;changes&nbsp;done&nbsp;by&nbsp;the&nbsp;current&nbsp;thread&nbsp;will&nbsp;be&nbsp;flushed&nbsp;out&nbsp;to&nbsp;the&nbsp;main&nbsp;memory?&lt;BR&gt;<br>
3.&nbsp;Does&nbsp;a&nbsp;volatile&nbsp;read&nbsp;behave&nbsp;just&nbsp;like&nbsp;a&nbsp;Monitor.Enter&nbsp;in&nbsp;terms&nbsp;of&nbsp;having&nbsp;aquire&nbsp;semantics,&nbsp;that&nbsp;everything&nbsp;in&nbsp;the&nbsp;thread's&nbsp;own&nbsp;copy&nbsp;of&nbsp;memory&nbsp;(and&nbsp;not&nbsp;just&nbsp;the&nbsp;volatile&nbsp;variable&nbsp;itself)&amp;nbsp;gets&nbsp;synchronized&nbsp;with&nbsp;the&nbsp;latest&nbsp;values&nbsp;in&nbsp;the&nbsp;main&nbsp;memory,&nbsp;and&nbsp;vice&nbsp;versa?&lt;BR&gt;<br>
4.&nbsp;What's&nbsp;the&nbsp;cost&nbsp;of&nbsp;using&nbsp;a&nbsp;volatile&nbsp;variable&nbsp;in&nbsp;comparison&nbsp;to&nbsp;using&nbsp;locks&nbsp;in&nbsp;Mono?&nbsp;Should&nbsp;I&nbsp;expect&nbsp;less&nbsp;overhead&nbsp;with&nbsp;a&nbsp;volatile&nbsp;variable&nbsp;rather&nbsp;than&nbsp;with&nbsp;locks,&nbsp;if&nbsp;all&nbsp;accesses&nbsp;to&nbsp;it&nbsp;must&nbsp;not&nbsp;be&nbsp;reordered?&lt;BR&gt;<br>
5.&nbsp;What&nbsp;are&nbsp;the&nbsp;major&nbsp;differences&nbsp;between&nbsp;a&nbsp;Mono/CLR&nbsp;memory&nbsp;model&nbsp;and&nbsp;the&nbsp;Java&nbsp;memory&nbsp;model&nbsp;(after&nbsp;Java&nbsp;5)&nbsp;that&nbsp;I&nbsp;should&nbsp;care&nbsp;about?&lt;BR&gt;&lt;BR&gt;Greetings,&lt;BR&gt;-&nbsp;RednaxelaFX&lt;BR&gt;&lt;BR&gt;&lt;br&nbsp;/&gt;&lt;hr&nbsp;/&gt;Invite&nbsp;your&nbsp;mail&nbsp;contacts&nbsp;to&nbsp;join&nbsp;your&nbsp;friends&nbsp;list&nbsp;with&nbsp;Windows&nbsp;Live&nbsp;Spaces.&nbsp;It's&nbsp;easy!&nbsp;&lt;a&nbsp;href='http://spaces.live.com/spacesapi.aspx?wx_action=create&amp;wx_url=/friends.aspx&amp;mkt=en-us'&nbsp;target='_new'&gt;Try&nbsp;it!&lt;/a&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
