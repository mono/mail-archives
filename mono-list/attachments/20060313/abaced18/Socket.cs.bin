Index: Socket.cs
===================================================================
--- Socket.cs	(revision 57938)
+++ Socket.cs	(working copy)
@@ -716,16 +716,11 @@
 			}
 
 			if(ipv6Supported == -1) {
-#if NET_2_0 && CONFIGURATION_DEP
-				SettingsSection config;
-				config = (SettingsSection) System.Configuration.ConfigurationSettings.GetConfig("system.net/settings");
-				ipv6Supported = config.Ipv6.Enabled ? -1 : 0;
-#else
 				NetConfig config = (NetConfig)System.Configuration.ConfigurationSettings.GetConfig("system.net/settings");
 
 				if(config != null)
 					ipv6Supported = config.ipv6Enabled?-1:0;
-#endif
+
 				if(ipv6Supported != 0) {
 					try {
 						Socket tmp = new Socket(AddressFamily.InterNetworkV6, SocketType.Stream, ProtocolType.Tcp);
