<tt>
Kornel,&lt;br&gt;&lt;br&gt;I&amp;#39;ll&nbsp;try&nbsp;to&nbsp;review&nbsp;your&nbsp;patch&nbsp;on&nbsp;the&nbsp;bugzilla&nbsp;issue&nbsp;this&nbsp;week.&nbsp;Sorry&nbsp;for&nbsp;the&nbsp;delay.&lt;br&gt;&lt;br&gt;Cheers,&lt;br&gt;Rodrigo&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;Feb&nbsp;15,&nbsp;2009&nbsp;at&nbsp;10:54&nbsp;AM,&nbsp;Kornél&nbsp;Pál&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:kornelpal@gmail.com&quot;&gt;kornelpal@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;the&nbsp;test&nbsp;cases,&nbsp;I&amp;#39;ll&nbsp;invetigate&nbsp;these&nbsp;as&nbsp;well&nbsp;and&nbsp;try&nbsp;to&nbsp;fix&lt;br&gt;<br>
them.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;best&nbsp;way&nbsp;to&nbsp;get&nbsp;bugs&nbsp;fixed&nbsp;is&nbsp;to&nbsp;produce&nbsp;test&nbsp;cases&nbsp;and&nbsp;report&nbsp;them&lt;br&gt;<br>
in&nbsp;buzilla.&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;can&nbsp;help&nbsp;more&nbsp;if&nbsp;you&nbsp;are&nbsp;able&nbsp;to&nbsp;provide&nbsp;a&nbsp;patch&nbsp;to&nbsp;fix&nbsp;the&nbsp;bugs.&lt;br&gt;<br>
&lt;br&gt;<br>
Note&nbsp;that&nbsp;for&nbsp;some&nbsp;reasons&nbsp;Novell&nbsp;guys&nbsp;seem&nbsp;to&nbsp;ignore&nbsp;this&nbsp;bug&nbsp;mostly&lt;br&gt;<br>
because&nbsp;they&nbsp;have&nbsp;other&nbsp;things&nbsp;to&nbsp;do&nbsp;and&nbsp;their&nbsp;approval&nbsp;is&nbsp;required&nbsp;for&lt;br&gt;<br>
these&nbsp;changes.&lt;br&gt;<br>
&lt;br&gt;<br>
Could&nbsp;you&nbsp;please&nbsp;describe&nbsp;your&nbsp;scenario&nbsp;(application&nbsp;name,&nbsp;purpose,&nbsp;etc.&lt;br&gt;<br>
if&nbsp;they&nbsp;are&nbsp;public)&nbsp;where&nbsp;you&nbsp;need&nbsp;these&nbsp;floating&nbsp;point&nbsp;roundings&nbsp;and&lt;br&gt;<br>
describe&nbsp;why&nbsp;these&nbsp;bugs&nbsp;are&nbsp;critical&nbsp;for&nbsp;you.&lt;br&gt;<br>
&lt;br&gt;<br>
Providing&nbsp;some&nbsp;description&nbsp;may&nbsp;raise&nbsp;component&nbsp;owners&amp;#39;&nbsp;attention.&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
Kornél&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;<br>
ddambro&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;previously&nbsp;posted&nbsp;about&nbsp;some&nbsp;differences&nbsp;I&nbsp;noticed&nbsp;between&nbsp;the&nbsp;floating&lt;br&gt;<br>
&amp;gt;&nbsp;point&nbsp;math&nbsp;in&nbsp;.NET&nbsp;and&nbsp;mono&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://www.nabble.com/Mono-and-.Net-Floating-Point-Inconsistencies-to21428695ef1367.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.nabble.com/Mono-and-.Net-Floating-Point-Inconsistencies-to21428695ef1367.html&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;here&nbsp;.&nbsp;&amp;nbsp;The&nbsp;bug&nbsp;report&nbsp;can&nbsp;be&nbsp;found&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;https://bugzilla.novell.com/show_bug.cgi?id=467201&quot;&nbsp;target=&quot;_blank&quot;&gt;https://bugzilla.novell.com/show_bug.cgi?id=467201&lt;/a&gt;&nbsp;here&nbsp;.&nbsp;&amp;nbsp;The&nbsp;patch&lt;br&gt;<br>
&amp;gt;&nbsp;provided&nbsp;(Thank&nbsp;you!)&nbsp;fixes&nbsp;several&nbsp;issues&nbsp;I&nbsp;was&nbsp;encountering,&nbsp;but&lt;br&gt;<br>
&amp;gt;&nbsp;unfortunately&nbsp;it&nbsp;led&nbsp;me&nbsp;to&nbsp;discover&nbsp;a&nbsp;couple&nbsp;more.&nbsp;&amp;nbsp;The&nbsp;following&nbsp;two&nbsp;code&lt;br&gt;<br>
&amp;gt;&nbsp;samples&nbsp;were&nbsp;tested&nbsp;x86&nbsp;machines&nbsp;using&nbsp;Linux&nbsp;mono&nbsp;2.2&nbsp;with&nbsp;the&nbsp;patch&nbsp;found&lt;br&gt;<br>
&amp;gt;&nbsp;in&nbsp;the&nbsp;bug&nbsp;report,&nbsp;a&nbsp;clean&nbsp;Windows&nbsp;mono&nbsp;2.0.1,&nbsp;and&nbsp;the&nbsp;latest&nbsp;version&nbsp;of&lt;br&gt;<br>
&amp;gt;&nbsp;.NET&nbsp;targeting&nbsp;3.0&nbsp;framework&nbsp;and&nbsp;x86.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;---&lt;br&gt;<br>
&amp;gt;&nbsp;1.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;using&nbsp;System;&lt;br&gt;<br>
&amp;gt;&nbsp;using&nbsp;System.Runtime.CompilerServices;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;class&nbsp;Testing&lt;br&gt;<br>
&amp;gt;&nbsp;{&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;[MethodImpl(MethodImplOptions.NoInlining)]&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;Main()&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;float&nbsp;f1=200;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;float&nbsp;distance=Distance(300,&nbsp;500,&nbsp;387.5f,&nbsp;362.5f);&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;float&nbsp;dist&nbsp;=&nbsp;1&nbsp;-&nbsp;(distance&nbsp;/&nbsp;f1);&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;float&nbsp;distSqud&nbsp;=&nbsp;dist&nbsp;*&nbsp;dist;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Console.WriteLine(distSqud.ToString(&amp;quot;R&amp;quot;));&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;foreach&nbsp;(byte&nbsp;b&nbsp;in&nbsp;BitConverter.GetBytes(distSqud))&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Console.WriteLine(b);&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;public&nbsp;static&nbsp;float&nbsp;Distance(float&nbsp;x1,&nbsp;float&nbsp;y1,&nbsp;float&nbsp;x2,&nbsp;float&nbsp;y2)&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;float&nbsp;xDist&nbsp;=&nbsp;x1&nbsp;-&nbsp;x2;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;float&nbsp;yDist&nbsp;=&nbsp;y1&nbsp;-&nbsp;y2;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;float&nbsp;dist&nbsp;=&nbsp;(float)Math.Sqrt(xDist&nbsp;*&nbsp;xDist&nbsp;+&nbsp;yDist&nbsp;*&nbsp;yDist);&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;return&nbsp;dist;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;.NET&nbsp;this&nbsp;code&nbsp;produces:&lt;br&gt;<br>
&amp;gt;&nbsp;0.0342619047&lt;br&gt;<br>
&amp;gt;&nbsp;54&lt;br&gt;<br>
&amp;gt;&nbsp;86&lt;br&gt;<br>
&amp;gt;&nbsp;12&lt;br&gt;<br>
&amp;gt;&nbsp;61&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;and&nbsp;on&nbsp;mono&nbsp;it&nbsp;produces:&lt;br&gt;<br>
&amp;gt;&nbsp;0.03426191&lt;br&gt;<br>
&amp;gt;&nbsp;55&lt;br&gt;<br>
&amp;gt;&nbsp;86&lt;br&gt;<br>
&amp;gt;&nbsp;12&lt;br&gt;<br>
&amp;gt;&nbsp;61&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;---&lt;br&gt;<br>
&amp;gt;&nbsp;2.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;using&nbsp;System;&lt;br&gt;<br>
&amp;gt;&nbsp;using&nbsp;System.Runtime.CompilerServices;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;class&nbsp;Testing&lt;br&gt;<br>
&amp;gt;&nbsp;{&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;[MethodImpl(MethodImplOptions.NoInlining)]&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;Main()&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;float&nbsp;distance&nbsp;=&nbsp;Distance(616.161255f,&nbsp;391.2928f,&nbsp;550.8382f,&lt;br&gt;<br>
&amp;gt;&nbsp;131.006973f);&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Console.WriteLine(distance.ToString(&amp;quot;R&amp;quot;));&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;foreach&nbsp;(byte&nbsp;b&nbsp;in&nbsp;BitConverter.GetBytes(distance))&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Console.WriteLine(b);&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;public&nbsp;static&nbsp;float&nbsp;Distance(float&nbsp;x1,&nbsp;float&nbsp;y1,&nbsp;float&nbsp;x2,&nbsp;float&nbsp;y2)&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;float&nbsp;xDist&nbsp;=&nbsp;x1&nbsp;-&nbsp;x2;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;float&nbsp;yDist&nbsp;=&nbsp;y1&nbsp;-&nbsp;y2;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;float&nbsp;dist&nbsp;=&nbsp;(float)Math.Sqrt(xDist&nbsp;*&nbsp;xDist&nbsp;+&nbsp;yDist&nbsp;*&nbsp;yDist);&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Console.WriteLine(dist.ToString(&amp;quot;R&amp;quot;));&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;foreach&nbsp;(byte&nbsp;b&nbsp;in&nbsp;BitConverter.GetBytes(dist))&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Console.WriteLine(b);&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;return&nbsp;dist;&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&amp;gt;&nbsp;}&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;.NET&nbsp;this&nbsp;code&nbsp;produces:&lt;br&gt;<br>
&amp;gt;&nbsp;268.3576&lt;br&gt;<br>
&amp;gt;&nbsp;198&lt;br&gt;<br>
&amp;gt;&nbsp;45&lt;br&gt;<br>
&amp;gt;&nbsp;134&lt;br&gt;<br>
&amp;gt;&nbsp;67&lt;br&gt;<br>
&amp;gt;&nbsp;268.3576&lt;br&gt;<br>
&amp;gt;&nbsp;198&lt;br&gt;<br>
&amp;gt;&nbsp;45&lt;br&gt;<br>
&amp;gt;&nbsp;134&lt;br&gt;<br>
&amp;gt;&nbsp;67&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;and&nbsp;on&nbsp;mono&nbsp;it&nbsp;produces:&lt;br&gt;<br>
&amp;gt;&nbsp;268.357635&lt;br&gt;<br>
&amp;gt;&nbsp;199&lt;br&gt;<br>
&amp;gt;&nbsp;45&lt;br&gt;<br>
&amp;gt;&nbsp;134&lt;br&gt;<br>
&amp;gt;&nbsp;67&lt;br&gt;<br>
&amp;gt;&nbsp;268.357635&lt;br&gt;<br>
&amp;gt;&nbsp;199&lt;br&gt;<br>
&amp;gt;&nbsp;45&lt;br&gt;<br>
&amp;gt;&nbsp;134&lt;br&gt;<br>
&amp;gt;&nbsp;67&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;---&lt;br&gt;<br>
&amp;gt;&nbsp;These&nbsp;seem&nbsp;to&nbsp;be&nbsp;very&nbsp;similar&nbsp;to&nbsp;the&nbsp;issues&nbsp;I&nbsp;was&nbsp;encountering&nbsp;before,&nbsp;but&lt;br&gt;<br>
&amp;gt;&nbsp;they&nbsp;are&nbsp;not&nbsp;fixed&nbsp;by&nbsp;the&nbsp;patch.&nbsp;&amp;nbsp;What&nbsp;is&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;resolve&nbsp;these&lt;br&gt;<br>
&amp;gt;&nbsp;inconsistencies?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Thanks,&lt;br&gt;<br>
&amp;gt;&nbsp;David&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;_______________________________________________&lt;br&gt;<br>
Mono-list&nbsp;maillist&nbsp;&amp;nbsp;-&nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
