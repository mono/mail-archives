<tt>
Hi!&lt;br&gt;&lt;br&gt;I'm&nbsp;having&nbsp;problems&nbsp;with&nbsp;enabling&nbsp;Basic&nbsp;authentication&nbsp;in&nbsp;System.Net.HttpListener.&nbsp;I&nbsp;am&nbsp;trying&nbsp;code&nbsp;from&amp;nbsp;&nbsp;a&nbsp;lot&nbsp;of&nbsp;forums&nbsp;and&nbsp;so&nbsp;&nbsp;on,&nbsp;with&nbsp;no&nbsp;result.&lt;br&gt;&lt;br&gt;This&nbsp;code,&nbsp;for&nbsp;example:&lt;br&gt;&lt;br&gt;&quot;&quot;&quot;&lt;br&gt;using&nbsp;System.IO;&lt;br&gt;using&nbsp;System.Web;&lt;br&gt;using&nbsp;System.Net;&lt;br&gt;using&nbsp;System;&lt;br&gt;&lt;br&gt;public&nbsp;class&nbsp;A&nbsp;{&nbsp;static&nbsp;void&nbsp;Main(){&lt;br&gt;&lt;br&gt;HttpListener&nbsp;listener&nbsp;=&nbsp;new&nbsp;HttpListener();&lt;br&gt;&lt;br&gt;/*&nbsp;Here&nbsp;is&nbsp;the&nbsp;important&nbsp;code&nbsp;*/&lt;br&gt;listener.AuthenticationSchemeSelectorDelegate&nbsp;+=&nbsp;delegate{&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;Console.WriteLine(&quot;Asking&nbsp;for&nbsp;authentication&nbsp;scheme&quot;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;AuthenticationSchemes.Basic;&lt;br&gt;};&lt;br&gt;&lt;br&gt;/*&nbsp;end&nbsp;of&nbsp;important&nbsp;code&nbsp;*/&lt;br&gt;&lt;br&gt;listener.Prefixes.Add(&quot;http://*:1234/&quot;);&lt;br&gt;listener.Start();&lt;br&gt;HttpListenerContext&nbsp;context&nbsp;=&nbsp;listener.GetContext();&lt;br&gt;HttpListenerRequest&nbsp;request&nbsp;=&nbsp;context.Request;&lt;br&gt;Console.WriteLine(&quot;Received:&nbsp;{0}&nbsp;{1}&nbsp;from&nbsp;{2}&quot;,request.HttpMethod,request.Url,request.RemoteEndPoint);&lt;br&gt;if(context.User&nbsp;==&nbsp;null){&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
&nbsp;Console.WriteLine(&quot;No&nbsp;user!&quot;);&lt;br&gt;}else{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Console.WriteLine(context.User.Identity&nbsp;==&nbsp;null);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;HttpListenerBasicIdentity&nbsp;identity&nbsp;=&nbsp;(HttpListenerBasicIdentity)context.User.Identity;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Console.WriteLine(&quot;Name&nbsp;=&nbsp;{0};&nbsp;password&nbsp;=&nbsp;{1}&quot;,identity.Name,identity.Password);&lt;br&gt;}&lt;br&gt;HttpListenerResponse&nbsp;response&nbsp;=&nbsp;context.Response;&lt;br&gt;string&nbsp;responseString&nbsp;=&nbsp;&quot;&amp;lt;HTML&amp;gt;&amp;lt;BODY&amp;gt;&nbsp;Hello&nbsp;world!&amp;lt;/BODY&amp;gt;&amp;lt;/HTML&amp;gt;&quot;;&lt;br&gt;byte[]&nbsp;buffer&nbsp;=&nbsp;System.Text.Encoding.UTF8.GetBytes(responseString);&lt;br&gt;response.ContentLength64&nbsp;=&nbsp;buffer.Length;&lt;br&gt;System.IO.Stream&nbsp;output&nbsp;=&nbsp;response.OutputStream;&lt;br&gt;output.Write(buffer,0,buffer.Length);&lt;br&gt;output.Close();&lt;br&gt;listener.Stop();&lt;br&gt;&lt;br&gt;}&nbsp;}&lt;br&gt;&quot;&quot;&quot;&lt;br&gt;&lt;br&gt;and&nbsp;entering&nbsp;in&nbsp;http://localhost:1234/&nbsp;returns&nbsp;the&nbsp;Hello&nbsp;World...&nbsp;but&nbsp;it&nbsp;never&nbsp;says&nbsp;&quot;Asking&nbsp;for&nbsp;authentication&nbsp;scheme&quot;&nbsp;and&nbsp;context.User&nbsp;is&nbsp;null.&nbsp;And&nbsp;I&nbsp;don't&nbsp;find&nbsp;any&nbsp;way&nbsp;to&nbsp;force&nbsp;the&nbsp;browser&nbsp;to&nbsp;ask&nbsp;for&nbsp;authentication.&nbsp;Neither&nbsp;even<br>
&nbsp;entering&nbsp;in&nbsp;http://user:sample@localhost:1234/&nbsp;helps.&lt;br&gt;&lt;br&gt;Replacing&nbsp;the&nbsp;&quot;important&nbsp;code&quot;&nbsp;by:&lt;br&gt;&quot;&quot;&quot;&lt;br&gt;listener.AuthenticationSchemes&nbsp;=&nbsp;AuthenticationSchemes.Basic;&lt;br&gt;&quot;&quot;&quot;&lt;br&gt;does&nbsp;have&nbsp;the&nbsp;same&nbsp;effect.&lt;br&gt;&lt;br&gt;Did&nbsp;anybody&nbsp;manage&nbsp;to&nbsp;make&nbsp;this&nbsp;work&nbsp;under&nbsp;Mono?&nbsp;Thank&nbsp;you&nbsp;very&nbsp;much.&lt;br&gt;&nbsp;&lt;br&gt;By&nbsp;the&nbsp;way,&nbsp;I'm&nbsp;running:&lt;br&gt;&quot;&quot;&quot;&lt;br&gt;$&nbsp;mcs&nbsp;--version&lt;br&gt;Mono&nbsp;C#&nbsp;compiler&nbsp;version&nbsp;1.2.2.1&lt;br&gt;$&nbsp;mono&nbsp;--version&lt;br&gt;Mono&nbsp;JIT&nbsp;compiler&nbsp;version&nbsp;1.2.2.1,&nbsp;(C)&nbsp;2002-2006&nbsp;Novell,&nbsp;Inc&nbsp;and&nbsp;Contributors.&nbsp;www.mono-project.com&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;TLS:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;normal&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;GC:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Included&nbsp;Boehm&nbsp;(with&nbsp;typed&nbsp;GC)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;SIGSEGV:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;normal&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Disabled:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;none&lt;br&gt;&quot;&quot;&quot;&lt;br&gt;from&nbsp;the&nbsp;Mono&nbsp;1.2.2.1<br>
&nbsp;generic&nbsp;Linux&nbsp;on&nbsp;x86&nbsp;installer.&lt;br&gt;&lt;p&gt;&amp;#32;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;hr&nbsp;size=1&gt;&lt;br&gt;&lt;font&nbsp;face=&quot;Verdana&quot;&nbsp;size=&quot;-2&quot;&gt;LLama&nbsp;Gratis&nbsp;a&nbsp;cualquier&nbsp;PC&nbsp;del&nbsp;Mundo.&lt;br&gt;Llamadas&nbsp;a&nbsp;fijos&nbsp;y&nbsp;móviles&nbsp;desde&nbsp;1&nbsp;céntimo&nbsp;por&nbsp;minuto.&lt;br&gt;&lt;a&nbsp;href=&quot;http://us.rd.yahoo.com/mail/es/tagline/messenger/*http://es.voice.yahoo.com/&quot;&gt;http://es.voice.yahoo.com&lt;/a&gt;&lt;/font&gt;
</tt>
