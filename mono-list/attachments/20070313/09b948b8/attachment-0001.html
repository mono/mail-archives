<tt>
Sabastien,&lt;br&gt;&lt;br&gt;I&nbsp;think&nbsp;the&nbsp;reason&nbsp;I&nbsp;submitted&nbsp;this&nbsp;to&nbsp;mono-list,&nbsp;is&nbsp;because&nbsp;my&nbsp;main&nbsp;question&nbsp;was&nbsp;with&nbsp;the&nbsp;compilation&nbsp;of&nbsp;mono,&nbsp;not&nbsp;to&nbsp;the&nbsp;bugs&nbsp;I&nbsp;was&nbsp;experiencing.&amp;nbsp;&nbsp;I&nbsp;think&nbsp;the&nbsp;bugs&nbsp;are&nbsp;from&nbsp;my&nbsp;custom&nbsp;installation,&nbsp;and&nbsp;I&nbsp;wanted&nbsp;to&nbsp;make&nbsp;sure&nbsp;I&nbsp;was&nbsp;doing&nbsp;these&nbsp;things&nbsp;right.<br>
&lt;br&gt;&lt;br&gt;&lt;br&gt;Test&nbsp;cases&nbsp;are&nbsp;hard&nbsp;to&nbsp;produce,&nbsp;because&nbsp;our&nbsp;codebase&nbsp;is&nbsp;rather&nbsp;large&nbsp;and&nbsp;tangled.&amp;nbsp;&nbsp;It&amp;#39;s&nbsp;also&nbsp;commercial&nbsp;.NET&nbsp;software,&nbsp;so&nbsp;I&nbsp;can&amp;#39;t&nbsp;just&nbsp;upload&nbsp;the&nbsp;source&nbsp;code&nbsp;somewhere...&amp;nbsp;&nbsp;It&nbsp;may&nbsp;take&nbsp;me&nbsp;a&nbsp;while,&nbsp;because&nbsp;there&amp;#39;s&nbsp;so&nbsp;much&nbsp;going&nbsp;on&nbsp;in&nbsp;our&nbsp;code&nbsp;right&nbsp;now.&amp;nbsp;&nbsp;I&amp;#39;ll&nbsp;get&nbsp;back&nbsp;on&nbsp;this.<br>
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;/span&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&nbsp;Additionally,&nbsp;for&nbsp;some&nbsp;of&nbsp;our&nbsp;code,&nbsp;we&nbsp;need&nbsp;to&nbsp;write&nbsp;to&nbsp;the&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&amp;gt;&nbsp;executing&nbsp;directory,&nbsp;which&nbsp;is&nbsp;actually&nbsp;mono...&lt;br&gt;&lt;br&gt;Well&nbsp;you&nbsp;shouldn&amp;#39;t&nbsp;be&nbsp;writing&nbsp;there&nbsp;;-)&nbsp;and&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;how&nbsp;you&nbsp;got&lt;br&gt;there&nbsp;(bad&nbsp;scripts&nbsp;?).&nbsp;You&nbsp;may&nbsp;have&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;*current*&nbsp;directory&lt;br&gt;(the&nbsp;one&nbsp;of&nbsp;the&nbsp;.exe&nbsp;you&amp;#39;re&nbsp;running)&nbsp;and&nbsp;this&nbsp;one&nbsp;may&nbsp;(or&nbsp;not)&nbsp;have&nbsp;the<br>
&lt;br&gt;required&nbsp;permissions&nbsp;to&nbsp;allow&nbsp;this.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;I&nbsp;can&nbsp;tell&nbsp;you&nbsp;exactly&nbsp;how&nbsp;I&amp;#39;m&nbsp;getting&nbsp;there.&amp;nbsp;&nbsp;Our&nbsp;licensing&nbsp;company&nbsp;requires&nbsp;that&nbsp;a&nbsp;.xml&nbsp;file&nbsp;be&nbsp;present&nbsp;in&nbsp;the&nbsp;same&nbsp;directory&nbsp;as&nbsp;the&nbsp;executing&nbsp;application&nbsp;at&nbsp;the&nbsp;time&nbsp;their&nbsp;API&nbsp;functions&nbsp;are&nbsp;called.&amp;nbsp;&nbsp;After&nbsp;many&nbsp;hours&nbsp;of&nbsp;debugging,&nbsp;I&nbsp;determined&nbsp;that&nbsp;the&nbsp;executing&nbsp;application&nbsp;was&nbsp;actually&nbsp;Mono&nbsp;instead&nbsp;of&nbsp;our&nbsp;.exe.&amp;nbsp;&nbsp;I&nbsp;have&nbsp;no&nbsp;control&nbsp;over&nbsp;that&nbsp;bit&nbsp;of&nbsp;API&nbsp;code,&nbsp;as&nbsp;we&amp;#39;re&nbsp;P/Invoking&nbsp;into&nbsp;it.&amp;nbsp;&nbsp;The&nbsp;linux&nbsp;libraries&nbsp;do,&nbsp;however,&nbsp;work&nbsp;fine.&amp;nbsp;&nbsp;I&nbsp;even&nbsp;contacted&nbsp;them&nbsp;and&nbsp;they&nbsp;told&nbsp;us&nbsp;&amp;quot;sorry,&nbsp;no&nbsp;other&nbsp;option&nbsp;than&nbsp;that&nbsp;.xml&nbsp;file&nbsp;in&nbsp;the&nbsp;same&nbsp;directory&amp;quot;.&amp;nbsp;&nbsp;Without&nbsp;that&nbsp;licensing,&nbsp;our&nbsp;software&nbsp;won&amp;#39;t&nbsp;run,&nbsp;so&nbsp;I&nbsp;think&nbsp;it&amp;#39;s&nbsp;major&nbsp;enough&nbsp;that&nbsp;we&nbsp;request&nbsp;write&nbsp;permission&nbsp;to&nbsp;those&nbsp;directories.<br>
&lt;br&gt;&lt;br&gt;Is&nbsp;this&nbsp;a&nbsp;HUGE&nbsp;security&nbsp;issue&nbsp;or&nbsp;something?&lt;br&gt;&amp;nbsp;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&amp;gt;&nbsp;Anyway,&nbsp;we&amp;#39;re&nbsp;bundling&nbsp;our&nbsp;own&nbsp;version&nbsp;of&nbsp;mono&nbsp;that&amp;#39;s&nbsp;the&nbsp;generic&nbsp;x86<br>
&lt;br&gt;&amp;gt;&nbsp;linux&nbsp;distribution.&amp;nbsp;&amp;nbsp;We&amp;#39;ve&nbsp;done&nbsp;a&nbsp;local&nbsp;install,&nbsp;and&nbsp;we&nbsp;have&nbsp;many&lt;br&gt;&amp;gt;&nbsp;scripts&nbsp;to&nbsp;run&nbsp;our&nbsp;program&nbsp;so&nbsp;it&nbsp;uses&nbsp;the&nbsp;supplied&nbsp;version&nbsp;of&nbsp;mono&nbsp;and&lt;br&gt;&amp;gt;&nbsp;configurations.&amp;nbsp;&amp;nbsp;The&nbsp;problem&nbsp;is,&nbsp;there&amp;#39;s&nbsp;some&nbsp;fixes&nbsp;in&nbsp;SVN&nbsp;we&amp;#39;d&nbsp;really<br>
&lt;br&gt;&amp;gt;&nbsp;like&nbsp;to&nbsp;have,&nbsp;and&nbsp;we&nbsp;don&amp;#39;t&nbsp;know&nbsp;how&nbsp;long&nbsp;before&nbsp;another&nbsp;official&lt;br&gt;&amp;gt;&nbsp;release&nbsp;will&nbsp;be.&amp;nbsp;&amp;nbsp;So,&nbsp;I&nbsp;compiled&nbsp;the&nbsp;SVN&nbsp;code&nbsp;with&nbsp;a&nbsp;prefix&nbsp;of&nbsp;our&lt;br&gt;&amp;gt;&nbsp;local&nbsp;installation,&nbsp;and&nbsp;just&nbsp;had&nbsp;it&nbsp;make&nbsp;install&nbsp;into&nbsp;that&nbsp;directory.<br>
&lt;br&gt;&amp;gt;&nbsp;Everything&nbsp;seemed&nbsp;fine&nbsp;at&nbsp;first,&nbsp;but&nbsp;I&nbsp;started&nbsp;noticing&nbsp;some&nbsp;issues&lt;br&gt;&amp;gt;&nbsp;with&nbsp;our&nbsp;MDI&nbsp;relating&nbsp;to&nbsp;X11.&amp;nbsp;&amp;nbsp;My&nbsp;question&nbsp;is,&nbsp;do&nbsp;I&nbsp;need&nbsp;to&nbsp;link&lt;br&gt;&amp;gt;&nbsp;everything&nbsp;differently,&nbsp;so&nbsp;it&amp;#39;s&nbsp;using&nbsp;the&nbsp;dependencies&nbsp;in&nbsp;our&nbsp;local<br>
&lt;br&gt;&amp;gt;&nbsp;installation&nbsp;instead&nbsp;of&nbsp;the&nbsp;ones&nbsp;installed&nbsp;by&nbsp;my&nbsp;distribution?&lt;br&gt;&lt;br&gt;Maybe&nbsp;not&nbsp;everything,&nbsp;but&nbsp;yes&nbsp;some&nbsp;things.&nbsp;For&nbsp;example(*)&nbsp;you&nbsp;must&lt;br&gt;ensure&nbsp;that&nbsp;the&nbsp;libgdiplus.so&nbsp;being&nbsp;loaded&nbsp;is&nbsp;the&nbsp;one&nbsp;that&nbsp;match&nbsp;the&lt;br&gt;<br>
System.Drawing.dll&nbsp;you&nbsp;use&nbsp;(on&nbsp;which&nbsp;System.Windows.Forms.dll&nbsp;depends).&lt;br&gt;If&nbsp;not&nbsp;then&nbsp;you&nbsp;may&nbsp;experience&nbsp;bugs,&nbsp;crash,&nbsp;rain,&nbsp;lost&nbsp;of&nbsp;sleep...&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;I&nbsp;will&nbsp;double&nbsp;check&nbsp;which&nbsp;libgdiplus.so&nbsp;it&amp;#39;s&nbsp;trying&nbsp;to&nbsp;load,&nbsp;but&nbsp;I<br>
compile&nbsp;libgdiplus&nbsp;with&nbsp;mono,&nbsp;and&nbsp;both&nbsp;binaries&nbsp;are&nbsp;installed&nbsp;in&nbsp;the<br>
prefix.&amp;nbsp;&amp;nbsp;&nbsp;I&amp;#39;m&nbsp;mostly&nbsp;worried&nbsp;about&nbsp;stuff&nbsp;like&nbsp;libpng,&nbsp;libungif,&nbsp;libpangosharpglue,&nbsp;libncurses,&nbsp;and&nbsp;other&nbsp;dependency&nbsp;packages.&amp;nbsp;&nbsp;I&nbsp;don&amp;#39;t&nbsp;want&nbsp;Mono&nbsp;to&nbsp;be&nbsp;looking&nbsp;for&nbsp;these&nbsp;already&nbsp;installed&nbsp;by&nbsp;the&nbsp;distro,&nbsp;and&nbsp;when&nbsp;I&nbsp;distribute&nbsp;the&nbsp;software,&nbsp;it&nbsp;errors&nbsp;out&nbsp;saying&nbsp;it&nbsp;can&amp;#39;t&nbsp;find&nbsp;them.&amp;nbsp;&nbsp;Will&nbsp;mono&nbsp;search&nbsp;the&nbsp;MONO_PREFIX/lib/&nbsp;folder&nbsp;at&nbsp;runtime&nbsp;if&nbsp;it&nbsp;can&amp;#39;t&nbsp;find&nbsp;the&nbsp;libraries&nbsp;elsewhere?&amp;nbsp;&nbsp;Will&nbsp;it&nbsp;check&nbsp;that&nbsp;first?<br>
&lt;br&gt;&lt;/div&gt;&amp;nbsp;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;The&nbsp;best&nbsp;way&nbsp;to&nbsp;find&nbsp;out&nbsp;is&nbsp;to&nbsp;try&nbsp;your&nbsp;code&nbsp;on&nbsp;a&nbsp;fully&nbsp;synchronized&lt;br&gt;mono&nbsp;version,&nbsp;<br>
e.g.&nbsp;SVN&nbsp;HEAD&nbsp;(both&nbsp;mono,&nbsp;mcs&nbsp;and&nbsp;libgdiplus).&nbsp;If&nbsp;it&nbsp;works&lt;br&gt;then&nbsp;it&amp;#39;s&nbsp;a&nbsp;result&nbsp;of&nbsp;your&nbsp;customized&nbsp;version,&nbsp;if&nbsp;not&nbsp;it&amp;#39;s&nbsp;probably&nbsp;a&lt;br&gt;regression&nbsp;(and&nbsp;a&nbsp;new&nbsp;bug&nbsp;report&nbsp;should&nbsp;be&nbsp;opened&nbsp;to&nbsp;ensure&nbsp;this&nbsp;is&lt;br&gt;fixed&nbsp;prior&nbsp;to&nbsp;the&nbsp;next&nbsp;official&nbsp;release).<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;Just&nbsp;tried&nbsp;with&nbsp;my&nbsp;synchronized&nbsp;version&nbsp;of&nbsp;SVN&nbsp;HEAD&nbsp;(r74177),&nbsp;and&nbsp;it&nbsp;performs&nbsp;the&nbsp;exact&nbsp;same&nbsp;behavior&nbsp;as&nbsp;I&amp;#39;m&nbsp;describing.&amp;nbsp;&nbsp;:/&lt;br&gt;&amp;nbsp;&lt;br&gt;Eric&nbsp;Morgan&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
