<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&#39;m&nbsp;embedding&nbsp;mono&nbsp;in&nbsp;a&nbsp;java&nbsp;app&nbsp;and&nbsp;when&nbsp;using&nbsp;gchandles&nbsp;it&#39;s&nbsp;obvious&nbsp;that&nbsp;memory&nbsp;is&nbsp;getting&nbsp;stomped&nbsp;on&nbsp;somehow.&nbsp; When&nbsp;I&nbsp;don&#39;t&nbsp;use&nbsp;gc&nbsp;handles,&nbsp;or&nbsp;just&nbsp;use&nbsp;gc&nbsp;handles&nbsp;within&nbsp;a&nbsp;single&nbsp;thread,&nbsp;everything&nbsp;is&nbsp;fine.&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;same&nbsp;gc&nbsp;handle&nbsp;is&nbsp;never&nbsp;accessed&nbsp;concurrently&nbsp;from&nbsp;different&nbsp;threads,&nbsp;although&nbsp;I&nbsp;do&nbsp;pass&nbsp;them&nbsp;around&nbsp;to&nbsp;different&nbsp;threads.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Reading/writing&nbsp;memory&nbsp;streams&nbsp;triggers&nbsp;the&nbsp;problem&nbsp;regularly,&nbsp;it&nbsp;usually&nbsp;segfaults&nbsp;in&nbsp;BlockCopy&nbsp;with&nbsp;various&nbsp;errors&nbsp;about&nbsp;the&nbsp;stream&nbsp;not&nbsp;containing&nbsp;the&nbsp;expected&nbsp;data,&nbsp;or&nbsp;sometimes&nbsp;division&nbsp;by&nbsp;zero.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;fairly&nbsp;sure&nbsp;the&nbsp;code&nbsp;that&nbsp;handles&nbsp;threading&nbsp;is&nbsp;not&nbsp;at&nbsp;fault,&nbsp;I&#39;m&nbsp;using&nbsp;Akka&nbsp;which&nbsp;has&nbsp;a&nbsp;well&nbsp;established&nbsp;concurrency&nbsp;model&nbsp;I&nbsp;don&#39;t&nbsp;explicitly&nbsp;create&nbsp;any&nbsp;threads&nbsp;myself.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;FYI&nbsp;I&nbsp;see&nbsp;this&nbsp;in&nbsp;mono&nbsp;2&nbsp;and&nbsp;the&nbsp;latest&nbsp;mono&nbsp;3&nbsp;from&nbsp;master.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;another&nbsp;technique&nbsp;I&nbsp;can&nbsp;use&nbsp;to&nbsp;keep&nbsp;a&nbsp;MonoObject&nbsp;around&nbsp;and&nbsp;keep&nbsp;the&nbsp;gc&nbsp;from&nbsp;collecting&nbsp;it&nbsp;without&nbsp;using&nbsp;gc&nbsp;handles?&nbsp; &nbsp;I&nbsp;was&nbsp;thinking&nbsp;of&nbsp;just&nbsp;having&nbsp;a&nbsp;thread&nbsp;safe&nbsp;dictionary&nbsp;in&nbsp;C#&nbsp;that&nbsp;keeps&nbsp;references&nbsp;to&nbsp;these&nbsp;objects,&nbsp;and&nbsp;just&nbsp;make&nbsp;all&nbsp;my&nbsp;calls&nbsp;into&nbsp;managed&nbsp;code&nbsp;via&nbsp;static&nbsp;methods&nbsp;that&nbsp;can&nbsp;get&nbsp;the&nbsp;object&nbsp;and&nbsp;call&nbsp;methods&nbsp;on&nbsp;it&nbsp;in&nbsp;C#.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Chris&lt;/div&gt;&lt;/div&gt;<br>

</tt>
