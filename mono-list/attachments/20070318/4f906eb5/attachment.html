<tt>
HI&nbsp;all:&lt;br&gt;&lt;br&gt;I&nbsp;was&nbsp;reading&nbsp;Ben&nbsp;Maurer&amp;#39;s&nbsp;comments&nbsp;in&lt;br&gt;mcs/class/corlib/System.Collections.Generic/List.cs&nbsp;::&nbsp;FindAll&nbsp;(Predicate):&lt;br&gt;&lt;div&nbsp;id=&quot;mb_0&quot;&gt;&lt;br&gt;&lt;pre&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#228b22&quot;&gt;//&nbsp;Maybe&nbsp;we&nbsp;could&nbsp;make&nbsp;this&nbsp;faster.&nbsp;For&nbsp;example,&nbsp;you&nbsp;could<br>
&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#228b22&quot;&gt;//&nbsp;make&nbsp;a&nbsp;bit&nbsp;set&nbsp;with&nbsp;stackalloc&nbsp;for&nbsp;which&nbsp;elements&nbsp;to&nbsp;copy&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#228b22&quot;&gt;//&nbsp;then&nbsp;you&nbsp;could&nbsp;size&nbsp;the&nbsp;array&nbsp;correctly.&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/pre&gt;I&nbsp;did&nbsp;some&nbsp;testing:<br>
&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.juancri.com/archivos/listfindall.cs.txt&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
http://www.juancri.com/archivos/listfindall.cs.txt&lt;/a&gt;&lt;br&gt;&lt;br&gt;Compile&nbsp;it&nbsp;with&nbsp;-unsafe.&lt;br&gt;&lt;br&gt;I&nbsp;think&nbsp;the&nbsp;Find2&nbsp;method&nbsp;is&nbsp;the&nbsp;correct&nbsp;one.&nbsp;These&nbsp;are&nbsp;my&nbsp;results:&lt;br&gt;&lt;br&gt;100&nbsp;initial&nbsp;items:&lt;br&gt;&lt;span&gt;<br>
&lt;div&gt;Old&nbsp;method:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;00:00:00.0170850:&nbsp;found&nbsp;96&nbsp;elements&lt;br&gt;stackalloc&nbsp;bool&nbsp;method:&nbsp;00:00:00.0005240:&nbsp;found&nbsp;96&nbsp;elements&lt;br&gt;stackalloc&nbsp;bit&nbsp;method:&nbsp;&nbsp;00:00:00.0012710:&nbsp;found&nbsp;96&nbsp;elements&lt;br&gt;bool&nbsp;array&nbsp;method:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;00:00:<br>
00.0013550:&nbsp;found&nbsp;96&nbsp;elements&lt;/div&gt;&lt;br&gt;&lt;br&gt;1,000&lt;/span&gt;&nbsp;initial&lt;span&gt;&nbsp;items:&lt;br&gt;&lt;/span&gt;&lt;span&gt;Old&nbsp;method:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;00:00:00.0191490:&nbsp;found&nbsp;492&nbsp;elements&lt;br&gt;stackalloc&nbsp;bool&nbsp;method:&nbsp;00:00:00.0006480:&nbsp;found&nbsp;492&nbsp;elements<br>
&lt;br&gt;stackalloc&nbsp;bit&nbsp;method:&nbsp;&nbsp;00:00:00.0016600:&nbsp;found&nbsp;492&nbsp;elements&lt;br&gt;bool&nbsp;array&nbsp;method:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;00:00:00.0009650:&nbsp;found&nbsp;492&nbsp;elements&lt;br&gt;&lt;br&gt;10,000&lt;/span&gt;&nbsp;initial&lt;span&gt;&nbsp;items:&lt;br&gt;&lt;/span&gt;&lt;span&gt;Old&nbsp;method:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;00:00:<br>
00.0146590:&nbsp;found&nbsp;6383&nbsp;elements&lt;br&gt;stackalloc&nbsp;bool&nbsp;method:&nbsp;00:00:00.0014510:&nbsp;found&nbsp;6383&nbsp;elements&lt;br&gt;stackalloc&nbsp;bit&nbsp;method:&nbsp;&nbsp;00:00:00.0023390:&nbsp;found&nbsp;6383&nbsp;elements&lt;br&gt;bool&nbsp;array&nbsp;method:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;00:00:00.0021090:&nbsp;found&nbsp;6383&nbsp;elements<br>
&lt;br&gt;&lt;br&gt;100,000&lt;/span&gt;&nbsp;initial&lt;span&gt;&nbsp;items:&lt;br&gt;&lt;/span&gt;&lt;span&gt;Old&nbsp;method:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;00:00:00.0264500:&nbsp;found&nbsp;40134&nbsp;elements&lt;br&gt;stackalloc&nbsp;bool&nbsp;method:&nbsp;00:00:00.0117350:&nbsp;found&nbsp;40134&nbsp;elements&lt;br&gt;stackalloc&nbsp;bit&nbsp;method:&nbsp;&nbsp;00:00:<br>
00.0135060:&nbsp;found&nbsp;40134&nbsp;elements&lt;br&gt;bool&nbsp;array&nbsp;method:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;00:00:00.0100860:&nbsp;found&nbsp;40134&nbsp;elements&lt;br&gt;&lt;br&gt;Do&nbsp;you&nbsp;have&nbsp;any&nbsp;comment?.&nbsp;I&nbsp;could&nbsp;send&nbsp;a&nbsp;patch...&lt;br&gt;&lt;br&gt;best&nbsp;regards&lt;br&gt;&lt;br&gt;Juan&nbsp;C.&nbsp;Olivares&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.juancri.com/&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
<br>
www.juancri.com&lt;/a&gt;&lt;br&gt;&lt;/span&gt;<br>
&lt;/div&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;<br>

</tt>
