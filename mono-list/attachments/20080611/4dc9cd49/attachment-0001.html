<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
FONT-SIZE:&nbsp;10pt;<br>
FONT-FAMILY:Tahoma<br>
}<br>
&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;Hi:&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;I&nbsp;have&nbsp;a&nbsp;question&nbsp;about&nbsp;the&nbsp;Web&nbsp;Services,&nbsp;and&nbsp;how&nbsp;it&nbsp;works&nbsp;on&nbsp;mono.&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
I&nbsp;have&nbsp;a&nbsp;WebServices&nbsp;(running&nbsp;in&nbsp;apache&nbsp;with&nbsp;mod_mono)&nbsp;that&nbsp;use&nbsp;MySqlConnector&nbsp;to&nbsp;connect&nbsp;mysql&nbsp;server&nbsp;on&nbsp;the&nbsp;same&nbsp;machine.&nbsp;Within&nbsp;this&nbsp;WS&nbsp;i&nbsp;make&nbsp;some&nbsp;operations&nbsp;(Insert's&nbsp;and&nbsp;update's)&nbsp;in&nbsp;a&nbsp;transaction&nbsp;operation.&nbsp;&lt;BR&gt;&lt;BR&gt;<br>
I'm&nbsp;consuming&nbsp;this&nbsp;WS&nbsp;with&nbsp;a&nbsp;GtkSharp&nbsp;app,&nbsp;this&nbsp;app&nbsp;calls&nbsp;the&nbsp;WS&nbsp;asynchronously,&nbsp;with&nbsp;CallBack.&nbsp;&lt;BR&gt;My&nbsp;Question&nbsp;is,&nbsp;if&nbsp;the&nbsp;services&nbsp;is&nbsp;aborted&nbsp;in&nbsp;the&nbsp;middle&nbsp;of&nbsp;the&nbsp;transaction,&nbsp;the&nbsp;transaction&nbsp;will&nbsp;be&nbsp;rolled&nbsp;back?&nbsp;Or&nbsp;not?&nbsp;I&nbsp;test&nbsp;it,&nbsp;and&nbsp;i&nbsp;think&nbsp;yes,&nbsp;but&nbsp;i&nbsp;need&nbsp;to&nbsp;know&nbsp;if&nbsp;always&nbsp;be&nbsp;rolled&nbsp;back,&nbsp;or&nbsp;maybe&nbsp;sometimes&nbsp;no.&nbsp;My&nbsp;doubt&nbsp;is&nbsp;that&nbsp;maybe&nbsp;if&nbsp;the&nbsp;operation&nbsp;has&nbsp;terminated&nbsp;the&nbsp;transaction&nbsp;but&nbsp;the&nbsp;services&nbsp;is&nbsp;not&nbsp;finished&nbsp;and&nbsp;services&nbsp;is&nbsp;aborted,&nbsp;the&nbsp;services&nbsp;will&nbsp;be&nbsp;aborted&nbsp;but&nbsp;the&nbsp;transaction&nbsp;will&nbsp;be&nbsp;commited.&nbsp;Is&nbsp;the&nbsp;connection&nbsp;(i&nbsp;use&nbsp;a&nbsp;Using&nbsp;statement)&nbsp;correctly&nbsp;disposed?&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
The&nbsp;WS&nbsp;method&nbsp;(pseudo-code)&nbsp;will&nbsp;be&nbsp;like&nbsp;this:&lt;BR&gt;&lt;BR&gt;[WebMethod()]&lt;BR&gt;<br>
public&nbsp;void&nbsp;TestAsync()&lt;BR&gt;<br>
{&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;using(MySqlConnection&nbsp;conn&nbsp;=&nbsp;new&nbsp;MySqlConnection(&quot;....ConnectionString...&quot;))&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;conn.Open();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;MySqlTransaction&nbsp;myTran&nbsp;=&nbsp;conn.BeginTransaction();&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;MySqlCommand&nbsp;cmd&nbsp;=&nbsp;new&nbsp;mySqlCommand();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;cmd.Transaction&nbsp;=&nbsp;myTran;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;cmd.&lt;FONT&nbsp;face=&quot;&quot;&nbsp;size=2&gt;CommandText&nbsp;=&nbsp;&quot;INSERT&nbsp;INTO&nbsp;SOME&nbsp;TABLE;&quot;&lt;/FONT&gt;&lt;BR&gt;<br>
&lt;FONT&nbsp;face=&quot;&quot;&nbsp;size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;cmd&lt;FONT&nbsp;face=&quot;&quot;&nbsp;size=2&gt;.ExecuteNonQuery();&lt;BR&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT&nbsp;face=&quot;&quot;&nbsp;size=2&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;If&nbsp;the&nbsp;abort&nbsp;call&nbsp;is&nbsp;in&nbsp;this&nbsp;moment,&nbsp;the&nbsp;transaction&nbsp;is&nbsp;rolled&nbsp;back?&nbsp;The&nbsp;connection&nbsp;is&nbsp;correctly&nbsp;disposed&nbsp;and&nbsp;closed?&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;MySqlCommand&nbsp;cmd2&nbsp;=&nbsp;new&nbsp;mySqlCommand();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;cmd2.Transaction&nbsp;=&nbsp;myTran;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;cmd2.&lt;FONT&nbsp;face=&quot;&quot;&nbsp;size=2&gt;CommandText&nbsp;=&nbsp;&quot;UPDATE&nbsp;SOME&nbsp;TABLE;&quot;&lt;/FONT&gt;&lt;BR&gt;<br>
&lt;FONT&nbsp;face=&quot;&quot;&nbsp;size=2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;cmd2&lt;FONT&nbsp;face=&quot;&quot;&nbsp;size=2&gt;.ExecuteNonQuery();&lt;BR&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/FONT&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&nbsp;If&nbsp;the&nbsp;abort&nbsp;call&nbsp;is&nbsp;at&nbsp;this&nbsp;moment&nbsp;the&nbsp;transaction&nbsp;is&nbsp;rolled&nbsp;back?&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;myTran.Commit();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&nbsp;If&nbsp;the&nbsp;abort&nbsp;call&nbsp;is&nbsp;at&nbsp;this&nbsp;moment&nbsp;the&nbsp;transaction&nbsp;is&nbsp;NOT&nbsp;rolled&nbsp;back?&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;conn.Close();&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&nbsp;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;//&nbsp;The&nbsp;Using&nbsp;Statement&nbsp;is&nbsp;executing&nbsp;the&nbsp;Dispose&nbsp;method&nbsp;if&nbsp;i&nbsp;call&nbsp;Abort()&nbsp;?&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
}&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
&amp;nbsp;&lt;BR&gt;<br>
Thanks&nbsp;a&nbsp;lot&nbsp;in&nbsp;advanced,&nbsp;i&nbsp;will&nbsp;really&nbsp;appreciate&nbsp;help.&lt;BR&gt;<br>
&lt;BR&gt;Luciano&lt;BR&gt;&lt;br&nbsp;/&gt;&lt;hr&nbsp;/&gt;Stop&nbsp;squinting&nbsp;--&nbsp;view&nbsp;your&nbsp;photos&nbsp;on&nbsp;your&nbsp;TV.&nbsp;&lt;a&nbsp;href='http://www.microsoft.com/windows/digitallife/default.mspx?deepLink=photos'&nbsp;target='_new'&gt;Learn&nbsp;more&lt;/a&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
