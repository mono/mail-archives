<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
FONT-SIZE:&nbsp;10pt;<br>
FONT-FAMILY:Tahoma<br>
}<br>
&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;Hi:&lt;BR&gt;<br>
Right,&nbsp;i&nbsp;didn't&nbsp;think&nbsp;that,&nbsp;but&nbsp;i&nbsp;was&nbsp;viewing&nbsp;the&nbsp;MySql&nbsp;Connector&nbsp;source&nbsp;code,&nbsp;and&nbsp;it&nbsp;actually&nbsp;do&nbsp;Nothing&nbsp;the&nbsp;Transaction&nbsp;finalizer&nbsp;(Dispose),&nbsp;i&nbsp;will&nbsp;use&nbsp;Using&nbsp;statement,&nbsp;but,&nbsp;probably&nbsp;is&nbsp;&quot;Always&quot;?&nbsp;:)&lt;BR&gt;If&nbsp;i&nbsp;call&nbsp;Abort()&nbsp;on&nbsp;the&nbsp;Gtk&nbsp;app,&nbsp;the&nbsp;services&nbsp;keep&nbsp;running&nbsp;but&nbsp;i&nbsp;lost&nbsp;the&nbsp;references&amp;nbsp;or&nbsp;WS&nbsp;receipt&nbsp;some&nbsp;type&nbsp;of&nbsp;&quot;Abort&nbsp;Signal&quot;&nbsp;and&nbsp;really&nbsp;abort&nbsp;the&nbsp;operation?&nbsp;when&nbsp;i&nbsp;get&nbsp;the&nbsp;&quot;WebException&quot;&nbsp;Exception,&nbsp;it&nbsp;is&nbsp;already&nbsp;aborted&nbsp;and&nbsp;rolled&nbsp;back?&nbsp;(Rolled&nbsp;back&nbsp;of&nbsp;course,&nbsp;if&nbsp;i&nbsp;call&nbsp;the&nbsp;abort,&nbsp;and&nbsp;the&nbsp;Transaction&nbsp;wasn't&nbsp;commited&nbsp;already)&lt;BR&gt;<br>
&lt;BR&gt;Thanks&lt;BR&gt;&lt;BR&gt;<br>
<br>
&lt;HR&nbsp;id=stopSpelling&gt;<br>
&lt;BR&gt;<br>
&amp;gt;&nbsp;Date:&nbsp;Wed,&nbsp;11&nbsp;Jun&nbsp;2008&nbsp;17:24:46&nbsp;+0200&lt;BR&gt;&amp;gt;&nbsp;From:&nbsp;rook@roo.k.pl&lt;BR&gt;&amp;gt;&nbsp;To:&nbsp;lnc19@hotmail.com&lt;BR&gt;&amp;gt;&nbsp;CC:&nbsp;mono-list@lists.ximian.com&lt;BR&gt;&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[Mono-list]&nbsp;Web&nbsp;Services&nbsp;asynchronously&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;Hi!&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;Most&nbsp;probably&nbsp;the&nbsp;transaction&nbsp;will&nbsp;be&nbsp;rolled&nbsp;back&nbsp;when&nbsp;myTran&nbsp;will&nbsp;be&nbsp;&lt;BR&gt;&amp;gt;&nbsp;finalized.&lt;BR&gt;&amp;gt;&nbsp;You&nbsp;should&nbsp;wrap&nbsp;myTrans,&nbsp;cmd,&nbsp;cmd2,&nbsp;etc&nbsp;with&nbsp;&quot;using&quot;&nbsp;so&nbsp;as&nbsp;not&nbsp;to&nbsp;be&nbsp;&lt;BR&gt;&amp;gt;&nbsp;dependent&nbsp;on&nbsp;the&nbsp;finalizer.&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;Cheers!&lt;BR&gt;&amp;gt;&nbsp;Micha³&nbsp;Ziemski&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;Luciano&nbsp;_&nbsp;pisze:&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Hi:&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;I&nbsp;have&nbsp;a&nbsp;question&nbsp;about&nbsp;the&nbsp;Web&nbsp;Services,&nbsp;and&nbsp;how&nbsp;it&nbsp;works&nbsp;on&nbsp;mono.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;I&nbsp;have&nbsp;a&nbsp;WebServices&nbsp;(running&nbsp;in&nbsp;apache&nbsp;with&nbsp;mod_mono)&nbsp;that&nbsp;use&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;MySqlConnector&nbsp;to&nbsp;connect&nbsp;mysql&nbsp;server&nbsp;on&nbsp;the&nbsp;same&nbsp;machine.&nbsp;Within&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;this&nbsp;WS&nbsp;i&nbsp;make&nbsp;some&nbsp;operations&nbsp;(Insert's&nbsp;and&nbsp;update's)&nbsp;in&nbsp;a&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;transaction&nbsp;operation.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;I'm&nbsp;consuming&nbsp;this&nbsp;WS&nbsp;with&nbsp;a&nbsp;GtkSharp&nbsp;app,&nbsp;this&nbsp;app&nbsp;calls&nbsp;the&nbsp;WS&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;asynchronously,&nbsp;with&nbsp;CallBack.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;My&nbsp;Question&nbsp;is,&nbsp;if&nbsp;the&nbsp;services&nbsp;is&nbsp;aborted&nbsp;in&nbsp;the&nbsp;middle&nbsp;of&nbsp;the&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;transaction,&nbsp;the&nbsp;transaction&nbsp;will&nbsp;be&nbsp;rolled&nbsp;back?&nbsp;Or&nbsp;not?&nbsp;I&nbsp;test&nbsp;it,&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;and&nbsp;i&nbsp;think&nbsp;yes,&nbsp;but&nbsp;i&nbsp;need&nbsp;to&nbsp;know&nbsp;if&nbsp;always&nbsp;be&nbsp;rolled&nbsp;back,&nbsp;or&nbsp;maybe&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;sometimes&nbsp;no.&nbsp;My&nbsp;doubt&nbsp;is&nbsp;that&nbsp;maybe&nbsp;if&nbsp;the&nbsp;operation&nbsp;has&nbsp;terminated&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;the&nbsp;transaction&nbsp;but&nbsp;the&nbsp;services&nbsp;is&nbsp;not&nbsp;finished&nbsp;and&nbsp;services&nbsp;is&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;aborted,&nbsp;the&nbsp;services&nbsp;will&nbsp;be&nbsp;aborted&nbsp;but&nbsp;the&nbsp;transaction&nbsp;will&nbsp;be&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;commited.&nbsp;Is&nbsp;the&nbsp;connection&nbsp;(i&nbsp;use&nbsp;a&nbsp;Using&nbsp;statement)&nbsp;correctly&nbsp;disposed?&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;The&nbsp;WS&nbsp;method&nbsp;(pseudo-code)&nbsp;will&nbsp;be&nbsp;like&nbsp;this:&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;[WebMethod()]&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;public&nbsp;void&nbsp;TestAsync()&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;{&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;using(MySqlConnection&nbsp;conn&nbsp;=&nbsp;new&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;MySqlConnection(&quot;....ConnectionString...&quot;))&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;{&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;conn.Open();&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;MySqlTransaction&nbsp;myTran&nbsp;=&nbsp;conn.BeginTransaction();&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;MySqlCommand&nbsp;cmd&nbsp;=&nbsp;new&nbsp;mySqlCommand();&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;cmd.Transaction&nbsp;=&nbsp;myTran;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;cmd.CommandText&nbsp;=&nbsp;&quot;INSERT&nbsp;INTO&nbsp;SOME&nbsp;TABLE;&quot;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;cmd.ExecuteNonQuery();&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;//&nbsp;If&nbsp;the&nbsp;abort&nbsp;call&nbsp;is&nbsp;in&nbsp;this&nbsp;moment,&nbsp;the&nbsp;transaction&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;is&nbsp;rolled&nbsp;back?&nbsp;The&nbsp;connection&nbsp;is&nbsp;correctly&nbsp;disposed&nbsp;and&nbsp;closed?&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;MySqlCommand&nbsp;cmd2&nbsp;=&nbsp;new&nbsp;mySqlCommand();&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;cmd2.Transaction&nbsp;=&nbsp;myTran;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;cmd2.CommandText&nbsp;=&nbsp;&quot;UPDATE&nbsp;SOME&nbsp;TABLE;&quot;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;cmd2.ExecuteNonQuery();&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;//&nbsp;If&nbsp;the&nbsp;abort&nbsp;call&nbsp;is&nbsp;at&nbsp;this&nbsp;moment&nbsp;the&nbsp;transaction&nbsp;is&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;rolled&nbsp;back?&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;myTran.Commit();&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;//&nbsp;If&nbsp;the&nbsp;abort&nbsp;call&nbsp;is&nbsp;at&nbsp;this&nbsp;moment&nbsp;the&nbsp;transaction&nbsp;is&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;NOT&nbsp;rolled&nbsp;back?&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;conn.Close();&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;}&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;//&nbsp;The&nbsp;Using&nbsp;Statement&nbsp;is&nbsp;executing&nbsp;the&nbsp;Dispose&nbsp;method&nbsp;if&nbsp;i&nbsp;call&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Abort()&nbsp;?&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;}&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Thanks&nbsp;a&nbsp;lot&nbsp;in&nbsp;advanced,&nbsp;i&nbsp;will&nbsp;really&nbsp;appreciate&nbsp;help.&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Luciano&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;------------------------------------------------------------------------&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Stop&nbsp;squinting&nbsp;--&nbsp;view&nbsp;your&nbsp;photos&nbsp;on&nbsp;your&nbsp;TV.&nbsp;Learn&nbsp;more&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&amp;lt;http://www.microsoft.com/windows/digitallife/default.mspx?deepLink=photos&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;------------------------------------------------------------------------&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;_______________________________________________&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Mono-list&nbsp;maillist&nbsp;-&nbsp;Mono-list@lists.ximian.com&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;http://lists.ximian.com/mailman/listinfo/mono-list&lt;BR&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;&lt;BR&gt;&amp;gt;&nbsp;_______________________________________________&lt;BR&gt;&amp;gt;&nbsp;Mono-list&nbsp;maillist&nbsp;-&nbsp;Mono-list@lists.ximian.com&lt;BR&gt;&amp;gt;&nbsp;http://lists.ximian.com/mailman/listinfo/mono-list&lt;BR&gt;&lt;BR&gt;&lt;br&nbsp;/&gt;&lt;hr&nbsp;/&gt;Get&nbsp;your&nbsp;fix&nbsp;of&nbsp;news,&nbsp;sports,&nbsp;entertainment&nbsp;and&nbsp;more&nbsp;on&nbsp;MSN&nbsp;Mobile&nbsp;&lt;a&nbsp;href='http://www.msnmobilefix.com/Default.aspx'&nbsp;target='_new'&gt;Get&nbsp;your&nbsp;fix&nbsp;now!&lt;/a&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
