--- /export/home/nerant/mybuild/src/orig/mono-1.1.8.1/mono/metadata/socket-io.c	Sun Jun 19 12:20:39 2005
+++ ./mono-1.1.8.1/mono/metadata/socket-io.c	Sun Jun 26 15:53:14 2005
@@ -1853,9 +1853,11 @@
 		return (ptr [0] == 127);
 	}
 #ifdef AF_INET6
+    #ifndef sun
 	else {
-		return (IN6_IS_ADDR_LOOPBACK (ptr));
+		return (IN6_IS_ADDR_LOOPBACK ((struct in6_addr *) ptr));
 	}
+    #endif
 #endif
 	return FALSE;
 }
