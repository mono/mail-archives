<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;Thanks&nbsp;Rodrigo&nbsp;and&nbsp;David,&nbsp;this&nbsp;was&nbsp;helpful,&nbsp;this&nbsp;points&nbsp;me&nbsp;to&nbsp;code&nbsp;that&nbsp;could&nbsp;be&nbsp;the&nbsp;issue.&nbsp;&nbsp;One&nbsp;concern,&nbsp;though,&nbsp;when&nbsp;I&nbsp;use&nbsp;kill&nbsp;-QUIT,&nbsp;my&nbsp;stack&nbsp;dump&nbsp;only&nbsp;shows&nbsp;4&nbsp;threads,&nbsp;but&nbsp;when&nbsp;I&nbsp;use&nbsp;top&nbsp;-H,&nbsp;I&nbsp;see&nbsp;many&nbsp;more&nbsp;(about&nbsp;20).&nbsp;&nbsp;Where&nbsp;are&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;threads&nbsp;listed?&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Apr&nbsp;9,&nbsp;2013,&nbsp;at&nbsp;12:41&nbsp;PM,&nbsp;Rodrigo&nbsp;Kumpera&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;You&nbsp;can&nbsp;try&nbsp;to&nbsp;use&nbsp;kill&nbsp;-QUIT&nbsp;to&nbsp;ask&nbsp;mono&nbsp;to&nbsp;produce&nbsp;a&nbsp;full&nbsp;stack&nbsp;dump&nbsp;to&nbsp;stderr.&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Apr&nbsp;9,&nbsp;2013&nbsp;at&nbsp;12:14&nbsp;PM,&nbsp;David&nbsp;Evans&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:devans@pacificbiosciences.com&quot;&nbsp;target=&quot;_blank&quot;&gt;devans@pacificbiosciences.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;I&nbsp;usually&nbsp;use&nbsp;&quot;top&nbsp;-H&quot;&nbsp;to&nbsp;get&nbsp;the&nbsp;thread&nbsp;id&nbsp;of&nbsp;the&nbsp;thread&nbsp;that&nbsp;is&nbsp;hogging&nbsp;the&nbsp;CPU.&nbsp;Then&nbsp;I&nbsp;use&nbsp;&quot;top&quot;&nbsp;to&nbsp;get&nbsp;the&nbsp;process&nbsp;id,&nbsp;then&nbsp;connect&nbsp;to&nbsp;that&nbsp;process&nbsp;using&nbsp;gdb&nbsp;and&nbsp;use&nbsp;&quot;info&nbsp;threads&quot;&nbsp;to&nbsp;find&nbsp;the&nbsp;thread&nbsp;number&nbsp;for&nbsp;the&nbsp;thread&nbsp;id&nbsp;that&nbsp;was&nbsp;hogging&nbsp;the&nbsp;CPU.&nbsp;Then&nbsp;I&nbsp;switch&nbsp;to&nbsp;that&nbsp;thread&nbsp;and&nbsp;back&nbsp;trace&nbsp;to&nbsp;see&nbsp;what&nbsp;it's&nbsp;doing,&nbsp;sometimes&nbsp;continuing&nbsp;and&nbsp;breaking&nbsp;a&nbsp;few&nbsp;times&nbsp;as&nbsp;a&nbsp;poor&nbsp;man's&nbsp;sample&nbsp;of&nbsp;different&nbsp;stack&nbsp;traces&nbsp;for&nbsp;what&nbsp;it's&nbsp;doing.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
There&nbsp;are&nbsp;probably&nbsp;better&nbsp;ways&nbsp;of&nbsp;doing&nbsp;this,&nbsp;but&nbsp;that's&nbsp;the&nbsp;simple&nbsp;approach&nbsp;I've&nbsp;used&nbsp;with&nbsp;gdb.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
-----Original&nbsp;Message-----&lt;br&gt;<br>
From:&nbsp;&lt;a&nbsp;href=&quot;mailto:mono-list-bounces@lists.ximian.com&quot;&gt;mono-list-bounces@lists.ximian.com&lt;/a&gt;&nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:mono-list-bounces@lists.ximian.com&quot;&gt;mono-list-bounces@lists.ximian.com&lt;/a&gt;]&nbsp;On&nbsp;Behalf&nbsp;Of&nbsp;Dave&nbsp;Curylo&lt;br&gt;<br>
<br>
Sent:&nbsp;Tuesday,&nbsp;April&nbsp;09,&nbsp;2013&nbsp;8:20&nbsp;AM&lt;br&gt;<br>
To:&nbsp;&lt;a&nbsp;href=&quot;mailto:mono-list@lists.ximian.com&quot;&gt;mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
Subject:&nbsp;[Mono-list]&nbsp;Determine&nbsp;what's&nbsp;using&nbsp;CPU&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;a&nbsp;process&nbsp;that&nbsp;sporadically&nbsp;becomes&nbsp;unresponsive&nbsp;and&nbsp;starts&nbsp;using&nbsp;a&nbsp;lot&nbsp;of&nbsp;CPU.&nbsp;&nbsp;Before&nbsp;I&nbsp;thought&nbsp;this&nbsp;was&nbsp;a&nbsp;GC&nbsp;issue,&nbsp;and&nbsp;switched&nbsp;to&nbsp;sgen,&nbsp;but&nbsp;the&nbsp;issue&nbsp;is&nbsp;still&nbsp;there.&nbsp;&nbsp;I've&nbsp;use&nbsp;gdb&nbsp;with&nbsp;&quot;thread&nbsp;apply&nbsp;all&nbsp;bk&quot;&nbsp;in&nbsp;the&nbsp;past,&nbsp;which&nbsp;pointed&nbsp;me&nbsp;to&nbsp;the&nbsp;GC&nbsp;issues,&nbsp;but&nbsp;now&nbsp;it&nbsp;appears&nbsp;GC&nbsp;isn't&nbsp;really&nbsp;the&nbsp;problem.&nbsp;&nbsp;Is&nbsp;there&nbsp;some&nbsp;other&nbsp;way&nbsp;to&nbsp;see&nbsp;what&nbsp;is&nbsp;causing&nbsp;the&nbsp;high&nbsp;CPU&nbsp;in&nbsp;gdb&nbsp;or&nbsp;is&nbsp;my&nbsp;only&nbsp;option&nbsp;to&nbsp;start&nbsp;the&nbsp;process&nbsp;with&nbsp;the&nbsp;mono&nbsp;profiler&nbsp;attached?&lt;br&gt;<br>
<br>
_______________________________________________&lt;br&gt;<br>
Mono-list&nbsp;maillist&nbsp;&nbsp;-&nbsp;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
<br>
_______________________________________________&lt;br&gt;<br>
Mono-list&nbsp;maillist&nbsp;&nbsp;-&nbsp;&nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
