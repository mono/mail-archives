<tt>
Mono&nbsp;support&nbsp;tail&nbsp;calls&nbsp;just&nbsp;like&nbsp;.NET&nbsp;does.&nbsp;And&nbsp;as&nbsp;such,&nbsp;have&nbsp;a&nbsp;peculiar&nbsp;set&nbsp;of&nbsp;constraints&lt;br&gt;where&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;work.&lt;br&gt;&lt;br&gt;F#&nbsp;is&nbsp;a&nbsp;particularly&nbsp;bad&nbsp;case&nbsp;as&nbsp;we&nbsp;don&amp;#39;t&nbsp;have&nbsp;implemented&nbsp;tail&nbsp;calls&nbsp;under&nbsp;generic&nbsp;sharing.&lt;br&gt;<br>
Try&nbsp;running&nbsp;with&nbsp;-O=-gshared,&nbsp;it&nbsp;should&nbsp;fix&nbsp;your&nbsp;issue.&lt;br&gt;&lt;br&gt;But&nbsp;please&nbsp;fill&nbsp;a&nbsp;bug&nbsp;report&nbsp;on&nbsp;that,&nbsp;I&amp;#39;m&nbsp;sure&nbsp;Mark&nbsp;will&nbsp;be&nbsp;glad&nbsp;to&nbsp;take&nbsp;a&nbsp;look&nbsp;at&nbsp;it.&nbsp;He&amp;#39;s&nbsp;our&nbsp;tailcall&nbsp;fan&nbsp;;)&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jan&nbsp;30,&nbsp;2009&nbsp;at&nbsp;10:38&nbsp;PM,&nbsp;Jon&nbsp;Harrop&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jon@ffconsultancy.com&quot;&gt;jon@ffconsultancy.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;br&gt;<br>
I&nbsp;had&nbsp;long&nbsp;since&nbsp;held&nbsp;the&nbsp;belief&nbsp;that&nbsp;Mono&nbsp;supports&nbsp;tail&nbsp;calls&nbsp;but&nbsp;when&nbsp;I&lt;br&gt;<br>
recently&nbsp;came&nbsp;to&nbsp;actually&nbsp;test&nbsp;that&nbsp;I&nbsp;discovered&nbsp;that&nbsp;Mono&nbsp;does&nbsp;not,&nbsp;in&nbsp;fact,&lt;br&gt;<br>
have&nbsp;tail&nbsp;calls.&lt;br&gt;<br>
&lt;br&gt;<br>
Specifically,&nbsp;I&nbsp;ran&nbsp;the&nbsp;following&nbsp;simple&nbsp;test&nbsp;code:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;let&nbsp;even&nbsp;odd&nbsp;n&nbsp;=&nbsp;odd(n+1)&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;let&nbsp;odd&nbsp;even&nbsp;n&nbsp;=&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;printf&nbsp;&amp;quot;%d\n&amp;quot;&nbsp;n&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;even(n+1)&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;let&nbsp;(_:&nbsp;int)&nbsp;=&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;let&nbsp;rec&nbsp;f&nbsp;n&nbsp;=&nbsp;even&nbsp;g&nbsp;n&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;and&nbsp;g&nbsp;n&nbsp;=&nbsp;odd&nbsp;f&nbsp;n&nbsp;in&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;f&nbsp;0&lt;br&gt;<br>
&lt;br&gt;<br>
That&nbsp;runs&nbsp;fine&nbsp;in&nbsp;OCaml&nbsp;and&nbsp;F#&nbsp;on&nbsp;.NET&nbsp;but&nbsp;it&nbsp;leaks&nbsp;stack&nbsp;space&nbsp;until&nbsp;it&nbsp;dies&lt;br&gt;<br>
on&nbsp;Mono&nbsp;because&nbsp;the&nbsp;tail&nbsp;calls&nbsp;are&nbsp;not&nbsp;handled&nbsp;properly.&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
Dr&nbsp;Jon&nbsp;Harrop,&nbsp;Flying&nbsp;Frog&nbsp;Consultancy&nbsp;Ltd.&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.ffconsultancy.com/?e&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.ffconsultancy.com/?e&lt;/a&gt;&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-list&nbsp;maillist&nbsp;&amp;nbsp;-&nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
