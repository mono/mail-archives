<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;TRANSITIONAL//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;CHARSET=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;META&nbsp;NAME=&quot;GENERATOR&quot;&nbsp;CONTENT=&quot;GtkHTML/3.26.0&quot;&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
Hi&nbsp;Gonzalo&lt;BR&gt;<br>
&lt;BR&gt;<br>
I&nbsp;did&nbsp;some&nbsp;tests&nbsp;on&nbsp;./mcs/class/System.Web/System.Web.UI/Control.cs&nbsp;and&nbsp;noticed&nbsp;if&nbsp;the&nbsp;TemplateSourceDirectory&nbsp;is&nbsp;empty,&nbsp;I&nbsp;get&nbsp;the&nbsp;crash.&lt;BR&gt;<br>
&lt;BR&gt;<br>
[EditorBrowsable&nbsp;(EditorBrowsableState.Advanced)]&lt;BR&gt;<br>
[Browsable&nbsp;(false)]&lt;BR&gt;<br>
[DesignerSerializationVisibility&nbsp;(DesignerSerializationVisibility.Hidden)]&lt;BR&gt;<br>
public&nbsp;string&nbsp;AppRelativeTemplateSourceDirectory&nbsp;{&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;get&nbsp;{&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;(_appRelativeTemplateSourceDirectory&nbsp;!=&nbsp;null)&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;_appRelativeTemplateSourceDirectory;&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;string&nbsp;tempSrcDir&nbsp;=&nbsp;null;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;TemplateControl&nbsp;templateControl&nbsp;=&nbsp;TemplateControl;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;(templateControl&nbsp;!=&nbsp;null)&nbsp;{&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;string&nbsp;templateVirtualPath&nbsp;=&nbsp;templateControl.AppRelativeVirtualPath;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;(!String.IsNullOrEmpty&nbsp;(templateVirtualPath))&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;tempSrcDir&nbsp;=&nbsp;VirtualPathUtility.GetDirectory&nbsp;(templateVirtualPath,&nbsp;false);&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;B&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;_appRelativeTemplateSourceDirectory&nbsp;=&nbsp;(tempSrcDir&nbsp;!=&nbsp;null)&nbsp;?&nbsp;tempSrcDir&nbsp;:&nbsp;VirtualPathUtility.ToAppRelative&nbsp;(TemplateSourceDirectory==string.Empty?&amp;quot;/&amp;quot;:TemplateSourceDirectory);&lt;/B&gt;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;_appRelativeTemplateSourceDirectory;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;[EditorBrowsable&nbsp;(EditorBrowsableState.Never)]&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;set&nbsp;{&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;_appRelativeTemplateSourceDirectory&nbsp;=&nbsp;value;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;_templateSourceDirectory&nbsp;=&nbsp;null;&lt;BR&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;BR&gt;<br>
}&lt;BR&gt;<br>
&lt;BR&gt;<br>
So,&nbsp;i&nbsp;added&nbsp;this&nbsp;line,&nbsp;which&nbsp;is&nbsp;probably&nbsp;not&nbsp;ok,&nbsp;but&nbsp;it&nbsp;works&nbsp;now.&nbsp;Im&nbsp;not&nbsp;sure&nbsp;what&nbsp;the&nbsp;TemplateSourceDirectory&nbsp;should&nbsp;be&nbsp;in&nbsp;this&nbsp;case.&nbsp;Do&nbsp;you&nbsp;have&nbsp;a&nbsp;suggestion?&lt;BR&gt;<br>
&lt;BR&gt;<br>
Cheers&lt;BR&gt;<br>
&lt;BR&gt;<br>
Peter&lt;BR&gt;<br>
&lt;BR&gt;<br>
On&nbsp;Mon,&nbsp;2009-07-20&nbsp;at&nbsp;00:02&nbsp;-0400,&nbsp;Gonzalo&nbsp;Paniagua&nbsp;Javier&nbsp;wrote:<br>
&lt;BLOCKQUOTE&nbsp;TYPE=CITE&gt;<br>
&lt;PRE&gt;<br>
On&nbsp;Sun,&nbsp;2009-07-19&nbsp;at&nbsp;18:40&nbsp;+0200,&nbsp;Peter&nbsp;Hagen&nbsp;wrote:<br>
&amp;gt;&nbsp;Hi&nbsp;Gonzalo<br>
&amp;gt;&nbsp;<br>
&amp;gt;&nbsp;well,&nbsp;i&nbsp;have&nbsp;a&nbsp;bit&nbsp;a&nbsp;problem&nbsp;of&nbsp;recreating&nbsp;the&nbsp;bug&nbsp;in&nbsp;a&nbsp;new&nbsp;project.&nbsp;&nbsp;<br>
&amp;gt;&nbsp;If&nbsp;i&nbsp;make&nbsp;a&nbsp;new&nbsp;project&nbsp;from&nbsp;MonoDevelop,&nbsp;it&nbsp;works&nbsp;as&nbsp;planned.&nbsp;But&nbsp;&nbsp;<br>
&amp;gt;&nbsp;inside&nbsp;my&nbsp;project&nbsp;it&nbsp;doesn't.&nbsp;But&nbsp;this&nbsp;is&nbsp;originally&nbsp;a&nbsp;1.1&nbsp;&nbsp;<br>
&amp;gt;&nbsp;application.&nbsp;Uploading&nbsp;the&nbsp;entire&nbsp;project&nbsp;isnt&nbsp;really&nbsp;an&nbsp;option.&nbsp;So,&nbsp;&nbsp;<br>
&amp;gt;&nbsp;ill&nbsp;try&nbsp;to&nbsp;figure&nbsp;out&nbsp;more&nbsp;about&nbsp;the&nbsp;project&nbsp;first&nbsp;:s<br>
<br>
If&nbsp;you&nbsp;can&nbsp;build&nbsp;System.Web&nbsp;from&nbsp;sources,&nbsp;sprinkle&nbsp;a&nbsp;few<br>
Console.WriteLine()&nbsp;in&nbsp;&nbsp;Contorl.AppRelativeTemplateSourceDirectory&nbsp;and<br>
ToAppRelative.&nbsp;That&nbsp;will&nbsp;at&nbsp;least&nbsp;tell&nbsp;you&nbsp;where&nbsp;the&nbsp;'null'&nbsp;is&nbsp;used&nbsp;for<br>
the&nbsp;first&nbsp;time.<br>
<br>
-Gonzalo<br>
<br>
<br>
_______________________________________________<br>
Mono-list&nbsp;maillist&nbsp;&nbsp;-&nbsp;&nbsp;&lt;A&nbsp;HREF=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/A&gt;<br>
&lt;A&nbsp;HREF=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/A&gt;<br>
&lt;/PRE&gt;<br>
&lt;/BLOCKQUOTE&gt;<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>

</tt>
