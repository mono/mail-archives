<tt>
There&amp;#39;s&nbsp;a&nbsp;compile&nbsp;time&nbsp;switch&nbsp;you&nbsp;need&nbsp;to&nbsp;enable&nbsp;so&nbsp;you&nbsp;have&nbsp;large&nbsp;array&nbsp;support&nbsp;I&nbsp;think.&nbsp;That&nbsp;means&nbsp;you&nbsp;need&nbsp;to&nbsp;pass&nbsp;this&nbsp;flag&nbsp;when&nbsp;compiling&nbsp;&amp;quot;--&lt;em&gt;enable&lt;/em&gt;-big-&lt;em&gt;arrays&amp;quot;&lt;br&gt;&lt;br&gt;Alan.&lt;br&gt;&lt;/em&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
On&nbsp;Wed,&nbsp;Dec&nbsp;10,&nbsp;2008&nbsp;at&nbsp;7:38&nbsp;AM,&nbsp;tiggger&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:prokopp@gmail.com&quot;&gt;prokopp@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;br&gt;<br>
Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;am&nbsp;running&nbsp;into&nbsp;an&nbsp;odd&nbsp;problem&nbsp;on&nbsp;a&nbsp;64bit&nbsp;Itanium&nbsp;system.&nbsp;I&nbsp;compiled&nbsp;mono&lt;br&gt;<br>
from&nbsp;tarball&nbsp;(v1.9.1)&nbsp;and&nbsp;ran&nbsp;into&nbsp;some&nbsp;memory&nbsp;problems&nbsp;which&nbsp;I&nbsp;pinned&nbsp;down&lt;br&gt;<br>
with&nbsp;a&nbsp;test&nbsp;program.&nbsp;When&nbsp;I&nbsp;try&nbsp;to&nbsp;create&nbsp;an&nbsp;array&nbsp;that&nbsp;is&nbsp;bigger&nbsp;than&nbsp;4gb&lt;br&gt;<br>
in&nbsp;size,&nbsp;e.g.&nbsp;a&nbsp;large&nbsp;double[,],&nbsp;I&nbsp;get&nbsp;an&nbsp;out&nbsp;of&nbsp;memory&nbsp;exception&nbsp;although&lt;br&gt;<br>
the&nbsp;system&nbsp;has&nbsp;far&nbsp;more&nbsp;memory.&nbsp;I&nbsp;tested&nbsp;if&nbsp;I&nbsp;am&nbsp;actually&nbsp;running&nbsp;in&nbsp;64bit&lt;br&gt;<br>
by&nbsp;checking&nbsp;the&nbsp;pointer&nbsp;size&nbsp;in&nbsp;the&nbsp;program&nbsp;and&nbsp;it&nbsp;is&nbsp;8&nbsp;bytes.&lt;br&gt;<br>
&lt;br&gt;<br>
Any&nbsp;help&nbsp;is&nbsp;welcome,&nbsp;thanks.&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&lt;br&gt;<br>
Christian&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
p.s.&nbsp;The&nbsp;test&nbsp;program:&lt;br&gt;<br>
&lt;br&gt;<br>
static&nbsp;void&nbsp;Main(string[]&nbsp;args)&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Console.WriteLine(&amp;quot;SizeOf&nbsp;IntPtr&nbsp;is:&nbsp;{0}&amp;quot;,&nbsp;IntPtr.Size);&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;int&nbsp;iRows&nbsp;=&nbsp;35750;&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;int&nbsp;iCols&nbsp;=&nbsp;15000;&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;long&nbsp;bytes&nbsp;=&nbsp;0;&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;try&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;while&nbsp;(iRows&nbsp;&amp;lt;&nbsp;37000)&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;bytes&nbsp;=&nbsp;(long)iRows&nbsp;*&nbsp;(long)iCols&nbsp;*&nbsp;(long)sizeof(double);&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;double[,]&nbsp;Dbl&nbsp;=&nbsp;new&nbsp;double[iRows,&nbsp;iCols];&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Dbl[0,&nbsp;0]&nbsp;=&nbsp;0;&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Console.WriteLine(Convert.ToString(bytes&nbsp;/&nbsp;(1024&nbsp;*&nbsp;1024))&lt;br&gt;<br>
+&nbsp;&amp;quot;MB&nbsp;allocated&nbsp;or&nbsp;double[&amp;quot;&nbsp;+&nbsp;iRows&nbsp;+&nbsp;&amp;quot;,&amp;quot;&nbsp;+&nbsp;iCols&nbsp;+&nbsp;&amp;quot;]&amp;quot;);&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;iRows&nbsp;+=&nbsp;250;&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;GC.Collect(2);&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;catch&nbsp;(OutOfMemoryException&nbsp;e)&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Console.WriteLine(&amp;quot;Unable&nbsp;to&nbsp;allocate:&nbsp;&amp;quot;&nbsp;+&lt;br&gt;<br>
Convert.ToString(bytes&nbsp;/&nbsp;(1024&nbsp;*&nbsp;1024))&nbsp;+&nbsp;&amp;quot;MB&nbsp;or&nbsp;double[&amp;quot;&nbsp;+&nbsp;iRows&nbsp;+&nbsp;&amp;quot;,&amp;quot;&nbsp;+&lt;br&gt;<br>
iCols&nbsp;+&nbsp;&amp;quot;]&amp;quot;);&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Console.WriteLine(e.Message);&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://www.nabble.com/Problems-with-arrays-over-4gb-on-64-bit-Itanium-tp20930391p20930391.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.nabble.com/Problems-with-arrays-over-4gb-on-64-bit-Itanium-tp20930391p20930391.html&lt;/a&gt;&lt;br&gt;<br>
<br>
Sent&nbsp;from&nbsp;the&nbsp;Mono&nbsp;-&nbsp;General&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Mono-list&nbsp;maillist&nbsp;&amp;nbsp;-&nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;mailto:Mono-list@lists.ximian.com&quot;&gt;Mono-list@lists.ximian.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
