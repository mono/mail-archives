<tt>
Hello&nbsp;gurus,&lt;br&gt;&lt;br&gt;This&nbsp;is&nbsp;Mono&nbsp;2.6.7&nbsp;Ubuntu&nbsp;&lt;br&gt;&lt;br&gt;Problem:&lt;br&gt;   &nbsp;I&nbsp;<br>
cannot&nbsp;connect&nbsp;to&nbsp;https&nbsp;pages&nbsp;(using&nbsp;HttpWebRequest)&nbsp;from&nbsp;MONO&nbsp;ASP&nbsp;and&nbsp;I<br>
&nbsp;cannot&nbsp;(well,&nbsp;maybe&nbsp;I&amp;#39;m&nbsp;not&nbsp;doing&nbsp;it&nbsp;right)&nbsp;display&nbsp;installed&nbsp;x509&nbsp;<br>
certs.&lt;br&gt;<br>
&lt;br&gt;Error&nbsp;message:&lt;br&gt;   &nbsp;Failed&nbsp;to&nbsp;submit&nbsp;to&nbsp;&lt;a&nbsp;href=&quot;http://encrypted.google.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;encrypted.google.com&lt;/a&gt;<br>
&nbsp;form&nbsp;System.Net.WebException:&nbsp;Error&nbsp;getting&nbsp;response&nbsp;stream&nbsp;(Write:&nbsp;The<br>
&nbsp;authentication&nbsp;or&nbsp;decryption&nbsp;has&nbsp;failed.):&nbsp;SendFailure&nbsp;---&amp;gt;&nbsp;<br>
System.IO.IOException:&nbsp;The&nbsp;authentication&nbsp;or&nbsp;decryption&nbsp;has&nbsp;failed.&nbsp;<br>
---&amp;gt;&nbsp;Mono.Security.Protocol.Tls.&lt;div&nbsp;id=&quot;:ze&quot;&gt;TlsException:&nbsp;Invalid&nbsp;certificate&nbsp;received&nbsp;from&nbsp;server.&nbsp;Error&nbsp;code:&nbsp;0xffffffff800b010a&lt;br&gt;<br>
&lt;br&gt;Extra&nbsp;info:&lt;br&gt;1.&nbsp;I&nbsp;restarted&nbsp;mono&nbsp;several&nbsp;times.&nbsp;&lt;br&gt;2.&nbsp;If&nbsp;I&nbsp;provide&nbsp;my&nbsp;own&nbsp;ServicePointManager.ServerCertificateValidationCallback&nbsp;validator&nbsp;and&nbsp;return&nbsp;true,&nbsp;the&nbsp;handshake&nbsp;goes&nbsp;through.&lt;br&gt;3.&nbsp;Connecting&nbsp;to&nbsp;example&nbsp;pages&nbsp;(paypal,&nbsp;google&nbsp;etc)&nbsp;from&nbsp;my&nbsp;Firefox&nbsp;doesn&amp;#39;t&nbsp;show&nbsp;any&nbsp;issues.&lt;br&gt;<br>
<br>
4.&nbsp;Connecting&nbsp;to&nbsp;various&nbsp;pages&nbsp;with&nbsp;http://&nbsp;(not&nbsp;s)&nbsp;works&nbsp;fine.&lt;br&gt;5.&nbsp;I&nbsp;imported&nbsp;the&nbsp;std&nbsp;root&nbsp;certs&nbsp;with&nbsp;mozroots:&lt;br&gt;&lt;br&gt;         &nbsp;$sudo&nbsp;mozroots&nbsp;--import&nbsp;--machine&nbsp;--sync&lt;br&gt;         &nbsp;Mozilla&nbsp;Roots&nbsp;Importer&nbsp;-&nbsp;version&nbsp;2.6.7.0&lt;br&gt;<br>
<br>
         &nbsp;Download&nbsp;and&nbsp;import&nbsp;trusted&nbsp;root&nbsp;certificates&nbsp;from&nbsp;Mozilla&amp;#39;s&nbsp;LXR.&lt;br&gt;         &nbsp;Copyright&nbsp;2002,&nbsp;2003&nbsp;Motus&nbsp;Technologies.&nbsp;Copyright&nbsp;2004-2008&nbsp;Novell.&nbsp;BSD&nbsp;licensed.&lt;br&gt;         &nbsp;&lt;br&gt;         &nbsp;Downloading&nbsp;from&nbsp;&amp;#39;&lt;a&nbsp;href=&quot;http://lxr.mozilla.org/seamonkey/source/security/nss/lib/ckfw/builtins/certdata.txt%27.&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lxr.mozilla.org/seamonkey/source/security/nss/lib/ckfw/builtins/certdata.txt&amp;#39;.&lt;/a&gt;..&lt;br&gt;<br>
<br>
         &nbsp;Importing&nbsp;certificates&nbsp;into&nbsp;machine&nbsp;store...&lt;br&gt;         &nbsp;140&nbsp;new&nbsp;root&nbsp;certificates&nbsp;were&nbsp;added&nbsp;to&nbsp;your&nbsp;trust&nbsp;store.&lt;br&gt;         &nbsp;Import&nbsp;process&nbsp;completed.&lt;br&gt;&lt;br&gt;I&nbsp;can&nbsp;see&nbsp;the&nbsp;certs&nbsp;are&nbsp;there:&lt;br&gt;         &nbsp;$ls&nbsp;/usr/share/.mono/certs/Trust&nbsp;|&nbsp;wc&nbsp;-l&lt;br&gt;<br>
<br>
         &nbsp;140&lt;br&gt;&lt;br&gt;&lt;br&gt;I&nbsp;tried&nbsp;to&nbsp;look&nbsp;at&nbsp;the&nbsp;installed&nbsp;certs&nbsp;but&nbsp;I&nbsp;always&nbsp;get&nbsp;Count&nbsp;=&nbsp;0:&lt;br&gt;&lt;br&gt;           &nbsp;X509Store&nbsp;storeMachine&nbsp;=&nbsp;new&nbsp;X509Store(StoreLocation.LocalMachine);<br>
//I&nbsp;also&nbsp;tried&nbsp;StoreLocation.CurrentUser&nbsp;also&nbsp;with&nbsp;no&nbsp;success.&nbsp;&lt;br&gt;           &nbsp;storeMachine.Open(OpenFlags.ReadOnly);<br>
//BTW.&nbsp;Is&nbsp;this&nbsp;necessary&nbsp;at&nbsp;all?&lt;br&gt; &lt;br&gt;           &nbsp;X509Certificate2Collection&nbsp;storecollection2&nbsp;=&nbsp;(X509Certificate2Collection)storeMachine.Certificates;<br>
&lt;br&gt;           &nbsp;Console.WriteLine(&amp;quot;Number&nbsp;of&nbsp;X509&nbsp;certs&nbsp;Machine:&nbsp;{0}&amp;quot;,&nbsp;storecollection2.Count);<br>
&lt;br&gt;           &nbsp;foreach&nbsp;(X509Certificate2&nbsp;x509&nbsp;in&nbsp;storecollection2)<br>
&lt;br&gt;           &nbsp;{<br>
&lt;br&gt;               &nbsp;Console.WriteLine(&amp;quot;certificate&nbsp;name:&nbsp;{0}&amp;quot;,&nbsp;x509.Subject);<br>
&lt;br&gt;           &nbsp;}&lt;br&gt;&lt;br&gt;&lt;br&gt;Thanks&nbsp;in&nbsp;advance&nbsp;for&nbsp;any&nbsp;help&lt;/div&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Tymek&nbsp;Majewski&lt;br&gt;Software&nbsp;Developer&lt;br&gt;NearMap.com&lt;br&gt;&lt;br&gt;<br>

</tt>
