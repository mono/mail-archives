<tt>
&lt;p&gt;<br>
Hello&nbsp;Veerapuram,&lt;/p&gt;&lt;p&gt;Thank&nbsp;you&nbsp;for&nbsp;such&nbsp;a&nbsp;swift&nbsp;fix!!&nbsp;This&nbsp;will&nbsp;really&nbsp;help<br>
me&nbsp;out.&lt;/p&gt;&lt;p&gt;Sorry&nbsp;for&nbsp;acting&nbsp;like&nbsp;a&nbsp;noob&nbsp;here,&nbsp;but&nbsp;can&nbsp;I&nbsp;get&nbsp;a&nbsp;diff&nbsp;from&nbsp;you<br>
with&nbsp;the&nbsp;vannila&nbsp;1.9&nbsp;source&nbsp;tree,&nbsp;or&nbsp;should&nbsp;I&nbsp;just&nbsp;grab&nbsp;the&nbsp;latest&nbsp;out&nbsp;of&nbsp;the<br>
1.9&nbsp;branch?&nbsp;Or&nbsp;if&nbsp;not,&nbsp;can&nbsp;you&nbsp;please&nbsp;let&nbsp;me&nbsp;know&nbsp;what&nbsp;files&nbsp;have&nbsp;changed,&nbsp;so<br>
that&nbsp;I&nbsp;can&nbsp;diff&nbsp;it&nbsp;myself?&lt;/p&gt;&lt;p&gt;Regards,&lt;/p&gt;&lt;p&gt;Mark.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;br&nbsp;/&gt;<br>
Quoting&nbsp;Veerapuram&nbsp;Varadhan&nbsp;&amp;lt;vvaradhan@novell.com&amp;gt;:&lt;br&nbsp;/&gt;<br>
&lt;br&nbsp;/&gt;<br>
&amp;gt;&nbsp;Hi&nbsp;Mark,&lt;br&nbsp;/&gt;<br>
&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&nbsp;Thanks&nbsp;for&nbsp;the&nbsp;detailed&nbsp;bug&nbsp;report&nbsp;and&nbsp;the&nbsp;test&nbsp;program. &nbsp;Mark,&nbsp;myself&lt;br<br>
/&gt;<br>
&amp;gt;&nbsp;and&nbsp;Nagappan&nbsp;had&nbsp;offline&nbsp;discussions&nbsp;on&nbsp;how&nbsp;to&nbsp;narrow&nbsp;down&nbsp;the&nbsp;issue&nbsp;and&lt;br<br>
/&gt;<br>
&amp;gt;&nbsp;it&nbsp;stands&nbsp;fixed&nbsp;as&nbsp;of&nbsp;rev#&nbsp;101411&nbsp;and&nbsp;101414&nbsp;in&nbsp;mono-1-9&nbsp;branch.&lt;br&nbsp;/&gt;<br>
&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&nbsp;His&nbsp;detailed&nbsp;bug&nbsp;report&nbsp;is&nbsp;here:&lt;br&nbsp;/&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;target=&quot;_blank&quot;<br>
href=&quot;https://bugzilla.novell.com/show_bug.cgi?id=381151&quot;&gt;https://bugzilla.novell.com/show_bug.cgi?id=381151&lt;/a&gt;&lt;br<br>
/&gt;<br>
&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&nbsp;Revert&nbsp;back&nbsp;in&nbsp;case&nbsp;of&nbsp;any&nbsp;regression&nbsp;or&nbsp;new&nbsp;bugs.&lt;br&nbsp;/&gt;<br>
&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&nbsp;Thanks,&lt;br&nbsp;/&gt;<br>
&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&nbsp;V.&nbsp;Varadhan&lt;br&nbsp;/&gt;<br>
&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&nbsp;On&nbsp;Wed,&nbsp;2008-04-02&nbsp;at&nbsp;12:12&nbsp;-0500,&nbsp;Mark&nbsp;Gimelfarb&nbsp;wrote:&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;Hello,&nbsp;all!&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;get&nbsp;some&nbsp;feedback&nbsp;from&nbsp;the&nbsp;list&nbsp;before&nbsp;writing&nbsp;up&nbsp;a&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;bug&nbsp;on&nbsp;Bugzilla.&nbsp;I&nbsp;apologize&nbsp;for&nbsp;the&nbsp;lengthy&nbsp;post&nbsp;beforehand,&nbsp;but&nbsp;I&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;wanted&nbsp;to&nbsp;get&nbsp;as&nbsp;much&nbsp;detail&nbsp;in&nbsp;as&nbsp;I&nbsp;can&nbsp;to&nbsp;make&nbsp;it&nbsp;useful&nbsp;without&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;having&nbsp;to&nbsp;go&nbsp;back&nbsp;and&nbsp;forth&nbsp;on&nbsp;the&nbsp;list.&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;We've&nbsp;converted&nbsp;an&nbsp;Asterisk.Net-based&nbsp;set&nbsp;of&nbsp;C#&nbsp;IVR&nbsp;code&nbsp;to&nbsp;run&nbsp;on&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;Linux.&nbsp;The&nbsp;code&nbsp;was &nbsp;written&nbsp;using&nbsp;VS2k5&nbsp;and&nbsp;.NET&nbsp;2.0.&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;Asterisk.Net&nbsp;has&nbsp;been&nbsp;modified&nbsp;to&nbsp;run&nbsp;as&nbsp;a&nbsp;daemon&nbsp;and&nbsp;to&nbsp;respond&nbsp;to&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;each&nbsp;incoming&nbsp;connection&nbsp;by&nbsp;spawning&nbsp;a&nbsp;thread,&nbsp;which&nbsp;will&nbsp;then<br>
access&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;MS&nbsp;SQL&nbsp;Server&nbsp;and&nbsp;query&nbsp;some&nbsp;data&nbsp;from&nbsp;it,&nbsp;processing&nbsp;it,&nbsp;and&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;returning&nbsp;a&nbsp;resulting&nbsp;AGI&nbsp;command&nbsp;back&nbsp;to&nbsp;Asterisk.&nbsp;All&nbsp;commands&nbsp;and&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;responses&nbsp;are&nbsp;text-based,&nbsp;and&nbsp;Asterisk.Net&nbsp;has&nbsp;no&nbsp;dependencies&nbsp;on<br>
any&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;libraries&nbsp;other&nbsp;than&nbsp;mono&nbsp;runtime&nbsp;and&nbsp;standard&nbsp;class&nbsp;libs.&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;The&nbsp;current&nbsp;Linux&nbsp;set&nbsp;up&nbsp;is&nbsp;Mandriva&nbsp;2007.0&nbsp;with&nbsp;mono&nbsp;1.2.3.1&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;accessing&nbsp;MS&nbsp;SQL&nbsp;Server&nbsp;2000&nbsp;SP4&nbsp;running&nbsp;on&nbsp;a&nbsp;W2k3&nbsp;box.&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;The&nbsp;process&nbsp;starts&nbsp;by&nbsp;issuing&nbsp;a&nbsp;SELECT&nbsp;query&nbsp;with&nbsp;a&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;DataAdapter.Fill(),&nbsp;which&nbsp;returns&nbsp;results&nbsp;just&nbsp;fine.&nbsp;However,&nbsp;a&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;subsequent&nbsp;call&nbsp;to&nbsp;a&nbsp;stored&nbsp;procedure&nbsp;which&nbsp;uses&nbsp;INSERT&nbsp;followed&nbsp;by&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;SELECT&nbsp;returns&nbsp;no&nbsp;rows&nbsp;(which&nbsp;causes<br>
System.IndexOutOfRangeException:&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;There&nbsp;is&nbsp;no&nbsp;row&nbsp;at&nbsp;position&nbsp;0.&nbsp;exception&nbsp;while&nbsp;trying&nbsp;to&nbsp;iterate&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;through&nbsp;the&nbsp;DataRow&nbsp;collection&nbsp;coming&nbsp;back&nbsp;from&nbsp;Fill()'ed&nbsp;DataTable<br>
).&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;We&nbsp;are&nbsp;using&nbsp;DataAdapter.Fill()&nbsp;from&nbsp;SqlClient&nbsp;to&nbsp;return&nbsp;the&nbsp;data<br>
back&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;to&nbsp;the&nbsp;calling&nbsp;code.&nbsp;There&nbsp;could&nbsp;be&nbsp;as&nbsp;much&nbsp;as&nbsp;a&nbsp;week&nbsp;between&nbsp;errors&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;or&nbsp;just&nbsp;one&nbsp;day&nbsp;or&nbsp;even&nbsp;one&nbsp;hour.&nbsp;The&nbsp;traffic&nbsp;does&nbsp;get&nbsp;heavy&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;sometimes,&nbsp;depending&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;simultaneous&nbsp;calls,&nbsp;but&nbsp;load&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;doesn't&nbsp;always&nbsp;seem&nbsp;to&nbsp;be&nbsp;the&nbsp;issue,&nbsp;as&nbsp;we&nbsp;get&nbsp;the&nbsp;error&nbsp;below&nbsp;even<br>
in&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;relatively&nbsp;low-load&nbsp;conditions.&nbsp;After&nbsp;we&nbsp;received&nbsp;the&nbsp;error&nbsp;10&nbsp;or&nbsp;20&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;times&nbsp;in&nbsp;a&nbsp;row,&nbsp;everything&nbsp;seems&nbsp;to&nbsp;come&nbsp;back&nbsp;to&nbsp;normal&nbsp;for&nbsp;a&nbsp;while.&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;This&nbsp;error&nbsp;doesn't&nbsp;occur&nbsp;on&nbsp;Windows&nbsp;under&nbsp;.NET&nbsp;2.0&nbsp;with&nbsp;exactly&nbsp;same&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;code.&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;Here's&nbsp;a&nbsp;snippet&nbsp;of&nbsp;the&nbsp;stack&nbsp;trace:&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;Channel&nbsp;[Zap/1-1]&nbsp;[04/02&nbsp;10:48:05]&nbsp;Exception&nbsp;caught:&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;System.IndexOutOfRangeException:&nbsp;There&nbsp;is&nbsp;no&nbsp;row&nbsp;at&nbsp;position&nbsp;0.&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt; &nbsp; at&nbsp;System.Data.DataRowCollection.get_Item&nbsp;(Int32&nbsp;index)<br>
[0x00040]&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;in &nbsp;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;<br>
/home/mandrake/rpm/BUILD/mono-1.2.3.1/mcs/class/System.Data/System.Data/DataRowCollection.cs:78&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt; &nbsp; at&nbsp;Asterisk.NET.FastAGI.Scripts.myRSCIVR.IVRNewCall<br>
(System.String&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;pcCaller,&nbsp;System.String&nbsp;pcCallee)&nbsp;[0x00066]&nbsp;in&nbsp;[.....]myfile.cs:372&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;I&nbsp;omitted&nbsp;the&nbsp;non-relevant&nbsp;path&nbsp;to&nbsp;our&nbsp;code&nbsp;with&nbsp;[...]&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;The&nbsp;bottom&nbsp;of&nbsp;the&nbsp;stack&nbsp;is&nbsp;our&nbsp;code&nbsp;trying&nbsp;to&nbsp;iterate&nbsp;through&nbsp;the&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;DataTable's&nbsp;DataRows&nbsp;coming&nbsp;back&nbsp;from&nbsp;Fill().&nbsp;There&nbsp;should&nbsp;always&nbsp;be&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;data&nbsp;coming&nbsp;back,&nbsp;as&nbsp;INSERT&nbsp;succeeds&nbsp;every&nbsp;time,&nbsp;even&nbsp;if&nbsp;we&nbsp;get&nbsp;a&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;subsequent&nbsp;error.&nbsp;It's&nbsp;the&nbsp;SELECT&nbsp;that&nbsp;returns&nbsp;nothing&nbsp;back&nbsp;(Note,&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;it's&nbsp;not&nbsp;that&nbsp;it&nbsp;returns&nbsp;a&nbsp;row&nbsp;with&nbsp;NULLs,&nbsp;it&nbsp;returns&nbsp;no&nbsp;rows&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;whatsoever--an&nbsp;empty&nbsp;DataTable).&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;Before&nbsp;I&nbsp;submit&nbsp;the&nbsp;Bugzilla&nbsp;report&nbsp;I&nbsp;would&nbsp;like&nbsp;the&nbsp;list's&nbsp;opinion<br>
on&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;the&nbsp;following:&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;1)&nbsp;Has&nbsp;anyone&nbsp;had&nbsp;this&nbsp;problem&nbsp;before&nbsp;(is&nbsp;there&nbsp;another&nbsp;bug&nbsp;out<br>
there&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;already)?&nbsp;I&nbsp;searched&nbsp;the&nbsp;Bugzilla,&nbsp;but&nbsp;couldn't&nbsp;find&nbsp;exact&nbsp;same&nbsp;or&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;very&nbsp;similar&nbsp;issues.&nbsp;If&nbsp;someone&nbsp;has&nbsp;found&nbsp;a&nbsp;solution&nbsp;or&nbsp;a&nbsp;patch,<br>
that&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;would&nbsp;be&nbsp;great&nbsp;too&nbsp;:)&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;2)&nbsp;Since&nbsp;the&nbsp;exception&nbsp;we&nbsp;get&nbsp;is&nbsp;not&nbsp;in&nbsp;Fill()&nbsp;itself,&nbsp;but&nbsp;rather&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;after&nbsp;that,&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;see&nbsp;if&nbsp;I&nbsp;can&nbsp;somehow&nbsp;get&nbsp;the&nbsp;source&nbsp;for&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;the&nbsp;class&nbsp;lib&nbsp;and&nbsp;put&nbsp;some&nbsp;tracing&nbsp;code&nbsp;around&nbsp;fill &nbsp;and&nbsp;use&nbsp;that&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;class&nbsp;lib&nbsp;instead&nbsp;of&nbsp;the&nbsp;stock&nbsp;one&nbsp;to&nbsp;get&nbsp;some&nbsp;tracing&nbsp;within&nbsp;the<br>
Fill&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;method&nbsp;of&nbsp;the&nbsp;DA,&nbsp;so&nbsp;that&nbsp;my&nbsp;Bugzilla&nbsp;report&nbsp;is&nbsp;most&nbsp;useful&nbsp;to&nbsp;the&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;ADO.NET&nbsp;team.&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;3)&nbsp;What&nbsp;all&nbsp;is&nbsp;needed&nbsp;to&nbsp;be&nbsp;submitted&nbsp;with&nbsp;the&nbsp;report&nbsp;to&nbsp;make&nbsp;this&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;issue&nbsp;easier&nbsp;to&nbsp;fix?&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;This&nbsp;issue&nbsp;is&nbsp;not&nbsp;easy&nbsp;to&nbsp;reproduce&nbsp;at&nbsp;will,&nbsp;so&nbsp;I'm&nbsp;hoping&nbsp;that&nbsp;this&lt;br<br>
/&gt;<br>
&amp;gt;&amp;gt;&nbsp;is&nbsp;all&nbsp;helpful&nbsp;for&nbsp;starters.&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;Thank&nbsp;you&nbsp;all&nbsp;in&nbsp;advance&nbsp;for&nbsp;reading&nbsp;this&nbsp;monster&nbsp;of&nbsp;a&nbsp;post.&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;Regards,&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;Mark.&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;_______________________________________________&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;Mono-list&nbsp;maillist &nbsp;- &nbsp;Mono-list@lists.ximian.com&lt;br&nbsp;/&gt;<br>
&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;target=&quot;_blank&quot;<br>
href=&quot;http://lists.ximian.com/mailman/listinfo/mono-list&quot;&gt;http://lists.ximian.com/mailman/listinfo/mono-list&lt;/a&gt;&lt;br<br>
/&gt;<br>
&amp;gt;&lt;br&nbsp;/&gt;<br>
&amp;gt;&lt;br&nbsp;/&gt;<br>
&lt;br&nbsp;/&gt;<br>
&lt;/p&gt;&lt;br&nbsp;/&gt;<br>

</tt>
