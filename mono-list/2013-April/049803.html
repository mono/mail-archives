<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] references to individual keys
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20references%20to%20individual%20keys&In-Reply-To=%3CA7BE2C131EE4F0408870C92C3200073349ED33BB%40CH1PRD0810MB360.namprd08.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049802.html">
   <LINK REL="Next"  HREF="049804.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] references to individual keys</H1>
    <B>edward.harvey.mono</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20references%20to%20individual%20keys&In-Reply-To=%3CA7BE2C131EE4F0408870C92C3200073349ED33BB%40CH1PRD0810MB360.namprd08.prod.outlook.com%3E"
       TITLE="[Mono-list] references to individual keys">edward.harvey.mono at clevertrove.com
       </A><BR>
    <I>Wed Apr 17 14:31:58 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="049802.html">[Mono-list] Auto config not working as expected.
</A></li>
        <LI>Next message: <A HREF="049804.html">[Mono-list] references to individual keys
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49803">[ date ]</a>
              <a href="thread.html#49803">[ thread ]</a>
              <a href="subject.html#49803">[ subject ]</a>
              <a href="author.html#49803">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have an in-memory tree data structure, where each node contains a dictionary of named subnodes.  Some of the leaf nodes need to know their own path (that is, they need to know which sequence of strings you would follow from the root node, in order to reach this node.)

Skipping over the alternatives for now, my question is this:  Since a string is a reference type, and each string exists already within the keys of the dictionary in each parent node, I would like to just reference the string that's referenced by the keys of the parent dictionary.  When I look at the MSDN page for dictionaries, I see the TryGetValue or [] will return the value associated with a given key ... And I see the ContainsKey which returns a boolean.  But I want TryGetKey, which will actually return the *key* that has equality to the key I'm searching for.  Any way to do that?

I could use the Keys property, but then I'll have to perform O(n) string comparisons, enumerating over the collection of keys.  I see the ContainsKey method includes the comment, &quot;This method approaches an O(1) operation.&quot; which means, I really want to avoid manually enumerating string comparisons and somehow tie into the Dictionary internal key search algorithm.

Is it possible?

At the moment, I'm not aware of any way to do it.  At the moment, my best known alternative is for each node to store a copy of its own name.  Then each leaf node could contain either a link to its parent, or a bunch of links to all of its lineage parents, or a bunch of links to just the names of all the lineage parents.  This will at least double memory usage, due to repeated storage of strings, but at least it's simple to use and understand, and won't incur a horrible performance penalty.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20130417/07c3d6ec/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20130417/07c3d6ec/attachment.html</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049802.html">[Mono-list] Auto config not working as expected.
</A></li>
	<LI>Next message: <A HREF="049804.html">[Mono-list] references to individual keys
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49803">[ date ]</a>
              <a href="thread.html#49803">[ thread ]</a>
              <a href="subject.html#49803">[ subject ]</a>
              <a href="author.html#49803">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
