<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Securitymanager in ASP 2.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Securitymanager%20in%20ASP%202.0&In-Reply-To=002101c82489%2425b72c20%2471258460%24%40tv">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036911.html">
   <LINK REL="Next"  HREF="036912.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Securitymanager in ASP 2.0</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Securitymanager%20in%20ASP%202.0&In-Reply-To=002101c82489%2425b72c20%2471258460%24%40tv"
       TITLE="[Mono-list] Securitymanager in ASP 2.0">sebastien.pouliot at gmail.com
       </A><BR>
    <I>Mon Nov 12 08:39:46 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="036911.html">[Mono-list] Securitymanager in ASP 2.0
</A></li>
        <LI>Next message: <A HREF="036912.html">[Mono-list] NUnit cant be found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36918">[ date ]</a>
              <a href="thread.html#36918">[ thread ]</a>
              <a href="subject.html#36918">[ subject ]</a>
              <a href="author.html#36918">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Bernd,

CAS support (i.e. --security) is experimental in Mono, in fact it was
never tested with 2.0 (nor ASP.NET). I suggest you avoid using it
(--security) unless you are, yourself, only experimenting with CAS or
want to contribute to it's development.

Note that you shouldn't require the security manager for your sample, at
least if you use the imperative syntax (instead of the declarative one).

Sebastien

On Sun, 2007-11-11 at 18:34 +0100, Bernd Seidenspinner wrote:
&gt;<i> Hello List,
</I>&gt;<i> 
</I>&gt;<i> i want to write code with CAS in order to check for authorization in ASP 2.0
</I>&gt;<i> Code would look similar to this:
</I>&gt;<i> [PrincipalPermission(SecurityAction.Demand, Role = &quot;Editor&quot;)]
</I>&gt;<i> public override void Update()
</I>&gt;<i> {
</I>&gt;<i>     ...
</I>&gt;<i> }
</I>&gt;<i> So I tried to enable securitymanager with --security in mod-mono-server2
</I>&gt;<i> After doing so my application fails to start with the following exception in
</I>&gt;<i> apache error log:
</I>&gt;<i> 
</I>&gt;<i> Unhandled Exception: System.NullReferenceException: A null value was found
</I>&gt;<i> where an object instance was required.
</I>&gt;<i>   at System.Security.Policy.PolicyLevel.Resolve
</I>&gt;<i> (System.Security.Policy.Evidence evidence) [0x00000]
</I>&gt;<i>   at System.Security.SecurityManager.ResolvePolicyLevel
</I>&gt;<i> (System.Security.PermissionSet&amp; ps, System.Security.Policy.PolicyLevel pl,
</I>&gt;<i> System.Security.Policy.Evidence evidence) [0x00000]
</I>&gt;<i>   at System.Security.SecurityManager.ResolvePolicy
</I>&gt;<i> (System.Security.Policy.Evidence evidence) [0x00000]
</I>&gt;<i>   at System.Security.SecurityManager.ResolvePolicy
</I>&gt;<i> (System.Security.Policy.Evidence evidence, System.Security.PermissionSet
</I>&gt;<i> reqdPset, System.Security.PermissionSet optPset, System.Security.Perm
</I>&gt;<i>   at System.Reflection.Assembly.Resolve () [0x00000]
</I>&gt;<i>   at System.Reflection.Assembly.get_GrantedPermissionSet () [0x00000]
</I>&gt;<i>   at System.Security.SecurityManager.LinkDemandFullTrust
</I>&gt;<i> (System.Reflection.Assembly a) [0x00000]
</I>&gt;<i> 
</I>&gt;<i> Code was compiled by visual studio and runs as expected on ms.net...
</I>&gt;<i> 
</I>&gt;<i> Thanks for your help!!!
</I>&gt;<i> 
</I>&gt;<i> Bernd
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036911.html">[Mono-list] Securitymanager in ASP 2.0
</A></li>
	<LI>Next message: <A HREF="036912.html">[Mono-list] NUnit cant be found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36918">[ date ]</a>
              <a href="thread.html#36918">[ thread ]</a>
              <a href="subject.html#36918">[ subject ]</a>
              <a href="author.html#36918">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
