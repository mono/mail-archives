<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] InvalidOperationException when using a DataAdapter's
	Update method (mono, npgsql)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20InvalidOperationException%20when%20using%20a%20DataAdapter%27s%0A%09Update%20method%20%28mono%2C%20npgsql%29&In-Reply-To=42908645.6090502%40lenuweit.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027138.html">
   <LINK REL="Next"  HREF="027132.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] InvalidOperationException when using a DataAdapter's
	Update method (mono, npgsql)</H1>
    <B>Francisco Figueiredo Jr.</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20InvalidOperationException%20when%20using%20a%20DataAdapter%27s%0A%09Update%20method%20%28mono%2C%20npgsql%29&In-Reply-To=42908645.6090502%40lenuweit.net"
       TITLE="[Mono-list] InvalidOperationException when using a DataAdapter's
	Update method (mono, npgsql)">fxjrlists at yahoo.com.br
       </A><BR>
    <I>Sun May 22 11:26:46 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="027138.html">[Mono-list] InvalidOperationException when using a DataAdapter's
 Update method (mono, npgsql)
</A></li>
        <LI>Next message: <A HREF="027132.html">[Mono-list] mod_mono and apache virual servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27140">[ date ]</a>
              <a href="thread.html#27140">[ thread ]</a>
              <a href="subject.html#27140">[ subject ]</a>
              <a href="author.html#27140">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Helge Lenuweit wrote:
&gt;<i> Hello folks,
</I>&gt;<i> 
</I>
Hello Helge.

&gt;<i> I am seeing a weird InvalidOperationException being thrown when I use a
</I>&gt;<i> (Npgsql)DataAdapter's update method in a particular setting. As I'm
</I>&gt;<i> unsure where the error lies, I'm looking for help here before filing any
</I>&gt;<i> bugs.
</I>&gt;<i> 
</I>
This is an Npgsql bug.

DbDataAdapter is trying to read from the NpgsqlDataReader after
executing command but as it was an update command, there is no resultset
available and so, NpgsqlDataReader throws an exception about that. The
problem is that msdn docs don't say Read throws any type of exception
and so, NpgsqlDataReader is incorrectly throwning this exception instead
of just return false.

On MS.Net the error doesn't occur because for sure ms implementation
doesn't call read :)

Fixed in svn.

Thanks for feedback!



- --
Regards,

Francisco Figueiredo Jr.
Npgsql Lead Developer
<A HREF="http://gborg.postgresql.org/project/npgsql">http://gborg.postgresql.org/project/npgsql</A>
MonoBrasil Project Founder Member
<A HREF="http://monobrasil.softwarelivre.org">http://monobrasil.softwarelivre.org</A>


- -------------
&quot;Science without religion is lame;
religion without science is blind.&quot;

                  ~ Albert Einstein
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.6 (GNU/Linux)
Comment: Using GnuPG with Thunderbird - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iQEVAwUBQpCktv7iFmsNzeXfAQIpiQf/cHgQvc4Taq4BlbJq4kvWWV+TLK3LXqi6
+KaAVkqsYGCG8OCLX9jXqUTdMQAexLj4ASXaDJoVDFUJM8Q+9HZfmBQDBgmhIWJC
+4F0vVrgpHA4E93C0Yrx5v6hYzMvKrnrRgJrc4Y2lvF1KOboAxABNNUUoA1/jZak
g7JuA/oRIc0ahKeILm9YqJwxMJVvZHFO9uhVMdhIksjMrrsY/Ija4/15T0czz0fK
Qym8SVS15D5DPACsEN7fOcPQ0Mm2Mbmz8OvX3fMYuSHD/w357zrWQQx16GP5jbVh
twJzZDbHgcFcY3J00SsC22h8seuQGWSgGGMw0Z4B6zo2/y6h4q6OWA==
=Ls8i
-----END PGP SIGNATURE-----

</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027138.html">[Mono-list] InvalidOperationException when using a DataAdapter's
 Update method (mono, npgsql)
</A></li>
	<LI>Next message: <A HREF="027132.html">[Mono-list] mod_mono and apache virual servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27140">[ date ]</a>
              <a href="thread.html#27140">[ thread ]</a>
              <a href="subject.html#27140">[ subject ]</a>
              <a href="author.html#27140">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
