<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Embedding Mono problem with PythonNet
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Embedding%20Mono%20problem%20with%20PythonNet&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035659.html">
   <LINK REL="Next"  HREF="035694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Embedding Mono problem with PythonNet</H1>
    <B>Christian Heimes</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Embedding%20Mono%20problem%20with%20PythonNet&In-Reply-To="
       TITLE="[Mono-list] Embedding Mono problem with PythonNet">lists at cheimes.de
       </A><BR>
    <I>Tue Jul 17 13:43:09 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="035659.html">[Mono-list] 3 questions about Moonlight's graphic system
</A></li>
        <LI>Next message: <A HREF="035694.html">[Mono-list] Embedding Mono problem with PythonNet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35664">[ date ]</a>
              <a href="thread.html#35664">[ thread ]</a>
              <a href="subject.html#35664">[ subject ]</a>
              <a href="author.html#35664">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've run into another problem with PythonNet. PythonNet can be
integrated into a Python interpretor in two ways. Either one can use a
custom Python interpretor that initializes the PythonNet engine
automatically
<A HREF="http://pythonnet.svn.sourceforge.net/viewvc/pythonnet/branches/clr-2.0-python-2.5-branch/src/console/pythonconsole.cs?revision=56&amp;view=markup">http://pythonnet.svn.sourceforge.net/viewvc/pythonnet/branches/clr-2.0-python-2.5-branch/src/console/pythonconsole.cs?revision=56&amp;view=markup</A>
or one can load an extension module into an ordinary Python interpretor.
 The former is working well under Mono but the latter is giving me some
headache.

Under Windows and .NET the extension module is written in assembler and
compiled with ilasm to a Windows library. Mono's ilasm can compile the
module, too but the module can't be imported by an ELF Python
interpretor under Linux because ilasm creates a Windows library.
<A HREF="http://pythonnet.svn.sourceforge.net/viewvc/pythonnet/branches/clr-2.0-python-2.5-branch/src/runtime/clrmodule.il?revision=43&amp;view=markup">http://pythonnet.svn.sourceforge.net/viewvc/pythonnet/branches/clr-2.0-python-2.5-branch/src/runtime/clrmodule.il?revision=43&amp;view=markup</A>

I've tried to create a Mono and Unix version of the clr module but it
doesn't work. &quot;All&quot; I have to do is to import the Python.Runtime.dll
assembly and call the static method
Python.Runtime.PythonEngine::InitExt(). My code is available under
<A HREF="http://pythonnet.svn.sourceforge.net/viewvc/pythonnet/branches/clr-2.0-python-2.5-branch/src/monoclr/clr.c?revision=62&amp;view=markup">http://pythonnet.svn.sourceforge.net/viewvc/pythonnet/branches/clr-2.0-python-2.5-branch/src/monoclr/clr.c?revision=62&amp;view=markup</A>
It compiles fine with the flags from pkg-config but when I try to import
the module it crashes.

$ python2.5 -c &quot;import clr&quot; &gt;segfault.txt 2&gt;&amp;1

Christian
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: segfault.txt
Url: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20070717/500dc087/attachment.txt">http://lists.ximian.com/pipermail/mono-list/attachments/20070717/500dc087/attachment.txt</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035659.html">[Mono-list] 3 questions about Moonlight's graphic system
</A></li>
	<LI>Next message: <A HREF="035694.html">[Mono-list] Embedding Mono problem with PythonNet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35664">[ date ]</a>
              <a href="thread.html#35664">[ thread ]</a>
              <a href="subject.html#35664">[ subject ]</a>
              <a href="author.html#35664">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
