<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mod-mono-server2 with threadpool does not correct threadstatic
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mod-mono-server2%20with%20threadpool%20does%20not%20correct%0A%20threadstatic&In-Reply-To=11461978.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035545.html">
   <LINK REL="Next"  HREF="035547.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mod-mono-server2 with threadpool does not correct threadstatic</H1>
    <B>Micha&#322; Ziemski</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mod-mono-server2%20with%20threadpool%20does%20not%20correct%0A%20threadstatic&In-Reply-To=11461978.post%40talk.nabble.com"
       TITLE="[Mono-list] mod-mono-server2 with threadpool does not correct threadstatic">rook at roo.k.pl
       </A><BR>
    <I>Fri Jul  6 06:40:05 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="035545.html">[Mono-list] mod-mono-server2 with threadpool does not correct threadstatic
</A></li>
        <LI>Next message: <A HREF="035547.html">[Mono-list] mod-mono-server2 with threadpool does not correct threadstatic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35546">[ date ]</a>
              <a href="thread.html#35546">[ thread ]</a>
              <a href="subject.html#35546">[ subject ]</a>
              <a href="author.html#35546">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

If you want your variable reset after each request why delare it static?

Pleas give some further details about what are you trying to accomplish,
then maybe someone can point you to other solution.

Cheers!
Micha&#322; Ziemski

Adriaan van Kekem pisze:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> So, is there a possibility to solve this problem without manually clearing
</I>&gt;<i> the stack by each new request in the global.asax? or is there no standard
</I>&gt;<i> way to solve this problem?
</I>&gt;<i>
</I>&gt;<i> greetings,
</I>&gt;<i>
</I>&gt;<i> Adriaan
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Robert Jordan wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Adriaan van Kekem wrote:
</I>&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i> Hi,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I have a mono application running with mod_mono on mono 1.2.4. I have
</I>&gt;&gt;&gt;<i> created somewhere in my webapp a threadstatic variable, actually a
</I>&gt;&gt;&gt;<i> generic
</I>&gt;&gt;&gt;<i> stack with specific objects. No i am running my webapp, and seeing my log
</I>&gt;&gt;&gt;<i> file, i see that sometimes the same thread is reused later. This is
</I>&gt;&gt;&gt;<i> logical,
</I>&gt;&gt;&gt;<i> because there is a threadpool containing all threads, using them later
</I>&gt;&gt;&gt;<i> again. But when i see that the same thread is reused, the threadstatic
</I>&gt;&gt;&gt;<i> variables are not reset. I don't know if this is a bug, from compiler
</I>&gt;&gt;&gt;<i> view
</I>&gt;&gt;&gt;<i> its right, because it's the same thread. But from webapplication view, i
</I>&gt;&gt;&gt;<i> think this is not right. 
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Is there any solution for this, or have i to report this as a real bug?
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i> This is not a bug. As you said, the threads are reused. That's why
</I>&gt;&gt;<i> the [ThreadStatic] fields are already initialized.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Robert
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i>   
</I>

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035545.html">[Mono-list] mod-mono-server2 with threadpool does not correct threadstatic
</A></li>
	<LI>Next message: <A HREF="035547.html">[Mono-list] mod-mono-server2 with threadpool does not correct threadstatic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35546">[ date ]</a>
              <a href="thread.html#35546">[ thread ]</a>
              <a href="subject.html#35546">[ subject ]</a>
              <a href="author.html#35546">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
