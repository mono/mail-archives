<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mono and Automation tools
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono%20and%20Automation%20tools&In-Reply-To=BEC97EDB521B0E428C5166E0223B7C1B1D9D2B%40PA-EXCH03.vmware.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035757.html">
   <LINK REL="Next"  HREF="035760.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mono and Automation tools</H1>
    <B>Jonathan Pobst</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono%20and%20Automation%20tools&In-Reply-To=BEC97EDB521B0E428C5166E0223B7C1B1D9D2B%40PA-EXCH03.vmware.com"
       TITLE="[Mono-list] Mono and Automation tools">monkey at jpobst.com
       </A><BR>
    <I>Tue Jul 24 12:54:31 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="035757.html">[Mono-list] Mono and Automation tools
</A></li>
        <LI>Next message: <A HREF="035760.html">[Mono-list] Saving Configurations?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35758">[ date ]</a>
              <a href="thread.html#35758">[ thread ]</a>
              <a href="subject.html#35758">[ subject ]</a>
              <a href="author.html#35758">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Currently, the way Winforms is written, there is no way to change the 
ClassName.  The name that gets used (on Windows) is:

string.Format (&quot;Mono.WinForms.{0}.{1}&quot;, 
System.Threading.Thread.GetDomainID ().ToString (), classStyle);

where classStyle is the CreateParams.ClassStyle.

The benefit of this is that we only register a few classes with Windows, 
and reuse them quite heavily.  The downside I guess is that you can't 
set your own ClassName.

We could probably make a change so that if a ClassName is given, we 
could append it to the current naming scheme.  However, we probably 
wouldn't put class names in our controls (you would have to override the 
CreateParams in each of your controls and put a class name in).

We should be branching for 1.2.5 this week, so I don't feel comfortable 
making such a change for 1.2.5, but I could change it after that if it 
helps any.

Jonathan



Steven Schulze wrote:
&gt;<i> Hi all,
</I>&gt;<i>  
</I>&gt;<i> We are running into a problem when we try to use automation tools on an 
</I>&gt;<i> app running on Mono on Windows.  Our automation tool (SilkTest) uses the 
</I>&gt;<i> native Windows class for each control to determine what kind of control 
</I>&gt;<i> it is (BUTTON, STATIC) etc.  On .Net, new Windows classes are registered 
</I>&gt;<i> for each control type, but they are still unique enough that you can map 
</I>&gt;<i> them to your own SilkTest classes.  While we can use the .Net extension 
</I>&gt;<i> of SilkTest to automatically give us all the class details (methods, etc 
</I>&gt;<i> of each control) we obviously cannot use this on Mono.  because of this 
</I>&gt;<i> we also don't use it when we run our app on .Net, since we want to 
</I>&gt;<i> create an environment where we can seamlessly test our app on both .Net 
</I>&gt;<i> and Mono.
</I>&gt;<i>  
</I>&gt;<i> The problem is that on Mono, all controls are registered as the same 
</I>&gt;<i> class, namely &quot;Mono.WinForms.0.40&quot;.  This gives us no way to map each 
</I>&gt;<i> control type to our own SilkTest classes.  Unfortunately SilkTest is not 
</I>&gt;<i> flexible in how it recognizes controls and we are stuck with using only 
</I>&gt;<i> the native Windows class. 
</I>&gt;<i>  
</I>&gt;<i> Is there a way to specify a unique name for each control type in Mono, 
</I>&gt;<i> so that the registered class for each type is unique?  I am thinking 
</I>&gt;<i> something along the lines of &quot;Mono.WinForms.0.40.MyFancyButton&quot; or 
</I>&gt;<i> something.  On .Net you can override the get method of 
</I>&gt;<i> Control.CreateParams and modify the ClassName member of CreateParams, 
</I>&gt;<i> which will then embed that name in the final Windows class (although you 
</I>&gt;<i> need to ensure the class is registered 1st with Windows).  This can then 
</I>&gt;<i> be mapped to a SilkTest class.  On Mono, the CreateParams.ClassName 
</I>&gt;<i> seems to be ignored completely.
</I>&gt;<i>  
</I>&gt;<i> Does anyone know if there is a way to do this, other than modifying the 
</I>&gt;<i> Mono source code?
</I>&gt;<i>  
</I>&gt;<i> Note that this is only used during automation testing on Windows using 
</I>&gt;<i> ,Net and Mono, and this code will be disabled/ifdef'ed out later on.
</I>&gt;<i>  
</I>&gt;<i> Thanks!
</I>&gt;<i> Steven
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035757.html">[Mono-list] Mono and Automation tools
</A></li>
	<LI>Next message: <A HREF="035760.html">[Mono-list] Saving Configurations?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35758">[ date ]</a>
              <a href="thread.html#35758">[ thread ]</a>
              <a href="subject.html#35758">[ subject ]</a>
              <a href="author.html#35758">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
