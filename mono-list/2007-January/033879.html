<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Recursive XML serialization? XML serialization of	cyclic objects?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Recursive%20XML%20serialization%3F%20XML%20serialization%20of%0A%09cyclic%20objects%3F&In-Reply-To=eo7os6%242f4%241%40sea.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033876.html">
   <LINK REL="Next"  HREF="033880.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Recursive XML serialization? XML serialization of	cyclic objects?</H1>
    <B>&quot;Andr&#233;s G. Aragoneses [ knocte ]</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Recursive%20XML%20serialization%3F%20XML%20serialization%20of%0A%09cyclic%20objects%3F&In-Reply-To=eo7os6%242f4%241%40sea.gmane.org"
       TITLE="[Mono-list] Recursive XML serialization? XML serialization of	cyclic objects?">&quot;Andr&#233;s G. Aragoneses [ knocte ]
       </A><BR>
    <I>Fri Jan 12 06:55:29 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="033876.html">[Mono-list] Recursive XML serialization? XML serialization of	cyclic objects?
</A></li>
        <LI>Next message: <A HREF="033880.html">[Mono-list] Recursive XML serialization? XML serialization of	cyclic objects?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33879">[ date ]</a>
              <a href="thread.html#33879">[ thread ]</a>
              <a href="subject.html#33879">[ subject ]</a>
              <a href="author.html#33879">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Robert, thanks for your answer!

Robert Jordan escribi&#243;:
&gt;<i> Andr&#233;s G. Aragoneses [ knocte ] wrote:
</I>&gt;&gt;<i> Having this kind of object:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      class classA
</I>&gt;&gt;<i>      {
</I>&gt;&gt;<i>          int x;
</I>&gt;&gt;<i>          classA z;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          public int X
</I>&gt;&gt;<i>          {
</I>&gt;&gt;<i>              get { return this.x; }
</I>&gt;&gt;<i>              set { this.x = value; }
</I>&gt;&gt;<i>          }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          public classA Z
</I>&gt;&gt;<i>          {
</I>&gt;&gt;<i>              get { return this.z; }
</I>&gt;&gt;<i>              set { this.z = value; }
</I>&gt;&gt;<i>          }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      static class Program
</I>&gt;&gt;<i>      {
</I>&gt;&gt;<i>          static void Main(string[] args)
</I>&gt;&gt;<i>          {
</I>&gt;&gt;<i>              classA myObject = new classA();
</I>&gt;&gt;<i>              myObject.X = 2;
</I>&gt;&gt;<i>              myObject.Z = myObject;
</I>&gt;&gt;<i>          }
</I>&gt;&gt;<i>      }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> How can I send &quot;myObject&quot; via XML webservice for consumption? I am aware
</I>&gt;&gt;<i> that this is not possible to be XML-serialized with .NET1.1 but, can I
</I>&gt;&gt;<i> do it with 2.0 or Indigo?
</I>&gt;<i> 
</I>&gt;<i> I'm not aware of any Web Service standard allowing that
</I>&gt;<i> kind of cycles.
</I>
Neither if I create my custom XmlSerializer? How can I tell my ASP.NET 
webservice to use it instead of the default one?


&gt;<i> If you really need such complex classes and you don't
</I>
Well, it's not that complex to have a domain model that allows it. For 
example, a very common scenario:

public class Parameter {
   public Client Parent;
   public int Value;
}

public class Client {
   public List&lt;Parameter&gt; Parameters;
}

Parameter parameter = new Parameter();
Client client = new Client();
parameter.Parent = client;
parameter.Value = 3;
client.Parameters = new List&lt;Parameter&gt;();
client.Parameters.Add(parameter);


The 'client' object then is an example of what can be retrieved from an 
Object-Relational Mapping Framework. It has a list that represents the 
1-N relation, and the parameter has a reference to the parent object 
(N-1 relation).


&gt;<i> care about interop, you could switch to XSP/ASP.NET-hosted
</I>&gt;<i> .NET Remoting using a HttpChannel. This would require to design
</I>&gt;<i> the classes [Serializable], which is an issue of its own, though.
</I>
Yes, this is the temporary workaround we are using: binary 
serialization. But this is kind of hackish and also I think that in the 
future we will need to parse the objects via XSLT; that's why I'm 
interested in XML serialization.


&gt;<i> Anyway, my strong opinion is: *never* employ remoting or Web Services
</I>&gt;<i> w/out a remoting facade pattern that maps between complex objects
</I>&gt;<i> and simple (remotable) objects.
</I>
Well, I think I understand your concern about this. However I think we 
were using this pattern until we realised we had to write many code for 
each class of the domain model so as to write these translation 
mechanisms. Then we opted for a totally transparent solution that, 
however, needs a reflection-based conversion so as to mark some parts of 
the objects as &quot;lazy&quot; (not retrieved) and be able to serialize them.

In case you are interested, I wrote a blog post about it (it's based on 
NHibernate mapping framework; oh! and sorry, it's written in Spanish but 
perhaps you can more or less understand it using the automatic 
translation service link I have at the top of the page).

Regards,

	Andr&#233;s	[ knocte ]

-- 

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033876.html">[Mono-list] Recursive XML serialization? XML serialization of	cyclic objects?
</A></li>
	<LI>Next message: <A HREF="033880.html">[Mono-list] Recursive XML serialization? XML serialization of	cyclic objects?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33879">[ date ]</a>
              <a href="thread.html#33879">[ thread ]</a>
              <a href="subject.html#33879">[ subject ]</a>
              <a href="author.html#33879">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
