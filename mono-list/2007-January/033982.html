<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mono-service doesn't start my service - no errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mono-service%20doesn%27t%20start%20my%20service%20-%20no%20errors&In-Reply-To=734718.49734.qm%40web39712.mail.mud.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033980.html">
   <LINK REL="Next"  HREF="033989.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mono-service doesn't start my service - no errors</H1>
    <B>Rafael Teixeira</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mono-service%20doesn%27t%20start%20my%20service%20-%20no%20errors&In-Reply-To=734718.49734.qm%40web39712.mail.mud.yahoo.com"
       TITLE="[Mono-list] mono-service doesn't start my service - no errors">rafael.teixeirabr at terra.com.br
       </A><BR>
    <I>Sun Jan 21 15:38:46 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="033980.html">[Mono-list] mono-service doesn't start my service - no errors
</A></li>
        <LI>Next message: <A HREF="033989.html">[Mono-list] mono-service doesn't start my service - no errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33982">[ date ]</a>
              <a href="thread.html#33982">[ thread ]</a>
              <a href="subject.html#33982">[ subject ]</a>
              <a href="author.html#33982">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Recently a fix for static constructors not being automatically called,
went into SVN, what looks like what you are telling. I think the fix
affects the in the native part of the runtime.

So, probably, you need to retest your case with a newer runtime compiled
from SVN head.

Hope it helps,

Rafael Teixeira

On Sun, 2007-01-21 at 08:40 -0800, jcmag wrote:
&gt;<i> &gt;&gt; but my service doesn't seem to start. I have no error messages,
</I>&gt;<i> except:
</I>&gt;<i> &gt;&gt; Jan 20 21:17:47 mylaptop mono: MyHal.Service.exe: Log file already
</I>&gt;<i> exists:
</I>&gt;<i> &gt;&gt; /tmp/MyHal.Service.exe.lock
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Try using /usr/bin/mono/usr/lib/mono/1.0/mono-service.exe
</I>&gt;<i> &gt;MyHal.Service.exe on a command line and see if there are any
</I>&gt;<i> messages.
</I>&gt;<i> 
</I>&gt;<i> Same thing, no messages.
</I>&gt;<i> 
</I>&gt;<i> But I've found that the call to
</I>&gt;<i> log4net.Config.XmlConfigurator.ConfigureAndWatch stops the programs.
</I>&gt;<i> I've changed my Main method to:
</I>&gt;<i> 
</I>&gt;<i>             try
</I>&gt;<i>             {
</I>&gt;<i>                 error(&quot;Main1&quot;, &quot;Begin&quot;); 
</I>&gt;<i>                  log4net.Config.XmlConfigurator.Configure(new
</I>&gt;<i> FileInfo(System.IO.Path.GetFullPath(&quot;log4net.config&quot;)));
</I>&gt;<i>                 error(&quot;Main1&quot;, &quot;Begin2&quot;);
</I>&gt;<i>                 ServiceBase.Run(new ServiceBase[] { new
</I>&gt;<i> MyHal.Service.Service1() });
</I>&gt;<i>                 error(&quot;Main1&quot;, &quot;End&quot;);
</I>&gt;<i>             }
</I>&gt;<i>             catch(Exception exc)
</I>&gt;<i>             {
</I>&gt;<i>                 error(&quot;Main exception&quot;, exc.ToString());
</I>&gt;<i>             }
</I>&gt;<i> 
</I>&gt;<i> Here I see in syslog the firt message (&quot;Begin&quot;). If I put in comment
</I>&gt;<i> the log4net call I see &quot;Begin2&quot; method ; but then I think that the
</I>&gt;<i> &quot;MyHal.Engine.Core.Instance.Init();&quot;  in the OnStart method does
</I>&gt;<i> nothing... (the Core class has a static ctor with an error message
</I>&gt;<i> that is never displayed)
</I>&gt;<i> It's rather hard to debug what mono-service does.... or doesn't... 
</I>&gt;<i> 
</I>&gt;<i> JC 
</I>&gt;<i> 
</I>&gt;<i> -------------------- 
</I>&gt;<i> <A HREF="http://sourceforge.net/projects/myhal">http://sourceforge.net/projects/myhal</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ----- Original Message ----
</I>&gt;<i> From: J&#246;rg Rosenkranz &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">joerg.rosenkranz at gmail.com</A>&gt;
</I>&gt;<i> To: jcmag &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jcmag at yahoo.com</A>&gt;
</I>&gt;<i> Sent: Sunday, January 21, 2007 4:33:25 PM
</I>&gt;<i> Subject: Re: [Mono-list] mono-service doesn't start my service - no
</I>&gt;<i> errors
</I>&gt;<i> 
</I>&gt;<i> Hi JC,
</I>&gt;<i> 
</I>&gt;<i> &gt; but my service doesn't seem to start. I have no error messages,
</I>&gt;<i> except:
</I>&gt;<i> &gt; Jan 20 21:17:47 mylaptop mono: MyHal.Service.exe: Log file already
</I>&gt;<i> exists:
</I>&gt;<i> &gt; /tmp/MyHal.Service.exe.lock
</I>&gt;<i> 
</I>&gt;<i> Try using /usr/bin/mono/usr/lib/mono/1.0/mono-service.exe
</I>&gt;<i> MyHal.Service.exe on a command line and see if there are any messages.
</I>&gt;<i> 
</I>&gt;<i> &gt; I've also another question: after the call to mono-service, the
</I>&gt;<i> service is
</I>&gt;<i> &gt; installed on the machine and will be executed, or do we have to do
</I>&gt;<i> something
</I>&gt;<i> &gt; for that?
</I>&gt;<i> 
</I>&gt;<i> mono-service is only a tool to run your service. You have to provide a
</I>&gt;<i> startup script for your specific distribution to run the service.
</I>&gt;<i> 
</I>&gt;<i> HTH,
</I>&gt;<i> Joerg.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ______________________________________________________________________
</I>&gt;<i> Don't be flakey. Get Yahoo! Mail for Mobile and 
</I>&gt;<i> always stay connected to friends.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ______________________________________________________________________
</I>&gt;<i> E-mail classificado pelo Identificador de Spam Inteligente.
</I>&gt;<i> Para alterar a categoria classificada, visite o Terra Mail
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ______________________________________________________________________
</I>&gt;<i> Esta mensagem foi verificada pelo E-mail Protegido Terra.
</I>&gt;<i> Scan engine: McAfee VirusScan / Atualizado em 19/01/2007 / Vers&#227;o:
</I>&gt;<i> 5.1.00/4943
</I>&gt;<i> Proteja o seu e-mail Terra: <A HREF="http://mail.terra.com.br/">http://mail.terra.com.br/</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033980.html">[Mono-list] mono-service doesn't start my service - no errors
</A></li>
	<LI>Next message: <A HREF="033989.html">[Mono-list] mono-service doesn't start my service - no errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33982">[ date ]</a>
              <a href="thread.html#33982">[ thread ]</a>
              <a href="subject.html#33982">[ subject ]</a>
              <a href="author.html#33982">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
