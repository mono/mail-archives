<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Npgsql1.0 Protocol option not supported
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Npgsql1.0%20Protocol%20option%20not%20supported&In-Reply-To=002401c73730%24460ccb70%2401787ec2%40acer">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033902.html">
   <LINK REL="Next"  HREF="033906.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Npgsql1.0 Protocol option not supported</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Npgsql1.0%20Protocol%20option%20not%20supported&In-Reply-To=002401c73730%24460ccb70%2401787ec2%40acer"
       TITLE="[Mono-list] Npgsql1.0 Protocol option not supported">atsushi at ximian.com
       </A><BR>
    <I>Sat Jan 13 12:14:08 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="033902.html">[Mono-list] Npgsql1.0 Protocol option not supported
</A></li>
        <LI>Next message: <A HREF="033906.html">[Mono-list] Npgsql1.0 Protocol option not supported
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33905">[ date ]</a>
              <a href="thread.html#33905">[ thread ]</a>
              <a href="subject.html#33905">[ subject ]</a>
              <a href="author.html#33905">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I don't have any direct answers, but looks like the error message comes
from our Win32Exception. So, probably there is either some
misconfiguration (either in yours or mono's) or some kind of mono bug.
These days I have been able to connect to pgsql successfully on linux.

Atsushi Eno

Andrus wrote:
&gt;<i> My C# application returns error
</I>&gt;<i>
</I>&gt;<i> Protocol option not supported
</I>&gt;<i>
</I>&gt;<i> Error occurs in line
</I>&gt;<i>
</I>&gt;<i> Connection.Open();
</I>&gt;<i>
</I>&gt;<i> Npgsql1.0 source code and docs does not contain such message.
</I>&gt;<i> When running under .NET 2 this error does not occur.
</I>&gt;<i>
</I>&gt;<i> Any idea how to fix it ?
</I>&gt;<i>
</I>&gt;<i> Environment:
</I>&gt;<i>
</I>&gt;<i> Npgsql1.0
</I>&gt;<i> MONO 1.2  .net 2 profile
</I>&gt;<i> monocharge-20070112
</I>&gt;<i> Windows XP
</I>&gt;<i> VCS 2005 Express
</I>&gt;<i>
</I>&gt;<i> Code where error occurs is:
</I>&gt;<i>
</I>&gt;<i> public static void CreateConnection(string Server, string Database,
</I>&gt;<i>        string User, string Password) {
</I>&gt;<i>
</I>&gt;<i> NpgsqlEventLog.Level = LogLevel.Debug;
</I>&gt;<i> NpgsqlEventLog.LogName = @&quot;c:\NpgsqlLogFile.txt&quot;;
</I>&gt;<i>
</I>&gt;<i> if (Connection != null)
</I>&gt;<i>     Connection.Close();
</I>&gt;<i>
</I>&gt;<i> ConnectionString = &quot;ENCODING=UNICODE;&quot; +
</I>&gt;<i>        &quot;SERVER=&quot; + Server + &quot;;&quot; +
</I>&gt;<i>        &quot;DATABASE=&quot; + Database + &quot;;&quot; +
</I>&gt;<i>        &quot;USER ID=&quot; + User + &quot;;&quot; +
</I>&gt;<i>        &quot;PASSWORD=&quot; + Password + &quot;;&quot;;
</I>&gt;<i>
</I>&gt;<i> Connection = new NpgsqlConnection(ConnectionString);
</I>&gt;<i> IDbCommand Command = new NpgsqlCommand(@&quot;
</I>&gt;<i>         SET search_path TO firma1,public;
</I>&gt;<i>         SELECT sfirmanimi FROM prpalk&quot;,
</I>&gt;<i>      (NpgsqlConnection)Connection);
</I>&gt;<i> // Follwing line causes error Protocol Option not supported in MONO
</I>&gt;<i> Connection.Open();
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Stack trace:
</I>&gt;<i>
</I>&gt;<i> Protocol option not supportedStack trace:   at Npgsql.NpgsqlClosedState.Open
</I>&gt;<i> (Npgsql.NpgsqlConnector context) [0x00000]
</I>&gt;<i>   at Npgsql.NpgsqlConnector.Open () [0x00000]
</I>&gt;<i>   at Npgsql.NpgsqlConnectorPool.GetPooledConnector (Npgsql.NpgsqlConnection
</I>&gt;<i> Connection) [0x00000]
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> npgsql Log file:
</I>&gt;<i>
</I>&gt;<i> 13.01.2007 18:12:45 2364 Debug Entering
</I>&gt;<i> NpgsqlConnection.NpgsqlConnection(NpgsqlConnection())
</I>&gt;<i> 13.01.2007 18:12:45 2364 Debug ConnectionString Option: ENCODING = UNICODE
</I>&gt;<i> 13.01.2007 18:12:45 2364 Debug ConnectionString Option: SERVER = localhost
</I>&gt;<i> 13.01.2007 18:12:45 2364 Debug ConnectionString Option: DATABASE = mydb
</I>&gt;<i> 13.01.2007 18:12:45 2364 Debug ConnectionString Option: USER ID = admin
</I>&gt;<i> 13.01.2007 18:12:45 2364 Debug ConnectionString Option: PASSWORD = p
</I>&gt;<i> 13.01.2007 18:12:45 2364 Debug Entering NpgsqlCommand.NpgsqlCommand()
</I>&gt;<i> 13.01.2007 18:12:45 2364 Debug Entering
</I>&gt;<i> NpgsqlParameterCollection.NpgsqlParameterCollection()
</I>&gt;<i> 13.01.2007 18:12:45 2364 Debug Set NpgsqlCommand.Transaction =
</I>&gt;<i> 13.01.2007 18:12:45 2364 Debug Entering NpgsqlConnection.Open()
</I>&gt;<i> 13.01.2007 18:12:46 2364 Debug Get NpgsqlClosedState.Instance
</I>&gt;<i> 13.01.2007 18:12:46 2364 Debug Get NpgsqlClosedState.Instance
</I>&gt;<i> 13.01.2007 18:12:46 2364 Debug Entering NpgsqlClosedState.Open()
</I>&gt;<i> 13.01.2007 18:12:46 2364 Debug Get NpgsqlClosedState.Instance
</I>&gt;<i>
</I>&gt;<i> Andrus.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>&gt;<i>   
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033902.html">[Mono-list] Npgsql1.0 Protocol option not supported
</A></li>
	<LI>Next message: <A HREF="033906.html">[Mono-list] Npgsql1.0 Protocol option not supported
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33905">[ date ]</a>
              <a href="thread.html#33905">[ thread ]</a>
              <a href="subject.html#33905">[ subject ]</a>
              <a href="author.html#33905">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
