<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list]  Bug in signcode? (Corrupts PE checksum)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20%20Bug%20in%20signcode%3F%20%28Corrupts%20PE%20checksum%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043835.html">
   <LINK REL="Next"  HREF="043841.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list]  Bug in signcode? (Corrupts PE checksum)</H1>
    <B>JoelKatz</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20%20Bug%20in%20signcode%3F%20%28Corrupts%20PE%20checksum%29&In-Reply-To="
       TITLE="[Mono-list]  Bug in signcode? (Corrupts PE checksum)">davids at webmaster.com
       </A><BR>
    <I>Fri Nov 13 16:34:33 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="043835.html">[Mono-list] Exception in native code at application startup
</A></li>
        <LI>Next message: <A HREF="043841.html">[Mono-list] Bug in signcode? (Corrupts PE checksum)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43840">[ date ]</a>
              <a href="thread.html#43840">[ thread ]</a>
              <a href="subject.html#43840">[ subject ]</a>
              <a href="author.html#43840">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
We recently tested using the Mono version of 'signcode' in place of
Microsoft's 'signtool'. While the signatures and timestamps checked out, we
noticed that the signed executable was failing PE checksum validation.

For example, file's signed by the Mono signcode fail this check:
<A HREF="http://msdn.microsoft.com/en-us/library/ms680355%28VS.85%29.aspx">http://msdn.microsoft.com/en-us/library/ms680355%28VS.85%29.aspx</A>
The HeaderSum and CheckSum are unequal.

Details of the algorithm used can be found here:
<A HREF="http://www.codeproject.com/KB/cpp/PEChecksum.aspx">http://www.codeproject.com/KB/cpp/PEChecksum.aspx</A>

DS

-- 
View this message in context: <A HREF="http://old.nabble.com/Bug-in-signcode--%28Corrupts-PE-checksum%29-tp26325662p26325662.html">http://old.nabble.com/Bug-in-signcode--%28Corrupts-PE-checksum%29-tp26325662p26325662.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043835.html">[Mono-list] Exception in native code at application startup
</A></li>
	<LI>Next message: <A HREF="043841.html">[Mono-list] Bug in signcode? (Corrupts PE checksum)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43840">[ date ]</a>
              <a href="thread.html#43840">[ thread ]</a>
              <a href="subject.html#43840">[ subject ]</a>
              <a href="author.html#43840">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
