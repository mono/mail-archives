<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mcs compiles on linux. Now what?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:miguel%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003860.html">
   <LINK REL="Next"  HREF="003889.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mcs compiles on linux. Now what?
   </H1>
    <B>Miguel de Icaza
    </B> 
    <A HREF="mailto:miguel%40ximian.com"
       TITLE="[Mono-list] mcs compiles on linux. Now what?">miguel@ximian.com
       </A><BR>
    <I>07 Mar 2002 21:15:53 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="003860.html">[Mono-list] mcs compiles on linux. Now what?
</A></li>
        <LI> Next message: <A HREF="003889.html">[Mono-list] mcs compiles on linux. Now what?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3861">[ date ]</a>
              <a href="thread.html#3861">[ thread ]</a>
              <a href="subject.html#3861">[ subject ]</a>
              <a href="author.html#3861">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

   Piers, thanks for forwarding those bits of information to the list:

&gt;<i> Yes, Object.GetHashCode() must be based on immutable instance values
</I>&gt;<i> (otherwise you lose objects in hashtables). But the kicker is that if
</I>&gt;<i> Object.Equals() returns true then the two object's GetHashCode()s _must_
</I>&gt;<i> be the same !!!
</I>
This problem is not only a problem with the .NET framework
implementation, it is a problem in general of Hashtables, and you must
be aware of this at all times.

Basically, when you ever change the state on which the hash code for the
object is going to depend, you need to remove the object, change the
state, and re-add the object (You can see Gnumeric doing this for
example for Cells in the spreadsheet when they were moved or copied to a
new location). 

Its funny that you do mention this, because over the past few months I
literally have got worried about this by no apparent reason, I would be
walking somewhere and think `Oh my god, that piece of code is mutating
an object and not moving it'. 

Miguel.


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003860.html">[Mono-list] mcs compiles on linux. Now what?
</A></li>
	<LI> Next message: <A HREF="003889.html">[Mono-list] mcs compiles on linux. Now what?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3861">[ date ]</a>
              <a href="thread.html#3861">[ thread ]</a>
              <a href="subject.html#3861">[ subject ]</a>
              <a href="author.html#3861">[ author ]</a>
         </LI>
       </UL>
</body></html>
