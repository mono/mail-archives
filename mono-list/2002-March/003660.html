<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Bug in Mint : For Multi-Threaded Code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:madhuri_kottamasu%40yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003741.html">
   <LINK REL="Next"  HREF="003725.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Bug in Mint : For Multi-Threaded Code
   </H1>
    <B>Madhuri Kottamasu
    </B> 
    <A HREF="mailto:madhuri_kottamasu%40yahoo.com"
       TITLE="[Mono-list] Bug in Mint : For Multi-Threaded Code">madhuri_kottamasu@yahoo.com
       </A><BR>
    <I>Fri, 1 Mar 2002 15:03:48 -0800 (PST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="003741.html">[Mono-list] Some random notes about writing tests
</A></li>
        <LI> Next message: <A HREF="003725.html">[Mono-list] Bug in Mint : For Multi-Threaded Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3660">[ date ]</a>
              <a href="thread.html#3660">[ thread ]</a>
              <a href="subject.html#3660">[ subject ]</a>
              <a href="author.html#3660">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am trying to interpret simple multi-threaded code. 
Here is the code:

using System;
using System.Threading;

namespace MultiThreadedApp
{
	/// &lt;summary&gt;
	/// Summary description for Class1.
	/// &lt;/summary&gt;
	class Class1
	{
		/// &lt;summary&gt;
		/// The main entry point for the application.
		/// &lt;/summary&gt;
		[STAThread]
		static void Main(string[] args)
		{
			Class1 c = new Class1();
			Thread t = null;
			Console.WriteLine(&quot;Multi-threaded APP&quot;);
			for (int i=0; i &lt; 5; i++)
			{
				if (i % 2 == 0)
				{
					t = new Thread(new ThreadStart(c.ThreadMethod1));
				}
				else
					t = new Thread(new ThreadStart(c.ThreadMethod2));
				t.Start();
				
			}
		}

		private void ThreadMethod1()
		{
			Console.WriteLine(&quot;This is a thread method1&quot;);
		}

		private void ThreadMethod2()
		{
			Console.WriteLine(&quot;This is a thread method2&quot;);
		}
	}
}

When I have Console.WriteLine called in the main
method before thread has called (mscorlib is
pre-loaded), mint works well.

But if I comment out the line
Console.WriteLine(&quot;Multi-threaded APP&quot;);

And run mint again, I get the following error:
$ mint test.exe

(process:300): ** WARNING **: Failed to load library
libmonowrapper.dll (monowra
pper)Unhandled exception System.NullReferenceException
A null value was found where an object instance was
required.
Unhandled exception System.NullReferenceException A
null value was found where an object instance was
required.
Unhandled exception System.NullReferenceException A
null value was found where an object instance was
required.
Unhandled exception System.NullReferenceException A
null value was found where an object instance was
required.
#0: 0x00006 callvirt   in System.Console::WriteLine
(#0: 0x00006 callvirt   in System.Console::WriteLine
(#0: 0x00006 callvirt   in System.Console::WriteLine
(#
0: 0x00006 callvirt   in System.Console::WriteLine
([00DF7A88] [00DF0A90] [00DF7
A88] [00DF0A90] )
)
)
)
#1: 0x00005 call       in
MultiThreadedApp.Class1::ThreadMethod2 (#1: 0x00005 ca
ll       in MultiThreadedApp.Class1::ThreadMethod1
(#1: 0x00005 call       in
MultiThreadedApp.Class1::ThreadMethod2 (#1: 0x00005
call       in MultiThreadedApp
.Class1::ThreadMethod1 ()
)
)

Is this a known error ? Is there a fix available ?

Thanks,
Madhuri

__________________________________________________
Do You Yahoo!?
Yahoo! Greetings - Send FREE e-cards for every occasion!
<A HREF="http://greetings.yahoo.com">http://greetings.yahoo.com</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003741.html">[Mono-list] Some random notes about writing tests
</A></li>
	<LI> Next message: <A HREF="003725.html">[Mono-list] Bug in Mint : For Multi-Threaded Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3660">[ date ]</a>
              <a href="thread.html#3660">[ thread ]</a>
              <a href="subject.html#3660">[ subject ]</a>
              <a href="author.html#3660">[ author ]</a>
         </LI>
       </UL>
</body></html>
