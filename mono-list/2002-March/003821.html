<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] new color.cs for inclusion in CVS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:DENNISH%40Raytek.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003820.html">
   <LINK REL="Next"  HREF="003823.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] new color.cs for inclusion in CVS
   </H1>
    <B>Dennis Hayes
    </B> 
    <A HREF="mailto:DENNISH%40Raytek.com"
       TITLE="[Mono-list] new color.cs for inclusion in CVS">DENNISH@Raytek.com
       </A><BR>
    <I>Wed, 6 Mar 2002 15:54:25 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="003820.html">[Mono-list] new color.cs for inclusion in CVS
</A></li>
        <LI> Next message: <A HREF="003823.html">[Mono-list] new color.cs for inclusion in CVS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3821">[ date ]</a>
              <a href="thread.html#3821">[ thread ]</a>
              <a href="subject.html#3821">[ subject ]</a>
              <a href="author.html#3821">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here is a newer version of the color.cs file including changes recommended
by Ben Houston.


//
// System.Drawing.Color.cs
//
// Author:
//   Dennis Hayes (<A HREF="mailto:dennish@raytek.com">dennish@raytek.com</A>)
//
// (C) 2002 Dennis Hayes
// 
/// Some notes on what the class needs to impliment.
/// 140 predefined and named colors
/// 141 is Transparent
/// Empty is transparent black
/// Color.Empty
/// Color.Equals
/// static
/// Color.FromArgb(int r,int g,int b)
/// Color.FromArgb(int a,int r,int g,int b)
/// Color.FromArgb(int a, Color color)
/// Color.FromArgb(int argpacked)
/// Color.FromKnownColor
/// Color.FromName
/// Color.ReferenceEquals
/* Rough list of named colors, non implmented, possibly shared with
KnownColor structure?
AliceBlue
AntiqueWhite
Aqua
Aquamarine
Azure
Beige
Bisque
Black
BlanchedAlmond
Blue
BlueViolet
Brown
BurlyWood
CadetBlue
Chartreuse
Chocolate
Coral
CornflowerBlue
Cornsilk
Crimson
Cyan
DarkBlue
DarkCyan
DarkGoldenrod
DarkGray
DarkGreen
DarkKhaki
DarkMagenta
DarkOliveGreen
DarkOrange
DarkOrchid
DarkRed
DarkSalmon
DarkSeaGreen
DarkSlateBlue
DarkSlateGray
DarkTurquoise
DarkViolet
DeepPink
DeepSkyBlue
Desktop
DimGray
DodgerBlue
Firebrick
FloralWhite
ForestGreen
Fuchsia
Gainsboro
GhostWhite
Gold
Goldenrod
Gray
GrayText
Green
GreenYellow
Honeydew
HotPink
HotTrack
IndianRed
Indigo
Info
Ivory
Khaki
Lavender
LavenderBlush
LawnGreen
LemonChiffon
LightBlue
LightCoral
LightCyan
LightGoldenrodYellow
LightGray
LightGreen
LightPink
LightSalmon
LightSeaGreen
LightSkyBlue
LightSlateGray
LightSteelBlue
LightYellow
Lime
LimeGreen
Linen
Magenta
Maroon
MediumAquamarine
MediumBlue
MediumOrchid
MediumPurple
MediumSeaGreen
MediumSlateBlue
MediumSpringGreen
MediumTurquoise
MediumVioletRed
MidnightBlue
MintCream
MistyRose
Moccasin
NavajoWhite
Navy
OldLace
Olive
OliveDrab
Orange
OrangeRed
Orchid
PaleGoldenrod
PaleGreen
PaleTurquoise
PaleVioletRed
PapayaWhip
PeachPuff
Peru
Pink
Plum
PowderBlue
Purple
Red
RosyBrown
RoyalBlue
SaddleBrown
Salmon
SandyBrown
ScrollBar
SeaGreen
SeaShell
Sienna
Silver
SkyBlue
SlateBlue
SlateGray
Snow
SpringGreen
SteelBlue
Tan
Teal
Thistle
Tomato
Turquoise
Violet
Wheat
White
WhiteSmoke
Yellow
YellowGreen
*/

using System;
namespace System.Drawing 
{
	public struct Color
	{ 
		// Private transparancy (A) and R,G,B fields.
		int a;
		int r;
		int g;
		int b;
		public static Color FromArgb (int r, int g, int b)
		{
			//TODO: Is 255 the correct value to return for A?
			Color color;
			color.a = 255;
			color.r = r;
			color.g = g;
			color.b = b;
			return color;
		}
		
		public static Color FromArgb (int a,int r, int g, int b)
		{
			Color color;
			color.a = a;
			color.r = r;
			color.g = g;
			color.b = b;
			return color;
		}
		
		public static Color FromArgb (int a,Color incolor)
		{
			Color color;
			color.a = incolor.a;
			color.r = incolor.r;
			color.g = incolor.g;
			color.b = incolor.b;
			return color;
		}

		public static Color FromArgb (int argpacked)
		{
			throw new Exception(&quot;Not implemented yet&quot;);
			//TODO: Is 255 the correct value to return for A?
			//TODO: do bit manupulations on packed arg
			//return new Color (255, argpacked, argpacked,
argpacked );
		}

		Color FromName(string ColorName)
		{
			throw new Exception(&quot;Not implemented yet&quot;);
			//return KnownColor(ColorName);
		}

		// -----------------------
		// Public Shared Members
		// -----------------------

		/// &lt;summary&gt;
		///	Empty Shared Field
		/// &lt;/summary&gt;
		///
		/// &lt;remarks&gt;
		///	An uninitialized Color Structure
		/// &lt;/remarks&gt;
		
		public static readonly Color Empty;
		
		/// &lt;summary&gt;
		///	Equality Operator
		/// &lt;/summary&gt;
		///
		/// &lt;remarks&gt;
		///	Compares two Color objects. The return value is
		///	based on the equivalence of the A,R,G,B properties 
		///	of the two Colors.
		/// &lt;/remarks&gt;

		public static bool operator == (Color colorA, Color colorB)
		{
			return ((colorA.A == colorB.A) &amp;&amp; (colorA.R ==
colorB.R)
			&amp;&amp; (colorA.G == colorB.G) &amp;&amp; (colorA.B ==
colorB.B));
		}
		
		/// &lt;summary&gt;
		///	Inequality Operator
		/// &lt;/summary&gt;
		///
		/// &lt;remarks&gt;
		///	Compares two Color objects. The return value is
		///	based on the equivalence of the A,R,G,B properties 
		///	of the two colors.
		/// &lt;/remarks&gt;

		public static bool operator != (Color colorA, Color colorB)
		{
			return ((colorA.A != colorB.A) || (colorA.R !=
colorB.R)
			|| (colorA.G != colorB.G) || (colorA.B !=
colorB.B));
		}
		
		// -----------------------
		// Public Constructors
		// -----------------------
		public Color(int Transparancy, int Red, int Green, int Blue)
		{
			a = Transparancy;
			r = Red;
			g = Green;
			b = Blue;
		}

		// If I add this as a parameterless constructor, I get this
error:
		// Structs cannot contain explicit parameterless
constructors
		// Also, default parameters are not permitted.
		//		public Color()
		//		{
		//			a = 0;
		//			r = 0;
		//			g = 0;
		//			b = 0;
		//		}

		// -----------------------
		// Public Instance Members
		// -----------------------

		/// &lt;summary&gt;
		///	IsEmpty Property
		/// &lt;/summary&gt;
		///
		/// &lt;remarks&gt;
		///	Indicates transparent black. R,G,B = 0; A=0?
		/// &lt;/remarks&gt;
		
		public bool IsEmpty 
		{
			get 
			{
				return ((A == 0) &amp;&amp; (R == 0) &amp;&amp; (G == 0) &amp;&amp;
(B == 0));
			}
		}

		/// &lt;summary&gt;
		///	A Property
		/// &lt;/summary&gt;
		///
		/// &lt;remarks&gt;
		///	The transparancy of the Color.
		/// &lt;/remarks&gt;
		
		public int A
		{
			get 
			{
				return a;
			}
			set 
			{
				a = value;
			}
		}

		/// &lt;summary&gt;
		///	R Property
		/// &lt;/summary&gt;
		///
		/// &lt;remarks&gt;
		///	The red value of the Color.
		/// &lt;/remarks&gt;
		
		public int R
		{
			get 
			{
				return r;
			}
			set 
			{
				r = value;
			}
		}

		/// &lt;summary&gt;
		///	G Property
		/// &lt;/summary&gt;
		///
		/// &lt;remarks&gt;
		///	The green value of the Color.
		/// &lt;/remarks&gt;
		
		public int G
		{
			get 
			{
				return g;
			}
			set 
			{
				g = value;
			}
		}

		/// &lt;summary&gt;
		///	B Property
		/// &lt;/summary&gt;
		///
		/// &lt;remarks&gt;
		///	The blue value of the Color.
		/// &lt;/remarks&gt;
		
		public int B
		{
			get 
			{
				return b;
			}
			set 
			{
				b = value;
			}
		}

		/// &lt;summary&gt;
		///	Equals Method
		/// &lt;/summary&gt;
		///
		/// &lt;remarks&gt;
		///	Checks equivalence of this Color and another object.
		/// &lt;/remarks&gt;
		
		public override bool Equals (object o)
		{
			if (!(o is Color))
				return false;

			return (this == (Color) o);
		}

		/// &lt;summary&gt;
		///	GetHashCode Method
		/// &lt;/summary&gt;
		///
		/// &lt;remarks&gt;
		///	Calculates a hashing value.
		/// &lt;/remarks&gt;
		
		public override int GetHashCode ()
		{
			return (((A^R)^G)^B);
		}

		/// &lt;summary&gt;
		///	ToString Method
		/// &lt;/summary&gt;
		///
		/// &lt;remarks&gt;
		///	Formats the Color as a string in ARGB notation.
		/// &lt;/remarks&gt;
		
		public override string ToString ()
		{
			return String.Format (&quot;[{0},{1},{2},{3}]&quot;, A, R, G,
B);
		}

	}
}
-----Original Message-----
From: Ben Houston [mailto:<A HREF="mailto:ben@exocortex.org">ben@exocortex.org</A>]
Sent: Wednesday, March 06, 2002 3:31 PM
To: <A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>
Cc: 'Dennis Hayes'
Subject: RE: [Mono-list] new color.cs for inclusion in CVS


Hi Dennis,

Many of your constructors look like the following:
&gt;<i> 		public static Color FromArgb (int a,int r, int g, int b)
</I>&gt;<i> 		{
</I>&gt;<i> 			return new Color (a,r,g,b);
</I>&gt;<i> 		}
</I>
The above may be really slow since it could require a box/unbox
operation to the struct when using the new operator (i.e. remember that
we are not using classes).  Although, I find that I am sometimes wrong
about this stuff so maybe someone should check my facts. ;-)
 
I would have written it like this instead:
&gt;<i> 		public static Color FromArgb (int a,int r, int g, int b)
</I>&gt;<i> 		{
</I>&gt;<i>			Color color;
</I>&gt;<i>			color.a = a;
</I>&gt;<i>			color.r = r;
</I>&gt;<i>			color.g = g;
</I>&gt;<i>			color.b = b;
</I>&gt;<i>			return	color;
</I>&gt;<i> 		}
</I>
Cheers,
-ben houston
4th Year Cognitive Science/Neuroscience
Carleton University, Ottawa, Canada
( <A HREF="mailto:ben@exocortex.org">ben@exocortex.org</A> / 613-266-0637 )
  


&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A> [mailto:<A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A>]
</I>On
&gt;<i> Behalf Of Dennis Hayes
</I>&gt;<i> Sent: Wednesday, March 06, 2002 3:50 PM
</I>&gt;<i> To: '<A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>'
</I>&gt;<i> Subject: [Mono-list] new color.cs for inclusion in CVS
</I>&gt;<i> 
</I>&gt;<i> Here is a decent start on the Color structure for
</I>System.Drawing.Color.
&gt;<i> I plan to finish this and the System.Drawing.KnownColor structure in
</I>the
&gt;<i> next few days.
</I>&gt;<i> Could someone (mkestner?) put this in CVS for me?
</I>&gt;<i> This compiles using Visual Studio, and passes some simple test.
</I>&gt;<i> Will also try to add tests to nunit in next few days as well.
</I>&gt;<i> Thanks.
</I>&gt;<i> Dennis
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003820.html">[Mono-list] new color.cs for inclusion in CVS
</A></li>
	<LI> Next message: <A HREF="003823.html">[Mono-list] new color.cs for inclusion in CVS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3821">[ date ]</a>
              <a href="thread.html#3821">[ thread ]</a>
              <a href="subject.html#3821">[ subject ]</a>
              <a href="author.html#3821">[ author ]</a>
         </LI>
       </UL>
</body></html>
