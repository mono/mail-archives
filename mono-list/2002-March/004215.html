<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] *Calendar implementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:miguel%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="004235.html">
   <LINK REL="Next"  HREF="004116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] *Calendar implementation
   </H1>
    <B>Miguel de Icaza
    </B> 
    <A HREF="mailto:miguel%40ximian.com"
       TITLE="[Mono-list] *Calendar implementation">miguel@ximian.com
       </A><BR>
    <I>20 Mar 2002 03:11:39 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="004235.html">[Mono-list] *Calendar implementation
</A></li>
        <LI> Next message: <A HREF="004116.html">[Mono-list] Compiling mono on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4215">[ date ]</a>
              <a href="thread.html#4215">[ thread ]</a>
              <a href="subject.html#4215">[ subject ]</a>
              <a href="author.html#4215">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; 	1. Use the registry calls from .NET and document as part of
</I>&gt;<i> &gt; 	   the class libraries (and document them in a new file here:
</I>&gt;<i> &gt; 	   mcs/class/docs/registry-keys with the information)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 	2. Abstract the call into a call that we can later abstract and
</I>&gt;<i> &gt; 	   adapt to the particular options of fetching this information.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I like the later, but it requires a couple of extra calls. 
</I>&gt;<i> 
</I>&gt;<i> The second approach isn't good, because we introduce a registry wrapper,
</I>&gt;<i> just another class to understand and to maintain. I think we document
</I>&gt;<i> the shortcoming and add the registry calls, when a registry exists. We
</I>&gt;<i> should do some real architectural work here. I would even tend to say,
</I>&gt;<i> that the registry is not one of Microsoft greatest achievements in
</I>&gt;<i> software design. Let's try to do it a little better.
</I>
I like your plan.  But since Mono will run both on Linux and Windows, in
the Windows world it makes sense to fetch the configuration information
(if any) from the Registry (if needed) and on Linux systems we might
have to load the defaults from a different place or define our own.

That is why I suggested that this kind of thing be abstracted.  Sure, it
adds another layer to be understood in this particular case, but it
would be again an internal interface.  It does not even need to be fully
generic, we can compile different &quot;backends&quot; in the assembly depending
on the OS.  So the Unix version can live in the Unix directory, and the
Windows version in the Windows directory.  Depending on the compilation
we pick one of those files. 

&gt;<i> Before that I've to do NUNIT tests, it's easy to get calendar
</I>&gt;<i> implementations wrong. (I've done some tests outside the Mono class
</I>&gt;<i> structure but not inside.)
</I>
Nick will correct me if I am wrong, but I believe that getting the tests
on NUnit right now might be tricky, as the corlib tests will very likely
fail with .NET, you would need to run them with Mono directly (this is
because many of our tests in corlib are testing details of the
internalcall interface).

For now, writing standalone tests in NUnit should be enough if you only
have the .NET framework and not the Mono runtime deployed/runing. 

Miguel


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="004235.html">[Mono-list] *Calendar implementation
</A></li>
	<LI> Next message: <A HREF="004116.html">[Mono-list] Compiling mono on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4215">[ date ]</a>
              <a href="thread.html#4215">[ thread ]</a>
              <a href="subject.html#4215">[ subject ]</a>
              <a href="author.html#4215">[ author ]</a>
         </LI>
       </UL>
</body></html>
