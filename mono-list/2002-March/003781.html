<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] A possible reason for getting newline problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mliotta%40iname.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="003795.html">
   <LINK REL="Next"  HREF="003794.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] A possible reason for getting newline problems
   </H1>
    <B>Matt Liotta
    </B> 
    <A HREF="mailto:mliotta%40iname.com"
       TITLE="[Mono-list] A possible reason for getting newline problems">mliotta@iname.com
       </A><BR>
    <I>Tue, 05 Mar 2002 16:11:13 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="003795.html">[Mono-list] A possible reason for getting newline problems
</A></li>
        <LI> Next message: <A HREF="003794.html">[Mono-list] A possible reason for getting newline problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3781">[ date ]</a>
              <a href="thread.html#3781">[ thread ]</a>
              <a href="subject.html#3781">[ subject ]</a>
              <a href="author.html#3781">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Doesn't using -kb cause the file to be handled as binary?

-Matt

On 3/5/02 3:32 PM, &quot;Martin Baulig&quot; &lt;<A HREF="mailto:martin@gnome.org">martin@gnome.org</A>&gt; wrote:

&gt;<i> Hi guys,
</I>&gt;<i> 
</I>&gt;<i> after this thread about Unix/Windows newline conventions a few days
</I>&gt;<i> ago I found a possible reason for these problems.
</I>&gt;<i> 
</I>&gt;<i> As I already mentioned earlier, I'm using an editor (GNU Emacs) which
</I>&gt;<i> correctly handles DOS files and saves the file without changing the
</I>&gt;<i> newline convention.
</I>&gt;<i> 
</I>&gt;<i> However, as I wanted to commit my Array.cs changes (the file is in
</I>&gt;<i> Unix mode) and looking at the patch, I realized that the whole file
</I>&gt;<i> was converted to DOS mode.
</I>&gt;<i> 
</I>&gt;<i> Since my editor cannot be responsible for this, the only possible
</I>&gt;<i> reason was the cvs checkout from anoncvs on Windows.
</I>&gt;<i> 
</I>&gt;<i> So the first thing I did was converting the file back to Unix
</I>&gt;<i> conventions, looking at the `cvs diff -u' output and then committing.
</I>&gt;<i> 
</I>&gt;<i> After that, I removed the file on my Windows box and checked it out
</I>&gt;<i> again from CVS - and it was in DOS mode again :-(
</I>&gt;<i> 
</I>&gt;<i> So I looked at this again - and finally found the reason:
</I>&gt;<i> 
</I>&gt;<i> The standard mode for CVS is to do so-called keyword substitutions
</I>&gt;<i> (so that things like $Id$ in a file are replaced) - and this also
</I>&gt;<i> changes the whole file to Windows line endings.
</I>&gt;<i> 
</I>&gt;<i> So you need to use the -kb flag on every checkout and update.
</I>&gt;<i> 
</I>&gt;<i> It's best to put something like this into your ~/.cvsrc:
</I>&gt;<i> 
</I>&gt;<i> ====
</I>&gt;<i> cvs -z3
</I>&gt;<i> update -d -P -kb
</I>&gt;<i> checkout -kb
</I>&gt;<i> diff -u
</I>&gt;<i> ====
</I>&gt;<i> 
</I>&gt;<i> Of course you also need to use an editor which can handle Unix line
</I>&gt;<i> endings - but the best editor is useless if the file is already
</I>&gt;<i> converted on checkout ...
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="003795.html">[Mono-list] A possible reason for getting newline problems
</A></li>
	<LI> Next message: <A HREF="003794.html">[Mono-list] A possible reason for getting newline problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3781">[ date ]</a>
              <a href="thread.html#3781">[ thread ]</a>
              <a href="subject.html#3781">[ subject ]</a>
              <a href="author.html#3781">[ author ]</a>
         </LI>
       </UL>
</body></html>
