<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Is PInvoke meant to work with mcs-1.2 ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Is%20PInvoke%20meant%20to%20work%20with%20mcs-1.2%20%3F&In-Reply-To=46264354.8070707%40fultondesigns.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034904.html">
   <LINK REL="Next"  HREF="034918.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Is PInvoke meant to work with mcs-1.2 ?</H1>
    <B>Miguel de Icaza</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Is%20PInvoke%20meant%20to%20work%20with%20mcs-1.2%20%3F&In-Reply-To=46264354.8070707%40fultondesigns.co.uk"
       TITLE="[Mono-list] Is PInvoke meant to work with mcs-1.2 ?">miguel at novell.com
       </A><BR>
    <I>Wed Apr 18 19:53:07 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="034904.html">[Mono-list] Is PInvoke meant to work with mcs-1.2 ?
</A></li>
        <LI>Next message: <A HREF="034918.html">[Mono-list]  [mono-list]DLL Import errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34905">[ date ]</a>
              <a href="thread.html#34905">[ thread ]</a>
              <a href="subject.html#34905">[ subject ]</a>
              <a href="author.html#34905">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i> Thanks for info. I don't understand how HandleRef was not supported
</I>&gt;<i> before. It has worked fine since we started using it in SWIG around
</I>&gt;<i> version 0.9. With Ubuntu Feisty distributing this version of Mono from
</I>&gt;<i> tomorrow, it means plenty of broken Mono code and no release since 1.2.3
</I>&gt;<i> to fix it. Oh well.
</I>
It worked by accident.   

You were merely lucky that the stars and memory values in memory
happened to work for you.   The runtime support to have it work was
never there, so chances were that you would be getting corrupt data.

It was only recently that it became more noticeable.

Miguel.
&gt;<i> William
</I>&gt;<i> 
</I>&gt;<i> Korn&#233;l P&#225;l wrote:
</I>&gt;<i> &gt; HandleRef requires runtime support it don't depends on the compiler so
</I>&gt;<i> &gt; make sure you are using a runtime version that implements HandleRef
</I>&gt;<i> &gt; support (you may have to use source code from SVN).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Some information on HandleRef support:
</I>&gt;<i> &gt; <A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=80786">http://bugzilla.ximian.com/show_bug.cgi?id=80786</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Korn&#233;l
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; ----- Original Message ----- From: &quot;William S Fulton&quot;
</I>&gt;<i> &gt; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">wsf at fultondesigns.co.uk</A>&gt;
</I>&gt;<i> &gt; To: &quot;Mono List&quot; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>&gt;
</I>&gt;<i> &gt; Sent: Wednesday, April 18, 2007 4:58 PM
</I>&gt;<i> &gt; Subject: [Mono-list] Is PInvoke meant to work with mcs-1.2 ?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;&gt; Sounds like a daft question, but the most basic of PInvoke wrappers
</I>&gt;<i> &gt;&gt; gives an exception when using mcs-1.2.3.1 on Ubuntu Dapper Drake and
</I>&gt;<i> &gt;&gt; I've also heard the same for Ubuntu Feisty. The code will execute okay
</I>&gt;<i> &gt;&gt; when compiling instead with gmcs-1.2.3.1. Looks like when a HandleRef is
</I>&gt;<i> &gt;&gt; used a System.ArgumentNullException is thrown even when the Handle is
</I>&gt;<i> &gt;&gt; non-null. Is this a known problem?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Some bug reports with more details, but I can narrow the problem down
</I>&gt;<i> &gt;&gt; and post soon...
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; XAPIAN:
</I>&gt;<i> &gt;&gt; <A HREF="http://www.xapian.org/cgi-bin/bugzilla/show_bug.cgi?id=132">http://www.xapian.org/cgi-bin/bugzilla/show_bug.cgi?id=132</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; SWIG:
</I>&gt;<i> &gt;&gt; <A HREF="https://sourceforge.net/tracker/?func=detail&amp;atid=101645&amp;aid=1702565&amp;group_id=1645">https://sourceforge.net/tracker/?func=detail&amp;atid=101645&amp;aid=1702565&amp;group_id=1645</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; William
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I></PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034904.html">[Mono-list] Is PInvoke meant to work with mcs-1.2 ?
</A></li>
	<LI>Next message: <A HREF="034918.html">[Mono-list]  [mono-list]DLL Import errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34905">[ date ]</a>
              <a href="thread.html#34905">[ thread ]</a>
              <a href="subject.html#34905">[ subject ]</a>
              <a href="author.html#34905">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
