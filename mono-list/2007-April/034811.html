<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] NAnt hangs under fakeroot
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20NAnt%20hangs%20under%20fakeroot&In-Reply-To=euk9ai%247qe%241%40sea.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034812.html">
   <LINK REL="Next"  HREF="034837.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] NAnt hangs under fakeroot</H1>
    <B>Frederik Carlier</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20NAnt%20hangs%20under%20fakeroot&In-Reply-To=euk9ai%247qe%241%40sea.gmane.org"
       TITLE="[Mono-list] NAnt hangs under fakeroot">frederik.carlier at carlier-online.be
       </A><BR>
    <I>Sun Apr  1 08:24:30 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="034812.html">[Mono-list] Observed difference in behaviour between Mono and	.NETRuntime
</A></li>
        <LI>Next message: <A HREF="034837.html">[Mono-list] NAnt hangs under fakeroot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34811">[ date ]</a>
              <a href="thread.html#34811">[ thread ]</a>
              <a href="subject.html#34811">[ subject ]</a>
              <a href="author.html#34811">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Robert,

I already set the MONO_SHARED_DIR variable (to the current directory,
though): see
[<A HREF="https://70.90.133.65:23793/svn/opendental/opendental4.7/packaging/opendental/debian/rules].">https://70.90.133.65:23793/svn/opendental/opendental4.7/packaging/opendental/debian/rules].</A>
Not doing so would cause a Mono crash, but now it just hangs. NAnt runs
fine when not running as fakeroot, and on Ubuntu (and probably Debian
unstable) it does run under fakeroot.

The main issue is that I'm not sure how to debug this issue (because it
apparently hangs). Can I somehow &quot;attach&quot; to this process and see where
it is stuck?

Frederik.

Robert Jordan schreef:
&gt;<i> Frederik Carlier wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Does anyone have a suggestions as how to debug this? What can I look at
</I>&gt;&gt;<i> to determine if it's NAnt waiting for something, a Mono bug, or ...?
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Try this:
</I>&gt;<i>
</I>&gt;<i> mkdir /tmp/fakeroot-wapi
</I>&gt;<i> MONO_SHARED_DIR=/tmp/fakeroot-wapi fakeroot ...
</I>&gt;<i>
</I>&gt;<i> Otherwise mono would try to write to /root/.wapi/ because
</I>&gt;<i> fakeroot doesn't fake the pwent functions that Mono is using
</I>&gt;<i> to obtain the home directory.
</I>&gt;<i>
</I>&gt;<i> Robert
</I>&gt;<i>
</I>&gt;<i>   
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034812.html">[Mono-list] Observed difference in behaviour between Mono and	.NETRuntime
</A></li>
	<LI>Next message: <A HREF="034837.html">[Mono-list] NAnt hangs under fakeroot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34811">[ date ]</a>
              <a href="thread.html#34811">[ thread ]</a>
              <a href="subject.html#34811">[ subject ]</a>
              <a href="author.html#34811">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
