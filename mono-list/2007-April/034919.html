<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] [mono-list]DLL Import errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20%5Bmono-list%5DDLL%20Import%20errors&In-Reply-To=7d157d580704180928k4d8fbeb3qb60b90560c71de2a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034918.html">
   <LINK REL="Next"  HREF="034920.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] [mono-list]DLL Import errors</H1>
    <B>Jeffrey Stedfast</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20%5Bmono-list%5DDLL%20Import%20errors&In-Reply-To=7d157d580704180928k4d8fbeb3qb60b90560c71de2a%40mail.gmail.com"
       TITLE="[Mono-list] [mono-list]DLL Import errors">fejj at novell.com
       </A><BR>
    <I>Fri Apr 20 14:10:04 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="034918.html">[Mono-list]  [mono-list]DLL Import errors
</A></li>
        <LI>Next message: <A HREF="034920.html">[Mono-list] [mono-list]DLL Import errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34919">[ date ]</a>
              <a href="thread.html#34919">[ thread ]</a>
              <a href="subject.html#34919">[ subject ]</a>
              <a href="author.html#34919">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2007-04-18 at 10:28 -0600, Eric Morgan wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt;Frequently the problem is that the library is improperly linked; mono
</I>&gt;<i> &gt;(effectively) loads libraries using dlopen(3) with RTLD_NOW set, so
</I>&gt;<i> if
</I>&gt;<i> &gt;your library depends on a symbol from another library but wasn't
</I>&gt;<i> linked 
</I>&gt;<i> &gt;against that library, you will get errors loading it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;You can also use <A HREF="http://www.jprl.com/dltest.c">http://www.jprl.com/dltest.c</A> to test this scenario
</I>&gt;<i> (see
</I>&gt;<i> &gt;the comments for compile commands). 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;If that still fails, you can reply to the mailing list with the Mono
</I>&gt;<i> &gt;output attached.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - Jon
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> Still fails, and the output is generally the same from when I was
</I>&gt;<i> using MONO_LOG_LEVEL=debug.  Here's the output from dltest: 
</I>&gt;<i> 
</I>&gt;<i> [<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">rengeo at localhost</A> dltest]$
</I>&gt;<i> ll /home/rengeo/RenegadeGeophysics/SeismicStudioLinux64/lib/
</I>&gt;<i> total 992
</I>&gt;<i> -r-xr-xr-x  1 rengeo rengeo 339956 Apr 17 10:14 libSentinelKeys32.a
</I>&gt;<i> -r-xr-xr-x  1 rengeo rengeo 315468 Feb  8 14:42 libSentinelKeys32.so
</I>&gt;<i> -r-xr-xr-x  1 rengeo rengeo 328388 Apr 17 12:26 libSentinelKeysJDK.so
</I>&gt;<i> [<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">rengeo at localhost</A>
</I>&gt;<i> dltest]$ ./dltest /home/rengeo/RenegadeGeophysics/SeismicStudioLinux64/lib/libSentinelKeys32.so
</I>&gt;<i> error loading library
</I>&gt;<i> `/home/rengeo/RenegadeGeophysics/SeismicStudioLinux64/lib/libSentinelKeys32.so': /home/rengeo/RenegadeGeophysics/SeismicStudioLinux64/lib/libSentinelKeys32.so: cannot open shared object file: No such file or directory 
</I>&gt;<i> [<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">rengeo at localhost</A> dltest]$
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> The library is clearly there, but both mono and this dltest is saying
</I>&gt;<i> that it doesn't exist.  I've tried copying the library directly into
</I>&gt;<i> the folder with dltest, and it still can't find it, even though is
</I>&gt;<i> literally right there. 
</I>
Don't assume that it means that the file you gave it doesn't exist (I
know, it is the most reasonable assumption to make). I suspect that
Jonathan is correct, the problem is that your library depends on symbols
not found in either the application nor in the library you are trying to
load, and so dlopen() is failing - of course, this is just a guess :)

The only way to know for sure is to read the source code for dlopen()
and try to figure out what the problem is that way.

Jeff


</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034918.html">[Mono-list]  [mono-list]DLL Import errors
</A></li>
	<LI>Next message: <A HREF="034920.html">[Mono-list] [mono-list]DLL Import errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34919">[ date ]</a>
              <a href="thread.html#34919">[ thread ]</a>
              <a href="subject.html#34919">[ subject ]</a>
              <a href="author.html#34919">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
