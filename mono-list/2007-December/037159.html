<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] GTK# on Windows since Mono 1.2...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20GTK%23%20on%20Windows%20since%20Mono%201.2...&In-Reply-To=32aa05ee0711280917n36de25f5m727199b4b47fbe79%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037158.html">
   <LINK REL="Next"  HREF="037160.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] GTK# on Windows since Mono 1.2...</H1>
    <B>David Cantin</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20GTK%23%20on%20Windows%20since%20Mono%201.2...&In-Reply-To=32aa05ee0711280917n36de25f5m727199b4b47fbe79%40mail.gmail.com"
       TITLE="[Mono-list] GTK# on Windows since Mono 1.2...">david_cantin at videotron.ca
       </A><BR>
    <I>Thu Dec  6 15:33:45 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="037158.html">[Mono-list] mcs for the 2.0 framework
</A></li>
        <LI>Next message: <A HREF="037160.html">[Mono-list] First Posting..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37159">[ date ]</a>
              <a href="thread.html#37159">[ thread ]</a>
              <a href="subject.html#37159">[ subject ]</a>
              <a href="author.html#37159">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I have a similar problem than you with my gtk# applications on Windows. But, I was able to solve your test case by using the gtk-sharp-2.10 assembly instead of gtk-sharp.

So use 
	mcs -pkg:gtk-sharp-2.10 test2.cs 
instead of 
	mcs -pkg:gtk-sharp test2.cs

But, that didn't solve mine. I'm trying to create a simple test case. But my bug is difficult to reproduce in a simple application... anyway.. maybe more on that later.

David

Le mercredi 28 novembre 2007 &#224; 12:17 -0500, Philip Covington a &#233;crit :
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I am using GTK# with Mono on Windows.  The following test program
</I>&gt;<i> works on Mono versions 1.2 and older.  On Mono versions 1.2.1 and
</I>&gt;<i> later (all the way to 1.2.5.2) when I click the button widget, I get
</I>&gt;<i> an error (see below).  I have included the test app (test2.cs) and the
</I>&gt;<i> command line arguments used to compile it below.  I have the exact
</I>&gt;<i> same problem with Glade#.  The test program is copied off of the GTK#
</I>&gt;<i> tutorial page.
</I>&gt;<i> 
</I>&gt;<i> This seems to be a problem since 1.2.1, but I was surprised not to
</I>&gt;<i> have found any information about this problem in searching around.
</I>&gt;<i> Should I be using GTK# on Windows or is no one actually using it on
</I>&gt;<i> Windows (hence no bug report)?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Phil Covington
</I>&gt;<i> <A HREF="http://www.philcovington.com">http://www.philcovington.com</A>
</I>&gt;<i> 
</I>&gt;<i> ---------------------------------------------------------
</I>&gt;<i> test2.cs:
</I>&gt;<i> ---------------------------------------------------------
</I>&gt;<i> using Gtk;
</I>&gt;<i> using System;
</I>&gt;<i> 
</I>&gt;<i> public class ButtonApp  {
</I>&gt;<i> 
</I>&gt;<i>      public static int Main (string[] args)
</I>&gt;<i>      {
</I>&gt;<i>           Application.Init ();
</I>&gt;<i>           Window win = new Window (&quot;Button Tester&quot;);
</I>&gt;<i>           win.SetDefaultSize (200, 150);
</I>&gt;<i>           win.DeleteEvent += new DeleteEventHandler (Window_Delete);
</I>&gt;<i>           Button btn = new Button (&quot;Click Me&quot;);
</I>&gt;<i>           btn.Clicked += new EventHandler (btn_click);
</I>&gt;<i>           win.Add (btn);
</I>&gt;<i>           win.ShowAll ();
</I>&gt;<i>           Application.Run ();
</I>&gt;<i>           return 0;
</I>&gt;<i>      }
</I>&gt;<i> 
</I>&gt;<i>      static void btn_click (object obj, EventArgs args)
</I>&gt;<i>      {
</I>&gt;<i>           Console.WriteLine (&quot;Button Clicked&quot;);
</I>&gt;<i>      }
</I>&gt;<i> 
</I>&gt;<i>      static void Window_Delete (object obj, DeleteEventArgs args)
</I>&gt;<i>      {
</I>&gt;<i>           Application.Quit ();
</I>&gt;<i>           args.RetVal = true;
</I>&gt;<i>      }
</I>&gt;<i> }
</I>&gt;<i> -------------------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> test2.cs compiled with:
</I>&gt;<i> 
</I>&gt;<i> &gt;mcs -pkg:gtk-sharp test2.cs
</I>&gt;<i> 
</I>&gt;<i> run:
</I>&gt;<i> 
</I>&gt;<i> &gt;mono test2.exe
</I>&gt;<i> 
</I>&gt;<i> --------------------------------------------------------------------
</I>&gt;<i> Mono 1.2:
</I>&gt;<i> 
</I>&gt;<i> C:\Data\project&gt;mono test2.exe
</I>&gt;<i> Button Clicked
</I>&gt;<i> Button Clicked
</I>&gt;<i> Button Clicked
</I>&gt;<i> Button Clicked
</I>&gt;<i> 
</I>&gt;<i> C:\Data\project&gt;
</I>&gt;<i> 
</I>&gt;<i> ---------------------------------------------------------------------
</I>&gt;<i> Mono 1.2.1:
</I>&gt;<i> 
</I>&gt;<i> C:\Data\project&gt;&gt;mono test2.exe
</I>&gt;<i> Button Clicked
</I>&gt;<i> 
</I>&gt;<i> =================================================================
</I>&gt;<i> Got a SIGSEGV while executing native code. This usually indicates
</I>&gt;<i> a fatal error in the mono runtime or one of the native libraries
</I>&gt;<i> used by your application.
</I>&gt;<i> =================================================================
</I>&gt;<i> 
</I>&gt;<i> Stacktrace:
</I>&gt;<i> 
</I>&gt;<i>   at (wrapper managed-to-native) Gtk.Application.gtk_main () &lt;0x00004&gt;
</I>&gt;<i>   at (wrapper managed-to-native) Gtk.Application.gtk_main () &lt;0xffffffff&gt;
</I>&gt;<i>   at Gtk.Application.Run () &lt;0x00007&gt;
</I>&gt;<i>   at ButtonApp.Main (string[]) &lt;0x000f2&gt;
</I>&gt;<i>   at (wrapper runtime-invoke) System.Object.runtime_invoke_int_string[] (object,
</I>&gt;<i> intptr,intptr,intptr) &lt;0xffffffff&gt;
</I>&gt;<i> 
</I>&gt;<i> This application has requested the Runtime to terminate it in an unusual way.
</I>&gt;<i> Please contact the application's support team for more information.
</I>&gt;<i> 
</I>&gt;<i> C:\Data\project&gt;
</I>&gt;<i> -------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> Mono 1.2.5.2:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> C:\Data\project&gt;mono test2.exe
</I>&gt;<i> Button Clicked
</I>&gt;<i> Stacktrace:
</I>&gt;<i> 
</I>&gt;<i>   at (wrapper managed-to-native) Gtk.Application.gtk_main () &lt;0x00004&gt;
</I>&gt;<i>   at (wrapper managed-to-native) Gtk.Application.gtk_main () &lt;0xffffffff&gt;
</I>&gt;<i>   at Gtk.Application.Run () &lt;0x00007&gt;
</I>&gt;<i>   at ButtonApp.Main (string[]) &lt;0x000ee&gt;
</I>&gt;<i>   at (wrapper runtime-invoke) ButtonApp.runtime_invoke_int_string[] (object,intp
</I>&gt;<i> tr,intptr,intptr) &lt;0xffffffff&gt;
</I>&gt;<i> 
</I>&gt;<i> This application has requested the Runtime to terminate it in an unusual way.
</I>&gt;<i> Please contact the application's support team for more information.
</I>&gt;<i> 
</I>&gt;<i> C:\Data\project&gt;
</I>&gt;<i> -----------------------------------------------------------------------
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037158.html">[Mono-list] mcs for the 2.0 framework
</A></li>
	<LI>Next message: <A HREF="037160.html">[Mono-list] First Posting..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37159">[ date ]</a>
              <a href="thread.html#37159">[ thread ]</a>
              <a href="subject.html#37159">[ subject ]</a>
              <a href="author.html#37159">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
