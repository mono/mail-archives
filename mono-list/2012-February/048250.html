<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] multiple dll mappings in library dllmap
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20multiple%20dll%20mappings%20in%20library%20dllmap&In-Reply-To=%3CCAAPegz3SGxhTZRU8JWbRFj3MfMb8GTSxj86kvvrfcVKzdNZEmg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048249.html">
   <LINK REL="Next"  HREF="048251.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] multiple dll mappings in library dllmap</H1>
    <B>Chris Morgan</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20multiple%20dll%20mappings%20in%20library%20dllmap&In-Reply-To=%3CCAAPegz3SGxhTZRU8JWbRFj3MfMb8GTSxj86kvvrfcVKzdNZEmg%40mail.gmail.com%3E"
       TITLE="[Mono-list] multiple dll mappings in library dllmap">chmorgan at gmail.com
       </A><BR>
    <I>Mon Feb 13 18:07:12 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="048249.html">[Mono-list] multiple dll mappings in library dllmap
</A></li>
        <LI>Next message: <A HREF="048251.html">[Mono-list] How to debug: my ASP.NET website hangs with multiple simultaneous requests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48250">[ date ]</a>
              <a href="thread.html#48250">[ thread ]</a>
              <a href="subject.html#48250">[ subject ]</a>
              <a href="author.html#48250">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Feb 13, 2012 at 1:01 PM, Doug Blank &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">doug.blank at gmail.com</A>&gt; wrote:
&gt;<i> On Sun, Jan 29, 2012 at 12:32 PM, Chris Morgan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">chmorgan at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hello.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm trying to dll map libpcap for the SharpPcap.dll.config file. The
</I>&gt;&gt;<i> difficulty is that different distros have different dll names:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ubuntu has libpcap.so.0.8 and libpcap.so.1.1.1, fedora appears to have
</I>&gt;&gt;<i> libpcap.so.1 and libpcap.so.1.2.1.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The documentation for dll mapping,
</I>&gt;&gt;<i> <A HREF="http://www.mono-project.com/Config_DllMap,">http://www.mono-project.com/Config_DllMap,</A> doesn't seem to indicate
</I>&gt;&gt;<i> that multiple names are supported and testing with multiple dllmap
</I>&gt;&gt;<i> entries shows that the last entry takes effect.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I also tried using a wildcard like '*' but that doesn't seem to work either.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Any ideas on how I might be able to map to all three of these dll
</I>&gt;&gt;<i> versions so I can maintain compatibility with multiple distributions?
</I>&gt;<i>
</I>&gt;<i> Arguably, the OS should have sim links from &#160;libpcap.so &#160;to
</I>&gt;<i> libpcap.so.1. If not, surely that must be breaking some Linux standard
</I>&gt;<i> rules.
</I>&gt;<i>
</I>
There are rules. The Debian packager isn't going to change the
packages though because technically the abi hasn't changed since
libpcap 0.8. See this bug report that I filed
<A HREF="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=657900">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=657900</A> Now I could be
confused and wrong and I'd like to know why. It just seems pretty dumb
to me that Fedora and OpenSUSE have the library symlink and name that
matches what the libpcap guys ship, but the Debian guy won't even
create the extra symlink just to match them. I can understand not
wanting to require all users of libpcap to re-link but its a little
frustrating that he won't add the symlink to make things look the
same.



&gt;<i> Can you create your own links to the correct files? That might require
</I>&gt;<i> a config script, but that is probably the &quot;correct&quot; way to handle the
</I>&gt;<i> problem.
</I>&gt;<i>
</I>
It would be a huge pain. Users now just download the library, add it
as a reference in their project and go. Adding a config script that
would require root access to modify their filesystem would be a pain.
Or are you suggesting symlinks in the local directory? Its still a
pain since they would have to ship with that script and run it before
the user could run their app less the pinvokes would fail.

So far I haven't found a reasonable solution.

Chris
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048249.html">[Mono-list] multiple dll mappings in library dllmap
</A></li>
	<LI>Next message: <A HREF="048251.html">[Mono-list] How to debug: my ASP.NET website hangs with multiple simultaneous requests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48250">[ date ]</a>
              <a href="thread.html#48250">[ thread ]</a>
              <a href="subject.html#48250">[ subject ]</a>
              <a href="author.html#48250">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
