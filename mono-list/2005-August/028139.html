<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Gtk.HTML.Print() - has anyone used this before?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Gtk.HTML.Print%28%29%20-%20has%20anyone%20used%20this%20before%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028138.html">
   <LINK REL="Next"  HREF="028141.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Gtk.HTML.Print() - has anyone used this before?</H1>
    <B>Rafael Ferreira</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Gtk.HTML.Print%28%29%20-%20has%20anyone%20used%20this%20before%3F&In-Reply-To="
       TITLE="[Mono-list] Gtk.HTML.Print() - has anyone used this before?">lists at ophion.org
       </A><BR>
    <I>Sun Aug 14 06:55:17 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="028138.html">[Mono-list] Mono app to load at startup
</A></li>
        <LI>Next message: <A HREF="028141.html">[Mono-list] Invalid IL Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28139">[ date ]</a>
              <a href="thread.html#28139">[ thread ]</a>
              <a href="subject.html#28139">[ subject ]</a>
              <a href="author.html#28139">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hey everyone, 

I'm trying to print a HTML page using Gtk.HTML.Print(). Everything seems
to work but I don't get a printed page :-). This is my first attempt at
this and the documentation has been kinda scarce, so if anyone can help
me figure out what I'm doing wrong I'll be very thankful. 


snippet of my code:

	using System;
	using Gtk;
	using Gnome;

	public class GnomePrintManager : IPrintManager {
		public void Print(string Html) {
			PrintJob pj = new PrintJob (PrintConfig.Default ());
			PrintDialog dialog = new PrintDialog (pj, &quot;Dummy Title&quot;, 0);
			int response = dialog.Run ();
			
			if (response == (int) PrintButtons.Cancel) {
				Console.WriteLine (&quot;Canceled&quot;);
				dialog.Hide ();
				dialog.Dispose ();
				return;
			}else if (response == (int) PrintButtons.Print) {
				Console.WriteLine(&quot;**** printing ****&quot;);
				PrintContext ctx = pj.Context;
				Gtk.HTML gtk_html = new Gtk.HTML(Html);
				gtk_html.Print(ctx);
				ctx.Close();
			}else if (response == (int) PrintButtons.Preview) {
				new PrintJobPreview(pj,&quot;Dummy Title&quot;);
			}
			
			pj.Close();
			dialog.Hide();
			dialog.Dispose();
			return;
		}
	}
}

cheers, 

 -raf 


</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028138.html">[Mono-list] Mono app to load at startup
</A></li>
	<LI>Next message: <A HREF="028141.html">[Mono-list] Invalid IL Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28139">[ date ]</a>
              <a href="thread.html#28139">[ thread ]</a>
              <a href="subject.html#28139">[ subject ]</a>
              <a href="author.html#28139">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
