<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Re: Mono-list Digest, Vol 4, Issue 5
	sender for your account)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Re%3A%20Mono-list%20Digest%2C%20Vol%204%2C%20Issue%205%0A%09sender%20for%20your%20account%29&In-Reply-To=20050804091822.D34641D01F6%40lists.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028045.html">
   <LINK REL="Next"  HREF="028049.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Re: Mono-list Digest, Vol 4, Issue 5
	sender for your account)</H1>
    <B>mono-list.1.tracyanne at spamgourmet.com</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Re%3A%20Mono-list%20Digest%2C%20Vol%204%2C%20Issue%205%0A%09sender%20for%20your%20account%29&In-Reply-To=20050804091822.D34641D01F6%40lists.ximian.com"
       TITLE="[Mono-list] Re: Mono-list Digest, Vol 4, Issue 5
	sender for your account)">mono-list.1.tracyanne at spamgourmet.com
       </A><BR>
    <I>Thu Aug  4 17:57:24 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="028045.html">[Mono-list] Problems running monodevelop (svn) and muine (svn)
</A></li>
        <LI>Next message: <A HREF="028049.html">[Mono-list] Datawindows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28048">[ date ]</a>
              <a href="thread.html#28048">[ thread ]</a>
              <a href="subject.html#28048">[ subject ]</a>
              <a href="author.html#28048">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I realised what I was doing wrong. I didn't have the test for null &quot;if
(InputError != null)&quot; in my original code, and as I wasn't at the time
subscribing to the event, it was naturally going to error out.

By the way the code I sent in is pretty much what you'll find on page
309 (Chapter 6 Advanced C# Topics) of Wrox's Professional C#. That's
where i copied it from, for my project.

regards

Tracy Barlow



&gt;<i> Date: Thu, 04 Aug 2005 01:56:52 -0700
</I>&gt;<i> From: Jackson Harper &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jackson at ximian.com</A>&gt;
</I>&gt;<i> Subject: Re: [Mono-list] Problem with Events
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
</I>&gt;<i> Message-ID: &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">1123145813.7867.18.camel at willy.site</A>&gt;
</I>&gt;<i> Content-Type: text/plain
</I>&gt;<i> 
</I>&gt;<i> On Thu, 2005-08-04 at 17:30 +1000, <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list.1.tracyanne at spamgourmet.com</A>
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; Can anyone see anything wrong with this code. It looks to me to be
</I>&gt;<i> &gt; correct syntax for defining and raising an event. It compiles without
</I>&gt;<i> &gt; error, but when I run it I get the following error message
</I>&gt;<i> 
</I>&gt;<i> Nothing is ever subscribing to your event, so it is null when you are
</I>&gt;<i> trying to invoke it. You need something like:
</I>&gt;<i> 
</I>&gt;<i> OnInputError += new InputError (ErrorHandlerFunction); somewhere.
</I>&gt;<i> 
</I>&gt;<i> A few general style comments:
</I>&gt;<i> 
</I>&gt;<i> 1. Normally event handler delegates are named &lt;something&gt;Handler. So
</I>&gt;<i> your InputError delegate would be named InputErrorHandler.
</I>&gt;<i> 
</I>&gt;<i> 2. Normally events names don't start with On. So OnInputError would be
</I>&gt;<i> InputError.
</I>&gt;<i> 
</I>&gt;<i> 3. It's common to wrap the instantiation of an event in a protected
</I>&gt;<i> method named On&lt;Event Name&gt;. So you would have a method that looks like
</I>&gt;<i> this:
</I>&gt;<i> 
</I>&gt;<i> protected void OnInputError (InputErrorEventArgs e)
</I>&gt;<i> {
</I>&gt;<i>         if (InputError != null)
</I>&gt;<i>                 InputError (this, e);
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Jackson
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Unhandled Exception: System.NullReferenceException: Object reference not
</I>&gt;<i> &gt; set to an instance of an object
</I>&gt;<i> &gt; in [0x00001] (at /home/tracy/MonoDevelop/TestEvents/Main.cs:22)
</I>&gt;<i> &gt; RaiseAnEvent:Run ()
</I>&gt;<i> &gt; in [0x00007] (at /home/tracy/MonoDevelop/TestEvents/Main.cs:11)
</I>&gt;<i> &gt; MainClass:Main (System.String[] args)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I'm using Mono_1.1.8-2.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; // project created on 04/08/2005 at 17:17
</I>&gt;<i> &gt; using System;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; class MainClass
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt; 				
</I>&gt;<i> &gt; 	public static void Main(string[] args)
</I>&gt;<i> &gt; 	{
</I>&gt;<i> &gt; 		RaiseAnEvent RAE = new RaiseAnEvent();
</I>&gt;<i> &gt; 		RAE.Run();
</I>&gt;<i> &gt; 	}
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; class RaiseAnEvent
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt; 	public delegate void InputError(object sender, InputErrorEventArgs e);
</I>&gt;<i> &gt; 	public event InputError OnInputError;
</I>&gt;<i> &gt; 	
</I>&gt;<i> &gt; 	public void Run()
</I>&gt;<i> &gt; 	{
</I>&gt;<i> &gt; 		OnInputError(this, new InputErrorEventArgs(&quot;DF&quot;, &quot;OI&quot;));
</I>&gt;<i> &gt; 	}
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 	
</I>&gt;<i> &gt; //Class for passing Input Error messages to the application
</I>&gt;<i> &gt; class InputErrorEventArgs : EventArgs
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt; 	private string errorMessage;
</I>&gt;<i> &gt; 	private string errorSource;
</I>&gt;<i> &gt; 	
</I>&gt;<i> &gt; 	public string ErrorMessage
</I>&gt;<i> &gt; 	{
</I>&gt;<i> &gt; 		get
</I>&gt;<i> &gt; 		{
</I>&gt;<i> &gt; 			return errorMessage;
</I>&gt;<i> &gt; 		}
</I>&gt;<i> &gt; 	}
</I>&gt;<i> &gt; 	
</I>&gt;<i> &gt; 	public string ErrorSource
</I>&gt;<i> &gt; 	{
</I>&gt;<i> &gt; 		get
</I>&gt;<i> &gt; 		{
</I>&gt;<i> &gt; 			return errorSource;
</I>&gt;<i> &gt; 		}
</I>&gt;<i> &gt; 	}
</I>&gt;<i> &gt; 	
</I>&gt;<i> &gt; 	public InputErrorEventArgs(string Message, string Source) : base()
</I>&gt;<i> &gt; 	{
</I>&gt;<i> &gt; 		errorMessage = Message;
</I>&gt;<i> &gt; 		errorSource = Source;
</I>&gt;<i> &gt; 	}
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list mailing list
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> End of Mono-list Digest, Vol 4, Issue 5
</I>&gt;<i> ***************************************
</I>&gt;<i> 
</I></PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028045.html">[Mono-list] Problems running monodevelop (svn) and muine (svn)
</A></li>
	<LI>Next message: <A HREF="028049.html">[Mono-list] Datawindows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28048">[ date ]</a>
              <a href="thread.html#28048">[ thread ]</a>
              <a href="subject.html#28048">[ subject ]</a>
              <a href="author.html#28048">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
