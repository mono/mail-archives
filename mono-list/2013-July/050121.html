<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] [WCF] WebHttpBinding and HTTPS: Basic Auth not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20%5BWCF%5D%20WebHttpBinding%20and%20HTTPS%3A%20Basic%20Auth%20not%20working&In-Reply-To=%3CCAP4SEB9SjvNszeujw2ir8n07EEaC978VRjRQsc5EeGVOnuWZxQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050120.html">
   <LINK REL="Next"  HREF="050122.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] [WCF] WebHttpBinding and HTTPS: Basic Auth not working</H1>
    <B>Tobias Kolb</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20%5BWCF%5D%20WebHttpBinding%20and%20HTTPS%3A%20Basic%20Auth%20not%20working&In-Reply-To=%3CCAP4SEB9SjvNszeujw2ir8n07EEaC978VRjRQsc5EeGVOnuWZxQ%40mail.gmail.com%3E"
       TITLE="[Mono-list] [WCF] WebHttpBinding and HTTPS: Basic Auth not working">kolb.tobias at gmail.com
       </A><BR>
    <I>Wed Jul 31 14:26:16 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="050120.html">[Mono-list] Can't get a simple shared object to be used -	DllNotFoundException
</A></li>
        <LI>Next message: <A HREF="050122.html">[Mono-list] Mono 3.2.0 Asp.NET MVC Memory Leak
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50121">[ date ]</a>
              <a href="thread.html#50121">[ thread ]</a>
              <a href="subject.html#50121">[ subject ]</a>
              <a href="author.html#50121">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to get my Windows-App running with Mono on a Linux machine
(my aim is to run it on a Raspberry Pi but for the first step I want
it just running on a normal X86 Ubuntu PC to see if it works). The App
self hosts a REST/JSON Webservice, secured with transport security
(HTTPS) and client authentication with Basic Auth (username/password).

On Windows with Microsoft .NET 4.0 everything works fine, but with
Mono I have the problem that the client authentication part seems to
be ignored. The Service provides the result pages for REST calls
without any login dialog for Basic auth displayed. I've verified that
the Validate() method of my CustomUserNameValidator implementation
never gets called. I'm using a self-signed certificate (generated by
mono makecert and bound to port 8080 with httpcfg) if that matters.

Can it be that Mono just dont't support WebHttpBinding with SSL and
Basic Auth? My Mono version is 2.10.8.1-5ubuntu1 and this is the part
that configures the hosting by code (not by app.config):

// Create the ServiceHost for Webservice
_host = new WebServiceHost(Webservice, new
Uri(&quot;<A HREF="https://localhost:8080/LogoControl/">https://localhost:8080/LogoControl/</A>&quot;));

_host.Credentials.UserNameAuthentication.UserNamePasswordValidationMode
= System.ServiceModel.Security.UserNamePasswordValidationMode.Custom;
_host.Credentials.UserNameAuthentication.CustomUserNamePasswordValidator
= new CustomUserNameValidator();

// Service Endpoint for REST
WebHttpBinding wb = new WebHttpBinding(WebHttpSecurityMode.Transport);
wb.Security.Transport.ClientCredentialType = HttpClientCredentialType.Basic;

var se = _host.AddServiceEndpoint(typeof(IRemoteControl), wb, &quot;&quot;);
se.Behaviors.Add(new WebHttpBehavior());
_host.Open();


If I can provide any other information please let me know.

Tobias
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050120.html">[Mono-list] Can't get a simple shared object to be used -	DllNotFoundException
</A></li>
	<LI>Next message: <A HREF="050122.html">[Mono-list] Mono 3.2.0 Asp.NET MVC Memory Leak
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50121">[ date ]</a>
              <a href="thread.html#50121">[ thread ]</a>
              <a href="subject.html#50121">[ subject ]</a>
              <a href="author.html#50121">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
