<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Unable to  DllImporting libc.so
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:lupus%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="009861.html">
   <LINK REL="Next"  HREF="009858.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Unable to  DllImporting libc.so
   </H1>
    <B>Paolo Molaro
    </B> 
    <A HREF="mailto:lupus%40ximian.com"
       TITLE="[Mono-list] Unable to  DllImporting libc.so">lupus@ximian.com
       </A><BR>
    <I>Tue, 26 Nov 2002 16:45:40 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="009861.html">[Mono-list] Unable to  DllImporting libc.so
</A></li>
        <LI> Next message: <A HREF="009858.html">[Mono-list] System.Data Linux Compilation Error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9936">[ date ]</a>
              <a href="thread.html#9936">[ thread ]</a>
              <a href="subject.html#9936">[ subject ]</a>
              <a href="author.html#9936">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/21/02 Adam Keys wrote:
&gt;<i> I am trying to implement a POSIX wrapper and so I need to DllImport
</I>&gt;<i> libc.so.  Whenever I run my code[1] mono outputs the following:
</I>&gt;<i> 
</I>&gt;<i> ** (process:18635): WARNING **: Failed to load library libc.so (libc.so)
</I>&gt;<i> 
</I>&gt;<i> I've tried setting MONO_PATH and LD_LIBRARY_PATH to /usr/lib but I am
</I>&gt;<i> still unable to load libc.so.  Copying libc.so to the working directory
</I>&gt;<i> doesn't seem to help either.
</I>&gt;<i> 
</I>&gt;<i> I've attached[2] strace output of running mono.  Any idea what's going
</I>&gt;<i> on here?  It looks like it fails to load ./libc.so and then tries
</I>&gt;<i> /usr/lib/libc.so, successfully opens the file but then fails on calls to
</I>&gt;<i> access(2).
</I>
Use DllImport (&quot;libc&quot;): mono will map it to the libc on your system
according to the dllmap entries in the mono config file (or you can add
an entry for libc.so as well).
man mono-config has more details (or look into mono/data/config.in in
the sources).

lupus

-- 
-----------------------------------------------------------------
<A HREF="mailto:lupus@debian.org">lupus@debian.org</A>                                     debian/rules
<A HREF="mailto:lupus@ximian.com">lupus@ximian.com</A>                             Monkeys do it better


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="009861.html">[Mono-list] Unable to  DllImporting libc.so
</A></li>
	<LI> Next message: <A HREF="009858.html">[Mono-list] System.Data Linux Compilation Error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9936">[ date ]</a>
              <a href="thread.html#9936">[ thread ]</a>
              <a href="subject.html#9936">[ subject ]</a>
              <a href="author.html#9936">[ author ]</a>
         </LI>
       </UL>
</body></html>
