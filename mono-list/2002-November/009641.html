<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mono/Java interop?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ben.hutchison%40intamission.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="009509.html">
   <LINK REL="Next"  HREF="009470.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mono/Java interop?
   </H1>
    <B>Ben Hutchison
    </B> 
    <A HREF="mailto:ben.hutchison%40intamission.com"
       TITLE="[Mono-list] Mono/Java interop?">ben.hutchison@intamission.com
       </A><BR>
    <I>Tue, 12 Nov 2002 14:18:29 -0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="009509.html">[Mono-list] Mono/Java interop?
</A></li>
        <LI> Next message: <A HREF="009470.html">[Mono-list] Mono/Java interop?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9641">[ date ]</a>
              <a href="thread.html#9641">[ thread ]</a>
              <a href="subject.html#9641">[ subject ]</a>
              <a href="author.html#9641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> -----Original Message-----
</I>&gt;<i> From: Miguel de Icaza [mailto:<A HREF="mailto:miguel@ximian.com">miguel@ximian.com</A>] 
</I>&gt;<i> Sent: 07 November 2002 18:57
</I>&gt;<i> To: Ben Hutchison
</I>&gt;<i> Cc: Mono List
</I>&gt;<i> Subject: RE: [Mono-list] Mono/Java interop?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> hello!
</I>&gt;<i> 
</I>&gt;<i> &gt; Although similar, I don't think the two libraries are close 
</I>&gt;<i> enough to
</I>&gt;<i> &gt; perform this mapping successfully. I think such an approach 
</I>&gt;<i> will provide
</I>&gt;<i> &gt; shallow interoperability that initally looks good, but 
</I>&gt;<i> worsens the more
</I>&gt;<i> &gt; complexity you introduce. My personal feeling is that 
</I>&gt;<i> cross-compilation
</I>&gt;<i> &gt; (like <A HREF="http://www.go-mono.com/java.html">http://www.go-mono.com/java.html</A>) doesn't add as much value as
</I>&gt;<i> &gt; &quot;bridging&quot;...
</I>&gt;<i> 
</I>&gt;<i> I think you should handle specially a few classes, and the rest would
</I>&gt;<i> come from an existing class library like GNU Classpath.
</I>&gt;<i> 
</I>&gt;<i> &gt; (c) Complex pass-by-value objects which likely as not have no
</I>&gt;<i> &gt; representation in the other framework; imagine sending eg a
</I>&gt;<i> &gt; javax.swing.JButton to .Net (remember it cant instatiate it 
</I>&gt;<i> directly as
</I>&gt;<i> &gt; .Net doesn't understand the Java class definition). How is 
</I>&gt;<i> .Net going to
</I>&gt;<i> &gt; handle this piece of data?
</I>&gt;<i> 
</I>&gt;<i> It is a problem for a full bridge, but not for a common subset.  For
</I>&gt;<i> example, take the .NET Common Type System (CTS): it defines a 
</I>&gt;<i> subset of
</I>&gt;<i> the features available to languages (and it is for example a subset of
</I>&gt;<i> C#, not every C# feature can be exposed to the CTS).
</I>&gt;<i> 
</I>&gt;<i> Trying to solve the very complex problem of a perfect mapping is the
</I>&gt;<i> path to oblivion, you want to make a compromise, and go for a subset. 
</I>&gt;<i> CORBA for instance defines a nice subset that maps to a 
</I>&gt;<i> number of modern
</I>&gt;<i> languages. 
</I>
Ok, Im starting to come around to this viewpoint. 

The large part of the Java libraries are written in pure Java (whether
they be Suns, GNU, IBMs, etc). These rest upon a few key classes (eg
Thread, Class, Runtime, SocketImpl) which use native code to access the
underlying OS functionality (similar to Mono).

If a mapping from these &quot;foundation classes&quot; onto the .Net equivalents
(which there almost invariably are) can be developed...

1.  A Java bytecode converter can &quot;fix&quot; Java method invocations on
foundation classes according to the mapping as it converts. If it
encounters a non-foundation method, it treats it as a normal compile
dependency and converts the referenced class too. If it hits a
non-foundation native method, it can throw an exception - bad luck!

2.  A remote bridge can make excellent use of the converted classes. Any
Java class that has been converted or is a foundation class can be used
as pass-by-value parameter, and remote refs/proxies to remote Java
objects can be downcast to ported/foundation Java interfaces.

I think this could (almost) really work.... I guess a next step on this
mapping idea is to study some parts of the foundation API, looking for
any aspects of the two libraries that are intractably different.

And on that note, I will allude to the one that bothers me most - which
Im going to write up in another post - the totally different way that
.Net and Java handle class/assembly loading, and the interaction with
AppDomains.

Regards
Ben



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="009509.html">[Mono-list] Mono/Java interop?
</A></li>
	<LI> Next message: <A HREF="009470.html">[Mono-list] Mono/Java interop?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9641">[ date ]</a>
              <a href="thread.html#9641">[ thread ]</a>
              <a href="subject.html#9641">[ subject ]</a>
              <a href="author.html#9641">[ author ]</a>
         </LI>
       </UL>
</body></html>
