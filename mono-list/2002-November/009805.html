<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Writing daemons in C# - SCM for Linux
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:kstrempel%40gmx.de">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="009823.html">
   <LINK REL="Next"  HREF="009806.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Writing daemons in C# - SCM for Linux
   </H1>
    <B>Kai Strempel
    </B> 
    <A HREF="mailto:kstrempel%40gmx.de"
       TITLE="[Mono-list] Writing daemons in C# - SCM for Linux">kstrempel@gmx.de
       </A><BR>
    <I>Wed, 20 Nov 2002 15:52:18 +0100 (MET)</I>
    <P><UL>
        <LI> Previous message: <A HREF="009823.html">[Mono-list] contributing
</A></li>
        <LI> Next message: <A HREF="009806.html">[Mono-list] Writing daemons in C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9805">[ date ]</a>
              <a href="thread.html#9805">[ thread ]</a>
              <a href="subject.html#9805">[ subject ]</a>
              <a href="author.html#9805">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Wrinting .NET deamons with mono.

Hi mono hackers.

To support .NET daemon’s with mono we need an extra software package.
Actually we have two ideas for this problem.

1)
High Integration with SysV daemon structure: each mono service is a
different SysV daemon.
See Mathias previous post for an analysis of this option.

2)
A unique SysV process which will be the MONO.SCM: each mono service will be
managed by these process.
My posted idea for this problem.

I have another simple idea. This is a combination of the both for Linux or
other UNIX’s.

First we have a daemon starter to support the System.Service.ServiceBase
.NET class. The starter did nothing else than reading the name of the service
and manage the different methods (e.g. OnStart, OnShutdown, OnPowerEvent,
CanShutdown and so on. ) These starter is used like any SysV process. A litte
config.xml file is given as parameter. Like

Monodaemonstarter &lt;config.xml&gt; 

The config file has information about the service like the NT service
manager. ( e.g. RunAs information, depends on, recovery rules ).

To manage extra information we need an extra daemon that manage the start
sequence and implement an interface for the ServiceController class. With this
extra daemon we can also handle the “net start” or “net stop” commands with
the .NET service name. Every instance of the monodaemonstarter gives this
central instance his information. Without the central instance ( perhaps called
mono::SCM ) no starter can run.

In the first step developer or system admins must type a init.d script to
install the service. Later we can implement an mono service deploy to install
an service like the ServiceProcessInstaller.

OK I hope you could understand my twisted cogitations.. But I think we are
on the right way.. 

PS : Did anybody now something about new methods an classes for services in
.NET 1.1???

By Kai…




-- 
+++ GMX - Mail, Messaging &amp; more  <A HREF="http://www.gmx.net">http://www.gmx.net</A> +++
NEU: Mit GMX ins Internet. Rund um die Uhr für 1 ct/ Min. surfen!



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="009823.html">[Mono-list] contributing
</A></li>
	<LI> Next message: <A HREF="009806.html">[Mono-list] Writing daemons in C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9805">[ date ]</a>
              <a href="thread.html#9805">[ thread ]</a>
              <a href="subject.html#9805">[ subject ]</a>
              <a href="author.html#9805">[ author ]</a>
         </LI>
       </UL>
</body></html>
