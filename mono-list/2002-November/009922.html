<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Unknown heap?? (S.W.F.)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:fgonthier%40hermes.usherb.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="009919.html">
   <LINK REL="Next"  HREF="009934.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Unknown heap?? (S.W.F.)
   </H1>
    <B>François-Denis Gonthier
    </B> 
    <A HREF="mailto:fgonthier%40hermes.usherb.ca"
       TITLE="[Mono-list] Unknown heap?? (S.W.F.)">fgonthier@hermes.usherb.ca
       </A><BR>
    <I>Mon, 25 Nov 2002 23:52:10 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="009919.html">[Mono-list] C# syntax highlighting for Kate
</A></li>
        <LI> Next message: <A HREF="009934.html">[Mono-list] Unknown heap?? (S.W.F.)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9922">[ date ]</a>
              <a href="thread.html#9922">[ thread ]</a>
              <a href="subject.html#9922">[ subject ]</a>
              <a href="author.html#9922">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hacking System.Windows.Forms.dll I've got this message while compiling in
Linux:

** Message: Unknown heap type: #-


Unhandled Exception: System.NullReferenceException: A null value was found
where an object instance was required


Doing the backtrace in gdb I get this:

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 16384 (LWP 1126)]
0x404e1063 in load_tables (image=0x80cab90) at image.c:319
#0  0x404e1063 in load_tables (image=0x80cabb8) at image.c:319
#1  0x404e1224 in load_metadata (image=0x80cabb8, iinfo=0x80cb1c0) at
image.c:359
#2  0x404e1754 in do_mono_image_open (
    fname=0x80caa20
&quot;/home/neumann/mono-work/mcs/class/System.Windows.Forms/System.Windows.Forms
.Test/FormTest/bin/Debug/System.W4
#3  0x404e1997 in mono_image_open (
    fname=0x80caa20
&quot;/home/neumann/mono-work/mcs/class/System.Windows.Forms/System.Windows.Forms
.Test/FormTest/bin/Debug/System.W0
#4  0x404de11c in mono_assembly_open (
    filename=0x80caa20
&quot;/home/neumann/mono-work/mcs/class/System.Windows.Forms/System.Windows.Forms
.Test/FormTest/bin/Debug/Syste3
#5  0x404de66d in mono_assembly_load (aname=0x40786ce4,
    basedir=0x80ca918
&quot;/home/neumann/mono-work/mcs/class/System.Windows.Forms/System.Windows.Forms
.Test/FormTest/bin/Debug/&quot;,
    status=0x40786d6c) at assembly.c:444
#6  0x404ddc70 in load_references (image=0x80c9898, status=0x40786d6c) at
assembly.c:167
#7  0x404de35a in mono_assembly_open (filename=0x40350d38
&quot;System.Windows.Forms.Test/FormTest/bin/Debug/FormTest.exe&quot;,
    status=0x40786d6c) at assembly.c:376
#8  0x404e04f5 in mono_domain_assembly_open (domain=0x8088108,
    name=0x40350d38
&quot;System.Windows.Forms.Test/FormTest/bin/Debug/FormTest.exe&quot;) at domain.c:457
#9  0x40494115 in WinMain (hInstance=0x40490000, hPrevInstance=0x0,
    lpszCmdLine=0x40350d38
&quot;System.Windows.Forms.Test/FormTest/bin/Debug/FormTest.exe&quot;, nCmdShow=1) at
monostub.c:54
#10 0x40494099 in __wine_exe_main () at monostub.exe.spec.c:118
#11 0x400bdfc0 in start_process () at ../../scheduler/process.c:564
#12 0x400c200d in call_on_thread_stack (func=0x400bdda4) at
../../scheduler/sysdeps.c:112


My code compiles just fine, no warnings.  Chances are that it's related to
Mono _and_ Wine so I'm not really sure how I could do a simpler test case.
You will also get that error trying to run an app with current S.W.F. CVS.

... any clues?  Shall I post a bugzilla?

François-D.



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="009919.html">[Mono-list] C# syntax highlighting for Kate
</A></li>
	<LI> Next message: <A HREF="009934.html">[Mono-list] Unknown heap?? (S.W.F.)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9922">[ date ]</a>
              <a href="thread.html#9922">[ thread ]</a>
              <a href="subject.html#9922">[ subject ]</a>
              <a href="author.html#9922">[ author ]</a>
         </LI>
       </UL>
</body></html>
