<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] ADO.NET Provider Factory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:brianlritchie%40hotmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="009567.html">
   <LINK REL="Next"  HREF="009572.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] ADO.NET Provider Factory
   </H1>
    <B>Brian Ritchie
    </B> 
    <A HREF="mailto:brianlritchie%40hotmail.com"
       TITLE="[Mono-list] ADO.NET Provider Factory">brianlritchie@hotmail.com
       </A><BR>
    <I>Sat, 09 Nov 2002 11:58:43 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="009567.html">[Mono-list] Possible mono bug
</A></li>
        <LI> Next message: <A HREF="009572.html">[Mono-list] ADO.NET Provider Factory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9571">[ date ]</a>
              <a href="thread.html#9571">[ thread ]</a>
              <a href="subject.html#9571">[ subject ]</a>
              <a href="author.html#9571">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Rodrigo,

Thanks for the review.  I guess great minds think alike...I actually already 
had a CreateConnectionFromConfig. :)

Here's the syntax for it:

IDbConnection 
conn=ProviderFactory.CreateConnectionFromConfig(&quot;PubsConnStr&quot;);

&lt;appSettings&gt;
  &lt;add key=&quot;PubsConnStr&quot; value=&quot;factory=System.Data.SqlClient; 
server=speedy;database=pubs;uid=sa;pwd=&quot; /&gt;
&lt;/appSettings&gt;

The factory attribute specifies which provider to use.  I parse out the 
factory attribute, crete the object, and then pass the rest of the 
connection string into the provider. The providers are definited in the 
app.config (or machine.config).

I'll get the code commited sometime today.

Brian


&gt;<i>From: Rodrigo Moya &lt;<A HREF="mailto:rodrigo@ximian.com">rodrigo@ximian.com</A>&gt;
</I>&gt;<i>To: Brian Ritchie &lt;<A HREF="mailto:brianlritchie@hotmail.com">brianlritchie@hotmail.com</A>&gt;
</I>&gt;<i>CC: Mono List &lt;<A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>&gt;
</I>&gt;<i>Subject: Re: [Mono-list] ADO.NET Provider Factory
</I>&gt;<i>Date: 09 Nov 2002 12:15:52 +0100
</I>&gt;<i>
</I>&gt;<i>On Mon, 2002-11-04 at 06:37, Brian Ritchie wrote:
</I>&gt;<i> &gt; I've started work on the set of objects known as... &quot;ADO.NET
</I>&gt;<i> &gt; Multiplexor Provider&quot; in... <A HREF="http://www.go-mono.com/ado-net.html">http://www.go-mono.com/ado-net.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'd appreciate the ADO.NET team to review this (and attached files)
</I>&gt;<i> &gt; before I commit things to CVS. I'm planning to put them under
</I>&gt;<i> &gt; /mcs/class/Mono.Data. Please note: connection strings will in attached
</I>&gt;<i> &gt; files will need to be updated to match your configuration.  I've done
</I>&gt;<i> &gt; some basic testing of the code under MS.NET &amp; Mono on Windows.
</I>&gt;<i> &gt;
</I>&gt;<i>it looks ok to me. I would also add one thing though, which is a way to
</I>&gt;<i>activate a given provider/connection string without having to know the
</I>&gt;<i>provider to be used. That is, something like the ODBC (or libgda) data
</I>&gt;<i>sources, on which you store, under a unique name, all parameteres needed
</I>&gt;<i>for the connection to be established. Something like:
</I>&gt;<i>
</I>&gt;<i>IDbConnection cnc = ProviderFactory.CreateConnectionFromConfig
</I>&gt;<i>(&quot;my_data_source&quot;);
</I>&gt;<i>
</I>&gt;<i>and then have, in the config file, an entry called &quot;my_data_source&quot;
</I>&gt;<i>which contains the info for the provider and connection string to be
</I>&gt;<i>used to open this given connection.
</I>&gt;<i>
</I>&gt;<i>Apart from that, it looks ok to me, so please commit as soon as you can.
</I>&gt;<i>
</I>&gt;<i>and sorry for the delay in answering, but I've been really busy these
</I>&gt;<i>last weeks.
</I>&gt;<i>
</I>&gt;<i>cheers
</I>&gt;<i>--
</I>&gt;<i>Rodrigo Moya &lt;<A HREF="mailto:rodrigo@ximian.com">rodrigo@ximian.com</A>&gt;
</I>

_________________________________________________________________
Help STOP SPAM with the new MSN 8 and get 2 months FREE*  
<A HREF="http://join.msn.com/?page=features/junkmail">http://join.msn.com/?page=features/junkmail</A>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="009567.html">[Mono-list] Possible mono bug
</A></li>
	<LI> Next message: <A HREF="009572.html">[Mono-list] ADO.NET Provider Factory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9571">[ date ]</a>
              <a href="thread.html#9571">[ thread ]</a>
              <a href="subject.html#9571">[ subject ]</a>
              <a href="author.html#9571">[ author ]</a>
         </LI>
       </UL>
</body></html>
