<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Simple Drag &amp; Drop Questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:as%405parts.de">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="022997.html">
   <LINK REL="Next"  HREF="023000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Simple Drag &amp; Drop Questions
   </H1>
    <B>Andreas Sliwka
    </B> 
    <A HREF="mailto:as%405parts.de"
       TITLE="[Mono-list] Simple Drag &amp; Drop Questions">as@5parts.de
       </A><BR>
    <I>Fri, 27 Aug 2004 08:25:43 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="022997.html">[Mono-list] Bug in OdbcDataAdapter or DataSet ???
</A></li>
        <LI> Next message: <A HREF="023000.html">[Mono-list] Mono: Bridge from Windows to Linux?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23019">[ date ]</a>
              <a href="thread.html#23019">[ thread ]</a>
              <a href="subject.html#23019">[ subject ]</a>
              <a href="author.html#23019">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings,
  first I have to explain that after lurking on this list for nearly a
year the &quot;developers notebook&quot; persuaded me to actually code something
in c#. I must admit that it is very addicting. I haven't had that much
fun in hacking in weeks :-) Although monodevelop stops responding to
events after I click on certain links in the class documentation ...

  Now let me describe the tiny problem that I've got: I followed the
labs in the notebook and combined &quot;drag &amp; drop&quot; and &quot;building interfaces
with glade&quot; from the GTK# sections. The following code snippet works, I
can drop file uris from nautilus on the filelist, but I get a strange
error (warning?) message.

Here my code (shortened):

use everything.needed.in.System.and.Glade.and.such;
public class MyProgram {
  public MyProgram (string [] args) {
    Program program = new Program (&quot;MyProgram&quot;, &quot;0.0&quot;, 
      Modules.UI, args);
    Glade.XML gxml = new Glade.XML (null, &quot;gustav.glade&quot;, 
      &quot;gustav&quot;, null);
    gxml.Autoconnect(this);
    Gtk.TreeView filelist = (Gtk.TreeView) gxml.GetWidget(&quot;filelist&quot;);
    Gtk.Drag.DestSet(filelist, DestDefaults.All, 
      filelist_drop_types,Gdk.DragAction.Copy);
    filelist.DragDataReceived += filelist_drop;
    program.Run();
  }

  private void filelist_drop(object o, DragDataReceivedArgs args) {
    bool success = false;
    // do some things
    success = true;
    Gtk.Drag.Finish (args.Context, success, false, args.Time);
  }
}	

... and I receive the following error message:

(MyProgram:5822): Gtk-WARNING **: You must override the default
'drag_data_received' handler on GtkTreeView when using models that don't
support the GtkTreeDragDest interface and enabling drag-and-drop. [...]

Why is that? Do I have to do funky things? I thought that I copied all
relevant parts from the examples ... 

System is Debian unstable with mono* 1.0.1-1. monodevelop is 0.5-2.

best regards,

mfg


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="022997.html">[Mono-list] Bug in OdbcDataAdapter or DataSet ???
</A></li>
	<LI> Next message: <A HREF="023000.html">[Mono-list] Mono: Bridge from Windows to Linux?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23019">[ date ]</a>
              <a href="thread.html#23019">[ thread ]</a>
              <a href="subject.html#23019">[ subject ]</a>
              <a href="author.html#23019">[ author ]</a>
         </LI>
       </UL>
</body></html>
