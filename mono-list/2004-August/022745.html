<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Data access delay using Npgsql
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:fxjrlists%40yahoo.com.br">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="022721.html">
   <LINK REL="Next"  HREF="022705.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Data access delay using Npgsql
   </H1>
    <B>Francisco Figueiredo Jr.
    </B> 
    <A HREF="mailto:fxjrlists%40yahoo.com.br"
       TITLE="[Mono-list] Data access delay using Npgsql">fxjrlists@yahoo.com.br
       </A><BR>
    <I>Sat, 14 Aug 2004 15:19:13 -0300</I>
    <P><UL>
        <LI> Previous message: <A HREF="022721.html">[Mono-list] Data access delay using Npgsql
</A></li>
        <LI> Next message: <A HREF="022705.html">[Mono-list] mono and View State
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22745">[ date ]</a>
              <a href="thread.html#22745">[ thread ]</a>
              <a href="subject.html#22745">[ subject ]</a>
              <a href="author.html#22745">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Francisco Figueiredo Jr. wrote:
&gt;<i> Reilly, Andrew wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Hi all,
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> Hi Reilly.
</I>&gt;<i> 
</I>&gt;&gt;<i> I've been experimenting with accessing a PostgreSQL database using 
</I>&gt;&gt;<i> Npgsql,
</I>&gt;&gt;<i> but have come across a problem.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Whenever I open a new NpgsqlConnection under the MS .NET runtime there is
</I>&gt;&gt;<i> always a short delay of a few seconds, presumably while the client
</I>&gt;&gt;<i> authenticates with the server. However, when the same program is run 
</I>&gt;&gt;<i> under
</I>&gt;&gt;<i> mono the delay is almost imperceptible. This is frustrating because I 
</I>&gt;&gt;<i> tend
</I>&gt;&gt;<i> to develop under VS.NET then distribute using mono.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm running mono 1.0.1 with Npgsql 0.6 and the server is PostgreSQL 
</I>&gt;&gt;<i> 7.4.3.
</I>&gt;&gt;<i> I've tried turning on logging support in Npgsql but it doesn't report
</I>&gt;&gt;<i> anything relevant: the log starts from when the connection is actually
</I>&gt;&gt;<i> established any everything works quickly after that. I've also tried
</I>&gt;&gt;<i> relaxing the authentication settings of the database but this has no 
</I>&gt;&gt;<i> effect.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Does anyone have any suggestions as to what the cause of the problem 
</I>&gt;&gt;<i> might
</I>&gt;&gt;<i> be?
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>
Hi Reilly.

Mikko Korkalo sent me a message saying he is having the same problem as 
you are.
He said me one interesting information: the 0.5 doesn't have this problem.
I checked cvs and could see that there was a slightly change in the code 
which establishes the connection. In 0.5 I was checking the server 
address to see if it was in dot ip format and so I didn't do the name 
resolution.
In 0.6, I incorrectly changed this code and was doing the connection 
using directly the server address. So, when you pass the server name as 
ip address, you may be getting the delay because of the time spent 
trying to resolve this address.

Could you try the 0.5 version and check if it is faster for you?
If so, I will patch the current version with this fix.

Thanks in advance.

Regards,

Francisco Figueiredo Jr.

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="022721.html">[Mono-list] Data access delay using Npgsql
</A></li>
	<LI> Next message: <A HREF="022705.html">[Mono-list] mono and View State
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22745">[ date ]</a>
              <a href="thread.html#22745">[ thread ]</a>
              <a href="subject.html#22745">[ subject ]</a>
              <a href="author.html#22745">[ author ]</a>
         </LI>
       </UL>
</body></html>
