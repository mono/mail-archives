<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] SciMark2 benchmark in F#
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20SciMark2%20benchmark%20in%20F%23&In-Reply-To=200901201750.44914.jon%40ffconsultancy.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041086.html">
   <LINK REL="Next"  HREF="041089.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] SciMark2 benchmark in F#</H1>
    <B>Alan McGovern</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20SciMark2%20benchmark%20in%20F%23&In-Reply-To=200901201750.44914.jon%40ffconsultancy.com"
       TITLE="[Mono-list] SciMark2 benchmark in F#">alan.mcgovern at gmail.com
       </A><BR>
    <I>Tue Jan 20 17:05:23 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="041086.html">[Mono-list] SciMark2 benchmark in F#
</A></li>
        <LI>Next message: <A HREF="041089.html">[Mono-list] SciMark2 benchmark in F#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41088">[ date ]</a>
              <a href="thread.html#41088">[ thread ]</a>
              <a href="subject.html#41088">[ subject ]</a>
              <a href="author.html#41088">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Here are the results of running that assembly on several platforms/clrs on
an original Macbook, 1.86ghz core2duo. The tests were executed in native
windows and native opensuse. I didn't bother with native macos.

*MS.NET*
FFT (1024): 245.115 MFLOPS
SOR (100): 469.531 MFLOPS
MonteCarlo (1024): 92.4046 MFLOPS
Sparse (1000): 298.298 MFLOPS
LU arrays (100): 547.227 MFLOPS
Composite: 330.515165 MFLOPS
*
Mono r123727, essentially mono 2.2 (opensuse 11.1)*
FFT (1024): 137.558 MFLOPS
SOR (100): 254.216 MFLOPS
MonteCarlo (1024): 73.4233 MFLOPS
Sparse (1000): 213.333 MFLOPS
LU arrays (100): 265.113 MFLOPS
Composite: 188.728742 MFLOPS

*Mono 2.0 (Windows)*
FFT (1024): 85.3681 MFLOPS
SOR (100): 236.843 MFLOPS
MonteCarlo (1024): 13.4164 MFLOPS
Sparse (1000): 219.993 MFLOPS
LU arrays (100): 192.3 MFLOPS
Composite: 149.584219 MFLOPS
*
Mono 2.0 (opensuse 11.1)*
FFT (1024): 78.063 MFLOPS
SOR (100): 293.207 MFLOPS
MonteCarlo (1024): 15.5201 MFLOPS
Sparse (1000): 148.81 MFLOPS
LU arrays (100): 290.62 MFLOPS
Composite: 165.243985 MFLOPS

A quick overview tells us that with the old JIT was 2x-6x slower than
MS.NETand with the new jit performance goes from 0.25x-2x slower. The
test that
used to be 6x slower is now only 0.25x slower. Things have improved greatly
since you originally ran your benchmark so it's definitely not accurate to
call mono 3x slower than MS.NET anymore. 1.5x slower would be a nice median.

Taking a slightly more detailed view tells us a few more interesting things.
Compare mono 2.0 (windows) to mono 2.0 (opensuse). The exact same version of
mono ranges between 1.5x faster on linux (LU arrays) to 1.5x slower on linux
(SPARSE). What this tells us is that there appears to be differences in the
platform itself which make a difference performance-wise.

It'd be great if someone could compare mono 2.2 (or higher) on windows with
MS.NET and see what the performance delta is when running on the same
platform. So yes, this tells us that there is still room for improvement
with mono, but it's not as huge as was originally stated.

Alan.

On Tue, Jan 20, 2009 at 5:50 PM, Jon Harrop &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jon at ffconsultancy.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> I ported the famous SciMark2 benchmark suite:
</I>&gt;<i>
</I>&gt;<i>  <A HREF="http://math.nist.gov/scimark2/">http://math.nist.gov/scimark2/</A>
</I>&gt;<i>
</I>&gt;<i> from Java to F# and put it up here:
</I>&gt;<i>
</I>&gt;<i>  <A HREF="http://www.ffconsultancy.com/tmp/SciMark2.zip">http://www.ffconsultancy.com/tmp/SciMark2.zip</A>
</I>&gt;<i>
</I>&gt;<i> Mono 2.0 runs this code ~3x slower than .NET does and, in particular, the
</I>&gt;<i> integer benchmark (&quot;Monte Carlo&quot;) is over 6x slower on Mono.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> --
</I>&gt;<i> Dr Jon Harrop, Flying Frog Consultancy Ltd.
</I>&gt;<i> <A HREF="http://www.ffconsultancy.com/?e">http://www.ffconsultancy.com/?e</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20090120/dab65eac/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20090120/dab65eac/attachment.html</A> 
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041086.html">[Mono-list] SciMark2 benchmark in F#
</A></li>
	<LI>Next message: <A HREF="041089.html">[Mono-list] SciMark2 benchmark in F#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41088">[ date ]</a>
              <a href="thread.html#41088">[ thread ]</a>
              <a href="subject.html#41088">[ subject ]</a>
              <a href="author.html#41088">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
