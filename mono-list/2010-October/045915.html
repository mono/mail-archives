<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mod-mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mod-mono&In-Reply-To=AANLkTikRORk3AKN05pkK03pb2vmUzR4PVKk%3DkTPy4-ek%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045914.html">
   <LINK REL="Next"  HREF="045916.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mod-mono</H1>
    <B>Peter Hagen</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mod-mono&In-Reply-To=AANLkTikRORk3AKN05pkK03pb2vmUzR4PVKk%3DkTPy4-ek%40mail.gmail.com"
       TITLE="[Mono-list] mod-mono">peter at wingsofdeath.nu
       </A><BR>
    <I>Thu Oct 21 15:17:39 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="045914.html">[Mono-list] mod-mono
</A></li>
        <LI>Next message: <A HREF="045916.html">[Mono-list] mod-mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45915">[ date ]</a>
              <a href="thread.html#45915">[ thread ]</a>
              <a href="subject.html#45915">[ subject ]</a>
              <a href="author.html#45915">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

&gt;<i> Hello
</I>&gt;<i> 
</I>&gt;<i> I was wondering if its possible when doing a 'apache2ctl graceful' to make sure that the mono instances stay alive, instead of restarting also? Or is this only possible by using a reverse proxy and separating the mono instances from apache? The problem is, when I am going to update some other apache virtualhost, it has to be gracefully restarted (at least) to get it active, but I don't want the mono site to restart also. Any ideas?
</I>&gt;<i> 
</I>&gt;<i> You can instruct mod_mono to not be in charge of starting your mod-mono-server.exe processes, this is done by setting MonoRunXSP to false.
</I>&gt;<i> 
</I>&gt;<i> This requires you to set MonoUnixSocket or MonoListenPort.   See the man page for details.
</I>&gt;<i> 
</I>&gt;<i> Miguel
</I>
thanks for the reply. I been reading and trying some options, but what ever i do, on an &quot;sudo apache2ctl graceful&quot;, the mono process is restarted to. I can see that, cause I have a singleton object that needs to be initialized. This happens from Global.asac.cs. And after the graceful, when I refresh the page, in the error.log I see the initialization. This is my config:

&lt;VirtualHost *:80&gt;
        ServerAdmin <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">webmaster at localhost</A>

#       MonoAutoApplication enabled
        MonoAutoApplication disabled
        MonoServerPath local /usr/bin/mod-mono-server2
        MonoApplications local &quot;/:/home/peter/Documents/Development/willow/src/www&quot;
        MonoRunXSP False
        #MonoUnixSocket local &quot;/tmp/mod_mono_server_socket_local&quot;
        MonoListenPort local 9000
        &lt;Location /&gt;
                MonoSetServerAlias local
        &lt;/Location&gt;

        DocumentRoot /home/peter/Documents/Development/willow/src/www
        &lt;Directory /&gt;
                Options FollowSymLinks
                AllowOverride None
        &lt;/Directory&gt;
        &lt;Directory /home/peter/Documents/Development/willow/src/www&gt;
                DirectoryIndex cms.aspx
                Options Indexes FollowSymLinks MultiViews
                AllowOverride None
                Order allow,deny
                allow from all
        &lt;/Directory&gt;

        Alias /remote &quot;/home/peter/Documents/Development/willow/src/www&quot;
        &lt;Location /remote&gt;
                SetHandler mono
        &lt;/Location&gt;

        Alias /content &quot;/home/peter/Documents/Development/willow/src/www&quot;
        &lt;Location /content&gt;
                SetHandler mono
        &lt;/Location&gt;

        ErrorLog /var/log/apache2/error.log
        LogLevel warn
        CustomLog /var/log/apache2/access.log combined
&lt;/VirtualHost&gt;

If I have the autoApplication enabled or disabled, the site works in all cases and mod-mono starts mod-mono-server. Should I start mod-mono-server myself to get this done?

Cheers

Peter

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20101021/158a9f38/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20101021/158a9f38/attachment.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045914.html">[Mono-list] mod-mono
</A></li>
	<LI>Next message: <A HREF="045916.html">[Mono-list] mod-mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45915">[ date ]</a>
              <a href="thread.html#45915">[ thread ]</a>
              <a href="subject.html#45915">[ subject ]</a>
              <a href="author.html#45915">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
