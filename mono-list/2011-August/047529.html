<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Porting MSBuild script to XBuild with ItemGroup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Porting%20MSBuild%20script%20to%20XBuild%20with%20ItemGroup&In-Reply-To=4E3A09F9.2090007%40jpobst.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="047525.html">
   <LINK REL="Next"  HREF="047530.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Porting MSBuild script to XBuild with ItemGroup</H1>
    <B>Mike Christensen</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Porting%20MSBuild%20script%20to%20XBuild%20with%20ItemGroup&In-Reply-To=4E3A09F9.2090007%40jpobst.com"
       TITLE="[Mono-list] Porting MSBuild script to XBuild with ItemGroup">mike at kitchenpc.com
       </A><BR>
    <I>Thu Aug  4 03:51:52 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="047525.html">[Mono-list] Porting MSBuild script to XBuild with ItemGroup
</A></li>
        <LI>Next message: <A HREF="047530.html">[Mono-list] Porting MSBuild script to XBuild with ItemGroup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47529">[ date ]</a>
              <a href="thread.html#47529">[ thread ]</a>
              <a href="subject.html#47529">[ subject ]</a>
              <a href="author.html#47529">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This won't work because I include items that are not yet created until
after the target runs..

In other words, if I say:

&lt;Project&gt;
  &lt;ItemGroup Include=&quot;Foo*.*&quot; /&gt;

...

Then this ItemGroup gets populated before the Target runs.  If Target
then goes and creates Foo1.txt and Foo2.txt, those items won't get
included in the ItemGroup since they didn't exist when it was
evaluated.  That's why I need to have this ItemGroup within the
Target.

When will this bug be fixed?  It seems hugely important to support this.

Mike

On Wed, Aug 3, 2011 at 7:54 PM, Jonathan Pobst &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">monkey at jpobst.com</A>&gt; wrote:
&gt;<i> You need to use the old way of doing thing, the CreateItem task.
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://msdn.microsoft.com/en-us/library/s2y3e43x.aspx">http://msdn.microsoft.com/en-us/library/s2y3e43x.aspx</A>
</I>&gt;<i>
</I>&gt;<i> Jonathan
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 8/3/2011 8:29 PM, Mike Christensen wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What's the best way to port this code over:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160; &lt;Target Name=&quot;Build&quot;&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ** Bunch of stuff here **
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160; &#160; &lt;!-- Crunch Files --&gt;
</I>&gt;&gt;<i> &#160; &#160; &lt;ItemGroup&gt;
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;&lt;ToCrunch
</I>&gt;&gt;<i> Include=&quot;$(BuildDir)/WWW/Scripts/kpc*.js;$(BuildDir)/WWW/Styles/*.css&quot;
</I>&gt;&gt;<i> /&gt;
</I>&gt;&gt;<i> &#160; &#160; &lt;/ItemGroup&gt;
</I>&gt;&gt;<i> &#160; &#160; &lt;Message Importance=&quot;High&quot; Text=&quot;Crunching Script Files...&quot; /&gt;
</I>&gt;&gt;<i> &#160; &#160; &lt;Exec WorkingDirectory=&quot;Crunch&quot; Command=&quot;java -jar
</I>&gt;&gt;<i> yuicompressor-2.4.2.jar %(ToCrunch.Fullpath) -o %(ToCrunch.Fullpath)
</I>&gt;&gt;<i> --charset utf-8&quot; /&gt;
</I>&gt;&gt;<i> &#160; &lt;/Target&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If I run this, I get the error:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;: error : Error initializing task ItemGroup: Not registered task
</I>&gt;&gt;<i> ItemGroup.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Which I believe is a known limitation in XBuild. &#160;However, if I move
</I>&gt;&gt;<i> the ItemGroup outside the project, the set of files is empty because
</I>&gt;&gt;<i> those files have not been build yet. &#160;Thanks!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Mike
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-list maillist &#160;- &#160;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="047525.html">[Mono-list] Porting MSBuild script to XBuild with ItemGroup
</A></li>
	<LI>Next message: <A HREF="047530.html">[Mono-list] Porting MSBuild script to XBuild with ItemGroup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47529">[ date ]</a>
              <a href="thread.html#47529">[ thread ]</a>
              <a href="subject.html#47529">[ subject ]</a>
              <a href="author.html#47529">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
