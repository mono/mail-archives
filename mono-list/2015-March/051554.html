<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Could not lookup zero argument constructor for class Ninject.StandardKernel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Could%20not%20lookup%20zero%20argument%20constructor%20for%0A%20class%20Ninject.StandardKernel&In-Reply-To=%3C1425495881269-4665568.post%40n4.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051553.html">
   <LINK REL="Next"  HREF="051556.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Could not lookup zero argument constructor for class Ninject.StandardKernel</H1>
    <B>mimi</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Could%20not%20lookup%20zero%20argument%20constructor%20for%0A%20class%20Ninject.StandardKernel&In-Reply-To=%3C1425495881269-4665568.post%40n4.nabble.com%3E"
       TITLE="[Mono-list] Could not lookup zero argument constructor for class Ninject.StandardKernel">zachary.xu at jomediainc.com
       </A><BR>
    <I>Wed Mar  4 19:04:41 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="051553.html">[Mono-list] Could not lookup zero argument constructor for	class Ninject.StandardKernel
</A></li>
        <LI>Next message: <A HREF="051556.html">[Mono-list] Could not lookup zero argument constructor for	class Ninject.StandardKernel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51554">[ date ]</a>
              <a href="thread.html#51554">[ thread ]</a>
              <a href="subject.html#51554">[ subject ]</a>
              <a href="author.html#51554">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>@RobertJordan: After receiving your msg, I did more analyses. Here is the c#
code:

namespace ClassLibrary1
{
    public class Class1
    {
        Class2 mClass2 = new Class2();

        public Class1() { Console.WriteLine(&quot;Class1 constructor called!\n&quot;);
}
        public void GreetPeople(string sInput1, string sInput2)
        {
            Console.WriteLine(sInput1 + &quot;\n&quot;);

            StandardKernel instanceStandardKernel = new StandardKernel();

            mClass2.HelloWorld(sInput2 + &quot;\n&quot;);
        }
    }
}

I tested it in Visual Studio and it works. Then I embedded it to my c++
code:


        MonoDomain * domain = mono_jit_init_version (&quot;Domain&quot;,
&quot;v4.0.30319&quot;);

        MonoAssembly * assembly = NULL;
        assembly = mono_domain_assembly_open (domain,
&quot;/Users/mac1/Downloads/zachary/TestLib/libs/TestZachary/ClassLibrary1.dll&quot;);

        MonoImage * image = NULL;
        image = mono_assembly_get_image(assembly);

        MonoClass* classHandle = NULL;
        classHandle = mono_class_from_name(image, &quot;ClassLibrary1&quot;,
&quot;Class1&quot;);

        MonoObject* instanceClass1 = NULL;
        instanceClass1 = mono_object_new(domain, classHandle);
        if (!instanceClass1)
        {
            printf(&quot;Get object error\n&quot;);
        }
        else
        {
            printf(&quot;Get object successfully\n&quot;);
        }

        mono_runtime_object_init(instanceClass1);

        const char* descAsString =
&quot;ClassLibrary1.Class1:GreetPeople(string,string)&quot;;

        MonoMethodDesc* description =
mono_method_desc_new(descAsString,true);

        MonoMethod* method = mono_method_desc_search_in_class(description,
classHandle);

        if (!method)
        {
            printf(&quot;method is NULL\n&quot;);
        }
        else
        {
            printf(&quot;Get method successfully\n&quot;);
        }

        void* args[2];

        args[0] = mono_string_new(domain, &quot;Greeting from a good friend!&quot;);

        args[1] = mono_string_new(domain, &quot;Hello My Mono World!&quot;);

        mono_runtime_invoke(method, instanceClass1, args, NULL);

        printf(&quot;Here we are, Cool!\n&quot;);

        mono_jit_cleanup(domain);


The following are console outputs:


Debugging starts
Get object successfully
Class1 constructor called!

Get method successfully
Greeting from a good friend!


Unhandled Exception:
System.ArgumentNullException: Argument cannot be null.
Parameter name: path1
  at System.IO.Path.Combine (System.String path1, System.String path2)
[0x00000] in &lt;filename unknown&gt;:0 
  at Ninject.Modules.ModuleLoader+&lt;&gt;c__DisplayClassb.&lt;NormalizePaths&gt;b__a
(System.String baseDirectory) [0x00000] in &lt;filename unknown&gt;:0 
  at
System.Linq.Enumerable+&lt;CreateSelectIterator&gt;c__Iterator10`2[System.String,System.String].MoveNext
() [0x00000] in &lt;filename unknown&gt;:0 
  at
System.Linq.Enumerable+&lt;CreateSelectManyIterator&gt;c__Iterator12`2[System.String,System.String].MoveNext
() [0x00000] in &lt;filename unknown&gt;:0 
  at
System.Linq.Enumerable+&lt;CreateSelectManyIterator&gt;c__Iterator12`2[System.String,System.String].MoveNext
() [0x00000] in &lt;filename unknown&gt;:0 
  at
System.Linq.Enumerable+&lt;CreateGroupByIterator&gt;c__Iterator5`2[System.String,System.String].MoveNext
() [0x00000] in &lt;filename unknown&gt;:0 
  at Ninject.Modules.ModuleLoader.LoadModules (IEnumerable`1 patterns)
[0x00000] in &lt;filename unknown&gt;:0 
  at Ninject.KernelBase.Load (IEnumerable`1 filePatterns) [0x00000] in
&lt;filename unknown&gt;:0 
  at Ninject.KernelBase..ctor (IComponentContainer components,
INinjectSettings settings, Ninject.Modules.INinjectModule[] modules)
[0x00000] in &lt;filename unknown&gt;:0 
  at Ninject.KernelBase..ctor (Ninject.Modules.INinjectModule[] modules)
[0x00000] in &lt;filename unknown&gt;:0 
  at Ninject.StandardKernel..ctor (Ninject.Modules.INinjectModule[] modules)
[0x00000] in &lt;filename unknown&gt;:0 
  at ClassLibrary1.Class1.GreetPeople (System.String sInput1, System.String
sInput2) [0x00000] in &lt;filename unknown&gt;:0 
[ERROR] FATAL UNHANDLED EXCEPTION: System.ArgumentNullException: Argument
cannot be null.
Parameter name: path1
  at System.IO.Path.Combine (System.String path1, System.String path2)
[0x00000] in &lt;filename unknown&gt;:0 
  at Ninject.Modules.ModuleLoader+&lt;&gt;c__DisplayClassb.&lt;NormalizePaths&gt;b__a
(System.String baseDirectory) [0x00000] in &lt;filename unknown&gt;:0 
  at
System.Linq.Enumerable+&lt;CreateSelectIterator&gt;c__Iterator10`2[System.String,System.String].MoveNext
() [0x00000] in &lt;filename unknown&gt;:0 
  at
System.Linq.Enumerable+&lt;CreateSelectManyIterator&gt;c__Iterator12`2[System.String,System.String].MoveNext
() [0x00000] in &lt;filename unknown&gt;:0 
  at
System.Linq.Enumerable+&lt;CreateSelectManyIterator&gt;c__Iterator12`2[System.String,System.String].MoveNext
() [0x00000] in &lt;filename unknown&gt;:0 
  at
System.Linq.Enumerable+&lt;CreateGroupByIterator&gt;c__Iterator5`2[System.String,System.String].MoveNext
() [0x00000] in &lt;filename unknown&gt;:0 
  at Ninject.Modules.ModuleLoader.LoadModules (IEnumerable`1 patterns)
[0x00000] in &lt;filename unknown&gt;:0 
  at Ninject.KernelBase.Load (IEnumerable`1 filePatterns) [0x00000] in
&lt;filename unknown&gt;:0 
  at Ninject.KernelBase..ctor (IComponentContainer components,
INinjectSettings settings, Ninject.Modules.INinjectModule[] modules)
[0x00000] in &lt;filename unknown&gt;:0 
  at Ninject.KernelBase..ctor (Ninject.Modules.INinjectModule[] modules)
[0x00000] in &lt;filename unknown&gt;:0 
  at Ninject.StandardKernel..ctor (Ninject.Modules.INinjectModule[] modules)
[0x00000] in &lt;filename unknown&gt;:0 
  at ClassLibrary1.Class1.GreetPeople (System.String sInput1, System.String
sInput2) [0x00000] in &lt;filename unknown&gt;:0 
Debugging has finished


My understanding is that, in Visual Studio, 'new StandardKernel()' invokes
the first ctor of StandardKernal class without passing anything and it
works.

    public class StandardKernel : KernelBase
    {
        public StandardKernel(params INinjectModule[] modules) :
base(modules)
        {
        }

        public StandardKernel(INinjectSettings settings, params
INinjectModule[] modules) : base(settings, modules)
        {
        }

        ......
    }

For Mono, if I insert 'mono_runtime_object_init(instanceStandardKernel)', we
are trying to execute  default argument-less ctor of StandardKernel that
doesn't exist and I got the error which is normal.

Here, how Mono will parse 'new StandardKernel()'? Default ctor or first ctor
without passing anything? Are error messages I got related to this? 

Thanks!
Zachary



--
View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Could-not-lookup-zero-argument-constructor-for-class-Ninject-StandardKernel-tp4665563p4665568.html">http://mono.1490590.n4.nabble.com/Could-not-lookup-zero-argument-constructor-for-class-Ninject-StandardKernel-tp4665563p4665568.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051553.html">[Mono-list] Could not lookup zero argument constructor for	class Ninject.StandardKernel
</A></li>
	<LI>Next message: <A HREF="051556.html">[Mono-list] Could not lookup zero argument constructor for	class Ninject.StandardKernel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51554">[ date ]</a>
              <a href="thread.html#51554">[ thread ]</a>
              <a href="subject.html#51554">[ subject ]</a>
              <a href="author.html#51554">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
