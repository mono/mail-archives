<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Unknown column error when calling MySql stored procedure from Mono C#
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Unknown%20column%20error%20when%20calling%20MySql%20stored%0A%20procedure%20from%20Mono%20C%23&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039508.html">
   <LINK REL="Next"  HREF="039509.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Unknown column error when calling MySql stored procedure from Mono C#</H1>
    <B>gewe</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Unknown%20column%20error%20when%20calling%20MySql%20stored%0A%20procedure%20from%20Mono%20C%23&In-Reply-To="
       TITLE="[Mono-list] Unknown column error when calling MySql stored procedure from Mono C#">gewe at hofmail.zzn.com
       </A><BR>
    <I>Sat Sep  6 11:34:11 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="039508.html">[Mono-list] How to Call Mono-Librray Function from Native C Code
</A></li>
        <LI>Next message: <A HREF="039509.html">[Mono-list] Unknown column error when calling MySql stored	procedure from Mono C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39507">[ date ]</a>
              <a href="thread.html#39507">[ thread ]</a>
              <a href="subject.html#39507">[ subject ]</a>
              <a href="author.html#39507">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I have a MySql database, containing a table with two columns: day is a DATE
column, amount is DECIMAL(4,2).

I have the following stored procedure:
CREATE DEFINER=`root`@`localhost` PROCEDURE `insertdata`(IN p_day DATE, IN
p_amount DECIMAL(4,2))
BEGIN
    INSERT INTO table1 (day, amount) VALUES (p_day, p_amount);
END

If I call this procedure from the MySql console, everything works. The
values are inserted into the table.

When I call this procedure from the following C# code, I get an &quot;Unknown
column 'p_day' in 'field list'&quot; error:
string connStr = &quot;Server=localhost;Database=test;Uid=test;Pwd=*****;use
procedure bodies=false;&quot;;
MySqlConnection conn = new MySqlConnection(connStr);
conn.Open();
MySqlCommand dCmd = new MySqlCommand(&quot;verlof_toevoegen&quot;, conn);
dCmd.CommandType = CommandType.StoredProcedure;
dCmd.Parameters.AddWithValue(&quot;p_day&quot;, string.Format(&quot;'{0:yyyy-MM-dd}'&quot;,
DateTime.Now));
dCmd.Parameters.AddWithValue(&quot;p_amount&quot;, 9);
dCmd.ExecuteNonQuery();

I tried changing the parameter name, used a name without an underscore,
nothing helps.

What is causing the error?
-- 
View this message in context: <A HREF="http://www.nabble.com/Unknown-column-error-when-calling-MySql-stored-procedure-from-Mono-C--tp19347812p19347812.html">http://www.nabble.com/Unknown-column-error-when-calling-MySql-stored-procedure-from-Mono-C--tp19347812p19347812.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039508.html">[Mono-list] How to Call Mono-Librray Function from Native C Code
</A></li>
	<LI>Next message: <A HREF="039509.html">[Mono-list] Unknown column error when calling MySql stored	procedure from Mono C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39507">[ date ]</a>
              <a href="thread.html#39507">[ thread ]</a>
              <a href="subject.html#39507">[ subject ]</a>
              <a href="author.html#39507">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
