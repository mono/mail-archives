<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Properties.Settings.Default and mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Properties.Settings.Default%20and%20mono&In-Reply-To=445A1C23.6030901%40mleo.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031513.html">
   <LINK REL="Next"  HREF="031514.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Properties.Settings.Default and mono</H1>
    <B>Chris Toshok</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Properties.Settings.Default%20and%20mono&In-Reply-To=445A1C23.6030901%40mleo.net"
       TITLE="[Mono-list] Properties.Settings.Default and mono">toshok at ximian.com
       </A><BR>
    <I>Thu May  4 14:39:07 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="031513.html">[Mono-list] Properties.Settings.Default and mono
</A></li>
        <LI>Next message: <A HREF="031514.html">[Mono-list] Mono: Google Summer of Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31533">[ date ]</a>
              <a href="thread.html#31533">[ thread ]</a>
              <a href="subject.html#31533">[ subject ]</a>
              <a href="author.html#31533">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please file a bug on this (and include a test case that shows the
behavior.)

Chris

On Thu, 2006-05-04 at 17:22 +0200, Matthias Leonhardt wrote:
&gt;<i> Hi monodevelopers,
</I>&gt;<i> 
</I>&gt;<i> I created a little VS2005 Project (.NET 2.0) and I'm using the new
</I>&gt;<i> app.config to preset some Settings.
</I>&gt;<i> 
</I>&gt;<i> In the program code I access it the following way:
</I>&gt;<i> Console.WriteLine(Properties.Settings.Default.HostName);
</I>&gt;<i> 
</I>&gt;<i> HostName is a String Setting which is stored correctly in app.config:
</I>&gt;<i> 
</I>&gt;<i> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
</I>&gt;<i> &lt;configuration&gt;
</I>&gt;<i>     &lt;configSections&gt;
</I>&gt;<i>         &lt;sectionGroup name=&quot;userSettings&quot;
</I>&gt;<i> type=&quot;System.Configuration.UserSettingsGroup, System, Version=2.0.0.0,
</I>&gt;<i> Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; &gt;
</I>&gt;<i>             &lt;section name=&quot;HostInfoServer.Properties.Settings&quot;
</I>&gt;<i> type=&quot;System.Configuration.ClientSettingsSection, System,
</I>&gt;<i> Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot;
</I>&gt;<i> allowExeDefinition=&quot;MachineToLocalUser&quot; requirePermission=&quot;false&quot; /&gt;
</I>&gt;<i>         &lt;/sectionGroup&gt;
</I>&gt;<i>     &lt;/configSections&gt;
</I>&gt;<i>     &lt;userSettings&gt;
</I>&gt;<i>         &lt;HostInfoServer.Properties.Settings&gt;
</I>&gt;<i>             &lt;setting name=&quot;HostName&quot; serializeAs=&quot;String&quot;&gt;
</I>&gt;<i>                 &lt;value&gt;localhost&lt;/value&gt;
</I>&gt;<i>             &lt;/setting&gt;
</I>&gt;<i>         &lt;/HostInfoServer.Properties.Settings&gt;
</I>&gt;<i>     &lt;/userSettings&gt;
</I>&gt;<i> &lt;/configuration&gt;
</I>&gt;<i> 
</I>&gt;<i> If I start the application in windows everything works - if I start it with
</I>&gt;<i> mono appname.exe
</I>&gt;<i> in linux I get the following error:
</I>&gt;<i> Unhandled Exception: System.TypeInitializationException: An exception
</I>&gt;<i> was thrown by the type initializer for HostInfoServer.Program ---&gt;
</I>&gt;<i> System.TypeInitializationException: An exception was thrown by the type
</I>&gt;<i> initializer for HostInfoServer.Properties.Settings ---&gt;
</I>&gt;<i> System.ArgumentNullException: null key
</I>&gt;<i> Parameter name: key
</I>&gt;<i> in &lt;0x00182&gt; System.Collections.Hashtable:get_Item (System.Object key)
</I>&gt;<i> in &lt;0x00012&gt; System.Configuration.SettingsProviderCollection:get_Item
</I>&gt;<i> (System.String name)
</I>&gt;<i> in &lt;0x004f6&gt; System.Configuration.ApplicationSettingsBase:get_Properties ()
</I>&gt;<i> in &lt;0x00023&gt; System.Configuration.ApplicationSettingsBase:.ctor ()
</I>&gt;<i> in &lt;0x0000a&gt; HostInfoServer.Properties.Settings:.ctor ()
</I>&gt;<i> in &lt;0x00016&gt; HostInfoServer.Properties.Settings:.cctor ()--- End of
</I>&gt;<i> inner exception stack trace ---
</I>&gt;<i> 
</I>&gt;<i> in &lt;0x00000&gt; &lt;unknown method&gt;
</I>&gt;<i> in &lt;0x00009&gt; HostInfoServer.Program:.cctor ()--- End of inner exception
</I>&gt;<i> stack trace ---
</I>&gt;<i> 
</I>&gt;<i> This error seems to occure before the first line of my own code is executed.
</I>&gt;<i> What's wrong and what can I do to fix this?
</I>&gt;<i> 
</I>&gt;<i> thanks for your help!
</I>&gt;<i> 
</I>&gt;<i> kind regards,
</I>&gt;<i> Matthias Leonhardt, Jena
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031513.html">[Mono-list] Properties.Settings.Default and mono
</A></li>
	<LI>Next message: <A HREF="031514.html">[Mono-list] Mono: Google Summer of Code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31533">[ date ]</a>
              <a href="thread.html#31533">[ thread ]</a>
              <a href="subject.html#31533">[ subject ]</a>
              <a href="author.html#31533">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
