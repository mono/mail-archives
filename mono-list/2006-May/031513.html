<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Properties.Settings.Default and mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Properties.Settings.Default%20and%20mono&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031526.html">
   <LINK REL="Next"  HREF="031533.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Properties.Settings.Default and mono</H1>
    <B>Matthias Leonhardt</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Properties.Settings.Default%20and%20mono&In-Reply-To="
       TITLE="[Mono-list] Properties.Settings.Default and mono">mono at mleo.net
       </A><BR>
    <I>Thu May  4 11:22:11 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="031526.html">[Mono-list] System.InvalidOperationException: Process has not
	been started.
</A></li>
        <LI>Next message: <A HREF="031533.html">[Mono-list] Properties.Settings.Default and mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31513">[ date ]</a>
              <a href="thread.html#31513">[ thread ]</a>
              <a href="subject.html#31513">[ subject ]</a>
              <a href="author.html#31513">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi monodevelopers,

I created a little VS2005 Project (.NET 2.0) and I'm using the new
app.config to preset some Settings.

In the program code I access it the following way:
Console.WriteLine(Properties.Settings.Default.HostName);

HostName is a String Setting which is stored correctly in app.config:

&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;configSections&gt;
        &lt;sectionGroup name=&quot;userSettings&quot;
type=&quot;System.Configuration.UserSettingsGroup, System, Version=2.0.0.0,
Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; &gt;
            &lt;section name=&quot;HostInfoServer.Properties.Settings&quot;
type=&quot;System.Configuration.ClientSettingsSection, System,
Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot;
allowExeDefinition=&quot;MachineToLocalUser&quot; requirePermission=&quot;false&quot; /&gt;
        &lt;/sectionGroup&gt;
    &lt;/configSections&gt;
    &lt;userSettings&gt;
        &lt;HostInfoServer.Properties.Settings&gt;
            &lt;setting name=&quot;HostName&quot; serializeAs=&quot;String&quot;&gt;
                &lt;value&gt;localhost&lt;/value&gt;
            &lt;/setting&gt;
        &lt;/HostInfoServer.Properties.Settings&gt;
    &lt;/userSettings&gt;
&lt;/configuration&gt;

If I start the application in windows everything works - if I start it with
mono appname.exe
in linux I get the following error:
Unhandled Exception: System.TypeInitializationException: An exception
was thrown by the type initializer for HostInfoServer.Program ---&gt;
System.TypeInitializationException: An exception was thrown by the type
initializer for HostInfoServer.Properties.Settings ---&gt;
System.ArgumentNullException: null key
Parameter name: key
in &lt;0x00182&gt; System.Collections.Hashtable:get_Item (System.Object key)
in &lt;0x00012&gt; System.Configuration.SettingsProviderCollection:get_Item
(System.String name)
in &lt;0x004f6&gt; System.Configuration.ApplicationSettingsBase:get_Properties ()
in &lt;0x00023&gt; System.Configuration.ApplicationSettingsBase:.ctor ()
in &lt;0x0000a&gt; HostInfoServer.Properties.Settings:.ctor ()
in &lt;0x00016&gt; HostInfoServer.Properties.Settings:.cctor ()--- End of
inner exception stack trace ---

in &lt;0x00000&gt; &lt;unknown method&gt;
in &lt;0x00009&gt; HostInfoServer.Program:.cctor ()--- End of inner exception
stack trace ---

This error seems to occure before the first line of my own code is executed.
What's wrong and what can I do to fix this?

thanks for your help!

kind regards,
Matthias Leonhardt, Jena
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031526.html">[Mono-list] System.InvalidOperationException: Process has not
	been started.
</A></li>
	<LI>Next message: <A HREF="031533.html">[Mono-list] Properties.Settings.Default and mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31513">[ date ]</a>
              <a href="thread.html#31513">[ thread ]</a>
              <a href="subject.html#31513">[ subject ]</a>
              <a href="author.html#31513">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
