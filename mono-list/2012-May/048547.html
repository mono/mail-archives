<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mono 2.0 issues in Ubuntu - where is the problem and how will it be fixed?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Mono%202.0%20issues%20in%20Ubuntu%20-%20where%20is%20the%20problem%0A%20and%20how%20will%20it%20be%20fixed%3F&In-Reply-To=%3CCAOF2wTmdR6SKMwCq_VNb5rDJBFOZRHkqBKX-fuNUj_zwwAcu9A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048546.html">
   <LINK REL="Next"  HREF="048549.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mono 2.0 issues in Ubuntu - where is the problem and how will it be fixed?</H1>
    <B>IBBoard</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Mono%202.0%20issues%20in%20Ubuntu%20-%20where%20is%20the%20problem%0A%20and%20how%20will%20it%20be%20fixed%3F&In-Reply-To=%3CCAOF2wTmdR6SKMwCq_VNb5rDJBFOZRHkqBKX-fuNUj_zwwAcu9A%40mail.gmail.com%3E"
       TITLE="[Mono-list] Mono 2.0 issues in Ubuntu - where is the problem and how will it be fixed?">ibboard at gmail.com
       </A><BR>
    <I>Fri May 11 12:26:31 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="048546.html">[Mono-list] Mono 2.0 issues in Ubuntu - where is the problem and how will it be fixed?
</A></li>
        <LI>Next message: <A HREF="048549.html">[Mono-list] Mono 2.0 issues in Ubuntu - where is the problem and how will it be fixed?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48547">[ date ]</a>
              <a href="thread.html#48547">[ thread ]</a>
              <a href="subject.html#48547">[ subject ]</a>
              <a href="author.html#48547">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>But if I force my app to run under the 4.0 runtime using a switch then
it works without error (as far as I've seen). That implies that there
might something that could be handled, possibly by Mono or possibly by
Ubuntu if it isn't appropriate for Mono itself to do it.

Someone in Ubuntu might have decided that GTK# for .Net 4.0 only might
have been a &quot;feature&quot; and hence not a bug when 2.0 apps won't work,
but it seems like a very badly planned and unnecessary change.

The script I have appears to work for now, but I'd prefer a better way
to detect when to add the fix to the command-line (something that does
feature detection rather than OS detection, and so will work across
derivatives and other OSes that go the same route). If anyone has any
suggestions or scripts then I'd be glad to hear them.

Recompiling for .Net 4 or rebuilding GTK# just for the sake of Ubuntu
just seems unnecessary.

Thanks,

IBBoard

On 11 May 2012 09:00, Atsushi Eno &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">atsushieno at veritas-vos-liberabit.com</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> To my understanding, Ubuntu does not support GTK# for .NET 2.0 based mono
</I>&gt;<i> runtime, which is not a bug. You are trying to run an app with insufficient
</I>&gt;<i> software components on an OS. If you want to use the feature that the OS
</I>&gt;<i> does not provide, you'll have to provide that by yourself, like it wouldn't
</I>&gt;<i> make sense to bug Microsoft that WP7 does not ship with System.Data.
</I>&gt;<i>
</I>&gt;<i> (In other words, while .NET 2.0 could be the LCD, gtk# on .NET 2.0 is not .)
</I>&gt;<i>
</I>&gt;<i> I believe you could build and provide gtk# which is based on .NET 2.0
</I>&gt;<i> profile. Putting package for public would help Ubuntu users. Or
</I>&gt;<i> Ubuntu/Debian people may already have such packages apart from official
</I>&gt;<i> repos. AFAIR there are some &quot;2.0-cil&quot; packages in Ubuntu.
</I>&gt;<i>
</I>&gt;<i> Atsushi Eno
</I>&gt;<i>
</I>&gt;<i> IBBoard wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It appears there is a problem with running older .Net apps on the latest
</I>&gt;&gt;<i> versions of Ubuntu. If you compile for .Net 2.0 (perhaps because that is
</I>&gt;&gt;<i> your lowest common denominator, because you are working cross-platform and
</I>&gt;&gt;<i> you know some people will still be using WinXP without the huge .Net 3/3.5/4
</I>&gt;&gt;<i> updates) and run it on Ubuntu then you currently get an instant crash with a
</I>&gt;&gt;<i> message like &quot;Missing method System.Type::op_Inequality(Type,Type) in
</I>&gt;&gt;<i> assembly /usr/lib/mono/2.0/mscorlib.dll, referenced in assembly
</I>&gt;&gt;<i> /usr/lib/mono/gac/gtk-sharp/2.12.0.0__35e10195dab3c99f/gtk-sharp.dll&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It looks like this problem is quite prevalent and problematic
</I>&gt;&gt;<i> (<A HREF="https://bugs.launchpad.net/ubuntu/+source/mono/+bug/882501,">https://bugs.launchpad.net/ubuntu/+source/mono/+bug/882501,</A>
</I>&gt;&gt;<i> <A HREF="http://stackoverflow.com/questions/10473868/mono-gtk-hello-world-failing-missing-method,">http://stackoverflow.com/questions/10473868/mono-gtk-hello-world-failing-missing-method,</A>
</I>&gt;&gt;<i> and the rest of Google). The two fixes people have are &quot;recompile&quot; (only an
</I>&gt;&gt;<i> option if you're *only* targeting Ubuntu and want to use v4.0) or &quot;add the
</I>&gt;&gt;<i> --runtime=v4.0 switch&quot; to force a 2.0 app to run as 4.0.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Based on the assembly mentioned in error and what I've picked up online,
</I>&gt;&gt;<i> am I right in understanding that this is a purely Ubuntu-caused problem
</I>&gt;&gt;<i> because GTK# is now build with the .Net 4.0-compatible compiler? Is there
</I>&gt;&gt;<i> any way they can fix this, or are we stuck with it? And are there any
</I>&gt;&gt;<i> sensible and non-hackish ways to work around this in the meantime?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm working on my own Bash wrapper at the moment to fix this only when
</I>&gt;&gt;<i> necessary
</I>&gt;&gt;<i> (<A HREF="http://dev.ibboard.co.uk/repos/IBDev-IBBoard.WarFoundry.GUI.GTK/files/tip/WarFoundry.sh">http://dev.ibboard.co.uk/repos/IBDev-IBBoard.WarFoundry.GUI.GTK/files/tip/WarFoundry.sh</A>)
</I>&gt;&gt;<i> but I'm sure there must be better ways to do it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-list maillist &#160;- &#160;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist &#160;- &#160;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I></PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048546.html">[Mono-list] Mono 2.0 issues in Ubuntu - where is the problem and how will it be fixed?
</A></li>
	<LI>Next message: <A HREF="048549.html">[Mono-list] Mono 2.0 issues in Ubuntu - where is the problem and how will it be fixed?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48547">[ date ]</a>
              <a href="thread.html#48547">[ thread ]</a>
              <a href="subject.html#48547">[ subject ]</a>
              <a href="author.html#48547">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
