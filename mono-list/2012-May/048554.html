<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mono 2.0 issues in Ubuntu - where is the problem and how will it be fixed?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Mono%202.0%20issues%20in%20Ubuntu%20-%20where%20is%20the%20problem%0A%20and%20how%20will%20it%20be%20fixed%3F&In-Reply-To=%3C4FADDB26.4060509%40veritas-vos-liberabit.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048550.html">
   <LINK REL="Next"  HREF="048548.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mono 2.0 issues in Ubuntu - where is the problem and how will it be fixed?</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Mono%202.0%20issues%20in%20Ubuntu%20-%20where%20is%20the%20problem%0A%20and%20how%20will%20it%20be%20fixed%3F&In-Reply-To=%3C4FADDB26.4060509%40veritas-vos-liberabit.com%3E"
       TITLE="[Mono-list] Mono 2.0 issues in Ubuntu - where is the problem and how will it be fixed?">atsushieno at veritas-vos-liberabit.com
       </A><BR>
    <I>Sat May 12 03:38:14 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="048550.html">[Mono-list] Mono 2.0 issues in Ubuntu - where is the problem and how will it be fixed?
</A></li>
        <LI>Next message: <A HREF="048548.html">[Mono-list] Gtk# support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48554">[ date ]</a>
              <a href="thread.html#48554">[ thread ]</a>
              <a href="subject.html#48554">[ subject ]</a>
              <a href="author.html#48554">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>IBBoard wrote:
&gt;<i> Hi...
</I>&gt;<i>
</I>&gt;<i> On 11/05/12 17:38, Atsushi Eno wrote:
</I>&gt;&gt;<i> IBBoard wrote:
</I>&gt;<i> &gt;&gt; ...
</I>&gt;&gt;&gt;<i> Someone in Ubuntu might have decided that GTK# for .Net 4.0 only might
</I>&gt;&gt;&gt;<i> have been a &quot;feature&quot; and hence not a bug when 2.0 apps won't work,
</I>&gt;&gt;&gt;<i> but it seems like a very badly planned and unnecessary change.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That sounds wrong to me. Reasons:
</I>&gt;&gt;<i> - ABI compatibility is supported only each of 2.0 and 4.0. No one
</I>&gt;&gt;<i> (Microsoft or Mono) assured cross-ABI compatibility.
</I>&gt;<i>
</I>&gt;<i> I'm writing C# 2.0 code as a LCD (WinXP users and people on older 
</I>&gt;<i> Linux distros). C# 3.0 and 4.0 code are extensions of 2.0 - everything 
</I>&gt;<i> is new and added, but backward compatible (as far as I've seen). 
</I>
What is that Type.op_inequality() incompatibility about then.

&gt;<i> Cross-ABI compatibility seemed like half of the point. Java managed it 
</I>&gt;<i> across lots of versions, and as a language with byte-code/CIL, it 
</I>&gt;<i> seems like half of the point that you insulate apps against such 
</I>&gt;<i> things (unlike C/C++ that can balk at the tiniest of API changes on 
</I>&gt;<i> Linux).
</I>
Java hadn't changed byte code across versions in the cost of evolution. 
And I totally don't understand what you are complaining about. If you 
complain about .NET incompatibility, you should go to Microsoft Connect.

&gt;<i>
</I>&gt;&gt;<i> ...
</I>&gt;&gt;<i> - It is like Windows and .NET 1.1. People don't complain that Microsoft
</I>&gt;&gt;<i> does not ship .NET 1.1 in the latest OSes. By not shipping 1.1, any 1.1
</I>&gt;&gt;<i> apps could be broken like yours.
</I>&gt;<i>
</I>&gt;<i> Really? I've got some .Net 1.1 apps, and the last I checked, they 
</I>&gt;<i> still worked with .Net 2.0 and 3.5 installed.
</I>&gt;<i>
</I>
I have no idea why you can blindly believe in 1.1 &lt;-&gt; 2.0 compatibility 
while you saw 2.0 &lt;-&gt; 4.0 incompatibility. (Only by *some apps* experience?)

&gt;<i> Also, according to Hanselman (who is trustworthy, I believe) only 65% 
</I>&gt;<i> of computers had .Net 3.5 in 2010 
</I>&gt;<i> (<A HREF="http://www.hanselman.com/blog/HowManyPCsInTheWorldHaveTheNETFrameworkInstalled.aspx">http://www.hanselman.com/blog/HowManyPCsInTheWorldHaveTheNETFrameworkInstalled.aspx</A>). 
</I>&gt;<i> That'll have improved because of people upgrading and getting Windows 
</I>&gt;<i> 7, but that is still by no means all of them. It also doesn't account 
</I>&gt;<i> for Linux users and how many are using old versions of Mono. Why 
</I>&gt;<i> should I cut out users unnecessarily and jump to 4.0 for an app with 
</I>&gt;<i> an already small install base and no power to make people change their 
</I>&gt;<i> mind?
</I>&gt;<i>
</I>I never suggested to *cut out* users. You are fighting against some ghost.

&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The script I have appears to work for now, but I'd prefer a better way
</I>&gt;&gt;&gt;<i> to detect when to add the fix to the command-line (something that does
</I>&gt;&gt;&gt;<i> feature detection rather than OS detection, and so will work across
</I>&gt;&gt;&gt;<i> derivatives and other OSes that go the same route). If anyone has any
</I>&gt;&gt;&gt;<i> suggestions or scripts then I'd be glad to hear them.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Recompiling for .Net 4 or rebuilding GTK# just for the sake of Ubuntu
</I>&gt;&gt;&gt;<i> just seems unnecessary.
</I>&gt;&gt;<i> 2.0 will be deprecated and will vanish from mono later, like we killed
</I>&gt;&gt;<i> 1.1 profile in the past. Building for 4.0 is absolutely the right
</I>&gt;&gt;<i> direction.
</I>&gt;<i>
</I>&gt;<i> I'd like to use .Net 4 features and target it, but for what my app is, 
</I>&gt;<i> saying &quot;sorry, you need to download a big huge framework update&quot; just 
</I>&gt;<i> isn't a tenable position. One of my previous apps had enough 
</I>&gt;<i> rejections in the days when .Net 2.0 was in a WinXP SP just because it 
</I>&gt;<i> was written in .Net 1.1 (which was common) and people didn't want to 
</I>&gt;<i> get an extra dependency that they didn't have for some reason.
</I>&gt;<i>
</I>I don't really understand your problem. Just provide 2.0 for Windows and 
4.0 for Linux.

&gt;&gt;<i>
</I>&gt;&gt;<i> And this rather sounds like &quot;I don't want to build 2.0 packages, so you
</I>&gt;&gt;<i> build 2.0 packages for me instead&quot; ...
</I>&gt;<i>
</I>&gt;<i> No, it sounds like &quot;my app is small, and rebuilding GTK# just for the 
</I>&gt;<i> sake of Ubuntu is a waste of my time compared to working on features, 
</I>&gt;<i> as well as being a likely cause of problems for me and upset users 
</I>&gt;<i> when they either a) get confused by the extra &quot;with GTK#&quot; download or 
</I>&gt;<i> b) have a larger download (that may or may not conflict with system 
</I>&gt;<i> libraries) just because of a distro they don't use or c) hit bugs when 
</I>&gt;<i> my builds of GTK# don't play nicely with theirs&quot;.
</I>&gt;<i>
</I>
Just build your app based on 4.0 profile for Ubuntu so that you don't 
have to keep complaining about Ubuntu decision which should be good for 
most users.

To make it clear, I write to explain *why* things could be &quot;broken&quot; and 
wrote hints on how to fix it, and why Ubuntu direction is better. In 
that context, I should have added this: selecting &quot;required&quot; package is 
always important for distros. If they select one package, it will eat 
disk space. Providing huge package for cosmetic need (e.g. issues that 
developers can avoid) is *bad* for them. Keep in mind that as many 
packages as you demand in the default installation it will harm users' 
ability by reducing other useful software.
I hope you understand their business and judge it with fair mind.

Atsushi Eno

&gt;<i> Thanks.
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Atsushi Eno
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> IBBoard
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On 11 May 2012 09:00, Atsushi
</I>&gt;&gt;&gt;<i> Eno&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">atsushieno at veritas-vos-liberabit.com</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i> Hello,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> To my understanding, Ubuntu does not support GTK# for .NET 2.0 based
</I>&gt;&gt;&gt;&gt;<i> mono
</I>&gt;&gt;&gt;&gt;<i> runtime, which is not a bug. You are trying to run an app with
</I>&gt;&gt;&gt;&gt;<i> insufficient
</I>&gt;&gt;&gt;&gt;<i> software components on an OS. If you want to use the feature that 
</I>&gt;&gt;&gt;&gt;<i> the OS
</I>&gt;&gt;&gt;&gt;<i> does not provide, you'll have to provide that by yourself, like it
</I>&gt;&gt;&gt;&gt;<i> wouldn't
</I>&gt;&gt;&gt;&gt;<i> make sense to bug Microsoft that WP7 does not ship with System.Data.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> (In other words, while .NET 2.0 could be the LCD, gtk# on .NET 2.0 is
</I>&gt;&gt;&gt;&gt;<i> not .)
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I believe you could build and provide gtk# which is based on .NET 2.0
</I>&gt;&gt;&gt;&gt;<i> profile. Putting package for public would help Ubuntu users. Or
</I>&gt;&gt;&gt;&gt;<i> Ubuntu/Debian people may already have such packages apart from 
</I>&gt;&gt;&gt;&gt;<i> official
</I>&gt;&gt;&gt;&gt;<i> repos. AFAIR there are some &quot;2.0-cil&quot; packages in Ubuntu.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Atsushi Eno
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> IBBoard wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> It appears there is a problem with running older .Net apps on the
</I>&gt;&gt;&gt;&gt;&gt;<i> latest
</I>&gt;&gt;&gt;&gt;&gt;<i> versions of Ubuntu. If you compile for .Net 2.0 (perhaps because
</I>&gt;&gt;&gt;&gt;&gt;<i> that is
</I>&gt;&gt;&gt;&gt;&gt;<i> your lowest common denominator, because you are working
</I>&gt;&gt;&gt;&gt;&gt;<i> cross-platform and
</I>&gt;&gt;&gt;&gt;&gt;<i> you know some people will still be using WinXP without the huge .Net
</I>&gt;&gt;&gt;&gt;&gt;<i> 3/3.5/4
</I>&gt;&gt;&gt;&gt;&gt;<i> updates) and run it on Ubuntu then you currently get an instant
</I>&gt;&gt;&gt;&gt;&gt;<i> crash with a
</I>&gt;&gt;&gt;&gt;&gt;<i> message like &quot;Missing method System.Type::op_Inequality(Type,Type) in
</I>&gt;&gt;&gt;&gt;&gt;<i> assembly /usr/lib/mono/2.0/mscorlib.dll, referenced in assembly
</I>&gt;&gt;&gt;&gt;&gt;<i> /usr/lib/mono/gac/gtk-sharp/2.12.0.0__35e10195dab3c99f/gtk-sharp.dll&quot;
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> It looks like this problem is quite prevalent and problematic
</I>&gt;&gt;&gt;&gt;&gt;<i> (<A HREF="https://bugs.launchpad.net/ubuntu/+source/mono/+bug/882501,">https://bugs.launchpad.net/ubuntu/+source/mono/+bug/882501,</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://stackoverflow.com/questions/10473868/mono-gtk-hello-world-failing-missing-method,">http://stackoverflow.com/questions/10473868/mono-gtk-hello-world-failing-missing-method,</A> 
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> and the rest of Google). The two fixes people have are &quot;recompile&quot;
</I>&gt;&gt;&gt;&gt;&gt;<i> (only an
</I>&gt;&gt;&gt;&gt;&gt;<i> option if you're *only* targeting Ubuntu and want to use v4.0) or
</I>&gt;&gt;&gt;&gt;&gt;<i> &quot;add the
</I>&gt;&gt;&gt;&gt;&gt;<i> --runtime=v4.0 switch&quot; to force a 2.0 app to run as 4.0.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Based on the assembly mentioned in error and what I've picked up
</I>&gt;&gt;&gt;&gt;&gt;<i> online,
</I>&gt;&gt;&gt;&gt;&gt;<i> am I right in understanding that this is a purely Ubuntu-caused 
</I>&gt;&gt;&gt;&gt;&gt;<i> problem
</I>&gt;&gt;&gt;&gt;&gt;<i> because GTK# is now build with the .Net 4.0-compatible compiler? Is
</I>&gt;&gt;&gt;&gt;&gt;<i> there
</I>&gt;&gt;&gt;&gt;&gt;<i> any way they can fix this, or are we stuck with it? And are there any
</I>&gt;&gt;&gt;&gt;&gt;<i> sensible and non-hackish ways to work around this in the meantime?
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I'm working on my own Bash wrapper at the moment to fix this only 
</I>&gt;&gt;&gt;&gt;&gt;<i> when
</I>&gt;&gt;&gt;&gt;&gt;<i> necessary
</I>&gt;&gt;&gt;&gt;&gt;<i> (<A HREF="http://dev.ibboard.co.uk/repos/IBDev-IBBoard.WarFoundry.GUI.GTK/files/tip/WarFoundry.sh">http://dev.ibboard.co.uk/repos/IBDev-IBBoard.WarFoundry.GUI.GTK/files/tip/WarFoundry.sh</A>) 
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> but I'm sure there must be better ways to do it.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Thanks.
</I>&gt;&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;&gt;<i> Mono-list maillist - <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> Mono-list maillist - <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-list maillist - <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048550.html">[Mono-list] Mono 2.0 issues in Ubuntu - where is the problem and how will it be fixed?
</A></li>
	<LI>Next message: <A HREF="048548.html">[Mono-list] Gtk# support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48554">[ date ]</a>
              <a href="thread.html#48554">[ thread ]</a>
              <a href="subject.html#48554">[ subject ]</a>
              <a href="author.html#48554">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
