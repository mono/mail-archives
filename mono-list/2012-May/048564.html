<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] How to detect which version of Mono a library is compiled with?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20How%20to%20detect%20which%20version%20of%20Mono%20a%20library%20is%0A%20compiled%20with%3F&In-Reply-To=%3CF03FEA7D-9284-44AB-B4F7-601ECC63AADC%40vt.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048551.html">
   <LINK REL="Next"  HREF="048565.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] How to detect which version of Mono a library is compiled with?</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20How%20to%20detect%20which%20version%20of%20Mono%20a%20library%20is%0A%20compiled%20with%3F&In-Reply-To=%3CF03FEA7D-9284-44AB-B4F7-601ECC63AADC%40vt.edu%3E"
       TITLE="[Mono-list] How to detect which version of Mono a library is compiled with?">jonpryor at vt.edu
       </A><BR>
    <I>Wed May 16 18:23:51 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="048551.html">[Mono-list] How to detect which version of Mono a library is	compiled with?
</A></li>
        <LI>Next message: <A HREF="048565.html">[Mono-list] How to detect which version of Mono a library is compiled with?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48564">[ date ]</a>
              <a href="thread.html#48564">[ thread ]</a>
              <a href="subject.html#48564">[ subject ]</a>
              <a href="author.html#48564">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On May 11, 2012, at 2:54 PM, IBBoard wrote:
&gt;<i> What I want is a less hack-ish run script (currently using Bash). The proper way to do it is to check for features rather than string matching and version checking (which caused lots of JavaScript issues with people doing IE version checks badly). Is there a way to probe the profile that a Mono library was compiled with from Bash, without the ...-dev package being installed?
</I>
`monodis --assemblyref` will tell you which assemblies an assembly references, including version numbers, but (1) I don't know if monodis is in a -dev package or not (I imagine it is), and (2) I'm not sure that would actually help you, as you'd need to &quot;somehow&quot; find an assembly to run monodis against. Running it against your app won't help -- you know it's a 2.0 app -- so you'd presumably want System.dll or gtk-sharp.dll or something, and how do you find the appropriate path for _that_?

I'd suggest a different hack:

	bindir=$(dirname `which mono`)
	if [ -d &quot;$bindir/../lib/mono/2.0&quot; ]; then
		# you have the 2.0 runtime...
	else
		# you don't; try for the 4.0 runtime and use `mono --runtime`...
	fi

You may also need to check for lib64 in addition to lib (iirc Fedora likes lib64).

In general, if $prefix/lib/mono/2.0 exists, then the 2.0 profile exists.

 - Jon


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048551.html">[Mono-list] How to detect which version of Mono a library is	compiled with?
</A></li>
	<LI>Next message: <A HREF="048565.html">[Mono-list] How to detect which version of Mono a library is compiled with?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48564">[ date ]</a>
              <a href="thread.html#48564">[ thread ]</a>
              <a href="subject.html#48564">[ subject ]</a>
              <a href="author.html#48564">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
