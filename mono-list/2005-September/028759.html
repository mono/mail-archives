<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] remoting timeouts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20remoting%20timeouts&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028756.html">
   <LINK REL="Next"  HREF="028760.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] remoting timeouts</H1>
    <B>Carlos Ble</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20remoting%20timeouts&In-Reply-To="
       TITLE="[Mono-list] remoting timeouts">carlosble at shidix.com
       </A><BR>
    <I>Tue Sep 27 05:38:49 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="028756.html">[Mono-list] Mono bindings for the RPM api
</A></li>
        <LI>Next message: <A HREF="028760.html">[Mono-list] compiling web service client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28759">[ date ]</a>
              <a href="thread.html#28759">[ thread ]</a>
              <a href="subject.html#28759">[ subject ]</a>
              <a href="author.html#28759">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
I've thinking about howto process timeouts in remote calls throught remoting.
After some google searchs I change the communication channel from TcpChannel to 
HttpChannel because I read that only this channel has timeout. I start my firewall
between client and server and timeout exception comes always about 100 seconds 
(Unhandled Exception: System.Net.WebException: The request timed out), despite of 
I am setting timeout property to 2 or 3 seconds.
This is the source code Im using at client:
       IDictionary channelProperties = new Hashtable();
       channelProperties[&quot;timeout&quot;] = 2000;  // 2 seconds
       HttpChannel channel = new HttpChannel(channelProperties,
            new SoapClientFormatterSinkProvider(),
            new SoapServerFormatterSinkProvider());
Is timeout property really implemented in HttpChannel?
Will be implemented in TcpChannel ?

I also tryied another unsuccess solutions to control remote calls 
(without freeze clients): 
1. I've tryied asynchronous calls thought AsyncCallback, IAsyncResult..., 
but between BeginInvoke and EndInvoke,
I have no control to abort call because the started thread looks like 
internal, I cant access it, I can only ask IsCompleted ore WaitOne, 
and get returned values but no stop.
Calling EndInvoke before remote call finish, only block main thread until 
it finish.
2. I've tryied with System.Thread for launching remote call and abort thread 
before end. This stop client but launchs remoting exceptions and doesnt looks 
fine.

The last question is, why SOAPAction Header in HttpChannel communication starts 
with <A HREF="http://schemas.microsoft.com/clr?.">http://schemas.microsoft.com/clr?.</A> Why not to define mono schemas?  
 
Thankyou very much, and sorry for my bad english



</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028756.html">[Mono-list] Mono bindings for the RPM api
</A></li>
	<LI>Next message: <A HREF="028760.html">[Mono-list] compiling web service client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28759">[ date ]</a>
              <a href="thread.html#28759">[ thread ]</a>
              <a href="subject.html#28759">[ subject ]</a>
              <a href="author.html#28759">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
