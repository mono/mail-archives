<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] yield
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20yield&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028545.html">
   <LINK REL="Next"  HREF="028587.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] yield</H1>
    <B>Bernhard Herzog</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20yield&In-Reply-To="
       TITLE="[Mono-list] yield">schwimmlehrer at gmail.com
       </A><BR>
    <I>Wed Sep 14 07:08:25 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="028545.html">[Mono-list] yield
</A></li>
        <LI>Next message: <A HREF="028587.html">[Mono-list] yield
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28548">[ date ]</a>
              <a href="thread.html#28548">[ thread ]</a>
              <a href="subject.html#28548">[ subject ]</a>
              <a href="author.html#28548">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> It's a bug in gmcs.
</I>&gt;<i>
</I>&gt;<i> However, using 'lock' and 'yield' together doesn't sound like a good
</I>&gt;<i> idea to me.  The standard doesn't specify anything about releasing and
</I>&gt;<i> re-acquiring the lock around a yield[1]: so, the lock is very
</I>&gt;<i> long-lived.
</I>

I have filed a bug report.

&gt;<i>From the Microsoft C# Programmers Reference:
</I>Unsafe blocks are not allowed

My naive unterstanding of how yield works was that code until the loop is 
executed (i.e. the lock is aquired), then the code inside the foreach (the 
one that called the function containing yield) is called and finally the 
code after my loop is called (i.e. the lock is released). In my real life 
example I am iterating through nested Hashtables/Lists and call that from an 
aspx page to generate HTML output. I thought I need to lock the object so 
that the collections are not modified while I am iterating.

I wanted to avoid copying all the data, but maybe there is something that is 
better suited for tasks like that.

Does that make any sense?

Thank you
Bernhard 

</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028545.html">[Mono-list] yield
</A></li>
	<LI>Next message: <A HREF="028587.html">[Mono-list] yield
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28548">[ date ]</a>
              <a href="thread.html#28548">[ thread ]</a>
              <a href="subject.html#28548">[ subject ]</a>
              <a href="author.html#28548">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
