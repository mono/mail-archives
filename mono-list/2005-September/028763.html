<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> SV: SV: SV: SV: SV: [Mono-list] PKCS#12 example
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=SV%3A%20SV%3A%20SV%3A%20SV%3A%20SV%3A%20%5BMono-list%5D%20PKCS%2312%20example&In-Reply-To=22B92EF8DAABDA48879D5188A70FBEF601495035%40kmdex5.intern.kmd.dk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028762.html">
   <LINK REL="Next"  HREF="028765.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>SV: SV: SV: SV: SV: [Mono-list] PKCS#12 example</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=SV%3A%20SV%3A%20SV%3A%20SV%3A%20SV%3A%20%5BMono-list%5D%20PKCS%2312%20example&In-Reply-To=22B92EF8DAABDA48879D5188A70FBEF601495035%40kmdex5.intern.kmd.dk"
       TITLE="SV: SV: SV: SV: SV: [Mono-list] PKCS#12 example">sebastien.pouliot at gmail.com
       </A><BR>
    <I>Tue Sep 27 08:03:48 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="028762.html">[Mono-list] compiling web service client
</A></li>
        <LI>Next message: <A HREF="028765.html">[Mono-list] PKCS#7 implementation without signers certificate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28763">[ date ]</a>
              <a href="thread.html#28763">[ thread ]</a>
              <a href="subject.html#28763">[ subject ]</a>
              <a href="author.html#28763">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Kim,

On Tue, 2005-27-09 at 09:25 +0200, Hellan.Kim KHE wrote:
&gt;<i> Hi Sebastien
</I>&gt;<i> 
</I>&gt;<i> I'm almost there with my PKCS#12 conversion and there's only one small
</I>&gt;<i> thing left :)
</I>&gt;<i> I've added a friendly name, by using some code I found in your
</I>&gt;<i> examples:
</I>&gt;<i> 
</I>&gt;<i> ....
</I>&gt;<i> ArrayList attrValues = new ArrayList ();
</I>&gt;<i> attrValues.Add(System.Text.Encoding.BigEndianUnicode.GetBytes(&quot;My
</I>&gt;<i> friendly name&quot;));
</I>&gt;<i> attrs.Add( PKCS9.friendlyName, attrValues );
</I>&gt;<i> .....
</I>&gt;<i> 
</I>&gt;<i> This works just fine.
</I>
Looks ok too ;)

&gt;<i> I've tried to add a localKeyId the same way and it seems to work, but
</I>&gt;<i> I'm not 100% sure what encoding to use. 
</I>
AFAIK there are no special encoding. 

&gt;<i> I want to do it right, so can you help me there?
</I>
The only* rule is that the certificate and the private key must have the
*same* id (a, potentially very large, integer). It can be a fixed value
(I use 0x1 in makecert), a random value ...

* unless you requires some interop with other tools that define extra
requirements.

&gt;<i> The localKeyId I want to add is the subjectKeyIdentifier from the
</I>&gt;<i> certificate.
</I>
Hmmm... not sure if I understand the problem correctly. Are you unsure
about the encoding and/or how to get the SKI ?

&gt;<i> Thank you,
</I>&gt;<i> Kim
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -----Oprindelig meddelelse-----
</I>&gt;<i> Fra: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A>] P&#229; vegne af Sebastien
</I>&gt;<i> Pouliot
</I>&gt;<i> Sendt: 23. september 2005 14:15
</I>&gt;<i> Til: Julien Gilli
</I>&gt;<i> Cc: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
</I>&gt;<i> Emne: Re: SV: SV: SV: SV: [Mono-list] PKCS#12 example
</I>&gt;<i> 
</I>&gt;<i> Hello Julien, Kim,
</I>&gt;<i> 
</I>&gt;<i> On Fri, 2005-23-09 at 09:53 +0200, Julien Gilli wrote:
</I>&gt;<i> &gt; Hellan.Kim KHE wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt;I also took a look at the code, but I really don't know enough
</I>&gt;<i> about crypto standards to be able to see what goes wrong.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; I guess that the code doesn't add the localKeyID attribute to the 
</I>&gt;<i> &gt; &quot;keyBag&quot; safeBag, but i may be wrong.
</I>&gt;<i> 
</I>&gt;<i> You were right. 
</I>&gt;<i> It's now fixed in SVN.
</I>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028762.html">[Mono-list] compiling web service client
</A></li>
	<LI>Next message: <A HREF="028765.html">[Mono-list] PKCS#7 implementation without signers certificate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28763">[ date ]</a>
              <a href="thread.html#28763">[ thread ]</a>
              <a href="subject.html#28763">[ subject ]</a>
              <a href="author.html#28763">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
