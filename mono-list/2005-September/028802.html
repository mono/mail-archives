<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Web Service cannot connect to Database
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Web%20Service%20cannot%20connect%20to%20Database&In-Reply-To=20050929071528.95986.qmail%40web53111.mail.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028801.html">
   <LINK REL="Next"  HREF="028803.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Web Service cannot connect to Database</H1>
    <B>Joe Audette</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Web%20Service%20cannot%20connect%20to%20Database&In-Reply-To=20050929071528.95986.qmail%40web53111.mail.yahoo.com"
       TITLE="[Mono-list] Web Service cannot connect to Database">joe_audette at yahoo.com
       </A><BR>
    <I>Thu Sep 29 08:52:13 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="028801.html">[Mono-list] Re: Web Service cannot connect to Database
</A></li>
        <LI>Next message: <A HREF="028803.html">[Mono-list] Web Service cannot connect to Database
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28802">[ date ]</a>
              <a href="thread.html#28802">[ thread ]</a>
              <a href="subject.html#28802">[ subject ]</a>
              <a href="author.html#28802">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

You did not mention what version of MySQL or the
Connector. Newer versions of MySQL do not work with
ByteFX and the last 2 releases (1.0.5 and 1.0.6) of
the Connector do not work with mono so you would need
1.0.4.

You say it works on Windows with this connection
string
string connectionString= &quot;server=localhost;uid=root;
pwd=koko; database=fotows&quot;;

so localhost must be the windows box, when you move
the code to mono either you are trying to connect to a
different db because now localhost refers to the mono
machine or else you need to change the connection
string and put in the host name of the windows box
(and make sure it can be resolved by the mono machine)
or the ip address of the windows box

Hope it helps,

Joe

--- Ko Ko &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">kkl_sg at yahoo.com</A>&gt; wrote:

&gt;<i> Hi
</I>&gt;<i>  
</I>&gt;<i> I got problem connecting to MySQL Database on Mono.
</I>&gt;<i> I can run the webservices. But when ever I try to
</I>&gt;<i> invoke the database from webservices it kept giving
</I>&gt;<i> me this error
</I>&gt;<i>  
</I>&gt;<i> The remote server returned an error: (500) Internal
</I>&gt;<i> Server Error. Unable to connect to any of the
</I>&gt;<i> specified MySQL hosts
</I>&gt;<i>  
</I>&gt;<i> I am using ByteFX and also MySQL connector/Net.
</I>&gt;<i> These are working fine on Windows Platform when I
</I>&gt;<i> tested with .Net. On Linux it cannot connect to
</I>&gt;<i> database. What could be the problem?
</I>&gt;<i>  
</I>&gt;<i> I put the MySQL connector/Net version of code with
</I>&gt;<i> this mail.
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> using System;
</I>&gt;<i> 
</I>&gt;<i> using System.Collections;
</I>&gt;<i> 
</I>&gt;<i> using System.ComponentModel;
</I>&gt;<i> 
</I>&gt;<i> using System.Data;
</I>&gt;<i> 
</I>&gt;<i> using System.Diagnostics;
</I>&gt;<i> 
</I>&gt;<i> using System.Web;
</I>&gt;<i> 
</I>&gt;<i> using System.Web.Services;
</I>&gt;<i> 
</I>&gt;<i> using MySql.Data.MySqlClient;
</I>&gt;<i> 
</I>&gt;<i> namespace ws
</I>&gt;<i> 
</I>&gt;<i> {
</I>&gt;<i> 
</I>&gt;<i> /// &lt;summary&gt;
</I>&gt;<i> 
</I>&gt;<i> /// Summary description for Service1.
</I>&gt;<i> 
</I>&gt;<i> /// &lt;/summary&gt;
</I>&gt;<i> 
</I>&gt;<i> public class Fotohub :
</I>&gt;<i> System.Web.Services.WebService
</I>&gt;<i> 
</I>&gt;<i> {
</I>&gt;<i> 
</I>&gt;<i> public Fotohub()
</I>&gt;<i> 
</I>&gt;<i> {
</I>&gt;<i> 
</I>&gt;<i> //CODEGEN: This call is required by the ASP.NET Web
</I>&gt;<i> Services Designer
</I>&gt;<i> 
</I>&gt;<i> InitializeComponent();
</I>&gt;<i> 
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> #region Component Designer generated code
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> //Required by the Web Services Designer 
</I>&gt;<i> 
</I>&gt;<i> private IContainer components = null;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> /// &lt;summary&gt;
</I>&gt;<i> 
</I>&gt;<i> /// Required method for Designer support - do not
</I>&gt;<i> modify
</I>&gt;<i> 
</I>&gt;<i> /// the contents of this method with the code
</I>&gt;<i> editor.
</I>&gt;<i> 
</I>&gt;<i> /// &lt;/summary&gt;
</I>&gt;<i> 
</I>&gt;<i> private void InitializeComponent()
</I>&gt;<i> 
</I>&gt;<i> {
</I>&gt;<i> 
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> /// &lt;summary&gt;
</I>&gt;<i> 
</I>&gt;<i> /// Clean up any resources being used.
</I>&gt;<i> 
</I>&gt;<i> /// &lt;/summary&gt;
</I>&gt;<i> 
</I>&gt;<i> protected override void Dispose( bool disposing )
</I>&gt;<i> 
</I>&gt;<i> {
</I>&gt;<i> 
</I>&gt;<i> if(disposing &amp;&amp; components != null)
</I>&gt;<i> 
</I>&gt;<i> {
</I>&gt;<i> 
</I>&gt;<i> components.Dispose();
</I>&gt;<i> 
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> base.Dispose(disposing); 
</I>&gt;<i> 
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> #endregion
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> [WebMethod]
</I>&gt;<i> 
</I>&gt;<i> public DataSet GetUserInfo()
</I>&gt;<i> 
</I>&gt;<i> {
</I>&gt;<i> 
</I>&gt;<i> string connectionString= &quot;server=localhost;
</I>&gt;<i> uid=root; pwd=koko; database=fotows&quot;;
</I>&gt;<i> 
</I>&gt;<i> string query= &quot;Select * From user&quot;;
</I>&gt;<i> 
</I>&gt;<i> DataSet dataset=new DataSet();
</I>&gt;<i> 
</I>&gt;<i> MySqlConnection conn = new
</I>&gt;<i> MySqlConnection(connectionString);
</I>&gt;<i> 
</I>&gt;<i> MySqlDataAdapter adapter = new MySqlDataAdapter();
</I>&gt;<i> 
</I>&gt;<i> adapter.SelectCommand = new MySqlCommand(query,
</I>&gt;<i> conn);
</I>&gt;<i> 
</I>&gt;<i> adapter.Fill(dataset);
</I>&gt;<i> 
</I>&gt;<i> return dataset;
</I>&gt;<i> 
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> regards,
</I>&gt;<i> 
</I>&gt;<i> Ko Ko
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Reality starts with Dream 
</I>&gt;<i> 
</I>&gt;<i> 		
</I>&gt;<i> ---------------------------------
</I>&gt;<i> Yahoo! for Good
</I>&gt;<i>  Click here to donate to the Hurricane Katrina
</I>&gt;<i> relief effort. &gt;
</I>_______________________________________________
&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> 
</I>

joe_audette [at] yahoo dotcom
<A HREF="http://www.joeaudette.com">http://www.joeaudette.com</A>
<A HREF="http://www.mojoportal.com">http://www.mojoportal.com</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028801.html">[Mono-list] Re: Web Service cannot connect to Database
</A></li>
	<LI>Next message: <A HREF="028803.html">[Mono-list] Web Service cannot connect to Database
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28802">[ date ]</a>
              <a href="thread.html#28802">[ thread ]</a>
              <a href="subject.html#28802">[ subject ]</a>
              <a href="author.html#28802">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
