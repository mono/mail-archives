<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] NullRefException compiling with mcs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:sballard%40netreach.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="017956.html">
   <LINK REL="Next"  HREF="017975.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] NullRefException compiling with mcs
   </H1>
    <B>Stuart Ballard
    </B> 
    <A HREF="mailto:sballard%40netreach.com"
       TITLE="[Mono-list] NullRefException compiling with mcs">sballard@netreach.com
       </A><BR>
    <I>Wed, 28 Jan 2004 11:04:03 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="017956.html">[Mono-list] NullRefException compiling with mcs
</A></li>
        <LI> Next message: <A HREF="017975.html">[Mono-list] NullRefException compiling with mcs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17970">[ date ]</a>
              <a href="thread.html#17970">[ thread ]</a>
              <a href="subject.html#17970">[ subject ]</a>
              <a href="author.html#17970">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Miguel de Icaza wrote:
&gt;<i> It is hard to tell from the stack trace that you provided, and that
</I>&gt;<i> version of the compiler is fairly old, we have fixed roughly a hundred
</I>&gt;<i> bugs since that release.
</I>&gt;<i> 
</I>&gt;<i> It would be useful if you could try with a new compiler, or isolate a
</I>&gt;<i> sample test case.
</I>
The 20040111 snapshot has the same problem (stack trace below, I'm not 
sure whether it's identical but it's similar), and since that's the 
latest debian package to have been created, it's the latest that's easy 
for me to test.

I'm pretty sure this is a regression - an older version of mcs was able 
to compile this project without problems. Although it's true that the 
project itself has changed in that time too, none of the changes seem 
particularly likely to break the compiler.

Do you have any suggestions as to how I might go about narrowing down 
the problem? Are there any particular language features that are 
suggested or ruled out by the stack trace?

I'll have a go myself at tracking it down as well, but I'm dealing with 
a compilation involving 102 generated source files (created by nrdo, 
<A HREF="http://savannah.nongnu.org/projects/nrdo">http://savannah.nongnu.org/projects/nrdo</A>) that range in size from 5K to 
50K, so it's hard to know where to begin. There are only a few of the 
files that are truly standalone, but when I tried compiling one of those 
few by itself, the error didn't occur.

I can send you (or someone else) the full source in private email, but I 
appreciate that that's not much use...

Thanks in advance for any tips,
Stuart.

Unhandled Exception: System.NullReferenceException: A null value was 
found where an object instance was required
in &lt;0x0020c&gt; Mono.CSharp.Interface:DefineType ()
in &lt;0x00226&gt; Mono.CSharp.DeclSpace:LookupInterfaceOrClass 
(string,string,bool&amp;)in &lt;0x00285&gt; Mono.CSharp.DeclSpace:FindType 
(Mono.CSharp.Location,string)
in &lt;0x0011a&gt; Mono.CSharp.MemberAccess:ResolveAsTypeStep 
(Mono.CSharp.EmitContext)
in &lt;0x00011&gt; Mono.CSharp.Expression:ResolveAsTypeTerminal 
(Mono.CSharp.EmitContext)
in &lt;0x0005b&gt; Mono.CSharp.DeclSpace:ResolveTypeExpr 
(Mono.CSharp.Expression,bool,Mono.CSharp.Location)
in &lt;0x004e6&gt; Mono.CSharp.TypeContainer:GetClassBases 
(bool,Mono.CSharp.TypeExpr&amp;,bool&amp;)
in &lt;0x0022e&gt; Mono.CSharp.TypeContainer:DefineType ()
in &lt;0x00305&gt; Mono.CSharp.RootContext:ResolveTree ()
in &lt;0x00a87&gt; Mono.CSharp.Driver:MainDriver (string[])
in &lt;0x0001a&gt; Mono.CSharp.Driver:Main (string[])


-- 
Stuart Ballard, Senior Web Developer
NetReach, Inc.
(215) 283-2300, ext. 126
<A HREF="http://www.netreach.com/">http://www.netreach.com/</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="017956.html">[Mono-list] NullRefException compiling with mcs
</A></li>
	<LI> Next message: <A HREF="017975.html">[Mono-list] NullRefException compiling with mcs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17970">[ date ]</a>
              <a href="thread.html#17970">[ thread ]</a>
              <a href="subject.html#17970">[ subject ]</a>
              <a href="author.html#17970">[ author ]</a>
         </LI>
       </UL>
</body></html>
