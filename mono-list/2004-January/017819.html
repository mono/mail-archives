<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] internalcall
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jonpryor%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="017818.html">
   <LINK REL="Next"  HREF="017817.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] internalcall
   </H1>
    <B>Jonathan Pryor
    </B> 
    <A HREF="mailto:jonpryor%40vt.edu"
       TITLE="[Mono-list] internalcall">jonpryor@vt.edu
       </A><BR>
    <I>Tue, 20 Jan 2004 21:43:32 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="017818.html">[Mono-list] internalcall
</A></li>
        <LI> Next message: <A HREF="017817.html">[Mono-list] GTK# vs GDI+
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17819">[ date ]</a>
              <a href="thread.html#17819">[ thread ]</a>
              <a href="subject.html#17819">[ subject ]</a>
              <a href="author.html#17819">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In internalcall is a function that is implemented within the runtime,
instead of within an external library.  .NET also has them.

In principal, this need not be any different from a normal P/Invoke
call, except that the library isn't specified.  In practice,
internalcalls *could* be more efficient than normal P/Invoke calls as
the marshaller could be more intelligent about marshaling (as it may not
need to assume that the function being called could do &quot;stupid things&quot;,
allowing it to skip some safety measures).

I don't know if Mono does anything like that, but .NET, IIRC, will
normally wrap all P/Invoke calls with an exception handler
(__try/__except in MSVC), so that the called function can't kill the
process.  .NET will skip this for internalcalls, for two reasons: (1)
it's faster, as you're not setting up the exception handler;  (2) more
importantly, if the runtime screws up, the process is hosed anyway, so
there won't be much that the exception handler can do for you that
already installed exception handlers (lower in the call stack) can't
already do.

 - Jon

On Tue, 2004-01-20 at 21:22, James Lapalme wrote:
&gt;<i> Hello,
</I>&gt;<i>  
</I>&gt;<i> What are &quot;internalcalls&quot;?
</I>&gt;<i> What is the difference between internalcalls and PInvokes (considering
</I>&gt;<i> I know very well what PInvokes are)?
</I>&gt;<i> Are internalcalls a Mono thing or a .Net thing because I never heared
</I>&gt;<i> about them before?
</I>&gt;<i>  
</I>&gt;<i> Thank you,
</I>&gt;<i>  
</I>&gt;<i> James
</I>&gt;<i>  
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="017818.html">[Mono-list] internalcall
</A></li>
	<LI> Next message: <A HREF="017817.html">[Mono-list] GTK# vs GDI+
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17819">[ date ]</a>
              <a href="thread.html#17819">[ thread ]</a>
              <a href="subject.html#17819">[ subject ]</a>
              <a href="author.html#17819">[ author ]</a>
         </LI>
       </UL>
</body></html>
