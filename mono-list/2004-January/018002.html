<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] System.Collections intricacies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:apwilson%40rogers.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="017999.html">
   <LINK REL="Next"  HREF="018003.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] System.Collections intricacies
   </H1>
    <B>Andrew P. Wilson
    </B> 
    <A HREF="mailto:apwilson%40rogers.com"
       TITLE="[Mono-list] System.Collections intricacies">apwilson@rogers.com
       </A><BR>
    <I>Fri, 30 Jan 2004 10:19:30 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="017999.html">[Mono-list] System.Collections intricacies
</A></li>
        <LI> Next message: <A HREF="018003.html">[Mono-list] Building from CVS doesn't work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18002">[ date ]</a>
              <a href="thread.html#18002">[ thread ]</a>
              <a href="subject.html#18002">[ subject ]</a>
              <a href="author.html#18002">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>So if the get_Item or set_Item functions are called, control should pass =
to
the indexer defined in the ArrayList source code; specifically to the =
get or
set subsections, respectively?

I added some code to the indexer specified in ArrayList.cs to tell me if =
and
when a program uses an ArrayList via indexers.  I noticed numerous gets =
and
sets to ArrayLists because of this code when I was doing a make install =
with
the mcs source code. But when I ran the actual program I wanted to see =
this
info for, I did not receive any output.

I suppose I could have instrumented the wrong indexer, there are a bunch =
of
them.  But just as confirmation, a get_Item or set_Item call *will* =
transfer
control to the appropriate class's indexer?

-andrew

=20


-----Original Message-----
From: <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>
[mailto:<A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>] On Behalf Of A Rafael D =
Teixeira
Sent: January 30, 2004 8:46 AM
To: <A HREF="mailto:apwilson@rogers.com">apwilson@rogers.com</A>; <A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>
Subject: RE: [Mono-list] System.Collections intricacies

Well, the getItem/setITem pair IS the indexer.
C# Indexer creation and usage syntax is just a shorthand form., like =
what we

have for properties.

I recommend you to read the common language runtime spec, to understand =
what

the different compilers must do when transforming such constructs.

Best regards,

Rafael Teixeira
Brazilian Polymath
Mono Hacker since 16 Jul 2001
MonoBrasil Founding Member - Membro Fundador do MonoBrasil
English Blog: <A HREF="http://monoblog.blogspot.com/">http://monoblog.blogspot.com/</A>
Brazilian Portuguese Blog: <A HREF="http://monoblog.weblogger.terra.com.br/">http://monoblog.weblogger.terra.com.br/</A>



&gt;<i>From: &quot;Andrew P. Wilson&quot; &lt;<A HREF="mailto:apwilson@rogers.com">apwilson@rogers.com</A>&gt;
</I>&gt;<i>To: &lt;<A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>&gt;
</I>&gt;<i>Subject: [Mono-list] System.Collections intricacies
</I>&gt;<i>Date: Thu, 29 Jan 2004 14:36:35 -0500
</I>&gt;<i>
</I>&gt;<i>Hello everyone:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>I was hoping someone would be able to help me out with some details =
</I>about
&gt;<i>indexers and collections and how they are used in mono.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>I was trying to implement some functionality to the ArrayList class in
</I>&gt;<i>System.Collections through the use of the ArrayLists indexers.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>I had thought that if you wrote the code snippet the ArrayList's =
</I>indexer
&gt;<i>function would be invoked 100 times because of the second for loop:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>/////////////// begin
</I>&gt;<i>
</I>&gt;<i>ArrayList myAL;
</I>&gt;<i>
</I>&gt;<i>myAL =3D new ArrayList();
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>for(int i=3D0; i&lt;100; i++)
</I>&gt;<i>
</I>&gt;<i>myAL.Add(i); //(add a bunch of numbers to the array list)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>int sum =3D 0;
</I>&gt;<i>
</I>&gt;<i>for(int i=3D0; i&lt;100; i++)
</I>&gt;<i>
</I>&gt;<i>             sum =3D sum + (int)myAL[i];
</I>&gt;<i>
</I>&gt;<i>/////////////// end
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>However, I am finding that the indexer is not called at all and from
</I>&gt;<i>disassembling the executable, the following instructions are occurring=20
</I>&gt;<i>where
</I>&gt;<i>I would have thought the indexer would have been called:
</I>&gt;<i>
</I>&gt;<i>.
</I>&gt;<i>
</I>&gt;<i>.
</I>&gt;<i>
</I>&gt;<i>IL_0099:  callvirt instance object class
</I>&gt;<i>[mscorlib]'System.Collections.ArrayList'::'get_Item'(int32)
</I>&gt;<i>
</I>&gt;<i>IL_009e:  unbox [mscorlib]System.Int32
</I>&gt;<i>
</I>&gt;<i>.
</I>&gt;<i>
</I>&gt;<i>.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Normally, this wouldn't be a problem for me.  However, I cannot find =
</I>this
&gt;<i>&quot;get_Item&quot; function anywhere in the mcs or mono source code.  There is =
</I>also
&gt;<i>a corresponding &quot;set_Item&quot; function that is called as well, but again, =
</I>I
&gt;<i>cannot find it in the source code.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Is there a situation where the ArrayList Indexer will be called?  And =
</I>do=20
&gt;<i>the
</I>&gt;<i>get_Item and set_Item functions exist somewhere in the source code?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Basically, all I want to be able to do is monitor accesses to an =
</I>ArrayList
&gt;<i>through some predefined interface, whether the indexer or these =
</I>get_Item=20
&gt;<i>and
</I>&gt;<i>set_Item functions.  Any information about any of these things would be =
</I>
&gt;<i>much
</I>&gt;<i>appreciated.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Thank you for your time,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Andrew P. Wilson
</I>&gt;<i>
</I>&gt;<i>Electrical and Computer Engineering Department
</I>&gt;<i>
</I>&gt;<i>University of Toronto
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
_________________________________________________________________
MSN Messenger: instale gr=E1tis e converse com seus amigos.=20
<A HREF="http://messenger.msn.com.br">http://messenger.msn.com.br</A>

_______________________________________________
Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="017999.html">[Mono-list] System.Collections intricacies
</A></li>
	<LI> Next message: <A HREF="018003.html">[Mono-list] Building from CVS doesn't work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18002">[ date ]</a>
              <a href="thread.html#18002">[ thread ]</a>
              <a href="subject.html#18002">[ subject ]</a>
              <a href="author.html#18002">[ author ]</a>
         </LI>
       </UL>
</body></html>
