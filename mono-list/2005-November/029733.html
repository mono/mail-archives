<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Ideas on prj2make
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Ideas%20on%20prj2make&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029728.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Ideas on prj2make</H1>
    <B>Simon</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Ideas%20on%20prj2make&In-Reply-To="
       TITLE="[Mono-list] Ideas on prj2make">simon at nureality.ca
       </A><BR>
    <I>Wed Nov 30 20:40:41 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="029728.html">[Mono-list] Interop Utility
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29733">[ date ]</a>
              <a href="thread.html#29733">[ thread ]</a>
              <a href="subject.html#29733">[ subject ]</a>
              <a href="author.html#29733">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all.

During my quest to port my VS.NET winforms application to Mono I have run into a few issues which I thought I would document here. I thought I would throw my ideas here to be on the record and also spur some discussions.

Basically Mono class library is getting much much better at running my application. Things are progressing smoothly. But currently I must compile in VS.NET and copy the binaries to Mono. 

I'm really loving the prj2make tool. Finding it to be great except its not handling my csproj/sln files entirely properly so here are some of the things I've encountered. I don't think maintaining an additional sln file just for Mono or requiring to modify the Makefile is really a good option to force on developers IMO. Time to treat developers first rate and I think prj2make is really close to this. Perhaps my project is a bit odd because of all the subdirs and sub projects.

Here is what I ran into so far:

1. Signed key file. VS.NET goes inside the output dir to do its compiling it looks like, so in the AssemblyInfo.cs file goes up 2 directories to find the .key file which is in the root of the project. Such as:

[assembly: AssemblyKeyFile(@&quot;../../project.key&quot;)]

If prj2make could handle this properly and alter the path its trying to compile it in MCS that would be great I think.

2. project Target's. Currently the Makefile contains just 1 output dir for all my 10 sub projects it seems from the looks of the Makefile:

ifndef TARGET
    TARGET=./bin/Debug
else
    TARGET=./bin/$(TARGET)
endif

Quickly looking at my csproj I see in the XML theres clearly build paths for my Debug and Release configurations:
                &lt;Config
                    Name = &quot;Debug&quot;
                    AllowUnsafeBlocks = &quot;false&quot;
                    BaseAddress = &quot;285212672&quot;
                    CheckForOverflowUnderflow = &quot;false&quot;
                    ConfigurationOverrideFile = &quot;&quot;
                    DefineConstants = &quot;DEBUG;TRACE&quot;
                    DocumentationFile = &quot;&quot;
                    DebugSymbols = &quot;true&quot;
                    FileAlignment = &quot;4096&quot;
                    IncrementalBuild = &quot;true&quot;
                    NoStdLib = &quot;false&quot;
                    NoWarn = &quot;&quot;
                    Optimize = &quot;false&quot;
                    OutputPath = &quot;bin\Debug\&quot;
                    RegisterForComInterop = &quot;false&quot;
                    RemoveIntegerChecks = &quot;false&quot;
                    TreatWarningsAsErrors = &quot;false&quot;
                    WarningLevel = &quot;4&quot;
                /&gt;

As you can see in this attribute OutputPath = &quot;bin\Debug\&quot; it has my output path. Now whether prj2make picks up the Debug or Release, I'm not sure how that flag should be switched.

I was curious what people think of these ideas and if they are ideally what prj2make should do when converting a VS solution to handle everything smoothly etc.

I would like to start taking a look at prj2make myself but before doing so I would like to know if these ideas seem reasonable.

Thanks and take care,
Simon
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20051130/d92811c8/attachment-0001.html">http://lists.ximian.com/pipermail/mono-list/attachments/20051130/d92811c8/attachment-0001.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029728.html">[Mono-list] Interop Utility
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29733">[ date ]</a>
              <a href="thread.html#29733">[ thread ]</a>
              <a href="subject.html#29733">[ subject ]</a>
              <a href="author.html#29733">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
