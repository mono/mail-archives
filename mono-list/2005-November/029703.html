<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Sqlite Client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Sqlite%20Client&In-Reply-To=1db37cbc0511290647x12d89276k7f33f5069dc81f84%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029702.html">
   <LINK REL="Next"  HREF="029700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Sqlite Client</H1>
    <B>Joshua Tauberer</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Sqlite%20Client&In-Reply-To=1db37cbc0511290647x12d89276k7f33f5069dc81f84%40mail.gmail.com"
       TITLE="[Mono-list] Sqlite Client">tauberer at for.net
       </A><BR>
    <I>Tue Nov 29 10:41:28 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="029702.html">[Mono-list] Sqlite Client
</A></li>
        <LI>Next message: <A HREF="029700.html">[Mono-list] Sqlite Client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29703">[ date ]</a>
              <a href="thread.html#29703">[ thread ]</a>
              <a href="subject.html#29703">[ subject ]</a>
              <a href="author.html#29703">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It looks like this is an issue internal to Sqlite, where you can't 
create/modify tables after 'preparing' an SQL statement.  A &quot;database 
schema has changed&quot; error is being generated on the second CREATE TABLE, 
except another issue is preventing that from being reported.  The way 
the binding works now is that it prepares all of the statements in the 
SQL string, and then executes each of them.  Given this issue, we won't 
be able to prepare statements ahead of time (in the general case).

SqliteCommand needs to be rewritten.  Ah well.

-- 
- Joshua Tauberer

<A HREF="http://taubz.for.net">http://taubz.for.net</A>

** Nothing Unreal Exists **



Ecmel Ercan wrote:
&gt;<i> I am using Mono 1.1.10_1 installer on Ubuntu 5.10.  This should be the
</I>&gt;<i> latest official release.
</I>&gt;<i> 
</I>&gt;<i> using System;
</I>&gt;<i> using System.Data;
</I>&gt;<i> using Mono.Data.SqliteClient;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> public class TestSqlite
</I>&gt;<i> {
</I>&gt;<i>    public static void Main (string[] args)
</I>&gt;<i>    {
</I>&gt;<i>        string connString = &quot;version=3,URI=file:test.db&quot;;
</I>&gt;<i>        SqliteConnection dbcon = new SqliteConnection (connString);
</I>&gt;<i>        dbcon.Open ();
</I>&gt;<i> 
</I>&gt;<i>        SqliteCommand dbcmd = new SqliteCommand (@&quot;
</I>&gt;<i>            CREATE TABLE counter1 (
</I>&gt;<i>                transid INTEGER
</I>&gt;<i>            );
</I>&gt;<i> 
</I>&gt;<i>            CREATE TABLE counter2 (
</I>&gt;<i>                transid INTEGER
</I>&gt;<i>            );
</I>&gt;<i> 
</I>&gt;<i>        &quot;);
</I>&gt;<i> 
</I>&gt;<i>        dbcmd.Connection = dbcon;
</I>&gt;<i>        dbcmd.ExecuteNonQuery ();
</I>&gt;<i> 
</I>&gt;<i>         dbcmd.Dispose ();
</I>&gt;<i>         dbcon.Close ();
</I>&gt;<i>    }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> This creates only counter1.
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029702.html">[Mono-list] Sqlite Client
</A></li>
	<LI>Next message: <A HREF="029700.html">[Mono-list] Sqlite Client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29703">[ date ]</a>
              <a href="thread.html#29703">[ thread ]</a>
              <a href="subject.html#29703">[ subject ]</a>
              <a href="author.html#29703">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
