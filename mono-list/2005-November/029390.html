<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] another request for help:  SecurityManager
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20another%20request%20for%20help%3A%20%20SecurityManager&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029415.html">
   <LINK REL="Next"  HREF="029394.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] another request for help:  SecurityManager</H1>
    <B>Bruce Wilkie</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20another%20request%20for%20help%3A%20%20SecurityManager&In-Reply-To="
       TITLE="[Mono-list] another request for help:  SecurityManager">bruce at bwilkie.com
       </A><BR>
    <I>Tue Nov  8 11:30:41 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="029415.html">[Mono-list] i18n
</A></li>
        <LI>Next message: <A HREF="029394.html">[Mono-list] Re: another request for help:  SecurityManager
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29390">[ date ]</a>
              <a href="thread.html#29390">[ thread ]</a>
              <a href="subject.html#29390">[ subject ]</a>
              <a href="author.html#29390">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello list - another request for help, in hopes of
saving me some time.

I'm having some trouble getting Mono to run the same
on two different platforms - one x86, one PPC.  Again,
I'm unable to generate code at runtime, so I'm using
the interp package + handwritten thunks (which I did
get working yesterday - string ctors fooled me).

On the two platforms, a trace of functions starts out
looking the same, until the PPC platform starts to
deal with a SecurityManager...  the PC never does
that.  in the end, the PPC platform will fail, due to
a config handler class not supporting a requested
interface.  :(  the traces (snipped to the important
stuff):

PC
----------------
...
VES:  System.Char..cctor()
System.Char.GetDataTablePointers(byte*&amp;,byte*&amp;,double*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;)
VES: 
System.Char.GetDataTablePointers(byte*&amp;,byte*&amp;,double*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;)
VES:  System.Char.ToString()
VES:  System.String..cctor()
VES: 
System.Runtime.CompilerServices.RuntimeHelpers.InitializeArray(System.Array,System.RuntimeFieldHandle)
VES:  System.RuntimeFieldHandle.get_Value()
System.Runtime.CompilerServices.RuntimeHelpers.InitializeArray(System.Array,intptr)
VES: 
System.Runtime.CompilerServices.RuntimeHelpers.InitializeArray(System.Array,intptr)
System.String..ctor(char,int)
VES:  System.String..ctor(char,int)
VES:  System.Diagnostics.DefaultTraceListener..ctor()
VES:  System.Diagnostics.TraceListener..ctor(string)
VES:  System.MarshalByRefObject..ctor()
VES: 
System.Diagnostics.TraceListener.set_Name(string)
VES: 
System.Diagnostics.TraceListenerCollection.Add(System.Diagnostics.TraceListener)
VES: 
System.Diagnostics.TraceListenerCollection.InitializeListener(System.Diagnostics.TraceListener)
... 
goes on to work fine

PPC
----------------
...
VES:  System.Char..cctor()
System.Char.GetDataTablePointers(byte*&amp;,byte*&amp;,double*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;)
VES: 
System.Char.GetDataTablePointers(byte*&amp;,byte*&amp;,double*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;)
VES:  System.Char.ToString()
VES:  System.String..cctor()
VES: 
System.Runtime.CompilerServices.RuntimeHelpers.InitializeArray(System.Array,System.RuntimeFieldHandle)
VES:  System.RuntimeFieldHandle.get_Value()
System.Runtime.CompilerServices.RuntimeHelpers.InitializeArray(System.Array,intptr)
VES: 
System.Runtime.CompilerServices.RuntimeHelpers.InitializeArray(System.Array,intptr)
System.String..ctor(char,int)
VES:  System.String..ctor(char,int)
VES: 
System.Environment.GetEnvironmentVariable(string)
VES:  System.Security.SecurityManager..cctor()
VES: 
System.Security.Permissions.SecurityPermission..ctor(System.Security.Permissions.SecurityPermissionFlag)
VES:  System.Security.CodeAccessPermission..ctor()
VES: 
System.Security.Permissions.SecurityPermission.set_Flags(System.Security.Permissions.SecurityPermissionFlag)
VES:  System.Object..ctor()
...
goes on to throw &quot;system.diagnostics does not
implement
System.Configuration.IConfigurationSectionHandler&quot; in
System.Configuration.ConfigurationData:CreateNewHandler.


it feels like i just have some compile flag not set or
something on the PPC...  this is running the same
assemblies (mscorlib.dll and system.dll) on both
platforms.  The embedding of mono into the app is a
bit different, but pretty close - I don't think the
problem is there.  i've tried taking machine.config
down to almost nothing, but that doesn't help either. 


i'll be spending the day working on this, but if
someone has pointers to help me out, i'd love to hear
from you.

thanks,
bruce

</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029415.html">[Mono-list] i18n
</A></li>
	<LI>Next message: <A HREF="029394.html">[Mono-list] Re: another request for help:  SecurityManager
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29390">[ date ]</a>
              <a href="thread.html#29390">[ thread ]</a>
              <a href="subject.html#29390">[ subject ]</a>
              <a href="author.html#29390">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
