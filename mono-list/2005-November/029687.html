<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> ****SPAM(1)**** RE: [Mono-list] Re: Running mod-mono-server in a
	chroot jail
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%2A%2A%2A%2ASPAM%281%29%2A%2A%2A%2A%20RE%3A%20%5BMono-list%5D%20Re%3A%20Running%20mod-mono-server%20in%20a%0A%09chroot%20jail&In-Reply-To=dmfk92%24ppf%241%40sea.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029686.html">
   <LINK REL="Next"  HREF="029689.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>****SPAM(1)**** RE: [Mono-list] Re: Running mod-mono-server in a
	chroot jail</H1>
    <B>Jesse Pasichnyk</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%2A%2A%2A%2ASPAM%281%29%2A%2A%2A%2A%20RE%3A%20%5BMono-list%5D%20Re%3A%20Running%20mod-mono-server%20in%20a%0A%09chroot%20jail&In-Reply-To=dmfk92%24ppf%241%40sea.gmane.org"
       TITLE="****SPAM(1)**** RE: [Mono-list] Re: Running mod-mono-server in a
	chroot jail">jesse at pasichnyk.net
       </A><BR>
    <I>Mon Nov 28 14:23:08 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="029686.html">[Mono-list] Re: Running mod-mono-server in a chroot jail
</A></li>
        <LI>Next message: <A HREF="029689.html">[Mono-list] Re: ****SPAM(1)**** RE: Re: Running mod-mono-server in
 a chroot jail
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29687">[ date ]</a>
              <a href="thread.html#29687">[ thread ]</a>
              <a href="subject.html#29687">[ subject ]</a>
              <a href="author.html#29687">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robert,

You are correct, I do not have the real proc filesystem mounted into the
jail.  I was thinking I could go ahead and mount this using something like:

mount --bind /proc -o ro,nosuid /home/jail/proc

Does this open up and security issues etc?  I'm not very familiar with the
proc filesystem.

Thanks in advance,

Jesse

-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A>] On Behalf Of Robert Jordan
Sent: Monday, November 28, 2005 11:03 AM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
Subject: [Mono-list] Re: Running mod-mono-server in a chroot jail

Jesse,

Your jail probably doesn't have the /proc filesystem mounted.

Robert

&gt;<i> I'm working on getting all of my asp.net sites running under separate 
</I>&gt;<i> standalone instances of mod-mono-server running as the owner of each site.
</I>&gt;<i> All my site users are however locked into their own chroot environment.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> I'm trying to start up each mod-mono-server instance as follows:
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> su -  &lt;jailuser&gt; -c &quot;mono /usr/lib/xsp/1.0/mod-mono-server.exe  --root 
</I>&gt;<i> /home/&lt;jailuser&gt;/htdocs/domains/domain.com/www/html --master 
</I>&gt;<i> --filename /usr/local/aspnet/domain.com/www/socket --nonstop&quot;
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> When I try to execute the above command to start the server I get:
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> GC Warning: Couldn't read /proc/stat
</I>&gt;<i> 
</I>&gt;<i> GC Warning: GC_get_nprocs() returned -1
</I>&gt;<i> 
</I>&gt;<i> Couldn't read /proc/self/stat
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> If anyone has gotten this working or has any information that could 
</I>&gt;<i> help me please let me know.
</I>
_______________________________________________
Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029686.html">[Mono-list] Re: Running mod-mono-server in a chroot jail
</A></li>
	<LI>Next message: <A HREF="029689.html">[Mono-list] Re: ****SPAM(1)**** RE: Re: Running mod-mono-server in
 a chroot jail
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29687">[ date ]</a>
              <a href="thread.html#29687">[ thread ]</a>
              <a href="subject.html#29687">[ subject ]</a>
              <a href="author.html#29687">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
