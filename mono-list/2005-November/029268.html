<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mono-service
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mono-service&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029276.html">
   <LINK REL="Next"  HREF="029280.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mono-service</H1>
    <B>J&#246;rg Rosenkranz</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mono-service&In-Reply-To="
       TITLE="[Mono-list] mono-service">joergr at voelcker.com
       </A><BR>
    <I>Tue Nov  1 11:41:48 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="029276.html">[Mono-list] Re: mono-service
</A></li>
        <LI>Next message: <A HREF="029280.html">[Mono-list] mono-service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29268">[ date ]</a>
              <a href="thread.html#29268">[ thread ]</a>
              <a href="subject.html#29268">[ subject ]</a>
              <a href="author.html#29268">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Wilson,

1. You were creating 2 services in the MainClass, but only TestService1 called the OnStart(), although both services were disposed at the end. 

Two services can live together in one EXE. Mono-service can start only one at a time (select using -n parameter, default is first), on windows you are able to start both using the service controller. The behaviour should be equivalent to .NET. In most cases there will be only one service in one EXE.

2. The whole structure of your TestService is different from a Windows service created on Visual Studio.NET. On VS.NET, the Main() is included within the Service class, which inherits the ServiceBase. I was porting a Windows project to Linux so the Windows structure was used, and obviously it didn't work on Linux. This is not documented anywhere so for developers trying to make a mono service to work, it really gives us a hard time. 

My test service was created initially on Windows and it runs on Windows too. I don't know what you are doing differently. What do your service body look like? I'm using VS 2003/.NET 1.1. 

3. The Test Service works fine on the command line, but the whole point is to run it at system startup, so I created an init script following the guide given by Novell (<A HREF="http://www.novell.com/coolsolutions/feature/15380.html">http://www.novell.com/coolsolutions/feature/15380.html</A>). However, the startproc command throws me an error: &quot;cannot execute binary file.&quot;, but run it from a command line is fine (startproc /usr/bin/mono-service /path/to/TestService.exe). So I am stuck again when trying to run a mono service at startup, hope you could help me out. 

IIRC startproc is for running exes only. Mono-service is a wrapper shell script. Try using startproc /usr/bin/mono /usr/bin/mono-service.exe /path/to/TestService.exe. 

4. How can I join the mono-list so my emails won't get bounced back? 

?? 

5. I really want to write something about porting a mono service after I get my current project done. The material about this area is really rare. Where would be the best place to post, say an article with sample source code? 

 The best place would be the Wiki on <A HREF="http://www.mono-project.com/">http://www.mono-project.com/</A> but I don't know how accounts are given to new users.

Joerg.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20051101/458e69ee/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20051101/458e69ee/attachment.html</A>
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029276.html">[Mono-list] Re: mono-service
</A></li>
	<LI>Next message: <A HREF="029280.html">[Mono-list] mono-service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29268">[ date ]</a>
              <a href="thread.html#29268">[ thread ]</a>
              <a href="subject.html#29268">[ subject ]</a>
              <a href="author.html#29268">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
