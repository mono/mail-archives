<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] another request for help:  SecurityManager
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20another%20request%20for%20help%3A%20%20SecurityManager&In-Reply-To=20051108163041.30058.qmail%40web81006.mail.mud.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029403.html">
   <LINK REL="Next"  HREF="029393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] another request for help:  SecurityManager</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20another%20request%20for%20help%3A%20%20SecurityManager&In-Reply-To=20051108163041.30058.qmail%40web81006.mail.mud.yahoo.com"
       TITLE="[Mono-list] another request for help:  SecurityManager">sebastien.pouliot at gmail.com
       </A><BR>
    <I>Tue Nov  8 13:15:06 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="029403.html">[Mono-list] Re: another request for help:  SecurityManager
</A></li>
        <LI>Next message: <A HREF="029393.html">[Mono-list] Command Line Parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29404">[ date ]</a>
              <a href="thread.html#29404">[ thread ]</a>
              <a href="subject.html#29404">[ subject ]</a>
              <a href="author.html#29404">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Bruce,

In general CAS permissions are created (at runtime) if the security
manager is active (i.e. mono --security). Is it possible that the
security manager is enabled only on one of the applications ?

If it's not enabled then could you provide a stack trace (not just a
trace) of when this happens ?

On Tue, 2005-11-08 at 08:30 -0800, Bruce Wilkie wrote:
&gt;<i> Hello list - another request for help, in hopes of
</I>&gt;<i> saving me some time.
</I>&gt;<i> 
</I>&gt;<i> I'm having some trouble getting Mono to run the same
</I>&gt;<i> on two different platforms - one x86, one PPC.  Again,
</I>&gt;<i> I'm unable to generate code at runtime, so I'm using
</I>&gt;<i> the interp package + handwritten thunks (which I did
</I>&gt;<i> get working yesterday - string ctors fooled me).
</I>&gt;<i> 
</I>&gt;<i> On the two platforms, a trace of functions starts out
</I>&gt;<i> looking the same, until the PPC platform starts to
</I>&gt;<i> deal with a SecurityManager...  the PC never does
</I>&gt;<i> that.  in the end, the PPC platform will fail, due to
</I>&gt;<i> a config handler class not supporting a requested
</I>&gt;<i> interface.  :(  the traces (snipped to the important
</I>&gt;<i> stuff):
</I>&gt;<i> 
</I>&gt;<i> PC
</I>&gt;<i> ----------------
</I>&gt;<i> ...
</I>&gt;<i> VES:  System.Char..cctor()
</I>&gt;<i> System.Char.GetDataTablePointers(byte*&amp;,byte*&amp;,double*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;)
</I>&gt;<i> VES: 
</I>&gt;<i> System.Char.GetDataTablePointers(byte*&amp;,byte*&amp;,double*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;)
</I>&gt;<i> VES:  System.Char.ToString()
</I>&gt;<i> VES:  System.String..cctor()
</I>&gt;<i> VES: 
</I>&gt;<i> System.Runtime.CompilerServices.RuntimeHelpers.InitializeArray(System.Array,System.RuntimeFieldHandle)
</I>&gt;<i> VES:  System.RuntimeFieldHandle.get_Value()
</I>&gt;<i> System.Runtime.CompilerServices.RuntimeHelpers.InitializeArray(System.Array,intptr)
</I>&gt;<i> VES: 
</I>&gt;<i> System.Runtime.CompilerServices.RuntimeHelpers.InitializeArray(System.Array,intptr)
</I>&gt;<i> System.String..ctor(char,int)
</I>&gt;<i> VES:  System.String..ctor(char,int)
</I>&gt;<i> VES:  System.Diagnostics.DefaultTraceListener..ctor()
</I>&gt;<i> VES:  System.Diagnostics.TraceListener..ctor(string)
</I>&gt;<i> VES:  System.MarshalByRefObject..ctor()
</I>&gt;<i> VES: 
</I>&gt;<i> System.Diagnostics.TraceListener.set_Name(string)
</I>&gt;<i> VES: 
</I>&gt;<i> System.Diagnostics.TraceListenerCollection.Add(System.Diagnostics.TraceListener)
</I>&gt;<i> VES: 
</I>&gt;<i> System.Diagnostics.TraceListenerCollection.InitializeListener(System.Diagnostics.TraceListener)
</I>&gt;<i> ... 
</I>&gt;<i> goes on to work fine
</I>&gt;<i> 
</I>&gt;<i> PPC
</I>&gt;<i> ----------------
</I>&gt;<i> ...
</I>&gt;<i> VES:  System.Char..cctor()
</I>&gt;<i> System.Char.GetDataTablePointers(byte*&amp;,byte*&amp;,double*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;)
</I>&gt;<i> VES: 
</I>&gt;<i> System.Char.GetDataTablePointers(byte*&amp;,byte*&amp;,double*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;,uint16*&amp;)
</I>&gt;<i> VES:  System.Char.ToString()
</I>&gt;<i> VES:  System.String..cctor()
</I>&gt;<i> VES: 
</I>&gt;<i> System.Runtime.CompilerServices.RuntimeHelpers.InitializeArray(System.Array,System.RuntimeFieldHandle)
</I>&gt;<i> VES:  System.RuntimeFieldHandle.get_Value()
</I>&gt;<i> System.Runtime.CompilerServices.RuntimeHelpers.InitializeArray(System.Array,intptr)
</I>&gt;<i> VES: 
</I>&gt;<i> System.Runtime.CompilerServices.RuntimeHelpers.InitializeArray(System.Array,intptr)
</I>&gt;<i> System.String..ctor(char,int)
</I>&gt;<i> VES:  System.String..ctor(char,int)
</I>&gt;<i> VES: 
</I>&gt;<i> System.Environment.GetEnvironmentVariable(string)
</I>&gt;<i> VES:  System.Security.SecurityManager..cctor()
</I>&gt;<i> VES: 
</I>&gt;<i> System.Security.Permissions.SecurityPermission..ctor(System.Security.Permissions.SecurityPermissionFlag)
</I>&gt;<i> VES:  System.Security.CodeAccessPermission..ctor()
</I>&gt;<i> VES: 
</I>&gt;<i> System.Security.Permissions.SecurityPermission.set_Flags(System.Security.Permissions.SecurityPermissionFlag)
</I>&gt;<i> VES:  System.Object..ctor()
</I>&gt;<i> ...
</I>&gt;<i> goes on to throw &quot;system.diagnostics does not
</I>&gt;<i> implement
</I>&gt;<i> System.Configuration.IConfigurationSectionHandler&quot; in
</I>&gt;<i> System.Configuration.ConfigurationData:CreateNewHandler.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> it feels like i just have some compile flag not set or
</I>&gt;<i> something on the PPC...  this is running the same
</I>&gt;<i> assemblies (mscorlib.dll and system.dll) on both
</I>&gt;<i> platforms.  The embedding of mono into the app is a
</I>&gt;<i> bit different, but pretty close - I don't think the
</I>&gt;<i> problem is there.  i've tried taking machine.config
</I>&gt;<i> down to almost nothing, but that doesn't help either. 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> i'll be spending the day working on this, but if
</I>&gt;<i> someone has pointers to help me out, i'd love to hear
</I>&gt;<i> from you.
</I>&gt;<i> 
</I>&gt;<i> thanks,
</I>&gt;<i> bruce
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>-- 
Sebastien Pouliot
email: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">sebastien at ximian.com</A>
blog: <A HREF="http://pages.infinit.net/ctech/">http://pages.infinit.net/ctech/</A>

</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029403.html">[Mono-list] Re: another request for help:  SecurityManager
</A></li>
	<LI>Next message: <A HREF="029393.html">[Mono-list] Command Line Parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29404">[ date ]</a>
              <a href="thread.html#29404">[ thread ]</a>
              <a href="subject.html#29404">[ subject ]</a>
              <a href="author.html#29404">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
