<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Help running F# on mono in OS X
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Help%20running%20F%23%20on%20mono%20in%20OS%20X&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035205.html">
   <LINK REL="Next"  HREF="035213.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Help running F# on mono in OS X</H1>
    <B>Jeffrey Vaughan</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Help%20running%20F%23%20on%20mono%20in%20OS%20X&In-Reply-To="
       TITLE="[Mono-list] Help running F# on mono in OS X">vaughan2 at seas.upenn.edu
       </A><BR>
    <I>Tue May 29 02:44:54 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="035205.html">[Mono-list] [Whoops !] Was : [Mono-docs-list] Extending	the	start-use-contribute bar.
</A></li>
        <LI>Next message: <A HREF="035213.html">[Mono-list] Windows Conversion for Glade?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35241">[ date ]</a>
              <a href="thread.html#35241">[ thread ]</a>
              <a href="subject.html#35241">[ subject ]</a>
              <a href="author.html#35241">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying use mono to run F# on OS X and am running into some
problems.  In particular, when I run the fsc.exe compiler or the fsi.exe
interpreter,  I get exceptions.

The fsharp developers indicated that this may be a bug with mono's tail call
optimization.  Another user has filed a bug report against the mono runtime
(<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=80326">http://bugzilla.ximian.com/show_bug.cgi?id=80326</A>), but there has been no
follow up from the mono developers.

I'm tried mono 1.2.3.1 as well as mono 1.2.4.  My operating system is OS X
10.4 and I've tried running several versions of F#, including 1.1.13.8.
More detailed information follows.

Any help diagnosing and correcting this would be greatly appreciated, as I'd
really like to get hacking:)  Thank you!

--Jeff Vaughan


<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jeff at echo</A> FSharp-1.1.13.8 $ uname -v
Darwin Kernel Version 8.9.0: Thu Feb 22 20:54:07 PST 2007;
root:xnu-792.17.14~1/RELEASE_PPC

<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jeff at echo</A> FSharp-1.1.13.8 $ mono --version
Mono JIT compiler version 1.2.4 (tarball)
Copyright (C) 2002-2007 Novell, Inc and Contributors. www.mono-project.com
        TLS:           normal
        GC:            Included Boehm (with typed GC)
        SIGSEGV:       normal
        Architecture:  ppc
        Disabled:      none

<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jeff at echo</A> FSharp-1.1.13.8 $ gacutil -l | egrep 'fslib|mllib|FSharp'
FSharp.Compiler, Version=1.1.13.8, Culture=neutral,
PublicKeyToken=a19089b1c74d0809
FSharp.Compiler10, Version=1.1.13.8, Culture=neutral,
PublicKeyToken=a19089b1c74d0809
fslib, Version=1.1.13.8, Culture=neutral, PublicKeyToken=a19089b1c74d0809
fslib10, Version=1.1.13.8, Culture=neutral, PublicKeyToken=a19089b1c74d0809
mllib, Version=1.1.13.8, Culture=neutral, PublicKeyToken=a19089b1c74d0809
mllib10, Version=1.1.13.8, Culture=neutral, PublicKeyToken=a19089b1c74d0809


<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jeff at echo</A> FSharp-1.1.13.8 $ mono bin/fsc.exe

Unhandled Exception: System.TypeInitializationException: An exception was
thrown by the type initializer for
&lt;StartupCode&gt;.Microsoft.FSharp.Compiler.Ast ---&gt;
System.NullReferenceException: Object reference not set to an instance of an
object
  at <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Microsoft.FSharp.Collections.RawSetOps.height at 476</A>
(Microsoft.FSharp.Collections.SetTree t) [0x00000]
  at <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Microsoft.FSharp.Collections.RawSetOps.mk at 503</A>
(Microsoft.FSharp.Collections.SetTree l, System.Object k,
Microsoft.FSharp.Collections.SetTree r) [0x00000]
  at <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Microsoft.FSharp.Collections.RawSetOps.add at 543</A> (IComparer cf,
System.Object k, Microsoft.FSharp.Collections.SetTree t) [0x00000]
  at Microsoft.FSharp.Collections.Tagged.Set.Add (System.Object x) [0x00000]
  at <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Microsoft.AbstractIL.Internal.Zset+addL at 19.Invoke</A>
(Microsoft.FSharp.Collections.Tagged.Set a, System.Object x) [0x00000]
  at <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Microsoft.AbstractIL.Internal.Zset+addL at 19.Invoke</A> (System.Object ,
System.Object ) [0x00000]
  at Microsoft.FSharp.Core.FastFunc.InvokeFast2
(Microsoft.FSharp.Core.FastFunc f, System.Object t, System.Object u) [0x00000]
  at Microsoft.FSharp.Primitives.Basics+List.fold_left
(Microsoft.FSharp.Core.FastFunc f, System.Object acc,
Microsoft.FSharp.Collections.List l) [0x00000]
  at Microsoft.AbstractIL.Internal.Zset.addL
(Microsoft.FSharp.Collections.List xs,
Microsoft.FSharp.Collections.Tagged.Set a) [0x00000]
  at &lt;StartupCode&gt;.Microsoft.FSharp.Compiler.Ast..cctor () [0x00000] --- End
of inner exception stack trace ---

  at &lt;0x00000&gt; &lt;unknown method&gt;
  at &lt;StartupCode&gt;.Microsoft.FSharp.Compiler.CommandLineMain._main () [0x00000]
  at &lt;StartupCode&gt;.Microsoft.FSharp.Compiler.CommandLineMain._main () [0x00000]
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jeff at echo</A> FSharp-1.1.13.8 $
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035205.html">[Mono-list] [Whoops !] Was : [Mono-docs-list] Extending	the	start-use-contribute bar.
</A></li>
	<LI>Next message: <A HREF="035213.html">[Mono-list] Windows Conversion for Glade?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35241">[ date ]</a>
              <a href="thread.html#35241">[ thread ]</a>
              <a href="subject.html#35241">[ subject ]</a>
              <a href="author.html#35241">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
