<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] bug: System.Text.StringBuilder
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20bug%3A%20System.Text.StringBuilder&In-Reply-To=BAY124-DAV1412E4A465B321D9B15793DF3E0%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035095.html">
   <LINK REL="Next"  HREF="035100.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] bug: System.Text.StringBuilder</H1>
    <B>Alan McGovern</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20bug%3A%20System.Text.StringBuilder&In-Reply-To=BAY124-DAV1412E4A465B321D9B15793DF3E0%40phx.gbl"
       TITLE="[Mono-list] bug: System.Text.StringBuilder">alan.mcgovern at gmail.com
       </A><BR>
    <I>Mon May 14 15:16:33 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="035095.html">[Mono-list] bug: System.Text.StringBuilder
</A></li>
        <LI>Next message: <A HREF="035100.html">[Mono-list] bug: System.Text.StringBuilder
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35096">[ date ]</a>
              <a href="thread.html#35096">[ thread ]</a>
              <a href="subject.html#35096">[ subject ]</a>
              <a href="author.html#35096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That code should print out an empty string.

if you want that code to print out &quot;adding a string again&quot;, change the
method to pass stringb by ref.

i.e. change the method declaration to:

public static void AssignStringBuilder(ref stringb str)
{
 // blah
}

Alan

On 5/14/07, Fabr&#237;cio &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">skarllot at hotmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>  Sorry, sorry, the code is little different... don't have error!
</I>&gt;<i> I tested too compiling with Microsoft .NET compiler (csc) and running on
</I>&gt;<i> Microsoft .NET Framework and both (csc and gmcs) runs on same way.
</I>&gt;<i>
</I>&gt;<i> ======================================================================================
</I>&gt;<i> E:\Mono Projects\StringBuilder Test&gt;mono stringb.exe
</I>&gt;<i> str =
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ======================================================================================
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sorry my mistake!
</I>&gt;<i> ==============================================================
</I>&gt;<i> using System;
</I>&gt;<i> using stringb = System.Text.StringBuilder;
</I>&gt;<i>
</I>&gt;<i> namespace StringBuilder_Test
</I>&gt;<i> {
</I>&gt;<i>  public class Program
</I>&gt;<i>  {
</I>&gt;<i>   public static int Main(string[] args)
</I>&gt;<i>   {
</I>&gt;<i>    stringb str = new stringb();
</I>&gt;<i>    AssignStringBuilder(str);
</I>&gt;<i>    Console.WriteLine(&quot;str = &quot; + str.ToString());    // prints a empty
</I>&gt;<i> string
</I>&gt;<i>    return 0;
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i>   public static void AssignStringBuilder(stringb str)    // str parameter
</I>&gt;<i> is pointer copied from source.
</I>&gt;<i>   {
</I>&gt;<i>    str = new stringb();    // str points to other address, but source
</I>&gt;<i> points to older address
</I>&gt;<i>    str.Append(&quot;Adding a string&quot;);
</I>&gt;<i>    str.Append(&quot;again&quot;);
</I>&gt;<i>   }
</I>&gt;<i>  }
</I>&gt;<i> }
</I>&gt;<i> ==============================================================
</I>&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> *From:* Andy Hume &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">andyhume32 at yahoo.co.uk</A>&gt;
</I>&gt;<i> *To:* 'Fabr&#237;cio' &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">skarllot at hotmail.com</A>&gt; ; 'Alan McGovern'&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">alan.mcgovern at gmail.com</A>&gt;
</I>&gt;<i> *Cc:* <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
</I>&gt;<i> *Sent:* Monday, May 14, 2007 6:36 AM
</I>&gt;<i> *Subject:* RE: [Mono-list] bug: System.Text.StringBuilder
</I>&gt;<i>
</I>&gt;<i> Works for me on Windows XP SP2 with Mono 1.2.3 installer:
</I>&gt;<i>
</I>&gt;<i> C:\&gt;mono stringb.exe
</I>&gt;<i> Adding a stringagain
</I>&gt;<i>
</I>&gt;<i>  ------------------------------
</I>&gt;<i> *From:* <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A> [mailto:
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A>] *On Behalf Of *Fabr&#237;cio
</I>&gt;<i> *Sent:* 13 May 2007 21:39
</I>&gt;<i> *To:* Alan McGovern
</I>&gt;<i> *Cc:* <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
</I>&gt;<i> *Subject:* Re: [Mono-list] bug: System.Text.StringBuilder
</I>&gt;<i>
</I>&gt;<i>  Sorry, I forget.
</I>&gt;<i> I'm using Mono-1.2.3.50, running on Windows XP SP2.
</I>&gt;<i>
</I>&gt;<i> If need anything more I do.
</I>&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> *From:* Alan McGovern &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">alan.mcgovern at gmail.com</A>&gt;
</I>&gt;<i> *To:* Fabr&#237;cio &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">skarllot at hotmail.com</A>&gt;
</I>&gt;<i> *Cc:* <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
</I>&gt;<i> *Sent:* Sunday, May 13, 2007 5:31 PM
</I>&gt;<i> *Subject:* Re: [Mono-list] bug: System.Text.StringBuilder
</I>&gt;<i>
</I>&gt;<i> Works for me. What mono version are you using?
</I>&gt;<i>
</I>&gt;<i> Alan.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 5/13/07, Fabr&#237;cio &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">skarllot at hotmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  see the example:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; using stringb = System.Text.StringBuilder;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; public static int Main(string[] args)
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;     stringb str = new stringb();
</I>&gt;<i> &gt;     AssignStringBuilder(str);
</I>&gt;<i> &gt;     Console.WriteLine(str.ToString());    // prints a empty string
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; public static void AssignStringBuilder(stringb str)
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;     str.Append(&quot;Adding a string&quot;);
</I>&gt;<i> &gt;     str.Append(&quot;again&quot;);
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Returning from AssignStringBuilder method the StringBuilder backs to
</I>&gt;<i> &gt; original state.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20070514/db89867e/attachment-0001.html">http://lists.ximian.com/pipermail/mono-list/attachments/20070514/db89867e/attachment-0001.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035095.html">[Mono-list] bug: System.Text.StringBuilder
</A></li>
	<LI>Next message: <A HREF="035100.html">[Mono-list] bug: System.Text.StringBuilder
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35096">[ date ]</a>
              <a href="thread.html#35096">[ thread ]</a>
              <a href="subject.html#35096">[ subject ]</a>
              <a href="author.html#35096">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
