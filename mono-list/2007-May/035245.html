<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Heavy loaded web-site on Mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Heavy%20loaded%20web-site%20on%20Mono&In-Reply-To=464F212F.000003.03719%40mfront8.yandex.ru">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035174.html">
   <LINK REL="Next"  HREF="035168.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Heavy loaded web-site on Mono</H1>
    <B>Jia</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Heavy%20loaded%20web-site%20on%20Mono&In-Reply-To=464F212F.000003.03719%40mfront8.yandex.ru"
       TITLE="[Mono-list] Heavy loaded web-site on Mono">joyce840205 at gmail.com
       </A><BR>
    <I>Thu May 31 09:07:00 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="035174.html">[Mono-list] Heavy loaded web-site on Mono
</A></li>
        <LI>Next message: <A HREF="035168.html">[Mono-list] Glade Interface Designer and MonoDevelop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35245">[ date ]</a>
              <a href="thread.html#35245">[ thread ]</a>
              <a href="subject.html#35245">[ subject ]</a>
              <a href="author.html#35245">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I got the more or less the same problem of Mono 1.2.3
I'm not running the asp server but just the console application. I need the
run the program a long time, and   what it really do is parse each sentence.
The memory growth every sentence after process. 
For me I want to use the heap-shot. But I couldn't install that because of
my account limited. So I call the GC.Collection inside. Every 10 sentence it
gave me the a count of GC collecion time and the TotalMemory at that time.
The memory output by program is around 350M every times. But when came to
Top to see it have mono process of 1700M, and still growth on every process.
I test the same program on Windows which just have the total memory of 512M.
The GC report the TotalMemory is just the same with the task manager. Around
350M. Every thing restart after each process until it process over.

Could someone Solve that big problem? or did I do something wrong on coding?
I am using the Serrilization and Stream for memory copy, but clear it every
times. If it's a problem, how to make the things right?


&#1050;&#1072;&#1088;&#1072;&#1074;&#1072;&#1077;&#1074; &#1052;&#1072;&#1082;&#1089;&#1080;&#1084; wrote:
&gt;<i> 
</I>&gt;<i> Hello!
</I>&gt;<i> 
</I>&gt;<i> Now I'm trying to launch big web-site consists of about 100.000 dynamic
</I>&gt;<i> web-pages (about 100kb each without images) which has about 50.000 hits
</I>&gt;<i> per day.
</I>&gt;<i> 
</I>&gt;<i> I've got some difficulties launching this web-site on FreeBSD with Mono
</I>&gt;<i> 1.2.3:
</I>&gt;<i> 
</I>&gt;<i> 1. Uncontrolled grow of used memory. After about hour or two mono process
</I>&gt;<i> grows up to 2-3Gb and goes down (visitors get &quot;Service temporary
</I>&gt;<i> unavailable&quot; error). Web-application didn't contain any big object in
</I>&gt;<i> memory, just 100-200 entries in Cache object with sliding expiration.
</I>&gt;<i> Web-pages are simple too: 5 aspx pages with several user controls.
</I>&gt;<i> Is the reason of this situation in non-compactiong GC in Mono or in
</I>&gt;<i> possible programmers errors?
</I>&gt;<i> 
</I>&gt;<i> 2. Behavior of Cache object. Value of Cache.Count variable is in about 2
</I>&gt;<i> times higher than number of Keys available via Cache.GetEnumerator(). Even
</I>&gt;<i> when I didn't add any object to Cache, Cache.Count indicates 20-30 entries
</I>&gt;<i> which are unavailable via enumerator.
</I>&gt;<i> 
</I>&gt;<i> Could anyone explain this situations or give any advises?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Thanks a lot!!
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Max Karavaev
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-- 
View this message in context: <A HREF="http://www.nabble.com/Heavy-loaded-web-site-on-Mono-tf3782969.html#a10893582">http://www.nabble.com/Heavy-loaded-web-site-on-Mono-tf3782969.html#a10893582</A>
Sent from the Mono - General mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035174.html">[Mono-list] Heavy loaded web-site on Mono
</A></li>
	<LI>Next message: <A HREF="035168.html">[Mono-list] Glade Interface Designer and MonoDevelop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35245">[ date ]</a>
              <a href="thread.html#35245">[ thread ]</a>
              <a href="subject.html#35245">[ subject ]</a>
              <a href="author.html#35245">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
