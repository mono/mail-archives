<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] self signed certificate
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20self%20signed%20certificate&In-Reply-To=%3Ceac9d92664ad44919f78b31eccc3274d%40BL2PR08MB065.namprd08.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050415.html">
   <LINK REL="Next"  HREF="050418.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] self signed certificate</H1>
    <B>Edward Ned Harvey (mono)</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20self%20signed%20certificate&In-Reply-To=%3Ceac9d92664ad44919f78b31eccc3274d%40BL2PR08MB065.namprd08.prod.outlook.com%3E"
       TITLE="[Mono-list] self signed certificate">edward.harvey.mono at clevertrove.com
       </A><BR>
    <I>Fri Oct 25 15:18:10 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="050415.html">[Mono-list] self signed certificate
</A></li>
        <LI>Next message: <A HREF="050418.html">[Mono-list] Mono.Security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50416">[ date ]</a>
              <a href="thread.html#50416">[ thread ]</a>
              <a href="subject.html#50416">[ subject ]</a>
              <a href="author.html#50416">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: Jonathan Pryor [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">jonpryor at vt.edu</A>]
</I>&gt;<i> 
</I>&gt;<i> On Oct 24, 2013, at 6:02 PM, Edward Ned Harvey (mono)
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">edward.harvey.mono at clevertrove.com</A>&gt; wrote:
</I>&gt;<i> &gt; All the guides out there that I can find tell people to use &quot;makecert,&quot; which
</I>&gt;<i> isn't an option.  Or use openssl.
</I>&gt;<i> 
</I>&gt;<i> Why aren't those options? It shouldn't matter how you create the cert, as
</I>&gt;<i> long as you have one...
</I>
Makecert might be good enough for testing and development, but it's not crypto strong, and also generally not available on whatever system the IT person (customer) is deploying their initial configuration.

Openssl is crypto strong, but also not always available on the target system.  I think the thing I'm settling on is Windows users can use the integrated cert generator in my application, which uses the Cert Enroll COM library.  And for linux/unix users, we'll include instructions to do it with openssl.


&gt;<i> ...except that the normal System.Net stack wants a &quot;valid&quot; certificate chain
</I>&gt;<i> lest it start throwing exceptions, and it'll start throwing exceptions with your
</I>&gt;<i> self-signed cert.
</I>&gt;<i> 
</I>&gt;<i> The workaround for this is to set the
</I>&gt;<i> System.Net.ServicePointManager.ServerCertificateValidationCallback
</I>&gt;<i> property [0, 1] to a delegate which will check that the certificate you're
</I>&gt;<i> getting from the server matches what your app expects. If it does, it can
</I>&gt;<i> return `true` and the certificate will be used anyway, allowing you to use a
</I>&gt;<i> self-signed cert. If the delegate returns `false`, the connection will be
</I>&gt;<i> refused, as normal.
</I>
That might be exactly the problem I'm trying to solve, thanks for the suggestion - and I'll look more closely at the reference examples to see if they just omitted that detail, or what...

One thing worth mention, is that at one point, I generated the self-signed cert (including root CA) and I imported the root CA into the client root CA's.  And I still got the exception.

So anyway, I'll dig into it some more.  Thanks for the suggestions.
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050415.html">[Mono-list] self signed certificate
</A></li>
	<LI>Next message: <A HREF="050418.html">[Mono-list] Mono.Security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50416">[ date ]</a>
              <a href="thread.html#50416">[ thread ]</a>
              <a href="subject.html#50416">[ subject ]</a>
              <a href="author.html#50416">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
