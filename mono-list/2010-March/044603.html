<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] dmcs doesn't seem to be compiling for 3.5?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20dmcs%20doesn%27t%20seem%20to%20be%20compiling%20for%203.5%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044602.html">
   <LINK REL="Next"  HREF="044605.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] dmcs doesn't seem to be compiling for 3.5?</H1>
    <B>Alix</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20dmcs%20doesn%27t%20seem%20to%20be%20compiling%20for%203.5%3F&In-Reply-To="
       TITLE="[Mono-list] dmcs doesn't seem to be compiling for 3.5?">awolf.business at gmail.com
       </A><BR>
    <I>Tue Mar  9 09:13:08 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="044602.html">[Mono-list] Can't FInd Source for List&lt;T&gt;
</A></li>
        <LI>Next message: <A HREF="044605.html">[Mono-list] dmcs doesn't seem to be compiling for 3.5?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44603">[ date ]</a>
              <a href="thread.html#44603">[ thread ]</a>
              <a href="subject.html#44603">[ subject ]</a>
              <a href="author.html#44603">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi everyone. I'm having trouble getting a very simple piece of code to work.
The problem is quite simply that it's .NET 3.5, and somehow dmcs doesn't
seem to be compiling it to the appropriate build, or maybe it's mono that
doesn't run it as it should. Here it goes, step by step:

* I've created a very simple program that calls the constructor of
ReaderWriterLockSlim with LockRecursionPolicy.SupportsRecursion, which
requires 3.5. Here's the code, which is in a file called TestSlim.cs:

using System.Threading;
namespace Test.Slim {
    public class TestSlim {
		public static void Main(string[] args) {
			new ReaderWriterLockSlim(LockRecursionPolicy.SupportsRecursion);
		}
	}
}

* I run:
       dmcs TestSlim.cs
  which generates TestSlim.exe..

* I run:
       mono TestSlim.exe
  which produces the following exception:

Unhandled Exception: System.NotImplementedException: recursionPolicy !=
NoRecursion not currently implemented
  at System.Threading.ReaderWriterLockSlim..ctor (LockRecursionPolicy
recursionPolicy) [0x00000] in &lt;filename unknown&gt;:0
  at Test.Slim.ReentrantReaderWriterLock..ctor () [0x00000] in &lt;filename
unknown&gt;:0
  at Test.Slim.ReentrantReaderWriterLock.Main (System.String[] args)
[0x00000] in &lt;filename unknown&gt;:0

Even though recursion is supported since .NET 3.5, as stated 
<A HREF="http://msdn.microsoft.com/en-us/library/system.threading.readerwriterlockslim.aspx">http://msdn.microsoft.com/en-us/library/system.threading.readerwriterlockslim.aspx</A>
here .

Here's my dmcs version:
 %&gt; dmcs --version
      Mono C# compiler version 2.6.1.0

And my mono version:
 %&gt; mono --version
      Mono JIT compiler version 2.6.1 (tarball Tue Mar  9 12:33:42 CET 2010)

According to  <A HREF="http://www.mono-project.com/CSharp_Compiler">http://www.mono-project.com/CSharp_Compiler</A> this  dmcs is the
appropriate command to use to compile starting with mono 2.6, and it will
default to .NET 3.x. Is there anything I should do to make sure it's 3.5 or
higher?

Thanks a lot.
-- 
View this message in context: <A HREF="http://n4.nabble.com/dmcs-doesn-t-seem-to-be-compiling-for-3-5-tp1586012p1586012.html">http://n4.nabble.com/dmcs-doesn-t-seem-to-be-compiling-for-3-5-tp1586012p1586012.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044602.html">[Mono-list] Can't FInd Source for List&lt;T&gt;
</A></li>
	<LI>Next message: <A HREF="044605.html">[Mono-list] dmcs doesn't seem to be compiling for 3.5?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44603">[ date ]</a>
              <a href="thread.html#44603">[ thread ]</a>
              <a href="subject.html#44603">[ subject ]</a>
              <a href="author.html#44603">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
