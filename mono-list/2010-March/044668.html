<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] How to fix StrLike bug in 2.4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20How%20to%20fix%20StrLike%20bug%20in%202.4&In-Reply-To=DC6EA2D528D848188FD61F4CF4C98FB3%40andrusnotebook">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044671.html">
   <LINK REL="Next"  HREF="044674.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] How to fix StrLike bug in 2.4</H1>
    <B>Korn&#233;l P&#225;l</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20How%20to%20fix%20StrLike%20bug%20in%202.4&In-Reply-To=DC6EA2D528D848188FD61F4CF4C98FB3%40andrusnotebook"
       TITLE="[Mono-list] How to fix StrLike bug in 2.4">kornelpal at gmail.com
       </A><BR>
    <I>Mon Mar 22 16:36:07 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="044671.html">[Mono-list] How to fix StrLike bug in 2.4
</A></li>
        <LI>Next message: <A HREF="044674.html">[Mono-list] gsharp crashes on key pres
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44668">[ date ]</a>
              <a href="thread.html#44668">[ thread ]</a>
              <a href="subject.html#44668">[ subject ]</a>
              <a href="author.html#44668">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

StrLike implementation seems to be very inefficient and is also 
defective because does not escape characters that have special meaning 
in regular expressions that are used as the underlaying implementation.

I would suggest you to use regular expressions because those are more 
properly supported.

Korn&#233;l

Andrus wrote:
&gt;<i> Code below produes invalid result (False) in 2.4 and 2.6
</I>&gt;<i> How to fix it so it runs properly in 2.4.2 ?
</I>&gt;<i> 
</I>&gt;<i> Andrus.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> using System;
</I>&gt;<i> using System.IO;
</I>&gt;<i> 
</I>&gt;<i> class Program
</I>&gt;<i> {
</I>&gt;<i> 
</I>&gt;<i>     static void Main()
</I>&gt;<i>     {
</I>&gt;<i>         string source = @&quot;SELECT COALESCE(kartotee.Aj,0) AS Aj,
</I>&gt;<i> kartotee.Doktyyp AS Doktyyp, COALESCE(kartotee.Dokumnr,0) AS Dokumnr,
</I>&gt;<i> COALESCE(kartotee.Hind,0) AS Hind, COALESCE(rid.Inpdoktyyp,'') AS
</I>&gt;<i> Inpdoktyyp,
</I>&gt;<i> COALESCE(rid.Inpdokumnr,0) AS Inpdokumnr, COALESCE(kartotee.Kogpak,0) AS
</I>&gt;<i> Kogpak, COALESCE(kartotee.Kogus,0) AS Kogus, kartotee.Kuupaev AS Kuupaev,
</I>&gt;<i> COALESCE(kartotee.Partii,'') AS Partii, COALESCE(kartotee.Skaubasumm,0) AS
</I>&gt;<i> Skaubasumm, COALESCE(kartotee.St,0) AS St, COALESCE(kartotee.Toode,'') AS
</I>&gt;<i> Toode, COALESCE(kartotee.Vkaubasumm,0) AS Vkaubasumm,
</I>&gt;<i> COALESCE(kartotee.Vm,0)
</I>&gt;<i> AS Vm, COALESCE(kartotee.Yksus,'') AS Yksus, COALESCE(Artliik.Arttyyp,'') AS
</I>&gt;<i> ArtliikArttyyp, COALESCE(Dok.Kellaaeg,'') AS DokKellaaeg, Dok.Kuupaev AS
</I>&gt;<i> DokKuupaev, COALESCE(Dok.Raha,'') AS DokRaha, COALESCE(Toode.Jaehind,0) AS
</I>&gt;<i> ToodeJaehind, COALESCE(Toode.Nimetus,'') AS ToodeNimetus,
</I>&gt;<i> COALESCE(Toode.Yhik,'') AS ToodeYhik
</I>&gt;<i> FROM ({0}) kartotee
</I>&gt;<i> JOIN prpalk ON true
</I>&gt;<i> JOIN toode ON kartotee.toode=toode.toode
</I>&gt;<i> LEFT JOIN artliik USING(grupp,liik)
</I>&gt;<i> LEFT JOIN rid ON rid.id=kartotee.id
</I>&gt;<i> LEFT JOIN dok ON kartotee.dokumnr=dok.dokumnr
</I>&gt;<i> LEFT JOIN klient ON dok.klient=klient.kood
</I>&gt;<i> &quot;;
</I>&gt;<i> 
</I>&gt;<i>         string pattern = @&quot;SELECT*FROM ({0}) *&quot;;
</I>&gt;<i> 
</I>&gt;<i>         var res = Microsoft.VisualBasic.CompilerServices.StringType.StrLike(
</I>&gt;<i>             source, pattern,
</I>&gt;<i>             Microsoft.VisualBasic.CompareMethod.Text);
</I>&gt;<i>         Console.WriteLine(res.ToString());
</I>&gt;<i>         Console.ReadLine();
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> 
</I></PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044671.html">[Mono-list] How to fix StrLike bug in 2.4
</A></li>
	<LI>Next message: <A HREF="044674.html">[Mono-list] gsharp crashes on key pres
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44668">[ date ]</a>
              <a href="thread.html#44668">[ thread ]</a>
              <a href="subject.html#44668">[ subject ]</a>
              <a href="author.html#44668">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
