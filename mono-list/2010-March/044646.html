<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] SOAP response parsing problem - Google Adwords API - Mono 2.4.2.3 &amp; 2.6.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20SOAP%20response%20parsing%20problem%20-%20Google%20Adwords%20API%20-%0A%20Mono%202.4.2.3%20%26%202.6.1&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044645.html">
   <LINK REL="Next"  HREF="044647.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] SOAP response parsing problem - Google Adwords API - Mono 2.4.2.3 &amp; 2.6.1</H1>
    <B>NielsW</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20SOAP%20response%20parsing%20problem%20-%20Google%20Adwords%20API%20-%0A%20Mono%202.4.2.3%20%26%202.6.1&In-Reply-To="
       TITLE="[Mono-list] SOAP response parsing problem - Google Adwords API - Mono 2.4.2.3 &amp; 2.6.1">niels at wewer.nl
       </A><BR>
    <I>Wed Mar 17 15:17:45 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="044645.html">[Mono-list] Mono, constrained delegation and protocol transition
</A></li>
        <LI>Next message: <A HREF="044647.html">[Mono-list] SOAP response parsing problem - Google Adwords API - Mono 2.4.2.3 &amp; 2.6.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44646">[ date ]</a>
              <a href="thread.html#44646">[ thread ]</a>
              <a href="subject.html#44646">[ subject ]</a>
              <a href="author.html#44646">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I'm using the TargetingIdeaService of the Google Adwords API (v2009). I have
created a loop that does the same 50 requests until the program is stopped
and mono fails about 1 out of 10 times. Not on the same request but rather
random.

The following web service is being called:
<A HREF="https://adwords.google.com/api/adwords/o/v200909/TargetingIdeaService?wsdl">https://adwords.google.com/api/adwords/o/v200909/TargetingIdeaService?wsdl</A>

I have tested the application on Windows XP Mono 2.4.2.3 &amp; 2.6.1. And on
Ubuntu 9.10 using the default mono version distributed with the this version
of Ununtu. (also 2.4.x).

It seems to be related with xml parsing but I'm not sure about that. I have
also tested the same code using Microsoft.Net 2.0 and this runs without any
problems.

The program freezes for minutes (don't know how many) and than raises this
error:

System.Net.WebException: The operation has timed out.
  at System.Net.WebConnectionStream.Read (System.Byte[] buffer, Int32
offset, In
t32 size) [0x00000]
  at System.IO.StreamReader.ReadBuffer () [0x00000]
  at System.IO.StreamReader.Read (System.Char[] buffer, Int32 index, Int32
count
) [0x00000]
  at Mono.Xml2.XmlTextReader.ReadTextReader (Int32 remained) [0x00000]
  at Mono.Xml2.XmlTextReader.PeekChar () [0x00000]
  at Mono.Xml2.XmlTextReader.ReadText (Boolean notWhitespace) [0x00000]
  at Mono.Xml2.XmlTextReader.ReadContent () [0x00000]
  at Mono.Xml2.XmlTextReader.Read () [0x00000]
  at System.Xml.XmlTextReader.Read () [0x00000]
  at System.Xml.XmlReader.ReadElementString () [0x00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadPrimitiveVal
ue (System.Xml.Serialization.XmlTypeMapElementInfo elem) [0x00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadObjectElemen
t (System.Xml.Serialization.XmlTypeMapElementInfo elem) [0x00000]
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadMembers
(Sys
tem.Xml.Serialization.ClassMap map, System.Object ob, Boolean isValueList,
Boole
an readByOrder) [0x00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadClassInstanc
eMembers (System.Xml.Serialization.XmlTypeMapping typeMap, System.Object ob)
[0x
00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadClassInstanc
e (System.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable,
Boolean
checkType) [0x00000]
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadObject
(Syst
em.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable, Boolean
checkTy
pe) [0x00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadClassInstanc
e (System.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable,
Boolean
checkType) [0x00000]
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadObject
(Syst
em.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable, Boolean
checkTy
pe) [0x00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadObjectElemen
t (System.Xml.Serialization.XmlTypeMapElementInfo elem) [0x00000]
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadMembers
(Sys
tem.Xml.Serialization.ClassMap map, System.Object ob, Boolean isValueList,
Boole
an readByOrder) [0x00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadClassInstanc
eMembers (System.Xml.Serialization.XmlTypeMapping typeMap, System.Object ob)
[0x
00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadClassInstanc
e (System.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable,
Boolean
checkType) [0x00000]
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadObject
(Syst
em.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable, Boolean
checkTy
pe) [0x00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadObjectElemen
t (System.Xml.Serialization.XmlTypeMapElementInfo elem) [0x00000]
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadMembers
(Sys
tem.Xml.Serialization.ClassMap map, System.Object ob, Boolean isValueList,
Boole
an readByOrder) [0x00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadClassInstanc
eMembers (System.Xml.Serialization.XmlTypeMapping typeMap, System.Object ob)
[0x
00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadClassInstanc
e (System.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable,
Boolean
checkType) [0x00000]
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadObject
(Syst
em.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable, Boolean
checkTy
pe) [0x00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadObjectElemen
t (System.Xml.Serialization.XmlTypeMapElementInfo elem) [0x00000]
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadMembers
(Sys
tem.Xml.Serialization.ClassMap map, System.Object ob, Boolean isValueList,
Boole
an readByOrder) [0x00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadClassInstanc
eMembers (System.Xml.Serialization.XmlTypeMapping typeMap, System.Object ob)
[0x
00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadClassInstanc
e (System.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable,
Boolean
checkType) [0x00000]
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadObject
(Syst
em.Xml.Serialization.XmlTypeMapping typeMap, Boolean isNullable, Boolean
checkTy
pe) [0x00000]
  at
System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadObjectElemen
t (System.Xml.Serialization.XmlTypeMapElementInfo elem) [0x00000]
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadMembers
(Sys
tem.Xml.Serialization.ClassMap map, System.Object ob, Boolean isValueList,
Boole
an readByOrder) [0x00000]
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadMessage
(Sys
tem.Xml.Serialization.XmlMembersMapping typeMap) [0x00000]
  at System.Xml.Serialization.XmlSerializationReaderInterpreter.ReadRoot ()
[0x0
0000]
  at System.Xml.Serialization.XmlSerializer.Deserialize
(System.Xml.Serializatio
n.XmlSerializationReader reader) [0x00000]
  --- End of inner exception stack trace ---
  at System.Xml.Serialization.XmlSerializer.Deserialize
(System.Xml.Serializatio
n.XmlSerializationReader reader) [0x00000]
  at System.Xml.Serialization.XmlSerializer.Deserialize
(System.Xml.XmlReader xm
lReader) [0x00000]
  at System.Web.Services.Protocols.WebServiceHelper.ReadSoapMessage
(System.Xml.
XmlTextReader xmlReader, System.Xml.Serialization.XmlSerializer
bodySerializer,
System.Xml.Serialization.XmlSerializer headerSerializer, Boolean soap12,
System.
Object&amp; body, System.Web.Services.Protocols.SoapHeaderCollection&amp; headers)
[0x00
000]
  at System.Web.Services.Protocols.WebServiceHelper.ReadSoapMessage
(System.Xml.
XmlTextReader xmlReader, System.Web.Services.Protocols.SoapMethodStubInfo
method
, SoapHeaderDirection dir, Boolean soap12, System.Object&amp; body,
System.Web.Servi
ces.Protocols.SoapHeaderCollection&amp; headers) [0x00000]
  at System.Web.Services.Protocols.SoapHttpClientProtocol.ReceiveResponse
(Syste
m.Net.WebResponse response, System.Web.Services.Protocols.SoapClientMessage
mess
age, System.Web.Services.Protocols.SoapExtension[] extensions) [0x00000]
  at System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke
(System.String
method_name, System.Object[] parameters) [0x00000]
  at com.google.api.adwords.lib.SoapServiceBase.Call (System.String
methodName,
System.Object[] parameters) [0x00000]
  at com.google.api.adwords.lib.SoapServiceBase.Invoke (System.String
methodName
, System.Object[] parameters) [0x00000]
  at com.google.api.adwords.v200909.TargetingIdeaService.get
(com.google.api.adw
ords.v200909.TargetingIdeaSelector selector) [0x00000]
  at (wrapper remoting-invoke-with-check)
com.google.api.adwords.v200909.Targeti
ngIdeaService:get (com.google.api.adwords.v200909.TargetingIdeaSelector)


Any idea how this can be fixed? It seems to be a Mono problem and not
something I can fix in my code.

Thanks,

Niels
-- 
View this message in context: <A HREF="http://n4.nabble.com/SOAP-response-parsing-problem-Google-Adwords-API-Mono-2-4-2-3-2-6-1-tp1596977p1596977.html">http://n4.nabble.com/SOAP-response-parsing-problem-Google-Adwords-API-Mono-2-4-2-3-2-6-1-tp1596977p1596977.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044645.html">[Mono-list] Mono, constrained delegation and protocol transition
</A></li>
	<LI>Next message: <A HREF="044647.html">[Mono-list] SOAP response parsing problem - Google Adwords API - Mono 2.4.2.3 &amp; 2.6.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44646">[ date ]</a>
              <a href="thread.html#44646">[ thread ]</a>
              <a href="subject.html#44646">[ subject ]</a>
              <a href="author.html#44646">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
