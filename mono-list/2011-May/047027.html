<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Help with embedded mono: mono_runtime_object_init
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Help%20with%20embedded%20mono%3A%20mono_runtime_object_init&In-Reply-To=1305652825043-3529932.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="047025.html">
   <LINK REL="Next"  HREF="047034.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Help with embedded mono: mono_runtime_object_init</H1>
    <B>Robert Jordan</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Help%20with%20embedded%20mono%3A%20mono_runtime_object_init&In-Reply-To=1305652825043-3529932.post%40n4.nabble.com"
       TITLE="[Mono-list] Help with embedded mono: mono_runtime_object_init">robertj at gmx.net
       </A><BR>
    <I>Tue May 17 14:00:47 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="047025.html">[Mono-list] Help with embedded mono: mono_runtime_object_init
</A></li>
        <LI>Next message: <A HREF="047034.html">[Mono-list] Help with embedded mono: mono_runtime_object_init
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47027">[ date ]</a>
              <a href="thread.html#47027">[ thread ]</a>
              <a href="subject.html#47027">[ subject ]</a>
              <a href="author.html#47027">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Rod,

On 17.05.2011 19:20, Rod wrote:
&gt;<i>          // Instantiate a class in .NET land
</I>&gt;<i>
</I>&gt;<i>          MonoImage * image = ::mono_assembly_get_image(assembly);
</I>&gt;<i>
</I>&gt;<i>          MonoClass * klass =
</I>&gt;<i> ::mono_class_from_name(image,&quot;EmbeddedMonoExampleAssembly&quot;,&quot;ExampleClass&quot;);
</I>&gt;<i>
</I>&gt;<i>          MonoObject* instance = ::mono_object_new (domain, klass);
</I>&gt;<i>
</I>&gt;<i>          ::mono_runtime_object_init (instance);&lt;----- fail here
</I>
This function is asserting if it doesn't find the default ctor.
Check that the class you're trying to initialize is actually
implementing the default ctor itself. If it doesn't then
you can't use mono_runtime_object_init (). Invoke the non-default
ctor directly using mono_runtime_invoke.

I'm aware that the sample you've post does have a default
ctor, but you mentioned that the actual code is just
looking like the sample ;)

Robert

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="047025.html">[Mono-list] Help with embedded mono: mono_runtime_object_init
</A></li>
	<LI>Next message: <A HREF="047034.html">[Mono-list] Help with embedded mono: mono_runtime_object_init
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47027">[ date ]</a>
              <a href="thread.html#47027">[ thread ]</a>
              <a href="subject.html#47027">[ subject ]</a>
              <a href="author.html#47027">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
