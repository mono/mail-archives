<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] C# Attributes in Mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rafaelteixeirabr%40hotmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="011691.html">
   <LINK REL="Next"  HREF="011694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] C# Attributes in Mono
   </H1>
    <B>A Rafael D Teixeira
    </B> 
    <A HREF="mailto:rafaelteixeirabr%40hotmail.com"
       TITLE="[Mono-list] C# Attributes in Mono">rafaelteixeirabr@hotmail.com
       </A><BR>
    <I>Wed, 29 Jan 2003 00:35:16 -0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="011691.html">[Mono-list] C# Attributes in Mono
</A></li>
        <LI> Next message: <A HREF="011694.html">[Mono-list] Remoting status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11693">[ date ]</a>
              <a href="thread.html#11693">[ thread ]</a>
              <a href="subject.html#11693">[ subject ]</a>
              <a href="author.html#11693">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>From: Hamza Karamali &lt;<A HREF="mailto:karamal@eecg.toronto.edu">karamal@eecg.toronto.edu</A>&gt;
</I>
&gt;<i>I'm new to Mono: I just downloaded and installed it yesterday, and I'm
</I>&gt;<i>currently trying to run a couple of programs that compile and run on
</I>&gt;<i>&quot;normal&quot; Windows .NET.  One of my programs uses attributes that take
</I>&gt;<i>various kinds of arguments:
</I>&gt;<i>
</I>&gt;<i>	[myAttribute(&quot;stringArgument&quot;, (String)null, (String)null, 2)]
</I>&gt;<i>
</I>&gt;<i>And when compiling the code, I get the following error message:
</I>&gt;<i>
</I>&gt;<i>	myCode.cs(204) error CS0182: An attribute argument must be a constant
</I>&gt;<i>	expression, typeof expression or array creation expression
</I>&gt;<i>	myCode.cs(221) error CS0182: An attribute argument must be a constant
</I>&gt;<i>	expression, typeof expression or array creation expression
</I>&gt;<i>	Compilation failed: 2 error(s), 0 warnings
</I>&gt;<i>
</I>&gt;<i>Does anyone know why this happens?
</I>
I tested with mono-0.19's mcs and with csc, and so it seems like it is bug 
in mcs. Please fill a bug report in mono's bugzilla.

As a note: design CLR attributes with multiple constructors, to avoid having 
to pass null parameters when they can be ommited.

Also: eliminating the cast to string in the null values, makes the error 
message go away. This form compiles ok with mcs:

[myAttribute(&quot;stringArgument&quot;, null, null, 2)]

That typecasts are only needed if you have similar constructors for the 
attribute that may confuse the compiler if not guided by the typecasts.

Happy hackings,

Rafael Teixeira
Brazilian Polymath
Mono, MonoQLE Hacker






_________________________________________________________________
Add photos to your e-mail with MSN 8. Get 2 months FREE*. 
<A HREF="http://join.msn.com/?page=features/featuredemail">http://join.msn.com/?page=features/featuredemail</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="011691.html">[Mono-list] C# Attributes in Mono
</A></li>
	<LI> Next message: <A HREF="011694.html">[Mono-list] Remoting status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11693">[ date ]</a>
              <a href="thread.html#11693">[ thread ]</a>
              <a href="subject.html#11693">[ subject ]</a>
              <a href="author.html#11693">[ author ]</a>
         </LI>
       </UL>
</body></html>
