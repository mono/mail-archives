<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Re: XmlTextWriter bugs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:eric%405stops.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="011457.html">
   <LINK REL="Next"  HREF="011466.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Re: XmlTextWriter bugs
   </H1>
    <B>eric lindvall
    </B> 
    <A HREF="mailto:eric%405stops.com"
       TITLE="[Mono-list] Re: XmlTextWriter bugs">eric@5stops.com
       </A><BR>
    <I>Tue, 21 Jan 2003 12:46:49 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="011457.html">[Mono-list] Re: XmlTextWriter bugs
</A></li>
        <LI> Next message: <A HREF="011466.html">[Mono-list] XmlTextWriter bugs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11472">[ date ]</a>
              <a href="thread.html#11472">[ thread ]</a>
              <a href="subject.html#11472">[ subject ]</a>
              <a href="author.html#11472">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>if you check out the ECMA docs on StreamWriter, it states for Close:

Description
  This method calls System.IO.StreamWriter.Flush, writing buffered data to the
  underlying stream. Following a call to System.IO.StreamWriter.Close, any
  operations on the current instance might raise exceptions. 

  [Note: This version of System.IO.StreamWriter.Close is equivalent to
  System.IO.StreamWriter.Dispose(true).This method overrides
  System.IO.Stream.Close.]


and for Dispose(bool):

Description
  When the disposing parameter is true, this method releases all resources held
  by any managed objects that this System.IO.StreamWriter references. This method
  invokes the Dispose() method of each referenced object.


On Wed, 22 Jan 2003, <A HREF="mailto:ginga@kit.hi-ho.ne.jp">ginga@kit.hi-ho.ne.jp</A> wrote:

&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> &gt; Looks like there are bug in XmlTextWriter. It produces incorrect xml
</I>&gt;<i> &gt; (missing closing tags)
</I>&gt;<i> 
</I>&gt;<i> Dietmar, as I said at irc, with my Windows environment, it result in no
</I>&gt;<i> error. I also found there are similar test named
</I>&gt;<i> TestConstructorsAndBaseStream at in XmlTextWriterTests.cs.
</I>&gt;<i> 
</I>&gt;<i> Whether this is related or not, when I switched to Linux environment,
</I>&gt;<i> Some errors occured related to StringWriter.ToString(). I assume some of
</I>&gt;<i> them were because StringWriter.Close() disposes internalString (sets
</I>&gt;<i> null) and then StringWriter.ToString() tries to use internalString,
</I>&gt;<i> then NullPointerException occurs.
</I>&gt;<i> 
</I>&gt;<i> (Both of the cases you provided are related to the *last* output line).
</I>&gt;<i> 
</I>&gt;<i> On the other hand, then I read an article by MS about garbage collection,
</I>&gt;<i> is was written that StreamWriter.Close() is designed to dispose its
</I>&gt;<i> internals. If it is correct, then I cannot understand why I get no error
</I>&gt;<i> on Windows... Does anyone have any hints around here?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> 
</I>&gt;<i> -- Atsushi Eno
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="011457.html">[Mono-list] Re: XmlTextWriter bugs
</A></li>
	<LI> Next message: <A HREF="011466.html">[Mono-list] XmlTextWriter bugs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11472">[ date ]</a>
              <a href="thread.html#11472">[ thread ]</a>
              <a href="subject.html#11472">[ subject ]</a>
              <a href="author.html#11472">[ author ]</a>
         </LI>
       </UL>
</body></html>
