<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] MySQL Data Provider for MySQL (Mono 0.17)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:danmorg%40sc.rr.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="010843.html">
   <LINK REL="Next"  HREF="010847.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] MySQL Data Provider for MySQL (Mono 0.17)
   </H1>
    <B>Daniel Morgan
    </B> 
    <A HREF="mailto:danmorg%40sc.rr.com"
       TITLE="[Mono-list] MySQL Data Provider for MySQL (Mono 0.17)">danmorg@sc.rr.com
       </A><BR>
    <I>Sat, 4 Jan 2003 15:11:48 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="010843.html">[Mono-list] MySQL Data Provider for MySQL (Mono 0.17)
</A></li>
        <LI> Next message: <A HREF="010847.html">SV: [Mono-list] MySQL Data Provider for MySQL (Mono 0.17)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10845">[ date ]</a>
              <a href="thread.html#10845">[ thread ]</a>
              <a href="subject.html#10845">[ subject ]</a>
              <a href="author.html#10845">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I just read the 4.0 docs of MySQL.

Apparently, mysql_connect is deprecated.  mysql_real_connect should be used
instead.

<A HREF="http://www.mysql.com/documentation/mysql/bychapter/manual_Installing.html#Up">http://www.mysql.com/documentation/mysql/bychapter/manual_Installing.html#Up</A>
grading-from-3.23

<A HREF="http://www.mysql.com/documentation/mysql/bychapter/manual_Clients.html#mysql">http://www.mysql.com/documentation/mysql/bychapter/manual_Clients.html#mysql</A>
_real_connect

So, the MySQL provider in Mono will have to be modified to use
mysql_real_connect somehow.

I wonder how the MySQL provider could handle two different versions of a
client library.
I also wonder how in C# how the runtime could gracefully handle when a
native function is not found in a library.  Currently, the provider calls
mysql_thread_end() when Closing a connection, but if the client library
doesn't have mysql_thread_end, mono crashes.

Any ideas?

-----Original Message-----
From: <A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A> [mailto:<A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A>]On
Behalf Of Rolf Tollerud
Sent: Saturday, January 04, 2003 12:41 PM
To: <A HREF="mailto:danmorg@sc.rr.com">danmorg@sc.rr.com</A>; <A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>
Subject: SV: [Mono-list] MySQL Data Provider for MySQL (Mono 0.17)


Thanks Morgan that could very well be the problem because I am using
MySQL4.07!

-----Ursprungligt meddelande-----
Från: Daniel Morgan [mailto:<A HREF="mailto:danmorg@sc.rr.com">danmorg@sc.rr.com</A>]
Skickat: den 4 januari 2003 10:28
Till: Steven Balthazor; 'Rolf Tollerud'; <A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>
Ämne: RE: [Mono-list] MySQL Data Provider for MySQL (Mono 0.17)


Hmmm...   I'm not sure.

What version of the MySQL client library are you using?  Where did you
get it?

The MySQL provider in mono was built for the Production version of MySQL
3.23.xx.

I wonder if there is a tracing or debugging mechanism in mono we could
use to see what it is doing.

-----Original Message-----
From: <A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A> [mailto:<A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A>]On
Behalf Of Steven Balthazor
Sent: Friday, January 03, 2003 3:36 PM
To: 'Rolf Tollerud'; <A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>
Subject: RE: [Mono-list] MySQL Data Provider for MySQL (Mono 0.17)


I had a similar problem (if I remember correctly).  To get it to compile
correctly on Linux I had to add a link from /usr/lib/libmysqlclient.so
to /usr/lib/libmySQL.so e.g.: ln -s libmysqlclient.so libmySQL.so

Cheers,
Steven Balthazor

-----Original Message-----
From: <A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A> [mailto:<A HREF="mailto:mono-list-admin@ximian.com">mono-list-admin@ximian.com</A>] On
Behalf Of Rolf Tollerud
Sent: Friday, January 03, 2003 1:02 PM
To: <A HREF="mailto:mono-list@ximian.com">mono-list@ximian.com</A>
Subject: [Mono-list] MySQL Data Provider for MySQL (Mono 0.17)


When I try to run MySqlTest (which compiles just fine) on windows XP I
get following error messages:

(mono MySqlTest.exe)

** (MySqlTest.exe:3924): WARNING **: Failed to load function
mysql_connect from libmySQL

** (MySqlTest.exe:3924): WARNING **: Failed to load function
mysql_connect from libmySQL

Unhandled Exception: System.NullReferenceException: Object reference not
set to an instance of an object in &lt;0x00025&gt; 06
Mono.Data.MySql.MySql:Connect
(intptr,string,string,string,string,uint,string,uint)
in &lt;0x003e6&gt; 00 Mono.Data.MySql.MySqlConnection:Open ()
in &lt;0x00057&gt; 00 Test.Mono.Data.MySql.MySqlTest:Main (string[])

Why will it not load mysql_connect? Apparently its loads all the other
functions from libmySQL.dll..




_______________________________________________
Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>




_______________________________________________
Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="010843.html">[Mono-list] MySQL Data Provider for MySQL (Mono 0.17)
</A></li>
	<LI> Next message: <A HREF="010847.html">SV: [Mono-list] MySQL Data Provider for MySQL (Mono 0.17)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10845">[ date ]</a>
              <a href="thread.html#10845">[ thread ]</a>
              <a href="subject.html#10845">[ subject ]</a>
              <a href="author.html#10845">[ author ]</a>
         </LI>
       </UL>
</body></html>
