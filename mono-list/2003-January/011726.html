<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] RE: System.Xml.Serialization.XmlSerializer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:umuff%40quark.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="011744.html">
   <LINK REL="Next"  HREF="011745.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] RE: System.Xml.Serialization.XmlSerializer
   </H1>
    <B>Urs Muff
    </B> 
    <A HREF="mailto:umuff%40quark.com"
       TITLE="[Mono-list] RE: System.Xml.Serialization.XmlSerializer">umuff@quark.com
       </A><BR>
    <I>Thu, 30 Jan 2003 14:15:41 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="011744.html">[Mono-list] Compile error with current cvs
</A></li>
        <LI> Next message: <A HREF="011745.html">[Mono-list] RE: System.Xml.Serialization.XmlSerializer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11726">[ date ]</a>
              <a href="thread.html#11726">[ thread ]</a>
              <a href="subject.html#11726">[ subject ]</a>
              <a href="author.html#11726">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> &gt; Does the mono implementation of System.Xml.Serialization.XmlSerializer
</I>&gt;<i> allow
</I>&gt;<i> &gt; methods or properties to use interfaces?  An interface and an abstract
</I>&gt;<i> class
</I>&gt;<i> &gt; should work exchangeable but the Microsoft runtime does not allow
</I>&gt;<i> interfaces
</I>&gt;<i> &gt; even when using the XmlElement(Type = typeof(someType)) attribute on
</I>&gt;<i> that
</I>&gt;<i> &gt; property.
</I>&gt;<i> 
</I>&gt;<i> ...Oops, your code didn't work well with current mono library.
</I>&gt;<i> There must be something wrong with XmlSerializer class;-)
</I>
That's a shame :(, but at least we have a sample to fix it.
Who is working on the XmlSerializer again?

&gt;<i> 
</I>&gt;<i> IMHO, it it impossible to serialize instance fields because we cannot
</I>&gt;<i> decide that interface field is of a public class, and we cannot create
</I>&gt;<i> instance only from interface information (i.e. without any concrete
</I>&gt;<i> class information). Hmm... I wonder how Castor handles such things...
</I>
Well first of all, why should [XmlInclude(typeof(S))] not work, since it
works on an abstract class that cannot be constructed as well.  I'm a
compiler constructor myself, and would argue that an abstract class with
just abstract methods/properties and an interface should be very similar if
not equal.
At runtime the class of the property is known and it can be serialized as
such.  

The output should still be, no matter if A is an abstract property or an
interface property, as long as &quot;S&quot; is inherited/implements that
class/interface:
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-16&quot;?&gt;
&lt;Sample xmlns:xsd=&quot;<A HREF="http://www.w3.org/2001/XMLSchema"">http://www.w3.org/2001/XMLSchema&quot;</A>
xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance"">http://www.w3.org/2001/XMLSchema-instance&quot;</A>&gt;
  &lt;A xsi:type=&quot;S&quot;&gt;
    &lt;val&gt;a value&lt;/val&gt;
  &lt;/A&gt;
&lt;/Sample&gt;

&gt;<i> 
</I>&gt;<i> This page might informative for you:
</I>&gt;<i> <A HREF="http://www.dotnet247.com/247reference/msgs/16/80980.aspx">http://www.dotnet247.com/247reference/msgs/16/80980.aspx</A>
</I>
Thanks a lot for that link.  I already saw that, and hoped that the mono
implementation would be better.

- Urs

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="011744.html">[Mono-list] Compile error with current cvs
</A></li>
	<LI> Next message: <A HREF="011745.html">[Mono-list] RE: System.Xml.Serialization.XmlSerializer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11726">[ date ]</a>
              <a href="thread.html#11726">[ thread ]</a>
              <a href="subject.html#11726">[ subject ]</a>
              <a href="author.html#11726">[ author ]</a>
         </LI>
       </UL>
</body></html>
