<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] VFAT vs Unix filesystems...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jonpryor%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="010999.html">
   <LINK REL="Next"  HREF="011033.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] VFAT vs Unix filesystems...
   </H1>
    <B>Jonathan Pryor
    </B> 
    <A HREF="mailto:jonpryor%40vt.edu"
       TITLE="[Mono-list] VFAT vs Unix filesystems...">jonpryor@vt.edu
       </A><BR>
    <I>08 Jan 2003 11:14:31 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="010999.html">[Mono-list] VFAT vs Unix filesystems...
</A></li>
        <LI> Next message: <A HREF="011033.html">[Mono-list] VFAT vs Unix filesystems...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11013">[ date ]</a>
              <a href="thread.html#11013">[ thread ]</a>
              <a href="subject.html#11013">[ subject ]</a>
              <a href="author.html#11013">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My two cents (since everyone else has already given theirs...)

Mono should be case-insensitive for all assembly name lookups.

Why?  Compatibility.  And it makes sense.  Here's why.

Long term (IIRC) we'll be following .NET.  Which means we'll have the
concept of shared assemblies (located in the Global Assembly Cache
(GAC)) and non-shared assemblies, located in the same directory (or a
sub-directory) as the executable.

The GAC stores an assemblies version, locale, public key, etc., along
with the assemblies file name.  This allows multiple different vendors
to have a shared assembly with the same name (e.g. MySharedAssembly.dll)
installed at the same time, since the public key *must* be different
(different vendors).  Likewise for two different versions of a shared
assembly from the same vendor: the version will be different, so you'll
have to store multiple copies.

End result: for shared assemblies, you can't just use case-sensitive
name comparisons anyway, since you need to take the version, public key,
etc. into consideration.  For shared assemblies, case-insensitive name
comparisons are the least of our worries, so we can always use
case-insensitive searches.

That leaves local/non-shared assemblies.  Since these will be in the
application's directory, we could argue that name casing is irrelevant,
so just use case-sensitive names.  However, when would case-sensitive
names be important for a single executable?  When you have
``Assembly.dll'' and ``assembly.dll'' used by the same program.  Unless
they're in different sub-directories, this likely won't operate properly
under .NET since Windows will only see one of those files, not both. 
Plus, it would be brain-dead/stupid for a developer to do that, so I
don't see much point in supporting that behavior.

So, *long-term*, I think case-insensitive searches should be the
default.  However, before we get there we need to implement GAC support
and the rest of the assembly-loading algorithms.

Short term, stick with the current behavior.  We should focus on correct
long-term behavior instead of worrying about short-term hacks.

 - Jon

On Tue, 2003-01-07 at 20:21, Pablo Baena wrote:
&gt;<i> I've noticed that when a .NET assembly is referenced on a program
</I>&gt;<i> running on Windows, the casing of the assembly name is ignored, thus
</I>&gt;<i> when running the compiled program on Unix (or any real OS :O), Mono
</I>&gt;<i> will fail to load the assembly if only one character differs on the
</I>&gt;<i> case.
</I>&gt;<i> 
</I>&gt;<i> Am I clear on this? Just to clarify my stupid english: 
</I>&gt;<i> 
</I>&gt;<i> I have a Classpath.dll on Windows. I compile the program with:
</I>&gt;<i> 
</I>&gt;<i> mcs /r:classpath chachacha.cs
</I>&gt;<i> 
</I>&gt;<i> which ends successfully.
</I>&gt;<i> 
</I>&gt;<i> Then when I run the prog in Linux, mono fails because it doesn't find
</I>&gt;<i> classpath.dll, and this is solved renaming the dll, but this is just
</I>&gt;<i> annoying.
</I>&gt;<i> 
</I>&gt;<i> Fill a bug report I should?
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Pablo Baena &lt;<A HREF="mailto:pbaena@uol.com.ar">pbaena@uol.com.ar</A>&gt;
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="010999.html">[Mono-list] VFAT vs Unix filesystems...
</A></li>
	<LI> Next message: <A HREF="011033.html">[Mono-list] VFAT vs Unix filesystems...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11013">[ date ]</a>
              <a href="thread.html#11013">[ thread ]</a>
              <a href="subject.html#11013">[ subject ]</a>
              <a href="author.html#11013">[ author ]</a>
         </LI>
       </UL>
</body></html>
