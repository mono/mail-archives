<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [DotGNU]Re: [Mono-list] Enum declaration; Conflicts and Blame for Interoperability Problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gopalv82%40symonds.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="010974.html">
   <LINK REL="Next"  HREF="010985.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[DotGNU]Re: [Mono-list] Enum declaration; Conflicts and Blame for Interoperability Problems
   </H1>
    <B>Gopal V
    </B> 
    <A HREF="mailto:gopalv82%40symonds.net"
       TITLE="[DotGNU]Re: [Mono-list] Enum declaration; Conflicts and Blame for Interoperability Problems">gopalv82@symonds.net
       </A><BR>
    <I>Tue, 7 Jan 2003 19:47:24 +0530</I>
    <P><UL>
        <LI> Previous message: <A HREF="010974.html">[Mono-list] what about this?
</A></li>
        <LI> Next message: <A HREF="010985.html">[DotGNU]Re: [Mono-list] Enum declaration; Conflicts and Blame for Interoperability Problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10979">[ date ]</a>
              <a href="thread.html#10979">[ thread ]</a>
              <a href="subject.html#10979">[ subject ]</a>
              <a href="author.html#10979">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If memory serves me right, Paolo Molaro wrote:
&gt;<i> &gt;     CLS Rule 9: Literal static fields (see clause 7.6.1) of an enum shall
</I>&gt;<i> &gt;     have the type of the enum itself.
</I>&gt;<i> 
</I>&gt;<i> Paragraph 13.3 in Partition II says basically the same things, but adds
</I>&gt;<i> soon after:
</I>&gt;<i> 
</I>&gt;<i> shall be distinct from their underlying type.  For all other purposes,
</I>&gt;<i>                                                ^^^^^^^^^^^^^^^^^^^^^^
</I>&gt;<i> including verification and execution of 
</I>&gt;<i> code, an unboxed enum freely interconverts with its underlying type.
</I>&gt;<i> 
</I>.....
&gt;<i> will implement Reflection.Emit, it'll have to support this stuff anyway,
</I>&gt;<i> just like the MS runtime does.
</I>
So this is like saying Reflection.Emit API is to blame here ?. I wonder
what output MCS running on MS .NET would give ... (would it be the same ?).

Hmm... since CSCC does not use Reflection.Emit, I think we'll not be affected
by this bug at all ... and field boxing has already been added for resolving
enum members in the compiler.... (AFAIK).

I don't like the idea of complicating the image loading routines and 
modifying at load time. The runtime doesn't have any huge issues as 
enums are constant folded in either compiler ... hmm... though 
FieldInfo.GetValue() had slight problems... I've fixed that up in CVS ...

I think Qt# is digging up quite a few bugs ... (and some &quot;virtual&quot; bugs,
like this one).. It looks like Reflection.Emit API isn't as hot as they 
were made up to be ...

Gopal
-- 
The difference between insanity and genius is measured by success



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="010974.html">[Mono-list] what about this?
</A></li>
	<LI> Next message: <A HREF="010985.html">[DotGNU]Re: [Mono-list] Enum declaration; Conflicts and Blame for Interoperability Problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10979">[ date ]</a>
              <a href="thread.html#10979">[ thread ]</a>
              <a href="subject.html#10979">[ subject ]</a>
              <a href="author.html#10979">[ author ]</a>
         </LI>
       </UL>
</body></html>
