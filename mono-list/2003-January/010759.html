<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Re: debugger
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:martin%40gnome.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="010756.html">
   <LINK REL="Next"  HREF="010761.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Re: debugger
   </H1>
    <B>Martin Baulig
    </B> 
    <A HREF="mailto:martin%40gnome.org"
       TITLE="[Mono-list] Re: debugger">martin@gnome.org
       </A><BR>
    <I>02 Jan 2003 18:38:53 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="010756.html">[Mono-list] debugger
</A></li>
        <LI> Next message: <A HREF="010761.html">[Mono-list] 0.17 error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10759">[ date ]</a>
              <a href="thread.html#10759">[ thread ]</a>
              <a href="subject.html#10759">[ subject ]</a>
              <a href="author.html#10759">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&quot;Daniel Morgan&quot; &lt;<A HREF="mailto:danmorg@sc.rr.com">danmorg@sc.rr.com</A>&gt; writes:

&gt;<i> What do I need to do to get the debugger up and running on Linux?  What are
</I>&gt;<i> the requirements?
</I>&gt;<i> gtk# and gtk+ 2.0 I'm sure.  Do I need GNOME 2.0 too?
</I>
Hi Daniel,

well, for the GUI you need gtk# and GNOME 2.

However, the debugger also has a command line interface which just needs glib (but this
dependency is &quot;weak&quot; and could possibly be avoided).  At the moment, the makefile doesn't
allow you to build just the command line interface, but I'll probably change this for the
release.

&gt;<i> Can I debug various Mono class libraries with it, such as, System.Data
</I>&gt;<i> classes like DataSet?
</I>
Sure you can do this.  All you need to do is to compile them with debugging support (mcs -g).

&gt;<i> Can it be used to debug code which uses unmanaged code via DllImport,
</I>&gt;<i> internal calls, or marshalling of data?
</I>
The debugger can debug managed and unmanaged applications - and while debugging managed
applications, you can also enter interncalls and stuff like that (actually, the debugger
has an option to turn this feature on and off).

&gt;<i> Can I use the debugger to debug GTK# applications on Mono?
</I>&gt;<i> 
</I>&gt;<i> Can I use the debugger to debug QT# applications on Mono?
</I>
Well, a gtk# or a qt# application is just a managed application, so there's nothing
special about it.  The debugger can also debug multi-threaded applications (managed and
unmanaged) which could be very useful for qt# applications (I assume qt# is fully
thread-safe and qt# applications are normally using multiple threads ?).

&gt;<i> Can the debugger be ported to other platforms, such as, Linux/PPC,
</I>&gt;<i> FreeBSD/i386, or dare I say Windows 2000?  If so, what would it take to port
</I>&gt;<i> the debugger to other platforms?
</I>
We need to distinguish between hardware architectures and operating systems here.

To port the debugger to another operating system, have a look at backends/server/server.h -
this is an unmanaged API which you need to implement for that other operating system.  The
current Linux implementation is in i386-linux-ptrace.c.

To port the debugger to another hardware architecture, you also need to implement the
managed IArchitecture interface; the current i386 implementation is in
arch/ArchitectureI386.cs.  I'm currently using architecture-specific stuff in
i386-linux-ptrace.c because there's just one architecture; it may be a good idea to split
this file - all the ptrace() stuff should be the same for Linux/PPC, for instance.

It shouldn't be that difficult to port the debugger to another hardware architecture or
another Unix system - but I have no idea whether it'll be possible to port it to any
flavor of Windows.  In any case, such a port would be a huge task and much more difficult
than porting it to another Unix system.

The problem is that to debug unmanaged applications, the debugger is using the bfd and
libopcodes libraries - which have already been ported to a lot of different Unix systems.

&gt;<i> What features does debugger have?  How does this differ from other debuggers
</I>&gt;<i> out there?
</I>
Well, it has a lot of features :-)

However, the coolest feature I added last week are per-thread breakpoints - if you're
debugging a multi-threaded application, you can tell the debugger that a particular
breakpoint should only break in a particular thread - and this works without hardware
breakpoints.

This'll be very important when debugging system libraries such as System.Data in a
multi-threaded application because the method you're currently debugging may be called
from another thread in the meantime.

&gt;<i> What features would you look to see added to the debugger?
</I>
At the moment, my main focus is to stabilize the whole thing and fix a few outstanding
issues.  There are two big tasks which I'd like to complete this week: getting the module
and symbol stuff back working (this is used to restart an application which keeping your
breakpoint settings) and adding support to read a core dump of a managed application.  The
latter one has &quot;issues&quot;, but now is the best time to do it because I'm rewriting that code
anyways.

I think in near feature, I'll work a bit on the command line interface and its expression
support - at least, I'd like to add support for array variables (you can already say
&quot;print $a.Test&quot;, but I'd like to add &quot;print $a [5]&quot; etc.).

-- 
Martin Baulig
<A HREF="mailto:martin@gnome.org">martin@gnome.org</A>
<A HREF="mailto:martin@ximian.com">martin@ximian.com</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="010756.html">[Mono-list] debugger
</A></li>
	<LI> Next message: <A HREF="010761.html">[Mono-list] 0.17 error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10759">[ date ]</a>
              <a href="thread.html#10759">[ thread ]</a>
              <a href="subject.html#10759">[ subject ]</a>
              <a href="author.html#10759">[ author ]</a>
         </LI>
       </UL>
</body></html>
