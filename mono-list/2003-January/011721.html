<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] (Janet) - JCommand changes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:andrew_stopford%40yahoo.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="011713.html">
   <LINK REL="Next"  HREF="011716.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] (Janet) - JCommand changes
   </H1>
    <B>Andrew Stopford
    </B> 
    <A HREF="mailto:andrew_stopford%40yahoo.co.uk"
       TITLE="[Mono-list] (Janet) - JCommand changes">andrew_stopford@yahoo.co.uk
       </A><BR>
    <I>Thu, 30 Jan 2003 17:47:56 +0000 (GMT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="011713.html">[Mono-list] [Mono-announce-list] Mono Weekly News (Jan 30th, 2003)
</A></li>
        <LI> Next message: <A HREF="011716.html">[Mono-list] Npgsql on Mono Class Library cvs news at www.postgresql.com
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11721">[ date ]</a>
              <a href="thread.html#11721">[ thread ]</a>
              <a href="subject.html#11721">[ subject ]</a>
              <a href="author.html#11721">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--0-846411884-1043948876=:3743
Content-Type: multipart/alternative; boundary=&quot;0-1090808928-1043948876=:3743&quot;

--0-1090808928-1043948876=:3743
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Hi,

I don't have CVS access and I am having trouble creating a patch so can some one commit this file to CVS for me.

Thanks

Andrew




---------------------------------
With Yahoo! Mail you can get a bigger mailbox -- choose a size that fits your needs

--0-1090808928-1043948876=:3743
Content-Type: text/html; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

&lt;P&gt;Hi,&lt;/P&gt;
&lt;P&gt;I don't have CVS access and I am having trouble creating a patch so can some one commit this file to CVS for me.&lt;/P&gt;
&lt;P&gt;Thanks&lt;/P&gt;
&lt;P&gt;Andrew&lt;/P&gt;&lt;p&gt;&lt;p&gt;&lt;br&gt;&lt;hr size=1&gt;&lt;a href=&quot;<A HREF="http://uk.yahoo.com/mail/tagline_xtra/?http://uk.docs.yahoo.com/mail_storage.html"">http://uk.yahoo.com/mail/tagline_xtra/?http://uk.docs.yahoo.com/mail_storage.html&quot;</A>&gt;&lt;b&gt;&lt;font face=&quot;Arial&quot; size=&quot;2&quot;&gt;With Yahoo! Mail you can get a bigger mailbox -- choose a size that fits your needs&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;
--0-1090808928-1043948876=:3743--
--0-846411884-1043948876=:3743
Content-Type: text/plain; name=&quot;JCommand.cs&quot;
Content-Description: JCommand.cs
Content-Disposition: inline; filename=&quot;JCommand.cs&quot;

// JCompiler.cs: JANET compiler command-line tool
//
// Author: Steve Newman (<A HREF="mailto:steve@snewman.net">steve@snewman.net</A>)
//
// Licensed under the terms of the GNU GPL
//
// (C) 2001 Bitcraft, Inc.


#define TRACE

using System;
using System.IO;
using System.Text;
using System.Diagnostics;

using JANET.Printer;
using JANET.Compiler;


// HACK SN 7/14/01: this is a simple test driver, which needs to be replaced
// by a more robust command-line tool.
class MainApp
	{
	public static int Main(string[] args)
		{
		string progClassName;
		string inputFileLabel;
		
		StreamReader r = null;
		bool weBuiltReader = false;
		
		// MOD A Stopford 6/1/2002: Added some basic header text		
		Console.Error.WriteLine(&quot;JCommand 1.0.0, the Mono ECMA Script Compiler&quot;);		
		
		// HACK A Stopford 6/1/2002: Added an error catch for no command line args
		// Will need to error check what args have been provided
		if (args.Length &lt;= 0) 
		{
			Console.WriteLine(&quot;&quot;);
			Console.Error.WriteLine(&quot;ERROR You must include an ecmascript file&quot;);
			Console.WriteLine(&quot;&quot;);
			Console.Error.WriteLine(&quot;Usage is: Jcommand ecmascriptfile.js &gt; csharpfile.cs&quot;);
			Console.WriteLine(&quot;&quot;);
		}
		else {
		

			if (args.Length &gt;= 1)
		{
			inputFileLabel = &quot;\&quot;&quot; + args[0] + &quot;\&quot;&quot;;
			FileStream fs = new FileStream(args[0], FileMode.Open, FileAccess.Read);
			r = new StreamReader(fs);
			weBuiltReader = true;
			
			progClassName = &quot;Program_&quot;;
			for (int i=0; i&lt;args[0].Length; i++)
			{
				char c = args[0][i];
				if ( (c &gt;= 'a' &amp;&amp; c &lt;= 'z') || (c &gt;= 'A' &amp;&amp; c &lt;= 'Z') ||
					(c &gt;= '0' &amp;&amp; c &lt;= '9') || c == '_' )
					progClassName += c;
				else
					break;
			}
		}
		else
		{
			inputFileLabel = &quot;&lt;stdin&gt;&quot;;
			progClassName = &quot;Program&quot;;
		}
		
			if (args.Length &gt;= 2)
				progClassName = args[1];
		
			try
			{
				Compiler.CompileToCSharp( r, Console.Out, progClassName,
					inputFileLabel, false );
			}
			catch (ParseError e)
			{
				Console.Error.WriteLine( &quot;ParseError at line {0}, column {1} (byte position {2})&quot;,
					e.loc.lineNum, e.loc.colNum, e.loc.absPosition );
				Console.Error.WriteLine( &quot;Message: {0}&quot;, e.Message );
			}
		}
		// while (true)
		// 	{
		// 	Token tok = tokenizer.Match();
		// 	if (tok == null)
		// 		break;
		// 	
		// 	Console.WriteLine(tok.rawText);
		// 	} // while (true)
		
		if (weBuiltReader)
			r.Close();
		
		return 0;
		} // Main
	
	} // MainApp

--0-846411884-1043948876=:3743--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="011713.html">[Mono-list] [Mono-announce-list] Mono Weekly News (Jan 30th, 2003)
</A></li>
	<LI> Next message: <A HREF="011716.html">[Mono-list] Npgsql on Mono Class Library cvs news at www.postgresql.com
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11721">[ date ]</a>
              <a href="thread.html#11721">[ thread ]</a>
              <a href="subject.html#11721">[ subject ]</a>
              <a href="author.html#11721">[ author ]</a>
         </LI>
       </UL>
</body></html>
