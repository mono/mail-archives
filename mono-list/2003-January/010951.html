<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Re: Javascript and Mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:steve%40snewman.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="010950.html">
   <LINK REL="Next"  HREF="010953.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Re: Javascript and Mono
   </H1>
    <B>Steve Newman
    </B> 
    <A HREF="mailto:steve%40snewman.net"
       TITLE="[Mono-list] Re: Javascript and Mono">steve@snewman.net
       </A><BR>
    <I>Mon, 6 Jan 2003 15:14:00 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="010950.html">[Mono-list] Re: Javascript and Mono
</A></li>
        <LI> Next message: <A HREF="010953.html">[Mono-list] Javascript and Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10951">[ date ]</a>
              <a href="thread.html#10951">[ thread ]</a>
              <a href="subject.html#10951">[ subject ]</a>
              <a href="author.html#10951">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 22:49:37 +0100 1/6/03, Jeroen Janssen &lt;<A HREF="mailto:japj@xs4all.nl">japj@xs4all.nl</A>&gt; wrote:

&gt;&gt;<i>Yes, I think you will find that Microsoft's JScript is using helper functions.  At any rate, I don't know how you would implement J[ava]Script without them, because (unlike C#) there is a lot of potentially complex logic implied in basic operations like &quot;+&quot; -- see Miguel's AddTwoThings example.
</I>&gt;<i>
</I>&gt;<i>We probably need to know exactly what helperfunctions (runtime)
</I>&gt;<i>Microsoft JScript contains (don't know exactly where to find it in the
</I>&gt;<i>Microsoft documentation)..
</I>
There may not be any documentation.  Typically, this sort of internal runtime support is not well documented.  Someone on this list who has been digging into Microsoft's runtime support for C# and/or Visual Basic may know more.


&gt;&gt;<i>In the JANET source, the files JPrimitive.cs, JObjects.cs, and JRuntime.cs are essentially all &quot;helper code&quot; in this sense.  The other files are only needed for compilation (and operations like &quot;eval&quot;), but these three files, two of which are fairly large, are needed to support the compiled code.
</I>&gt;<i>
</I>&gt;<i>Ok, so there is good 'seperation' of runtime and compiler? (or do we
</I>&gt;<i>need to make this more explicit?)
</I>
Well... the one really strong dividing line is the code generator interface (JCodeGeneratorIntf.cs).  This stands more or less between the front and back ends of the compiler.

Above this interface, we have the tokenizer, parser, and command-line frontend:

JCommand.cs
JCompiler.cs
JParser.cs
JParser2.cs
JTokenizer.cs

Below this interface is the code generator and the support code:

JGenCSharp.cs
JObjects.cs
JPrimitive.cs
JRuntime.cs

So, of the compiler, only JGenCSharp.cs is tied to the runtime.  This file will need to be rewritten anyway to move to direct generation of IL code.


&gt;&gt;<i>One key point is that currently, JANET generates a call to the support library for every operation.  This is because so far I've only implemented ECMAScript 3, which doesn't include type declarations.  In JScript, you may have type information at compile time, in which case the support library operations can often be optimized away.  I haven't tried to address that yet in JANET.
</I>&gt;<i>
</I>&gt;<i>In what way does the support library look like the Microsoft JScript
</I>&gt;<i>'helper' functions (or not at all yet?)
</I>
Not at all, yet.  I fear that extensive reverse engineering would be required to achieve this.

-- Steve


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="010950.html">[Mono-list] Re: Javascript and Mono
</A></li>
	<LI> Next message: <A HREF="010953.html">[Mono-list] Javascript and Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10951">[ date ]</a>
              <a href="thread.html#10951">[ thread ]</a>
              <a href="subject.html#10951">[ subject ]</a>
              <a href="author.html#10951">[ author ]</a>
         </LI>
       </UL>
</body></html>
