<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Help with calling monoresgen on new build Makefile.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:fxjrlists%40yahoo.com.br">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="016362.html">
   <LINK REL="Next"  HREF="016343.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Help with calling monoresgen on new build Makefile.
   </H1>
    <B>Francisco Figueiredo Jr.
    </B> 
    <A HREF="mailto:fxjrlists%40yahoo.com.br"
       TITLE="[Mono-list] Help with calling monoresgen on new build Makefile.">fxjrlists@yahoo.com.br
       </A><BR>
    <I>Mon, 13 Oct 2003 14:03:13 -0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="016362.html">[Mono-list] dynamic method building
</A></li>
        <LI> Next message: <A HREF="016343.html">[Mono-list] Shared memory sanity check failed?!?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16348">[ date ]</a>
              <a href="thread.html#16348">[ thread ]</a>
              <a href="subject.html#16348">[ subject ]</a>
              <a href="author.html#16348">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all.

I'd like some help to get monoresgen called before compiling Npgsql in 
Mono cvs.

The Npgsql Makefile includes some common make instructions which allowed 
me to compile Npgsql. But now, as it needs some resources compiled, I 
have to call monoresgen first...

So, I'd like to know where could I put the directive to call monoresgen 
before the mcs is called.

I can see in the ../../build/library.make the line which calls the mcs:

$(the_lib): $(makefrag) $(stampfile) $(response)
         $(CSCOMPILE) $(LIBRARY_FLAGS) $(LIB_MCS_FLAGS) /target:library 
/out:$@ @$(response)

and this is called by the all-local.

I saw in the ../../build/rules.make that I can override the default by 
defining the OVERRIDE_BARE_TARGETS.

This way, I could define my all target to call the monoresgen and later 
compile the library.

I tried it and it started to work. The only problem is how to compile 
the library.

If I try the following it works:

all: $(the_lib)

but how do I put the monoresgen call first?

If I put it like this:
all:
	monoresgen
	$(the_lib)

It doesn't work :(

As you already noticed I'm not very good with Makefiles, so any help 
will be appreciated.


Thanks in advance.

Francisco Figueiredo Jr.




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="016362.html">[Mono-list] dynamic method building
</A></li>
	<LI> Next message: <A HREF="016343.html">[Mono-list] Shared memory sanity check failed?!?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16348">[ date ]</a>
              <a href="thread.html#16348">[ thread ]</a>
              <a href="subject.html#16348">[ subject ]</a>
              <a href="author.html#16348">[ author ]</a>
         </LI>
       </UL>
</body></html>
