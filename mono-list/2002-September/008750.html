<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Test failure
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:crichton%40gimp.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="008749.html">
   <LINK REL="Next"  HREF="008751.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Test failure
   </H1>
    <B>Mark Crichton
    </B> 
    <A HREF="mailto:crichton%40gimp.org"
       TITLE="[Mono-list] Test failure">crichton@gimp.org
       </A><BR>
    <I>Mon, 30 Sep 2002 15:10:18 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="008749.html">[Mono-list] Test failure
</A></li>
        <LI> Next message: <A HREF="008751.html">[Mono-list] autogen.sh error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8750">[ date ]</a>
              <a href="thread.html#8750">[ thread ]</a>
              <a href="subject.html#8750">[ subject ]</a>
              <a href="author.html#8750">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--HeFlAV5LIbMFYYuh
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

* Ferguson, Neale (<A HREF="mailto:Neale.Ferguson@SoftwareAG-USA.com">Neale.Ferguson@SoftwareAG-USA.com</A>) [020930 14:50]:
&gt;<i> the mono_create_method_pointer code that tramp.c would emit?
</I>
Don't know, but let me compare with my results from Sparc.  The code is
probably the same.  Also, it might also highlight potential alignment
issues in mono, which I know are lethal on Sparc (don't know about
S/390).

&gt;<i> Testing exception6.exe... failed 2048 (8) signal (0).
</I>
I get the same exact error on Sparc.  If you look at the C# code for
exception6.cs, look for a &quot;return 8;&quot;, and that's where the code fails.

Why it fails I have no idea.

&gt;<i> Testing pinvoke2.exe... failed 34304 (134) signal (0).
</I>&gt;<i> Testing pinvoke3.exe... failed 34304 (134) signal (0).
</I>&gt;<i> Testing pinvoke4.exe... failed 34304 (134) signal (0).
</I>
You're catching a SIGTRAP.  For pinvoke2, I'm getting an error there
since I cannot handle MONO_TYPE_VALUETYPE where its size != 4.  This is
where PPC does some memcpy trickery.  I don't know if this would work
on Sparc or S/390.  It might.

pinvoke3 and 4 fail for me with error 255.  I've been told that is
somewhat normal, but I don't know why.  Lupus, can you explain that one
to me?

&gt;<i> Testing pinvoke6.exe... failed 65280 (255) signal (0).
</I>&gt;<i> Testing pinvoke7.exe... failed 65280 (255) signal (0).
</I>
See above.

&gt;<i> Testing pinvoke8.exe... failed 34304 (134) signal (0).
</I>
For me, I put an assert, since I cannot handle a value type as a return
value from a delegate.  No clue on how I'll fix that one.

&gt;<i> Testing cattr-object.exe... failed 512 (2) signal (0).
</I>
Passes for me.  Look at the source code for cattr-object.cs.  Why that
one isn't working, I have no idea.

&gt;<i> Testing jit-int.exe... failed 65280 (255) signal (0).
</I>
Fails for me as well.  No idea either.

&gt;<i> Testing appdomain2.exe... failed 1024 (4) signal (0).
</I>Failure here as well, but the error is 255.  Maybe you have a
trampoline problem there.

&gt;<i> Testing vararg.exe... failed 34304 (134) signal (0).
</I>
Check your vararg.exe.stdout.  See if you get a line:
** ERROR **: file loader.c: line 283 (method_from_memberref): should
not be reached

I get that as well, and this is another of the boggling bugs.

&gt;<i> Testing marshal2.exe... failed 256 (1) signal (0).
</I>&gt;<i> Testing marshal4.exe... failed 34304 (134) signal (0).
</I>&gt;<i> Testing thread5.exe... failed 256 (1) signal (0).
</I>&gt;<i> Testing thread6.exe... failed 35328 (138) signal (0).
</I>
I get failures here as well, mostly due to my trampoline code not being
able to handle strange size VALUETYPEs.  You might want to check to see
if that code works.

Mark

--HeFlAV5LIbMFYYuh
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (SunOS)
Comment: For info see <A HREF="http://www.gnupg.org">http://www.gnupg.org</A>

iEYEARECAAYFAj2YoZkACgkQOfj2Ja/u/oArkQCg2Hzmax7sNUwiIPFvISXogcHC
MB4An13IEfpSAktGOsxJrKbHp7R/iYOg
=z7/1
-----END PGP SIGNATURE-----

--HeFlAV5LIbMFYYuh--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="008749.html">[Mono-list] Test failure
</A></li>
	<LI> Next message: <A HREF="008751.html">[Mono-list] autogen.sh error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8750">[ date ]</a>
              <a href="thread.html#8750">[ thread ]</a>
              <a href="subject.html#8750">[ subject ]</a>
              <a href="author.html#8750">[ author ]</a>
         </LI>
       </UL>
</body></html>
