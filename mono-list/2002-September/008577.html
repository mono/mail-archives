<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Xsp + Postgres error!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:ccesario%40isic.com.br">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="008638.html">
   <LINK REL="Next"  HREF="008578.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Xsp + Postgres error!
   </H1>
    <B>ccesario
    </B> 
    <A HREF="mailto:ccesario%40isic.com.br"
       TITLE="[Mono-list] Xsp + Postgres error!">ccesario@isic.com.br
       </A><BR>
    <I>Sat, 21 Sep 2002 21:56:53 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="008638.html">[Mono-list] Some news about a CORBA ORB implementation for
 .Net framework
</A></li>
        <LI> Next message: <A HREF="008578.html">[Mono-list] Xsp + Postgres error!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8577">[ date ]</a>
              <a href="thread.html#8577">[ thread ]</a>
              <a href="subject.html#8577">[ subject ]</a>
              <a href="author.html#8577">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey friends,
   I'm trying to do a test using xsp + postgres and I ain't getting any 
results.
   I already tried several ways of doing it, mono doesn't show any errors, 
but I can't see any results either. I have the following table in Postgres: 

   Aluno
      id   int8
      nome varchar(30)
      nota float 

I tried the following code snippets: 

 ----------------------------------- 

&lt;%@ Page Language=&quot;C#&quot;  Debug=&quot;true&quot; %&gt;
&lt;%@ import namespace=&quot;System.Data&quot; %&gt;
&lt;%@ import namespace=&quot;System.Data.SqlClient&quot; %&gt;
&lt;html&gt;
&lt;script runat=&quot;server&quot; language=&quot;c#&quot;&gt; 

void Page_Load (object sender, EventArgs e)
{
   Response.Write(&quot;Holy crap&quot;);
   SqlConnection cnc = new SqlConnection();
   cnc.ConnectionString = &quot;Data Source=200.206.158.45:5432;User 
ID=ziral;Password=ziral;Initial Catalog=teste;&quot;;
   cnc.Open ();
   string selectCmd = &quot;SELECT * FROM aluno&quot;;
   SqlCommand selectCommand = cnc.CreateCommand();
   selectCommand.CommandText = selectCmd;
   SqlDataReader reader = selectCommand.ExecuteReader();
   while (reader.Read ()) {
       Response.Write (reader.GetString(0) + &quot;, &quot; + reader.GetString(1));
   }
   reader.Close();
   cnc.Close();
} 

&lt;/script&gt; 

&lt;head&gt;
&lt;title&gt;Some DB testing&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form runat=server&gt;
&lt;asp:label id=&quot;lbl1&quot; Text=&quot;No changed&quot; runat=&quot;server&quot;/&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt; 

 ------------------------------------------------------- 

&lt;%@ Page Language=&quot;C#&quot;  Debug=&quot;true&quot; %&gt;
&lt;%@ import namespace=&quot;System.Data&quot; %&gt;
&lt;%@ import namespace=&quot;System.Data.SqlClient&quot; %&gt;
&lt;html&gt;
&lt;script runat=&quot;server&quot; language=&quot;c#&quot;&gt;
       void Page_Load (object sender, EventArgs e)
       {
               SqlConnection cnc; 

               cnc = new SqlConnection ();
               string connectionString = &quot;hostaddr=200.206.158.45;&quot; +
                                         &quot;PORT=5432;&quot; +
                                         &quot;user=ziral;&quot; +
                                         &quot;password=ziral;&quot; +
                                         &quot;dbname=teste&quot;; 

               cnc.ConnectionString = connectionString;
               try {
                     cnc.Open ();
                     lbl1.Text = &quot;Connected: &quot;;
               } catch (Exception e2) {
                     lbl1.Text = &quot;The error was: &quot; + e2.Message;
               }
               IDbCommand selectCommand = cnc.CreateCommand();
               IDataReader reader;
               if (selectCommand == null)
                   lbl1.Text = &quot;Null&quot;;
                   else
                   lbl1.Text = &quot;Not Null&quot;; 

               string selectCmd = &quot;SELECT * FROM aluno&quot;;
               selectCommand.CommandText = selectCmd;
               reader = selectCommand.ExecuteReader ();
               lbl1.Text = &quot;Executed &quot;;
               while (reader.Read ()) {
               Response.Write (reader.GetString(0) + &quot;, &quot; + 
reader.GetString(1));
               }
               cnc.Close();
       } 

&lt;/script&gt; 

&lt;head&gt;
&lt;title&gt;Some DB testing&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form runat=server&gt;
&lt;asp:label id=&quot;lbl1&quot; Text=&quot;No changed&quot; runat=&quot;server&quot;/&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt; 

 ----------------------- 

The database is OK, I can use it via psql.
I think Page_Load event is not being fired
The page is located in this address <A HREF="http://200.206.158.45/db.aspx">http://200.206.158.45/db.aspx</A> 

 

Thanks in advance, 

Carlos Cesario


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="008638.html">[Mono-list] Some news about a CORBA ORB implementation for
 .Net framework
</A></li>
	<LI> Next message: <A HREF="008578.html">[Mono-list] Xsp + Postgres error!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8577">[ date ]</a>
              <a href="thread.html#8577">[ thread ]</a>
              <a href="subject.html#8577">[ subject ]</a>
              <a href="author.html#8577">[ author ]</a>
         </LI>
       </UL>
</body></html>
