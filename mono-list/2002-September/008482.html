<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] tool to convert  from CIL to Native file?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jonpryor%40vt.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="008481.html">
   <LINK REL="Next"  HREF="008429.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] tool to convert  from CIL to Native file?
   </H1>
    <B>Jonathan Pryor
    </B> 
    <A HREF="mailto:jonpryor%40vt.edu"
       TITLE="[Mono-list] tool to convert  from CIL to Native file?">jonpryor@vt.edu
       </A><BR>
    <I>19 Sep 2002 13:51:17 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="008481.html">[Mono-list] tool to convert  from CIL to Native file?
</A></li>
        <LI> Next message: <A HREF="008429.html">[Mono-list] Compile with Cygwin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8482">[ date ]</a>
              <a href="thread.html#8482">[ thread ]</a>
              <a href="subject.html#8482">[ subject ]</a>
              <a href="author.html#8482">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Your subject and your message body seem to have two different questions.

To answer the subject question, it is possible to convert CIL to a
native executable...with some restrictions.  Do a search for
``ngen.exe'' on google (which does the nearest equivalent on .NET) and
``ngen'' on the list archvies; Zoltan.2.Varga announced an ngen clone
back in July; see
<A HREF="http://lists.ximian.com/archives/public/mono-list/2002-July/001117.html">http://lists.ximian.com/archives/public/mono-list/2002-July/001117.html</A>
for the announcement.  Much discussion followed; it's by no means
perfect, but it's a start.

As for the question in your message body (native executable to CIL), it
might be possible.  Maybe.  I can certainly imagine that, for some
subset of programs, it would be possible to interpret the instruction
stream and transform the stream to CIL.  However, this would be for a
very limited subset of programs, as some programs require certain memory
layouts, interrupts, etc., that cannot be represented by CIL.  (A good
example of this would be a DOS program, which expects memory to be in
certain spots, and directly invokes interrupts for the DOS equivalent of
system calls.)  If a program never used interrupts, never directly used
hardware, and lots of other restrictions I'm sure I don't know, it might
be possible to convert it to CIL.

For example, it seams that it should be reasonable to take a C program
that only uses `printf' (dynamically linked to the program) to be
converted to CIL.  The compiler would only need to add a P/Invoke call
for `printf' (probably possible from the ELF header) and convert the
instruction stream.

Except that doing so would require that whatever platform the resulting
CIL code executed on had a library (libc.so) with the required export
(printf).  Meaning it couldn't work on .NET.

So, yes, it might be possible for some subset of programs, but it would
be very difficult,  and will not work as expected some (most?) of the
time.

Finally, no one (that I'm aware of) has started working on such a
thing.  The issues described above are probably why.

 - Jon

On Thu, 2002-09-19 at 10:56, mani gandan wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> any tool to convert CIL from native executable?
</I>&gt;<i> 
</I>&gt;<i> manigandan
</I>&gt;<i> 
</I>&gt;<i> __________________________________________________
</I>&gt;<i> Do you Yahoo!?
</I>&gt;<i> New DSL Internet Access from SBC &amp; Yahoo!
</I>&gt;<i> <A HREF="http://sbc.yahoo.com">http://sbc.yahoo.com</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@ximian.com">Mono-list@ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="008481.html">[Mono-list] tool to convert  from CIL to Native file?
</A></li>
	<LI> Next message: <A HREF="008429.html">[Mono-list] Compile with Cygwin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8482">[ date ]</a>
              <a href="thread.html#8482">[ thread ]</a>
              <a href="subject.html#8482">[ subject ]</a>
              <a href="author.html#8482">[ author ]</a>
         </LI>
       </UL>
</body></html>
