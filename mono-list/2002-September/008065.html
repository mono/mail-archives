<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] CIL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:miguel%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="008043.html">
   <LINK REL="Next"  HREF="008170.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] CIL
   </H1>
    <B>Miguel de Icaza
    </B> 
    <A HREF="mailto:miguel%40ximian.com"
       TITLE="[Mono-list] CIL">miguel@ximian.com
       </A><BR>
    <I>02 Sep 2002 13:48:13 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="008043.html">[Mono-list] CIL
</A></li>
        <LI> Next message: <A HREF="008170.html">[Mono-list] CIL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8065">[ date ]</a>
              <a href="thread.html#8065">[ thread ]</a>
              <a href="subject.html#8065">[ subject ]</a>
              <a href="author.html#8065">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

&gt;<i>  I am new to mono..Can anybody tell me what is the
</I>&gt;<i> intermediate language used in JIT? just like CVM byte
</I>&gt;<i> code in portable.NET??
</I>
There is no name for the intermediate language used by the Mono JIT, but
I can describe this for you.  

The Mono JIT &quot;hidrates&quot; the input stream of byte codes into a tree, so
things like: ldc.1 ldc.2 add become:

	    add
           /   \
         ldc.1 ldc.2

Not every node is translated to a node with the same name, multiple
simplifications happen at this level, you can see the list of node codes
in the x86.brg file (grep for %constant).

We take this opportunity to do some of the work in advance for the code
generation.  This means that the codes for the nodes in the tree are not
the same as the CIL opcodes.  For instance, the runtime would generate
special opcodes for object remoting, and replaces calls to Math.Sin with
a SIN opcode (which gets inlined as a floating point instruction).

Other nodes are internal implementation details used by the remoting

The higher level optimizations happen at this level.  The current ones:
constant folding, constant propagation and inlining, and in the future
we hope to have CSE implemented on this tree as well.

Once this is done, the tree is fed to the tree-pattern matching code
generator (the one generated by monoburg), registers are allocated,
possibly adding new nodes to spill/reload and finally the code is
generated.

Miguel.



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="008043.html">[Mono-list] CIL
</A></li>
	<LI> Next message: <A HREF="008170.html">[Mono-list] CIL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8065">[ date ]</a>
              <a href="thread.html#8065">[ thread ]</a>
              <a href="subject.html#8065">[ subject ]</a>
              <a href="author.html#8065">[ author ]</a>
         </LI>
       </UL>
</body></html>
