<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Pass arguments to executable generated by mkbundle
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.dot.net?Subject=Re%3A%20%5BMono-list%5D%20Pass%20arguments%20to%20executable%20generated%20by%20mkbundle&In-Reply-To=%3CCAFn2Jf%3D7np6jiKaz8OFfSKcX%2BVpobQozOKTwVE0KDYSTLBz%3Ddg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052287.html">
   <LINK REL="Next"  HREF="052290.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Pass arguments to executable generated by mkbundle</H1>
    <B>Samuel El-Borai</B> 
    <A HREF="mailto:mono-list%40lists.dot.net?Subject=Re%3A%20%5BMono-list%5D%20Pass%20arguments%20to%20executable%20generated%20by%20mkbundle&In-Reply-To=%3CCAFn2Jf%3D7np6jiKaz8OFfSKcX%2BVpobQozOKTwVE0KDYSTLBz%3Ddg%40mail.gmail.com%3E"
       TITLE="[Mono-list] Pass arguments to executable generated by mkbundle">samuel.elborai at gmail.com
       </A><BR>
    <I>Fri Nov  4 16:13:23 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052287.html">[Mono-list] Pass arguments to executable generated by mkbundle
</A></li>
        <LI>Next message (by thread): <A HREF="052290.html">[Mono-list] xbuild and relative paths
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52289">[ date ]</a>
              <a href="thread.html#52289">[ thread ]</a>
              <a href="subject.html#52289">[ subject ]</a>
              <a href="author.html#52289">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oh, great. Thank you Miguel.
I’ll take some time this weekend to try your patch.

Regards,
Samuel El-Borai

On 3 November 2016 at 04:26:15, Miguel de Icaza (<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">miguel at microsoft.com</A>)
wrote:

Hello,



I have submitted a fix to master and the mono-4.8.0-branch, in the
meantime, you can get it by applying this patch locally:



<A HREF="https://github.com/migueldeicaza/mono/commit/7b7bf15980788b95098fac95825f25f8c9867e92.patch">https://github.com/migueldeicaza/mono/commit/7b7bf15980788b95098fac95825f25f8c9867e92.patch</A>



Miguel.



*From: *Mono-list &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">mono-list-bounces at lists.dot.net</A>&gt; on behalf of Samuel
El-Borai &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">samuel.elborai at gmail.com</A>&gt;
*Date: *Sunday, October 30, 2016 at 9:19 AM
*To: *&quot;<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">mono-list at lists.dot.net</A>&quot; &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">mono-list at lists.dot.net</A>&gt;
*Subject: *[Mono-list] Pass arguments to executable generated by mkbundle



Hi the mailing list,

I’m trying to use mkbundle to generate a single file executable for my
project. It works great so far but I cannot find a way to pass arguments to
my program.

I’m using it like this:

1 - Compile my project via Xamarin studio

2 - Merge assemblies into a single assembly with ILRepack
&lt;<A HREF="https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fgluck%2Fil-repack&amp;data=02%7C01%7Cmiguel%40microsoft.com%7C0966830656764d37d78908d400c76131%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636134303711813038&amp;sdata=NSaKb9Y4MuyiPoAqwSTYnMp4X88nlGBx6SFoNey4IAE%3D&amp;reserved=0">https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fgluck%2Fil-repack&amp;data=02%7C01%7Cmiguel%40microsoft.com%7C0966830656764d37d78908d400c76131%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636134303711813038&amp;sdata=NSaKb9Y4MuyiPoAqwSTYnMp4X88nlGBx6SFoNey4IAE%3D&amp;reserved=0</A>&gt;

$ mono ~/.config/NuGet/packages/ILRepack.2.0.12/tools/ILRepack.exe
/internalize /parallel /targetplatform:v4 /verbose /out:myapp
MyApp.exe *.dll

3 - Create a bundle containing my assembly and the mono runtime

$ mkbundle --simple --cross 4.6.1-linux-libc2.12-amd64 -o myapp_out ./myapp

At this point I can run ./myapp_out and it works. But when I try to pass
arguments I have an error:

# I run the app without arguments, it works as expected

$ ./myapp_out

c-Found: config:myapp 8f1000

ERROR: missing parameter '--keys'.

USAGE: myapp [--help] --keys [&lt;KEYS&gt;...]



OPTIONS:



    --keys [&lt;KEYS&gt;…]    Keys to process

    --help                display this list of options.



# I try to run it with an argument, it fails

$ ./myapp_out --keys test_key

c-Found: config:myapp 8f1000

Unknown command line option: '--keys'



# If I run it with `--help` I get the help from `mono`

$ ./myapp_out --help

Usage is: mono [options] program [program-options]



Development:

    --aot[=&lt;options&gt;]      Compiles the assembly to native code

    --debug[=&lt;options&gt;]    Enable debugging support, use --help-debug
for details

    --debugger-agent=options Enable the debugger agent

    --profile[=profiler]   Runs in profiling mode with the specified
profiler module

    --trace[=EXPR]         Enable tracing, use --help-trace for details

    --jitmap               Output a jit method map to /tmp/perf-PID.map

    --help-devel           Shows more options available to developers



Runtime:

    --config FILE          Loads FILE as the Mono config

    --verbose, -v          Increases the verbosity level

    --help, -h             Show usage information

    --version, -V          Show version information

    --runtime=VERSION      Use the VERSION runtime, instead of autodetecting

    --optimize=OPT         Turns on or off a specific optimization

                           Use --list-opt to get a list of optimizations

    --security[=mode]      Turns on the unsupported security manager
(off by default)

                           mode is one of cas, core-clr, verifiable or validil

    --attach=OPTIONS       Pass OPTIONS to the attach agent in the runtime.

                           Currently the only supported option is 'disable'.

    --llvm, --nollvm       Controls whenever the runtime uses LLVM to
compile code.

    --gc=[sgen,boehm]      Select SGen or Boehm GC (runs mono or mono-sgen)

    --arch=[32,64]         Select architecture (runs mono32 or mono64)

Any guidance would be appreciated.

Cheers,

Samuel El-Borai
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/mono-list/attachments/20161104/efa301d8/attachment.html">http://lists.dot.net/pipermail/mono-list/attachments/20161104/efa301d8/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052287.html">[Mono-list] Pass arguments to executable generated by mkbundle
</A></li>
	<LI>Next message (by thread): <A HREF="052290.html">[Mono-list] xbuild and relative paths
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52289">[ date ]</a>
              <a href="thread.html#52289">[ thread ]</a>
              <a href="subject.html#52289">[ subject ]</a>
              <a href="author.html#52289">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
