<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mod-mono-server and connections timeout
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20mod-mono-server%20and%20connections%20timeout&In-Reply-To=%3C4FD915DC.5090704%40yandex.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="048628.html">
   <LINK REL="Next"  HREF="048633.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mod-mono-server and connections timeout</H1>
    <B>Maxim</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20mod-mono-server%20and%20connections%20timeout&In-Reply-To=%3C4FD915DC.5090704%40yandex.ru%3E"
       TITLE="[Mono-list] mod-mono-server and connections timeout">makska at yandex.ru
       </A><BR>
    <I>Wed Jun 13 22:36:12 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="048628.html">[Mono-list] [ANN] Announcing NAnt/NAntContrib 0.92 Final Release
</A></li>
        <LI>Next message: <A HREF="048633.html">[Mono-list] mod-mono-server and connections timeout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48629">[ date ]</a>
              <a href="thread.html#48629">[ thread ]</a>
              <a href="subject.html#48629">[ subject ]</a>
              <a href="author.html#48629">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello!

I'm using Apache &amp; mod_mono for hosting asp.net websites on Linux.
I've got some issues with a lot of unclosed incoming connections to websites.

For example in mono control panel 127.0.0.1/mono I usually see something like this:
-256 1339625143s 
/WebResource.axd?d=f062e94de8eb55dfd348fcbdf5a74c47&amp;t=634442908600000000
or
11551 4453s /index.aspx?url=/components/codeLT-LT/754.html

But in Apache settings:
Timeout 180
KeepAliveTimeout 5

In global mono/etc/2.0/web.config
httpRuntime executionTimeout=&quot;120&quot;

cat /proc/sys/net/ipv4/tcp_keepalive_time
3600

So, where is &quot;1339625143s&quot; and how could I set incoming connections timeout for 
dropping &quot;long&quot; connections?

I highly appreciate any info!

# mono -V
Mono JIT compiler version 2.6.4 (tarball Wed Jun 22 01:43:35 MSD 2011)
Copyright (C) 2002-2010 Novell, Inc and Contributors. www.mono-project.com
     TLS:           __thread
     GC:            Included Boehm (with typed GC and Parallel Mark)
     SIGSEGV:       altstack
     Notifications: epoll
     Architecture:  amd64
     Disabled:      none

# uname -a
Linux myserver.com 2.6.32-131.12.1.el6.x86_64 #1 SMP Tue Aug 23 11:13:45 CDT 
2011 x86_64 x86_64 x86_64 GNU/Linux

# httpd -V
Server version: Apache/2.2.19 (Unix)
Server built:   Jun 13 2011 12:02:48
Server's Module Magic Number: 20051115:28
Server loaded:  APR 1.3.9, APR-Util 1.3.9
Compiled using: APR 1.3.9, APR-Util 1.3.9
Architecture:   64-bit
Server MPM:     Prefork
   threaded:     no
     forked:     yes (variable process count)


With best wishes,
Max Karavaev
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="048628.html">[Mono-list] [ANN] Announcing NAnt/NAntContrib 0.92 Final Release
</A></li>
	<LI>Next message: <A HREF="048633.html">[Mono-list] mod-mono-server and connections timeout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48629">[ date ]</a>
              <a href="thread.html#48629">[ thread ]</a>
              <a href="subject.html#48629">[ subject ]</a>
              <a href="author.html#48629">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
