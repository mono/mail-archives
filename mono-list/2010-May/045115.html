<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] howto debug cpu leak from commandline?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20howto%20debug%20cpu%20leak%20from%20commandline%3F&In-Reply-To=9A9DAF522D579B4F9050AAB674DFDE6001910A35A981%40svex.intern.rantek.dk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045108.html">
   <LINK REL="Next"  HREF="045110.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] howto debug cpu leak from commandline?</H1>
    <B>Christopher David Howie</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20howto%20debug%20cpu%20leak%20from%20commandline%3F&In-Reply-To=9A9DAF522D579B4F9050AAB674DFDE6001910A35A981%40svex.intern.rantek.dk"
       TITLE="[Mono-list] howto debug cpu leak from commandline?">me at chrishowie.com
       </A><BR>
    <I>Tue May 11 13:39:26 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="045108.html">[Mono-list] howto debug cpu leak from commandline?
</A></li>
        <LI>Next message: <A HREF="045110.html">[Mono-list] Visual Studio debugging on CentOS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45115">[ date ]</a>
              <a href="thread.html#45115">[ thread ]</a>
              <a href="subject.html#45115">[ subject ]</a>
              <a href="author.html#45115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 05/11/2010 03:37 AM, Esben Laursen wrote:
&gt;<i> I have a program that collects some syslog information and analyzes
</I>&gt;<i> that. My problem is that suddenly it consumes all cpu cores 100% This
</I>&gt;<i> happens from time to time sometime after 10 minutes some after
</I>&gt;<i> 12hours. My problem is that I develop in VS2008 and run the software
</I>&gt;<i> primarily on Linux using mono. I have not yet seen it fail in
</I>&gt;<i> Windows, but that might just be a coincidence.
</I>&gt;<i> 
</I>&gt;<i> So is there any way I can debug this on the Linux system, I have used
</I>&gt;<i> dotTrace in Windows and that was great, is there a similar tool for
</I>&gt;<i> mono?
</I>
I have not used dotTrace, but I know that the mono runtime has a --trace
option that might be useful.  Note that it will spew a LOT of output, so
you might want to run it like so:

mono --trace --debug yourapp.exe 2&gt;&amp;1 | bzip2 &gt; yourapp.log.bz2

Note that this will show no output on the console; it will all go into
the log file, together with the trace output.

Then when the application hangs, kill the mono process so that bzip2 can
clean up.  Then to view the log:

bzip2 -d -c yourapp.log.bz2 | less

Hit &quot;end&quot; and poke around to see what it was up to when you killed it.

-- 
Chris Howie
<A HREF="http://www.chrishowie.com">http://www.chrishowie.com</A>
<A HREF="http://en.wikipedia.org/wiki/User:Crazycomputers">http://en.wikipedia.org/wiki/User:Crazycomputers</A>

PGP key:

pub   2048R/CF8338F5 2010-04-14
      Fingerprint: 2B7A B280 8B12 21CC 260A  DF65 6FCE 505A CF83 38F5
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045108.html">[Mono-list] howto debug cpu leak from commandline?
</A></li>
	<LI>Next message: <A HREF="045110.html">[Mono-list] Visual Studio debugging on CentOS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45115">[ date ]</a>
              <a href="thread.html#45115">[ thread ]</a>
              <a href="subject.html#45115">[ subject ]</a>
              <a href="author.html#45115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
