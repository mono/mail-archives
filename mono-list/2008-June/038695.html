<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Can SignedCms be usable?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Can%20SignedCms%20be%20usable%3F&In-Reply-To=1212495325.2826.69.camel%40poupou.home">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038693.html">
   <LINK REL="Next"  HREF="038697.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Can SignedCms be usable?</H1>
    <B>Mathias Tausig</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Can%20SignedCms%20be%20usable%3F&In-Reply-To=1212495325.2826.69.camel%40poupou.home"
       TITLE="[Mono-list] Can SignedCms be usable?">mtausig at fsmat.at
       </A><BR>
    <I>Tue Jun  3 09:27:19 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="038693.html">[Mono-list] Can SignedCms be usable?
</A></li>
        <LI>Next message: <A HREF="038697.html">[Mono-list] Can SignedCms be usable?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38695">[ date ]</a>
              <a href="thread.html#38695">[ thread ]</a>
              <a href="subject.html#38695">[ subject ]</a>
              <a href="author.html#38695">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> On Tue, 2008-06-03 at 10:34 +0200, Mathias Tausig wrote:
</I>&gt;&gt;<i> &gt;&gt; unless you know the details of the private
</I>&gt;&gt;<i> &gt;&gt; key?
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; No sure if I understand your meaning. Windows tends to &quot;hide&quot; the
</I>&gt;&gt;<i> &gt; private keys (in it's stores) from the users. However there's nothing
</I>&gt;&gt;<i> &gt; you can do, with them, unless you know their &quot;details&quot; (i.e. at least
</I>&gt;&gt;<i> &gt; how to access or use, not necessarily read, it).
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What I mean is, that it obviously only works with software keys but not
</I>&gt;&gt;<i> with hardware tokens (which can be used via an overloaded
</I>&gt;&gt;<i> AsymetricAlgorithm class in SignedXml).
</I>&gt;<i>
</I>&gt;<i> What is the basis of this &quot;obvious&quot; assertion ? The API is identical so
</I>&gt;<i> it should[1] work with either software or hardware[2] based crypto.
</I>&gt;<i> However your job may be a bit more complex if your hardware does not
</I>&gt;<i> provide the same level of functionality as the API requires.
</I>
I've looked through some code samples and the msdn articles on the Cms
classes and that lead me to the assumption the code uses windows specific
stuff (windows certificate store, installed CSPs) to get hold of the
private key which makes it impossible for me to use it non non-windows
systems with a smartcard.

&gt;<i>
</I>&gt;<i> [1] it's a bit more complex under MS implementation since the [RSA|
</I>&gt;<i> DSA]CryptoServiceProvider are special cases that do not play well with
</I>&gt;<i> other, more general, classes. A possible solution is to supply a native
</I>&gt;<i> CSP and use the *CryptoServiceProvider to access it (but that won't work
</I>&gt;<i> on Mono).
</I>
I guess that writing my own CSP is not really an option, especially since
I want a portable program.

&gt;<i> [2] some hardware, like smartcards, have limitations that does not fit
</I>&gt;<i> well with (most) cryptographic API. E.g. some will do the padding
</I>&gt;<i> themselves and that, in the .NET framework case, will require you to
</I>&gt;<i> provider your own [Def|F]ormatter classes.
</I>&gt;<i>
</I>&gt;<i> Sebastien
</I>&gt;<i>
</I>&gt;<i> p.s. you jumped from SignedCms to SignedXml ;-)
</I>&gt;<i>
</I> On Purpose. I just wanted to state, that what I want to worked for me for
SignedXml (by deriving from RSA, and with your help, of course :-) ) but
does not seem to work for PKCS#7 signatures, at least wast of windows ...

cheers
Mathias


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038693.html">[Mono-list] Can SignedCms be usable?
</A></li>
	<LI>Next message: <A HREF="038697.html">[Mono-list] Can SignedCms be usable?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38695">[ date ]</a>
              <a href="thread.html#38695">[ thread ]</a>
              <a href="subject.html#38695">[ subject ]</a>
              <a href="author.html#38695">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
