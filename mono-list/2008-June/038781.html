<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] understanding heap-buddy output
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20understanding%20heap-buddy%20output&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038794.html">
   <LINK REL="Next"  HREF="038785.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] understanding heap-buddy output</H1>
    <B>Sean Dague</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20understanding%20heap-buddy%20output&In-Reply-To="
       TITLE="[Mono-list] understanding heap-buddy output">sean at dague.net
       </A><BR>
    <I>Fri Jun  6 15:14:56 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="038794.html">[Mono-list] how to call a mono graphical app on windows without	a terminal being shown?
</A></li>
        <LI>Next message: <A HREF="038785.html">[Mono-list] ADO.NET misunderstanding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38781">[ date ]</a>
              <a href="thread.html#38781">[ thread ]</a>
              <a href="subject.html#38781">[ subject ]</a>
              <a href="author.html#38781">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We're trying to figure out why OpenSim (<A HREF="http://opensimulator.org">http://opensimulator.org</A>) takes
many times as much memory to run on Mono as .NET.  As part of that we've
gotten someone run heap-buddy on one of the busier regions on
<A HREF="http://osgrid.org.">http://osgrid.org.</A>  We got a crash early on, but got some data out of
heap buddy.  It does sort of confuse me though, and any help would be
appreciated in understanding the first couple of lines, as unless that
is just some odd artifact, that seems very bad:

                  Type                      #     Total    AvSz  AvAge BT#
System.ComponentMo...hangedEventHandler 32020768 1587.9M    52.0   0.1 649
System.ComponentMo...ChangeEventHandler 32012000 1587.5M    52.0   0.1 5
                                 string  9910548  759.8M    80.4   3.3 8229
OpenSim.Region.Env...r/OnBackupDelegate  2229214  110.5M    52.0   0.0 4
                                  int[]    82657   47.3M   600.1  63.8 4029
                               object[]   171957   33.3M   203.0  26.0 7500
                                 byte[]   686457   22.6M    34.5  11.6 993
                                 char[]   678077   21.5M    33.3   0.1 1529
                                 double   835002   12.7M    16.0   1.3 69
                                 uint[]    82166   11.2M   142.4   5.9 56
System.Collections...t/SimpleEnumerator   415279    9.5M    24.0   0.0 1557
                                    int   813089    9.3M    12.0   0.5 1047
OpenSim.Region.Phy...ager.PhysicsVector   485803    9.3M    20.0   3.4 207
                        System.MonoType   171790    6.7M    40.9   3.9 924
                                 Vertex   326340    6.2M    20.0   0.5 355
 OpenSim.Region.Physics.Meshing.Simplex   289228    4.4M    16.0   0.0 106
                 libsecondlife.LLUUID[]    20592    4.4M   222.8 165.8 81
OpenSim.Region.Phy....Meshing.Simplex[]    86840    4.3M    52.1   0.0 51
OpenSim.Region.Env...es.SceneObjectPart     8000    4.2M   544.0 152.1 2
                               double[]      285    4.0M 14653.8  30.4 75
                               Triangle   127472    3.9M    32.0   2.8 46
                               single[]     1356    3.8M  2947.9   7.4 21
                    System.Data.DataRow    60993    3.3M    56.0  70.3 35
     System.Data.DataRowChangeEventArgs   211968    3.2M    16.0   0.0 132
                                   long   169468    2.6M    16.0   1.8 13

(skipped 1385 types)
-- 
__________________________________________________________________

Sean Dague                                       Mid-Hudson Valley
sean at dague dot net                            Linux Users Group
<A HREF="http://dague.net">http://dague.net</A>                                 <A HREF="http://mhvlug.org">http://mhvlug.org</A>

There is no silver bullet.  Plus, werewolves make better neighbors
than zombies, and they tend to keep the vampire population down.
__________________________________________________________________
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20080606/ff69a2ed/attachment.bin">http://lists.ximian.com/pipermail/mono-list/attachments/20080606/ff69a2ed/attachment.bin</A> 
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038794.html">[Mono-list] how to call a mono graphical app on windows without	a terminal being shown?
</A></li>
	<LI>Next message: <A HREF="038785.html">[Mono-list] ADO.NET misunderstanding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38781">[ date ]</a>
              <a href="thread.html#38781">[ thread ]</a>
              <a href="subject.html#38781">[ subject ]</a>
              <a href="author.html#38781">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
