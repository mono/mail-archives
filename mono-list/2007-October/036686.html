<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Unable to set up reliable hosting on Mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Unable%20to%20set%20up%20reliable%20hosting%20on%20Mono&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036685.html">
   <LINK REL="Next"  HREF="036694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Unable to set up reliable hosting on Mono</H1>
    <B>Maxim Karavaev</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Unable%20to%20set%20up%20reliable%20hosting%20on%20Mono&In-Reply-To="
       TITLE="[Mono-list] Unable to set up reliable hosting on Mono">makska at yandex.ru
       </A><BR>
    <I>Thu Oct 25 09:47:02 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="036685.html">[Mono-list] Unable to get mono working with Apache
</A></li>
        <LI>Next message: <A HREF="036694.html">[Mono-list] Unable to set up reliable hosting on Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36686">[ date ]</a>
              <a href="thread.html#36686">[ thread ]</a>
              <a href="subject.html#36686">[ subject ]</a>
              <a href="author.html#36686">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello!

For about several monhts we are tying to set up hosting on Mono (mono 1.2.5.1, Apache 2.2 on Gentoo i386).

We've got a lot of difficulties that we can't solve. Some or all web-sites on mono become buzz at least one time per two days.
We can't submit a bug to Bugzilla because these errors are unrepeatable and we haven't so many time to find it, so we can't write test cases for it. They just occausly happen without any evident reasons.

1) When heavy web-application is running (for example with a dozens of threads), it become buzz in several minutes or hours, leaving in logs exceptions like:
System.IO.EndOfStreamException: Failed to read past end of stream.
  at System.IO.BinaryReader.ReadByte () [0x00000]
  at Mono.WebServer.ModMonoRequest.GetInitialData () [0x00000]
  at Mono.WebServer.ModMonoRequest..ctor (System.Net.Sockets.NetworkStream ns) [0x00000]
  at Mono.WebServer.RequestReader..ctor (System.Net.Sockets.NetworkStream ns) [0x00000]
  at Mono.WebServer.ModMonoWorker.InnerRun (System.Object state) [0x00000]
  at Mono.WebServer.ModMonoWorker.Run (System.Object state) [0x00000]

This exception happen occausaly, but when web-app become buzz, there are a lot of it in logs.


2) Other exception like
** ERROR **: file domain.c: line 178 (mono_jit_info_table_find): assertion failed: (ret == 0)
aborting...
** (process:22358): ERROR (recursed) **: file domain.c: line 178 (mono_jit_info_table_find): assertion failed: (ret == 0)
aborting...

happen usually when we try to restart some web-sites (via mono-ctrl panel) or whole apache.



After both these exceptions we should &quot;kill&quot; several buzz mono processes to get web-server running again.


3) We don't know how to change default permissions of new files created by mono web-app. We can't do it by setting MonoUnixUmask. Is there any examples how to do it?


Are there any ways to solve these difficulties, or the only one solutions is return to Windows?
Or maybe anyone have such expirience setting up mass hosting on Mono and could give some recommendation to community?


Thanks a lot for your time!

Best wishes,
Maxim Karavaev
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036685.html">[Mono-list] Unable to get mono working with Apache
</A></li>
	<LI>Next message: <A HREF="036694.html">[Mono-list] Unable to set up reliable hosting on Mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36686">[ date ]</a>
              <a href="thread.html#36686">[ thread ]</a>
              <a href="subject.html#36686">[ subject ]</a>
              <a href="author.html#36686">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
