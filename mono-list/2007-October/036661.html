<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] TypeInitializationException in ComponentModel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20TypeInitializationException%20in%20ComponentModel&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036655.html">
   <LINK REL="Next"  HREF="036647.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] TypeInitializationException in ComponentModel</H1>
    <B>Andrus</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20TypeInitializationException%20in%20ComponentModel&In-Reply-To="
       TITLE="[Mono-list] TypeInitializationException in ComponentModel">kobruleht2 at hot.ee
       </A><BR>
    <I>Tue Oct 23 09:56:11 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="036655.html">[Mono-list] TypeInitializationException in ComponentModel
</A></li>
        <LI>Next message: <A HREF="036647.html">[Mono-list] Problem with GtkWindow.Deletable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36661">[ date ]</a>
              <a href="thread.html#36661">[ thread ]</a>
              <a href="subject.html#36661">[ subject ]</a>
              <a href="author.html#36661">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> TypeDescriptors and properties added to types at
</I>&gt;<i> runtime are highly unrelated features. You don't really
</I>&gt;<i> add properties to types using TypeDescriptors. Properties
</I>&gt;<i> added this way are only visible to UI Designers and other
</I>&gt;<i> components that explicitly deal with TypeDescriptors (like
</I>&gt;<i> PropertyGrid, IIRC).
</I>&gt;<i>
</I>&gt;<i> If you really meant this kind of extension, you could
</I>&gt;<i> implement ICustomTypeDescriptor. It's slightly more work
</I>&gt;<i> than using the new TypeDescriptionProvider, but it's at
</I>&gt;<i> least possible.
</I>
Marc Gravell reply:

Actually, TypeDescriptionProvider is the 2.0 *extension* to
ICustomTypeDescriptor, allowing for separation of concerns between the
entity class and the class dealing with how to represent it - and
allowing for type-centric (rather than instance-centric) rules. Any
code that supports ICustomTypeDescriptor would *typically* be using
TypeDescriptor.GetProperties(), which supports both
ICustomTypeDescriptor and TypeDesriptionProvider (and indeed, regular
reflection).

If mono has an implementation that works for ICustomTypeDescriptor,
but fails for TypeDescriptionProvider, then I suggest that the mono
support for TypeDescriptionProvider is flawed, as it has failed in its
primary aim.

Generally, in (non mono) .NET code, the core binding code worries
about all of this for you - in particular via the route:

BindingContext -&gt; BindingManagerBase -&gt; GetItemProperties()

Equally, the behind-the-scenes binding code deals with *other* models,
such as ITypedList (which *also* has a GetItemProperties() method).
And the consumer shouldn't have to worry themselves about any of it.

PropertyGrid (which you cited) is an exception to most rules, in that
(for building the tree) it is more worried about what the
TypeConverter has to say (via GetProperties()) - but note that for
simple implementations (like ExandableObjectConverter) it simply uses
TypeDescriptor.GetProperties(), so again the ICustomTypeDescriptor and
TypeDescriptionProvider rules are observed.


As I understand from this ICustomTypeDescriptor cannot also be used to 
implement dynamic properties since it has the same issues as TypeDescrptor.

So only way to add dynamic properties to objects which gets populated from 
database by nhiberante is to use dynamic compilation ?

Andrus. 

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036655.html">[Mono-list] TypeInitializationException in ComponentModel
</A></li>
	<LI>Next message: <A HREF="036647.html">[Mono-list] Problem with GtkWindow.Deletable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36661">[ date ]</a>
              <a href="thread.html#36661">[ thread ]</a>
              <a href="subject.html#36661">[ subject ]</a>
              <a href="author.html#36661">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
