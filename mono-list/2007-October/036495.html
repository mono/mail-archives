<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] DateTime.ToBinary and DateTime.FromBinary not	compatible with .NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20DateTime.ToBinary%20and%20DateTime.FromBinary%20not%0A%09compatible%20with%20.NET&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036494.html">
   <LINK REL="Next"  HREF="036496.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] DateTime.ToBinary and DateTime.FromBinary not	compatible with .NET</H1>
    <B>Jonathan Gagnon</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20DateTime.ToBinary%20and%20DateTime.FromBinary%20not%0A%09compatible%20with%20.NET&In-Reply-To="
       TITLE="[Mono-list] DateTime.ToBinary and DateTime.FromBinary not	compatible with .NET">jonathan.gagnon at croesus.com
       </A><BR>
    <I>Mon Oct  1 15:10:39 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="036494.html">[Mono-list] System.Drawing vs Gtk# - Performance
</A></li>
        <LI>Next message: <A HREF="036496.html">[Mono-list] DateTime.ToBinary and DateTime.FromBinary not compatible with .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36495">[ date ]</a>
              <a href="thread.html#36495">[ thread ]</a>
              <a href="subject.html#36495">[ subject ]</a>
              <a href="author.html#36495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to serialize a DateTime and ensure that it is serialized in a
time zone independant way, so that I can deserialize it anywhere and that it
still represents the same point in time.  I'm using the methods
DateTime.ToBinary and DateTime.FromBinary to do that.  In .NET, it is
working properly, but in mono, dates that are of the DateTimeKind.Local are
not deserialized properly.  
 
When serializing a DateTime that is identified as local, .NET converts the
ticks in UTC, so that when it is time to deserialize it, they can convert it
back using the local machine settings and have a DateTime that identifies
the same point in time.  Mono doesn't do any conversion, and there is no way
to know what is the TimeZone of the serialized date, so I don't think it is
correct.  This also makes mono's implementation incompatible with .NET.
 
Should I file a bug about this issue?
 
Jonathan Gagnon
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20071001/7cfe593c/attachment-0001.html">http://lists.ximian.com/pipermail/mono-list/attachments/20071001/7cfe593c/attachment-0001.html</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036494.html">[Mono-list] System.Drawing vs Gtk# - Performance
</A></li>
	<LI>Next message: <A HREF="036496.html">[Mono-list] DateTime.ToBinary and DateTime.FromBinary not compatible with .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36495">[ date ]</a>
              <a href="thread.html#36495">[ thread ]</a>
              <a href="subject.html#36495">[ subject ]</a>
              <a href="author.html#36495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
