<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] UTF-16 and XmlTextReader questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20UTF-16%20and%20XmlTextReader%20questions&In-Reply-To=1122661770.7668.43.camel%40norrell">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027986.html">
   <LINK REL="Next"  HREF="027984.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] UTF-16 and XmlTextReader questions</H1>
    <B>Brion Vibber</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20UTF-16%20and%20XmlTextReader%20questions&In-Reply-To=1122661770.7668.43.camel%40norrell"
       TITLE="[Mono-list] UTF-16 and XmlTextReader questions">brion at pobox.com
       </A><BR>
    <I>Fri Jul 29 18:26:33 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="027986.html">[Mono-list] UTF-16 and XmlTextReader questions
</A></li>
        <LI>Next message: <A HREF="027984.html">[Mono-list] new to mono Need help configuring - slackware 10
	solution.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27987">[ date ]</a>
              <a href="thread.html#27987">[ thread ]</a>
              <a href="subject.html#27987">[ subject ]</a>
              <a href="author.html#27987">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Fran&#231;ois Garillot wrote:
&gt;<i> OK. I work from this basefile :
</I>&gt;<i> &lt;test&gt;&#225;&lt;/test&gt;
</I>&gt;<i> hexdump:
</I>&gt;<i> 0000000 743c 7365 3e74 3ce1 742f 7365 3e74
</I>
This file does not appear to be UTF-16 at all; it appears to be in an
8-bit encoding, ISO 8859-1. In that encoding it is meaningful XML.

&gt;<i> I take the base file again and run 'iconv -f utf-16 -t utf-16' on it.
</I>&gt;<i> I get :
</I>&gt;<i> &#255;&#254;&lt;test&gt;&#225;&lt;/test&gt;
</I>&gt;<i>
</I>&gt;<i> hexdump:
</I>&gt;<i> 0000000 feff 743c 7365 3e74 3ce1 742f 7365 3e74
</I>
This file, interpreted as UTF-16, reads as a series of Han characters:
&quot;&#29756;&#29541;&#15988;&#15585;&#29743;&#29541;&#15988;&quot;. It doesn't contain any document element, so is
interpreted as a text node which is illegal outside of an element:

&gt;<i> Unhandled Exception: System.Xml.XmlException: Text node cannot appear in
</I>&gt;<i> this state. <A HREF="file://test.xml">file://test.xml</A> Line 1, position 1.
</I>&gt;<i> in &lt;0x001ee&gt; System.Xml.XmlTextReader:ReadText (Boolean notWhitespace)
</I>&gt;<i> in &lt;0x00186&gt; System.Xml.XmlTextReader:ReadContent ()
</I>&gt;<i> in &lt;0x0011f&gt; System.Xml.XmlTextReader:Read ()
</I>&gt;<i> in &lt;0x00071&gt; test:Main ()
</I>
-- brion vibber (brion @ pobox.com)
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 253 bytes
Desc: OpenPGP digital signature
Url : <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20050730/095e7a06/signature.bin">http://lists.ximian.com/pipermail/mono-list/attachments/20050730/095e7a06/signature.bin</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027986.html">[Mono-list] UTF-16 and XmlTextReader questions
</A></li>
	<LI>Next message: <A HREF="027984.html">[Mono-list] new to mono Need help configuring - slackware 10
	solution.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27987">[ date ]</a>
              <a href="thread.html#27987">[ thread ]</a>
              <a href="subject.html#27987">[ subject ]</a>
              <a href="author.html#27987">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
