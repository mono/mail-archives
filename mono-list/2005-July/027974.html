<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Mono and Win32 fibers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono%20and%20Win32%20fibers&In-Reply-To=20050729025138.25898.qmail%40web81008.mail.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027964.html">
   <LINK REL="Next"  HREF="027975.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Mono and Win32 fibers</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Mono%20and%20Win32%20fibers&In-Reply-To=20050729025138.25898.qmail%40web81008.mail.yahoo.com"
       TITLE="[Mono-list] Mono and Win32 fibers">jonpryor at vt.edu
       </A><BR>
    <I>Fri Jul 29 06:51:57 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="027964.html">[Mono-list] Mono and Win32 fibers
</A></li>
        <LI>Next message: <A HREF="027975.html">[Mono-list] Mono and Win32 fibers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27974">[ date ]</a>
              <a href="thread.html#27974">[ thread ]</a>
              <a href="subject.html#27974">[ subject ]</a>
              <a href="author.html#27974">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2005-07-28 at 19:51 -0700, Bruce Wilkie wrote:
&gt;<i> has anyone gotten this to work?  I'd love tips. 
</I>&gt;<i> Currently, using Mono with fibers (embedding in a
</I>&gt;<i> Win32 app) will crash when executing managed code from
</I>&gt;<i> the fiberproc.
</I>
It's unlikely to ever work.  Please read the &quot;Dire warnings about
fibers&quot; section at:

	<A HREF="http://blogs.msdn.com/oldnewthing/archive/2004/12/31/344799.aspx">http://blogs.msdn.com/oldnewthing/archive/2004/12/31/344799.aspx</A>

See also:

	<A HREF="http://blogs.msdn.com/larryosterman/arcihve/2005/01/05/347314.aspx">http://blogs.msdn.com/larryosterman/arcihve/2005/01/05/347314.aspx</A>

In short, 
 1. You can't use Fibers from a shared library
 2. You can't use Exceptions (meaning you can't use any of the standard 
    class library)
 3. You can't use any APIs which have thread affinity (meaning you can't
    use most of the class library or Win32)
 4. All your code must be &quot;fiber safe&quot; -- a level of safety even beyond
    thread safety.

I believe it's similarly difficult/impossible to use Fibers from .NET,
for precisely the same reasons.

 - Jon


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027964.html">[Mono-list] Mono and Win32 fibers
</A></li>
	<LI>Next message: <A HREF="027975.html">[Mono-list] Mono and Win32 fibers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27974">[ date ]</a>
              <a href="thread.html#27974">[ thread ]</a>
              <a href="subject.html#27974">[ subject ]</a>
              <a href="author.html#27974">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
