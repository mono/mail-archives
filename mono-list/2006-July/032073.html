<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Why no ioctl call in Mono.Unix.Native
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Why%20no%20ioctl%20call%20in%20Mono.Unix.Native&In-Reply-To=1152030484.16137.6.camel%40localhost">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032072.html">
   <LINK REL="Next"  HREF="032074.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Why no ioctl call in Mono.Unix.Native</H1>
    <B>Jonathan Gilbert</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Why%20no%20ioctl%20call%20in%20Mono.Unix.Native&In-Reply-To=1152030484.16137.6.camel%40localhost"
       TITLE="[Mono-list] Why no ioctl call in Mono.Unix.Native">2a5gjx302 at sneakemail.com
       </A><BR>
    <I>Tue Jul  4 12:48:06 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="032072.html">[Mono-list] Why no ioctl call in Mono.Unix.Native
</A></li>
        <LI>Next message: <A HREF="032074.html">[Mono-list] Apache2, Solaris 10, xsp, mod mono and bus error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32073">[ date ]</a>
              <a href="thread.html#32073">[ thread ]</a>
              <a href="subject.html#32073">[ subject ]</a>
              <a href="author.html#32073">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 06:28 PM 04/07/2006 +0200, Johannes Fortner wrote:
[snip]
&gt;<i>C-Headerfile:
</I>&gt;<i>#define FE_GET_INFO                _IOR('o', 61, struct
</I>&gt;<i>dvb_frontend_info)
</I>&gt;<i>
</I>&gt;<i>How can i port this to mono (c#)?
</I>
The easiest way is to write a short C program to output the value, as in:

#include &lt;linux/dvb/frontend.h&gt;
#include &lt;stdio.h&gt;

int main()
{
  printf(&quot;const int FE_GET_INFO = %d;\n&quot;, FE_GET_INFO);
  return 0;
}

The alternative is to look up the definition of _IOR, and of all the macros
it references, and so on, recursively, and distill the composition of the
control code down to its component bit fields. This obviously takes much
longer, but results in source code that, for the those with academic
interest, explains how the value is derived. :-)

This probably doesn't help in your case, but Socket objects (in the
System.Net.Sockets namespace) do in fact have an ioctl wrapper:
Socket::IOControl. It can be used to set parameters from the IOControlCode
enumeration. See:


<A HREF="http://msdn2.microsoft.com/en-us/library/system.net.sockets.iocontrolcode.aspx">http://msdn2.microsoft.com/en-us/library/system.net.sockets.iocontrolcode.aspx</A>

Doesn't directly help in your case, but perhaps the implementation of
Socket::IOControl can help you make an equivalent function for working on
your file descriptor :-)

Jonathan Gilbert
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032072.html">[Mono-list] Why no ioctl call in Mono.Unix.Native
</A></li>
	<LI>Next message: <A HREF="032074.html">[Mono-list] Apache2, Solaris 10, xsp, mod mono and bus error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32073">[ date ]</a>
              <a href="thread.html#32073">[ thread ]</a>
              <a href="subject.html#32073">[ subject ]</a>
              <a href="author.html#32073">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
