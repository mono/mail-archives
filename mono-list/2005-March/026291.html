<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] P/Invoke question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:kellyleahy%40swbell.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="026290.html">
   <LINK REL="Next"  HREF="026294.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] P/Invoke question
   </H1>
    <B>Kelly Leahy
    </B> 
    <A HREF="mailto:kellyleahy%40swbell.net"
       TITLE="[Mono-list] P/Invoke question">kellyleahy@swbell.net
       </A><BR>
    <I>Wed, 16 Mar 2005 16:37:12 -0800 (PST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="026290.html">[Mono-list] P/Invoke question
</A></li>
        <LI> Next message: <A HREF="026294.html">[Mono-list] P/Invoke question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26291">[ date ]</a>
              <a href="thread.html#26291">[ thread ]</a>
              <a href="subject.html#26291">[ subject ]</a>
              <a href="author.html#26291">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--- Kelly Leahy &lt;<A HREF="mailto:kellyleahy@swbell.net">kellyleahy@swbell.net</A>&gt; wrote:
&gt;<i> However, I don't think this is right either.  I
</I>&gt;<i> think
</I>&gt;<i> perhaps your C declaration is either wrong, or the
</I>&gt;<i> caller has to preallocate the array of CvPoint2D32f
</I>&gt;<i> elements before calling this function. 
</I>
Looking at the documentation for this function at:

<A HREF="http://www.cs.bham.ac.uk/resources/courses/robotics/doc/opencvdocs/ref/OpenCVRef_3dReconstruction.htm#decl_cvFindChessBoardCornerGuesses">http://www.cs.bham.ac.uk/resources/courses/robotics/doc/opencvdocs/ref/OpenCVRef_3dReconstruction.htm#decl_cvFindChessBoardCornerGuesses</A>

I was correct.

The caller is responsible for preallocating the array
of CvPoint2D32f records.

For the purposes of building a nice C# wrapper, you
could either take a &quot;length&quot; argument or use the array
length to determine how many points to handle.  I
think taking a length argument is cleaner, (and allows
the caller to use a subset of the array), but either
solution is possible.

For instance, you could declare the P/Invoke function
to take an array of CvPoint2D32f elements, then
construct this array in the code that calls this
function (the wrapper) with the appropriate size. 
Perhaps, if you know CvPoint2D32f to be of type float,
you could even pass this array to the Marshal.Copy
function directly.

Kelly

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="026290.html">[Mono-list] P/Invoke question
</A></li>
	<LI> Next message: <A HREF="026294.html">[Mono-list] P/Invoke question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26291">[ date ]</a>
              <a href="thread.html#26291">[ thread ]</a>
              <a href="subject.html#26291">[ subject ]</a>
              <a href="author.html#26291">[ author ]</a>
         </LI>
       </UL>
</body></html>
