<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] g_spawn_command_line_async
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:aaron.lists%40aaronbock.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="026346.html">
   <LINK REL="Next"  HREF="026351.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] g_spawn_command_line_async
   </H1>
    <B>Aaron Bockover
    </B> 
    <A HREF="mailto:aaron.lists%40aaronbock.net"
       TITLE="[Mono-list] g_spawn_command_line_async">aaron.lists@aaronbock.net
       </A><BR>
    <I>Tue, 22 Mar 2005 00:33:11 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="026346.html">[Mono-list] g_spawn_command_line_async
</A></li>
        <LI> Next message: <A HREF="026351.html">[Mono-list] g_spawn_command_line_async
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26347">[ date ]</a>
              <a href="thread.html#26347">[ thread ]</a>
              <a href="subject.html#26347">[ subject ]</a>
              <a href="author.html#26347">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm not familiar with Windows, but I'm guessing that %ProgramFiles% is
an environment variable, and it is probably not set when you make the
call. It probably works on the command line in windows, because when you
run the terminal, it probably sets that variable.

When I was doing some process control in C under GLib on Linux, I
remember reading that environment variables were not set, or there was
something specific you had to do.

See:
<A HREF="http://developer.gnome.org/doc/API/2.0/glib/glib-Spawning-Processes.html#g-spawn-async-with-pipes">http://developer.gnome.org/doc/API/2.0/glib/glib-Spawning-Processes.html#g-spawn-async-with-pipes</A>

--Aaron


On Mon, 2005-03-21 at 22:39 +0000, Phillip Neumann wrote:
&gt;<i> Hello.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Im trying to start a new proces in the background with:
</I>&gt;<i> 
</I>&gt;<i>     g_spawn_command_line_async(&quot;command&quot;, IntPtr.Zero);
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> it works fine on this unix mashine, but im trying the same on windows 
</I>&gt;<i> and it has no effect...
</I>&gt;<i> i have this:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     [DllImport(&quot;libglib-2.0-0.dll&quot;)]
</I>&gt;<i>     static extern bool g_spawn_command_line_async (string command, 
</I>&gt;<i> IntPtr err);
</I>&gt;<i>     public void RealPlayerStart(){
</I>&gt;<i>         if (((int) System.Environment.OSVersion.Platform) &gt;= 4){
</I>&gt;<i>             //UNIX
</I>&gt;<i>             g_spawn_command_line_async (&quot;mpg123 
</I>&gt;<i> <A HREF="http://sofsis.cl:8000/128.mp3",">http://sofsis.cl:8000/128.mp3&quot;,</A> IntPtr.Zero);   
</I>&gt;<i>         }
</I>&gt;<i>         else{ //Windows
</I>&gt;<i>             string s = &quot;\&quot;%ProgramFiles%\\Windows Media 
</I>&gt;<i> Player\\wmplayer.exe\&quot; <A HREF="http://sofsis.cl:8000/128.mp3";">http://sofsis.cl:8000/128.mp3&quot;;</A>
</I>&gt;<i>             Console.WriteLine(&quot;win32&gt; &quot;+s);
</I>&gt;<i>             g_spawn_command_line_async (s, IntPtr.Zero);   
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> on windows i get this output:
</I>&gt;<i> 
</I>&gt;<i>     win32&gt;  %ProgramFiles%\Windows Media Player\wmplayer.exe&quot; 
</I>&gt;<i> <A HREF="http://sofsis.cl:8000/128.mp3">http://sofsis.cl:8000/128.mp3</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> witch looks fine, thinking that when i execute that on the msdos prompt 
</I>&gt;<i> it works.. i.e. open the mediaplayer
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> whats the matter?
</I>&gt;<i> 
</I>&gt;<i> is this just not implemented on windows glib?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> PD: im using mono 1.1.4 + gtk# installer
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> thanks in advance!
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="026346.html">[Mono-list] g_spawn_command_line_async
</A></li>
	<LI> Next message: <A HREF="026351.html">[Mono-list] g_spawn_command_line_async
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26347">[ date ]</a>
              <a href="thread.html#26347">[ thread ]</a>
              <a href="subject.html#26347">[ subject ]</a>
              <a href="author.html#26347">[ author ]</a>
         </LI>
       </UL>
</body></html>
