<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] ssl client authentication
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:spouliot%40videotron.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="026428.html">
   <LINK REL="Next"  HREF="026430.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] ssl client authentication
   </H1>
    <B>Sébastien Pouliot
    </B> 
    <A HREF="mailto:spouliot%40videotron.ca"
       TITLE="[Mono-list] ssl client authentication">spouliot@videotron.ca
       </A><BR>
    <I>Thu, 31 Mar 2005 12:35:46 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="026428.html">[Mono-list] ssl client authentication
</A></li>
        <LI> Next message: <A HREF="026430.html">[Mono-list] ssl client authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26429">[ date ]</a>
              <a href="thread.html#26429">[ thread ]</a>
              <a href="subject.html#26429">[ subject ]</a>
              <a href="author.html#26429">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Nelson,

The HttpClientCertificate class isn't implemented in Mono (it's only
stubbed). It shouldn't be difficult to implement from the server variables.

Of course it's more complicated if the server variables don't include them.
Gonzalo may know why they are missing (and how to add them ;-).

Sebastien Pouliot
home: <A HREF="mailto:spouliot@videotron.ca">spouliot@videotron.ca</A>
blog: <A HREF="http://pages.infinit.net/ctech/poupou.html">http://pages.infinit.net/ctech/poupou.html</A>


&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>]On Behalf Of nelson
</I>&gt;<i> Sent: 31 mars 2005 11:53
</I>&gt;<i> To: <A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>
</I>&gt;<i> Subject: [Mono-list] ssl client authentication
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i> I setup an apache (2.0.53) with mod_mono (1.0.6) and mono (1.1.5) and
</I>&gt;<i> configure a directory to request a Certificate over SSL. That work ok.
</I>&gt;<i> When generate a page with this code [1], the page don't shown the
</I>&gt;<i> certificate data for the session, and when add this code [2], show all
</I>&gt;<i> the certificate variables, but the CERT_XXX variables are empty.
</I>&gt;<i> I want to verify the certificate credentials against a db and permit
</I>&gt;<i> access to diferent options, but can't access the certificate data :(.
</I>&gt;<i> Is something i'm doint wrong ?...
</I>&gt;<i>
</I>&gt;<i> [1]
</I>&gt;<i> <A HREF="http://support.microsoft.com/kb/315588/EN-US/">http://support.microsoft.com/kb/315588/EN-US/</A>
</I>&gt;<i> ---8&lt;-------------------------------------------------------------
</I>&gt;<i> -------------------
</I>&gt;<i> void Page_Load(xxxx)
</I>&gt;<i> {
</I>&gt;<i> string userName;
</I>&gt;<i> userName = User.Identity.Name;
</I>&gt;<i> greetingLabel.Text = &quot;Welcome &quot; + userName;
</I>&gt;<i> HttpClientCertificate cert = Request.ClientCertificate;
</I>&gt;<i> if (cert.IsPresent)
</I>&gt;<i>     certDataLabel.Text = cert.Get(&quot;SUBJECT O&quot;);
</I>&gt;<i> else
</I>&gt;<i>     certDataLabel.Text=&quot;No certificate was found.&quot;;
</I>&gt;<i> }
</I>&gt;<i> ---8&lt;-------------------------------------------------------------
</I>&gt;<i> -------------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> [2]
</I>&gt;<i> ---8&lt;-------------------------------------------------------------
</I>&gt;<i> -------------------
</I>&gt;<i> int loop1, loop2;
</I>&gt;<i> NameValueCollection coll;
</I>&gt;<i>
</I>&gt;<i> // Load ServerVariable collection into NameValueCollection object.
</I>&gt;<i> coll=Request.ServerVariables;
</I>&gt;<i> // Get names of all keys into a string array.
</I>&gt;<i> String[] arr1 = coll.AllKeys;
</I>&gt;<i> for (loop1 = 0; loop1 &lt; arr1.Length; loop1++)
</I>&gt;<i> {
</I>&gt;<i>    Response.Write(&quot;Key: &quot; + arr1[loop1] + &quot;&lt;br&gt;&quot;);
</I>&gt;<i>    String[] arr2=coll.GetValues(arr1[loop1]);
</I>&gt;<i>    for (loop2 = 0; loop2 &lt; arr2.Length; loop2++) {
</I>&gt;<i>       Response.Write(&quot;Value &quot; + loop2 + &quot;: &quot; +
</I>&gt;<i> Server.HtmlEncode(arr2[loop2]) + &quot;&lt;br&gt;&quot;);
</I>&gt;<i>    }
</I>&gt;<i> }
</I>&gt;<i> ---8&lt;-------------------------------------------------------------
</I>&gt;<i> -------------------
</I>&gt;<i>
</I>&gt;<i> TIA
</I>&gt;<i> --
</I>&gt;<i> :: Nelson ::
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="026428.html">[Mono-list] ssl client authentication
</A></li>
	<LI> Next message: <A HREF="026430.html">[Mono-list] ssl client authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26429">[ date ]</a>
              <a href="thread.html#26429">[ thread ]</a>
              <a href="subject.html#26429">[ subject ]</a>
              <a href="author.html#26429">[ author ]</a>
         </LI>
       </UL>
</body></html>
