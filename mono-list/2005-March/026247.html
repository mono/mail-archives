<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Web Services encoding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:marcone%40mdeo.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="026246.html">
   <LINK REL="Next"  HREF="026248.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Web Services encoding
   </H1>
    <B>Cedric Marcone
    </B> 
    <A HREF="mailto:marcone%40mdeo.fr"
       TITLE="[Mono-list] Web Services encoding">marcone@mdeo.fr
       </A><BR>
    <I>Fri, 11 Mar 2005 15:16:25 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="026246.html">[Mono-list] ... One more question!
</A></li>
        <LI> Next message: <A HREF="026248.html">[Mono-list] OS X, mono-1.1.4, and managed forms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26247">[ date ]</a>
              <a href="thread.html#26247">[ thread ]</a>
              <a href="subject.html#26247">[ subject ]</a>
              <a href="author.html#26247">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I've got a question that sounds silly but as I couldn't find any
pointers here it is :

&quot;How to change the response encoding for Web Services ?&quot;

Objects seems to be serialized to XML using &quot;us-ascii&quot; encoding : 
&lt;?xml version=&quot;1.0&quot; encoding=&quot;us-ascii&quot;?&gt;

-&gt; This leads to broken characters (replaced by question marks)

Moreover, I don't understand why the response header specifies that
utf-8 is being used.
Content-Type: text/xml; charset=utf-8


-&gt; Here's a summary of a conversation as captured by ethereal :

* Request :

GET /mono/Movies.asmx/GetGenres HTTP/1.1
Host: monster.mdeo.net
User-Agent: Mozilla/5.0 (X11; U; Linux i686; fr; rv:1.7.5)
Gecko/20050221 Firefox/1.0 (Ubuntu) (Ubuntu package 1.0+dfsg.1-6ubuntu1)
Accept: text/xml,application/xml,application/xhtml
+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5
Accept-Language: fr,fr-fr;q=0.8,en-us;q=0.5,en;q=0.3
Accept-Encoding: gzip,deflate
Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7
Keep-Alive: 300
Connection: keep-alive


* Response :Thank you for your answers

HTTP/1.1 200 OK
Date: Fri, 11 Mar 2005 13:50:59 GMT
Server: Apache/1.3.33 (Debian GNU/Linux) mod_mono/1.0
X-Powered-By: Mono
Transfer-Encoding: chunked
Keep-Alive: timeout=15, max=94
Connection: Keep-Alive
Content-Type: text/xml; charset=utf-8

46f
&lt;?xml version=&quot;1.0&quot; encoding=&quot;us-ascii&quot;?&gt;
&lt;ArrayOfGenre xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance"">http://www.w3.org/2001/XMLSchema-instance&quot;</A>
xmlns:xsd=&quot;<A HREF="http://www.w3.org/2001/XMLSchema"">http://www.w3.org/2001/XMLSchema&quot;</A>
xmlns=&quot;<A HREF="http://monster.mdeo.net"">http://monster.mdeo.net&quot;</A>&gt;
  &lt;Genre&gt;
    &lt;id&gt;1&lt;/id&gt;
    &lt;name&gt;Com?die&lt;/name&gt;
  &lt;/Genre&gt;
  [...]
&lt;/ArrayOfGenre&gt;
0

By the way, I'm using mono from Ubuntu Hoary (1.0.5)

Thank you for your answers,
--
CÃ©dric



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="026246.html">[Mono-list] ... One more question!
</A></li>
	<LI> Next message: <A HREF="026248.html">[Mono-list] OS X, mono-1.1.4, and managed forms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26247">[ date ]</a>
              <a href="thread.html#26247">[ thread ]</a>
              <a href="subject.html#26247">[ subject ]</a>
              <a href="author.html#26247">[ author ]</a>
         </LI>
       </UL>
</body></html>
