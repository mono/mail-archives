<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] ssl client authentication
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:nelson%20%3Ckascote%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="026438.html">
   <LINK REL="Next"  HREF="026429.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] ssl client authentication
   </H1>
    <B>nelson
    </B> 
    <A HREF="mailto:nelson%20%3Ckascote%40gmail.com%3E"
       TITLE="[Mono-list] ssl client authentication">nelson &lt;kascote@gmail.com&gt;
       </A><BR>
    <I>Thu, 31 Mar 2005 13:53:29 -0300</I>
    <P><UL>
        <LI> Previous message: <A HREF="026438.html">[Mono-list] Mono 1.1.6 has been released.
</A></li>
        <LI> Next message: <A HREF="026429.html">[Mono-list] ssl client authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26428">[ date ]</a>
              <a href="thread.html#26428">[ thread ]</a>
              <a href="subject.html#26428">[ subject ]</a>
              <a href="author.html#26428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I setup an apache (2.0.53) with mod_mono (1.0.6) and mono (1.1.5) and
configure a directory to request a Certificate over SSL. That work ok.
When generate a page with this code [1], the page don't shown the
certificate data for the session, and when add this code [2], show all
the certificate variables, but the CERT_XXX variables are empty.
I want to verify the certificate credentials against a db and permit
access to diferent options, but can't access the certificate data :(.
Is something i'm doint wrong ?...

[1]
<A HREF="http://support.microsoft.com/kb/315588/EN-US/">http://support.microsoft.com/kb/315588/EN-US/</A>
---8&lt;--------------------------------------------------------------------------------
void Page_Load(xxxx)
{
string userName;
userName = User.Identity.Name;
greetingLabel.Text = &quot;Welcome &quot; + userName;
HttpClientCertificate cert = Request.ClientCertificate;
if (cert.IsPresent)
    certDataLabel.Text = cert.Get(&quot;SUBJECT O&quot;);
else
    certDataLabel.Text=&quot;No certificate was found.&quot;;
}
---8&lt;--------------------------------------------------------------------------------


[2]
---8&lt;--------------------------------------------------------------------------------
int loop1, loop2;
NameValueCollection coll;
 
// Load ServerVariable collection into NameValueCollection object.
coll=Request.ServerVariables; 
// Get names of all keys into a string array. 
String[] arr1 = coll.AllKeys; 
for (loop1 = 0; loop1 &lt; arr1.Length; loop1++) 
{
   Response.Write(&quot;Key: &quot; + arr1[loop1] + &quot;&lt;br&gt;&quot;);
   String[] arr2=coll.GetValues(arr1[loop1]);
   for (loop2 = 0; loop2 &lt; arr2.Length; loop2++) {
      Response.Write(&quot;Value &quot; + loop2 + &quot;: &quot; +
Server.HtmlEncode(arr2[loop2]) + &quot;&lt;br&gt;&quot;);
   }
}
---8&lt;--------------------------------------------------------------------------------

TIA
-- 
::<i> Nelson ::
</I>
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="026438.html">[Mono-list] Mono 1.1.6 has been released.
</A></li>
	<LI> Next message: <A HREF="026429.html">[Mono-list] ssl client authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26428">[ date ]</a>
              <a href="thread.html#26428">[ thread ]</a>
              <a href="subject.html#26428">[ subject ]</a>
              <a href="author.html#26428">[ author ]</a>
         </LI>
       </UL>
</body></html>
