<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Fwd: Massive performance slowdown in C# SOAP client when one AppDomain per thread versus just one (ie the primary) AppDomain
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Fwd%3A%20Massive%20performance%20slowdown%20in%20C%23%20SOAP%20client%0A%20when%20one%20AppDomain%20per%20thread%20versus%20just%20one%20%28ie%20the%20primary%29%20AppDomain&In-Reply-To=%3CCABy%2BCCXF10%3Dt44rgEPOHEJ9-LO%3DcYCYaeE_0qgG-UetQOO1PPA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051998.html">
   <LINK REL="Next"  HREF="052000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Fwd: Massive performance slowdown in C# SOAP client when one AppDomain per thread versus just one (ie the primary) AppDomain</H1>
    <B>River Satya</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Fwd%3A%20Massive%20performance%20slowdown%20in%20C%23%20SOAP%20client%0A%20when%20one%20AppDomain%20per%20thread%20versus%20just%20one%20%28ie%20the%20primary%29%20AppDomain&In-Reply-To=%3CCABy%2BCCXF10%3Dt44rgEPOHEJ9-LO%3DcYCYaeE_0qgG-UetQOO1PPA%40mail.gmail.com%3E"
       TITLE="[Mono-list] Fwd: Massive performance slowdown in C# SOAP client when one AppDomain per thread versus just one (ie the primary) AppDomain">river.satya at gmail.com
       </A><BR>
    <I>Mon Jan  4 05:47:08 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="051998.html">[Mono-list] Mono Font Cache Location in Macintosh
</A></li>
        <LI>Next message: <A HREF="052000.html">[Mono-list] Massive performance slowdown in C# SOAP client when one AppDomain per thread versus just one (ie the primary) AppDomain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51999">[ date ]</a>
              <a href="thread.html#51999">[ thread ]</a>
              <a href="subject.html#51999">[ subject ]</a>
              <a href="author.html#51999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A piece of code I inherited recently uses separate AppDomains to
parallelise calls to a SOAP web service.

We were seeing an intermittent bug in Mono which caused crashes when the
AppDomains were unloaded, and since AppDomains seemed like overkill for the
purposes of multithreading calls to the service, I removed them and
simplified the code. All seemed to work fine, however, there was a drastic
performance regression (around 3x slower).

I put together a simplified chunk of code to reproduce the issue:

<A HREF="http://stackoverflow.com/questions/34585272/massive-performance-slowdown-in-c-sharp-soap-client-when-one-appdomain-per-threa">http://stackoverflow.com/questions/34585272/massive-performance-slowdown-in-c-sharp-soap-client-when-one-appdomain-per-threa</A>

Any insight appreciated!

Thanks,

River
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20160104/19e7b77f/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20160104/19e7b77f/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051998.html">[Mono-list] Mono Font Cache Location in Macintosh
</A></li>
	<LI>Next message: <A HREF="052000.html">[Mono-list] Massive performance slowdown in C# SOAP client when one AppDomain per thread versus just one (ie the primary) AppDomain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51999">[ date ]</a>
              <a href="thread.html#51999">[ thread ]</a>
              <a href="subject.html#51999">[ subject ]</a>
              <a href="author.html#51999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
