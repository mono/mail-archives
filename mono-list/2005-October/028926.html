<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] ASPX page randomly crashes with mono 1.1.9.2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20ASPX%20page%20randomly%20crashes%20with%20mono%201.1.9.2&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028924.html">
   <LINK REL="Next"  HREF="028928.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] ASPX page randomly crashes with mono 1.1.9.2</H1>
    <B>johnlopezj at aol.com</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20ASPX%20page%20randomly%20crashes%20with%20mono%201.1.9.2&In-Reply-To="
       TITLE="[Mono-list] ASPX page randomly crashes with mono 1.1.9.2">johnlopezj at aol.com
       </A><BR>
    <I>Sun Oct  9 13:12:20 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="028924.html">[Mono-list] Processname
</A></li>
        <LI>Next message: <A HREF="028928.html">[Mono-list] XSP crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28926">[ date ]</a>
              <a href="thread.html#28926">[ thread ]</a>
              <a href="subject.html#28926">[ subject ]</a>
              <a href="author.html#28926">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,
 
I recently installed Mono, Libgdiplus, mod_mono, and xsp 1.1.9.2 (I had 1.1.9.1 previously).  I create a simple login page that asks for a user id and password in two text fields with a SUBMIT button.  I have a problem just bringing up the page.  I get an &quot;500 - Internal Server Error&quot; page.  However, sometimes it does work, but it crashes with the same error when I hit SUBMIT.  Here are copies of the Apache log of when it works and when it doesn't:
 
When it works:
[Sun Oct 09 12:56:57 2005] [warn] handler: mono
[Sun Oct 09 12:56:57 2005] [warn] config = -2146881904
[Sun Oct 09 12:56:57 2005] [warn] dir_config = -2146881896
[Sun Oct 09 12:56:57 2005] [warn] idx = 0
[Sun Oct 09 12:56:57 2005] [warn] Socket file name /tmp/mod_mono_server
[Sun Oct 09 12:56:57 2005] [warn] try_connect: 0
[Sun Oct 09 12:56:57 2005] [warn] After setup_socket
[Sun Oct 09 12:56:57 2005] [warn] Sending init data
[Sun Oct 09 12:56:57 2005] [warn] Send init1
[Sun Oct 09 12:56:57 2005] [warn] Sending headers (init2)
[Sun Oct 09 12:56:57 2005] [warn] Elements: 7
[Sun Oct 09 12:56:57 2005] [warn] Accept: */*
[Sun Oct 09 12:56:57 2005] [warn] Accept-Language: en-us
[Sun Oct 09 12:56:57 2005] [warn] Accept-Encoding: gzip, deflate
[Sun Oct 09 12:56:57 2005] [warn] User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)
[Sun Oct 09 12:56:57 2005] [warn] Host: 192.168.1.77
[Sun Oct 09 12:56:57 2005] [warn] Connection: Keep-Alive
[Sun Oct 09 12:56:57 2005] [warn] Cookie: ASPSESSION=2ADE034A938DE1A5C9982D75FF0F35
[Sun Oct 09 12:56:57 2005] [warn] Done headers (init2)
[Sun Oct 09 12:56:57 2005] [warn] Sending init3
[Sun Oct 09 12:56:57 2005] [warn] Done init3
[Sun Oct 09 12:56:57 2005] [warn] Loop
Unhandled Exception: System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---&gt; System.Threading.ThreadAbortException: Thread was being aborted
in &lt;0x00000&gt; &lt;unknown method&gt;
in (wrapper managed-to-native) System.Threading.Monitor:Monitor_try_enter (object,int)
in [0x00013] (at /home/src2/mono-1.1.9.2/mcs/class/corlib/System.Threading/Monitor.cs:64) System.Threading.Monitor:Enter (System.Object obj)
in [0x00008] (at /home/src2/mono-1.1.9.2/mcs/class/System.Web/System.Web.Configuration/WebConfigurationSettings.cs:310) System.Web.Configuration.FileWatcherCache:SetChanged (System.Object o, System.IO.FileSystemEventArgs args)
in &lt;0x00000&gt; &lt;unknown method&gt;
in (wrapper managed-to-native) System.Reflection.MonoMethod:InternalInvoke (object,object[])
in [0x00044] (at /home/src2/mono-1.1.9.2/mcs/class/corlib/System.Reflection/MonoMethod.cs:127) System.Reflection.MonoMethod:Invoke (System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture)--- End of inner exception stack trace ---
in [0x0006b] (at /home/src2/mono-1.1.9.2/mcs/class/corlib/System.Reflection/MonoMethod.cs:133) System.Reflection.MonoMethod:Invoke (System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture)
in [0x00006] (at /home/src2/mono-1.1.9.2/mcs/class/corlib/System.Reflection/MethodBase.cs:87) System.Reflection.MethodBase:Invoke (System.Object obj, System.Object[] parameters)
in [0x0005e] (at /home/src2/mono-1.1.9.2/mcs/class/corlib/System/Delegate.cs:239) System.Delegate:DynamicInvokeImpl (System.Object[] args)
in [0x0001a] (at /home/src2/mono-1.1.9.2/mcs/class/corlib/System/MulticastDelegate.cs:68) System.MulticastDelegate:DynamicInvokeImpl (System.Object[] args)
in [0x00002] (at /home/src2/mono-1.1.9.2/mcs/class/corlib/System/Delegate.cs:227) System.Delegate:DynamicInvoke (System.Object[] args)
in [0x00024] (at /home/src2/mono-1.1.9.2/mcs/class/System/System.IO/FileSystemWatcher.cs:354) System.IO.FileSystemWatcher:RaiseEvent (System.Delegate ev, System.EventArgs arg)
in [0x00008] (at /home/src2/mono-1.1.9.2/mcs/class/System/System.IO/FileSystemWatcher.cs:373) System.IO.FileSystemWatcher:OnDeleted (System.IO.FileSystemEventArgs e)
in [0x00090] (at /home/src2/mono-1.1.9.2/mcs/class/System/System.IO/FileSystemWatcher.cs:428) System.IO.FileSystemWatcher:DispatchEvents (FileAction act, System.String filename, System.IO.RenamedEventArgs renamed)
in (wrapper remoting-invoke-with-check) System.IO.FileSystemWatcher:DispatchEvents (System.IO.FileAction,string,System.IO.RenamedEventArgs&amp;)
in [0x00237] (at /home/src2/mono-1.1.9.2/mcs/class/System/System.IO/FAMWatcher.cs:310) System.IO.FAMWatcher:ProcessEvents ()
in [0x0002c] (at /home/src2/mono-1.1.9.2/mcs/class/System/System.IO/FAMWatcher.cs:208) System.IO.FAMWatcher:Monitor ()
in (wrapper delegate-invoke) System.MulticastDelegate:invoke_void ()
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: GET_SERVER_VARIABLE
[Sun Oct 09 12:57:09 2005] [warn] Command received: SET_STATUS
[Sun Oct 09 12:57:10 2005] [warn] Command received: SET_RESPONSE_HEADERS
[Sun Oct 09 12:57:10 2005] [warn] Headers length: 178
[Sun Oct 09 12:57:10 2005] [warn] Command received: SEND_FROM_MEMORY
[Sun Oct 09 12:57:10 2005] [warn] Command received: CLOSE
[Sun Oct 09 12:57:10 2005] [warn] Done. Status: 0


When it doesn't work:
[Sun Oct 09 12:57:22 2005] [warn] handler: mono
[Sun Oct 09 12:57:22 2005] [warn] config = -2146881904
[Sun Oct 09 12:57:22 2005] [warn] dir_config = -2146881896
[Sun Oct 09 12:57:22 2005] [warn] idx = 0
[Sun Oct 09 12:57:22 2005] [warn] Socket file name /tmp/mod_mono_server
[Sun Oct 09 12:57:22 2005] [warn] try_connect: 0
[Sun Oct 09 12:57:22 2005] [warn] After setup_socket
[Sun Oct 09 12:57:22 2005] [warn] Sending init data
[Sun Oct 09 12:57:22 2005] [warn] Send init1
[Sun Oct 09 12:57:22 2005] [warn] Sending headers (init2)
[Sun Oct 09 12:57:22 2005] [warn] Elements: 11
[Sun Oct 09 12:57:22 2005] [warn] Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/x-shockwave-flash, application/vnd.ms-excel, application/vnd.ms-powerpoint, application/msword, application/x-icq, */*
[Sun Oct 09 12:57:22 2005] [warn] Referer: <A HREF="http://192.168.1.77/vm/LoginPage.aspx">http://192.168.1.77/vm/LoginPage.aspx</A>
[Sun Oct 09 12:57:22 2005] [warn] Accept-Language: en-us
[Sun Oct 09 12:57:22 2005] [warn] Content-Type: application/x-www-form-urlencoded
[Sun Oct 09 12:57:22 2005] [warn] Accept-Encoding: gzip, deflate
[Sun Oct 09 12:57:22 2005] [warn] User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)
[Sun Oct 09 12:57:22 2005] [warn] Host: 192.168.1.77
[Sun Oct 09 12:57:22 2005] [warn] Content-Length: 58
[Sun Oct 09 12:57:22 2005] [warn] Connection: Keep-Alive
[Sun Oct 09 12:57:22 2005] [warn] Cache-Control: no-cache
[Sun Oct 09 12:57:22 2005] [warn] Cookie: ASPSESSION=71276EB37946DDC3BFEFFFCAC44FD3
[Sun Oct 09 12:57:22 2005] [warn] Done headers (init2)
[Sun Oct 09 12:57:22 2005] [warn] Sending init3
[Sun Oct 09 12:57:22 2005] [warn] Done init3
[Sun Oct 09 12:57:22 2005] [warn] Loop
Tick caught an exception that has not been propagated:
System.Threading.ThreadAbortException: Thread was being aborted
in &lt;0x00000&gt; &lt;unknown method&gt;
in (wrapper managed-to-native) System.Object:__icall_wrapper_mono_thread_interruption_checkpoint ()
in (wrapper managed-to-native) System.Object:__icall_wrapper_mono_object_new_specific (intptr)
in &lt;0x0000d&gt; System.Web.HttpApplication:RunHooks (System.Delegate list)
in &lt;0x00260&gt; System.Web.HttpApplication+&lt;Pipeline&gt;__1:MoveNext ()
in [0x00006] (at /home/src2/mono-1.1.9.2/mcs/class/System.Web/System.Web/HttpApplication.cs:560) System.Web.HttpApplication:Tick ()
[Sun Oct 09 12:57:26 2005] [warn] Done. Status: 500

 
I have mono installed in /usr/src which is a symbolic link to /home/src2.
 
Thanks,
JL
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20051009/be896ffd/attachment-0001.html">http://lists.ximian.com/pipermail/mono-list/attachments/20051009/be896ffd/attachment-0001.html</A>
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028924.html">[Mono-list] Processname
</A></li>
	<LI>Next message: <A HREF="028928.html">[Mono-list] XSP crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28926">[ date ]</a>
              <a href="thread.html#28926">[ thread ]</a>
              <a href="subject.html#28926">[ subject ]</a>
              <a href="author.html#28926">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
