<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] pb on Winforms
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20pb%20on%20Winforms&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028943.html">
   <LINK REL="Next"  HREF="028963.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] pb on Winforms</H1>
    <B>Pierro</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20pb%20on%20Winforms&In-Reply-To="
       TITLE="[Mono-list] pb on Winforms">enjoylife at tele2.fr
       </A><BR>
    <I>Mon Oct 10 13:12:45 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="028943.html">[Mono-list] Wondering how to check the status of asp.net 2.0?
</A></li>
        <LI>Next message: <A HREF="028963.html">[Mono-list] pb on Winforms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28942">[ date ]</a>
              <a href="thread.html#28942">[ thread ]</a>
              <a href="subject.html#28942">[ subject ]</a>
              <a href="author.html#28942">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello, i've a problem with winform.

This program function very well on Windows with the Windows's CLR.
But with the Mono's CLR  , there are  problems  on Linux  and  on  Windows.
What's the problem ?
Later, i will use gtk# but now i don't have any time for to learn it. 
does it exist a IDE for GUI in GTK# like visual .NET ?

Thank you very much for your help.

_That is the source of my program :_


using System;
using System.Drawing;
using System.Collections;
using System.ComponentModel;
using System.Windows.Forms;
using System.IO;
using System.Threading;
using System.Diagnostics;
using System.Runtime.Remoting;
using System.Runtime.Remoting.Channels;
using System.Runtime.Remoting.Channels.Http;

  
public class ClientSDS : System.Windows.Forms.Form
{
        
    IGsua ObjInterface;
    long ticket1;
    bool Clibool=true;
        
    private System.Windows.Forms.Label label1;
    private System.Windows.Forms.TextBox textBox1;
    private System.Windows.Forms.Label label2;
    private System.Windows.Forms.Button button1;
    private System.Windows.Forms.Button button2;
    private System.Windows.Forms.Button Quitter;
    private System.Windows.Forms.OpenFileDialog openFileDialog1;
    /// &lt;summary&gt;
    /// Variable necessaire au concepteur.
    /// &lt;/summary&gt;
    private System.ComponentModel.Container components = null;

    public ClientSDS(ref IGsua objIGsua, bool Cli)
    {
                        
        ObjInterface=objIGsua;
        ticket1=0;
        Clibool = Cli;
        InitializeComponent();

    }

    /// &lt;summary&gt;
    /// Nettoyage des ressources utilises.
    /// &lt;/summary&gt;
    protected override void Dispose( bool disposing )
    {
        if( disposing )
        {
            if(components != null)
            {
                components.Dispose();
            }
        }
        base.Dispose( disposing );
    }

        
    private void InitializeComponent()
    {
        this.label1 = new System.Windows.Forms.Label();
        this.textBox1 = new System.Windows.Forms.TextBox();
        this.label2 = new System.Windows.Forms.Label();
        this.button1 = new System.Windows.Forms.Button();
        this.button2 = new System.Windows.Forms.Button();
        this.Quitter = new System.Windows.Forms.Button();
        this.openFileDialog1 = new System.Windows.Forms.OpenFileDialog();
        this.SuspendLayout();
        //
        // label1
        //
        this.label1.BackColor = System.Drawing.SystemColors.Info;
        this.label1.Font = new System.Drawing.Font(&quot;Microsoft Sans 
Serif&quot;, 14.25F, System.Drawing.FontStyle.Bold, 
System.Drawing.GraphicsUnit.Point, ((System.Byte)(0)));
        this.label1.Location = new System.Drawing.Point(24, 24);
        this.label1.Name = &quot;label1&quot;;
        this.label1.Size = new System.Drawing.Size(456, 64);
        this.label1.TabIndex = 0;
        this.label1.Text = &quot;Etude \&quot;simple\&quot; d\'un fichier&quot;;
        this.label1.TextAlign = 
System.Drawing.ContentAlignment.MiddleCenter;
        //this.label1.Click += new System.EventHandler(this.label1_Click);
        //
        // textBox1
        //
        this.textBox1.Location = new System.Drawing.Point(16, 128);
        this.textBox1.Name = &quot;textBox1&quot;;
        this.textBox1.Size = new System.Drawing.Size(400, 20);
        this.textBox1.TabIndex = 1;
        this.textBox1.Text = &quot;&quot;;
        //
        // label2
        //
        this.label2.Font = new System.Drawing.Font(&quot;Microsoft Sans 
Serif&quot;, 11.25F, System.Drawing.FontStyle.Bold, 
System.Drawing.GraphicsUnit.Point, ((System.Byte)(0)));
        this.label2.Location = new System.Drawing.Point(8, 104);
        this.label2.Name = &quot;label2&quot;;
        this.label2.Size = new System.Drawing.Size(432, 80);
        this.label2.TabIndex = 2;
        this.label2.Text = &quot;Fichier&quot;;
        //this.label2.Click += new System.EventHandler(this.label2_Click);
        //
        // button1
        //
        this.button1.Font = new System.Drawing.Font(&quot;Microsoft Sans 
Serif&quot;, 9.75F/*14.25F*/, System.Drawing.FontStyle.Bold, 
System.Drawing.GraphicsUnit.Point, ((System.Byte)(0)));
        this.button1.Location = new System.Drawing.Point(48, 192);
        this.button1.Name = &quot;button1&quot;;
        this.button1.Size = new System.Drawing.Size(112, 32);
        this.button1.TabIndex = 3;
        this.button1.Text = &quot;Parcourir&quot;;
        this.button1.Click += new System.EventHandler(this.button1_Click);
        //
        // button2
        //
        this.button2.Font = new System.Drawing.Font(&quot;Microsoft Sans 
Serif&quot;, 15.75F, System.Drawing.FontStyle.Bold, 
System.Drawing.GraphicsUnit.Point, ((System.Byte)(0)));
        this.button2.Location = new System.Drawing.Point(256, 200);
        this.button2.Name = &quot;button2&quot;;
        this.button2.Size = new System.Drawing.Size(208, 64);
        this.button2.TabIndex = 4;
        this.button2.Text = &quot;Action&quot;;
        this.button2.Click += new System.EventHandler(this.button2_Click);
        //
        // Quitter
        //
        this.Quitter.Font = new System.Drawing.Font(&quot;Microsoft Sans 
Serif&quot;, 14.25F, System.Drawing.FontStyle.Bold, 
System.Drawing.GraphicsUnit.Point, ((System.Byte)(0)));
        this.Quitter.Location = new System.Drawing.Point(168, 304);
        this.Quitter.Name = &quot;Quitter&quot;;
        this.Quitter.Size = new System.Drawing.Size(160, 48);
        this.Quitter.TabIndex = 5;
        this.Quitter.Text = &quot;Quitter&quot;;
        this.Quitter.Click += new System.EventHandler(this.Quitter_Click);
        //
        // ClientSDS
        //
        this.AutoScaleBaseSize = new System.Drawing.Size(5, 13);
        this.ClientSize = new System.Drawing.Size(520, 382);
        this.Controls.Add(this.Quitter);
        this.Controls.Add(this.button2);
        this.Controls.Add(this.button1);
        this.Controls.Add(this.textBox1);
        this.Controls.Add(this.label1);
        this.Controls.Add(this.label2);
        this.Name = &quot;ClientSDS&quot;;
        this.Text = &quot;ClientSDS&quot;;
        this.ResumeLayout(false);

    }


    class prog
    {
        [STAThread]
        static void Main()
        {
            MarshalByRefObject Obj=null;
            bool erreurbool=true;
                
            HttpChannel MonCanal = new HttpChannel(0);
            ChannelServices.RegisterChannel(MonCanal);
        
            
            try
            {
                Obj = (MarshalByRefObject)
                    RemotingServices.Connect(
                    typeof(IGsua),
                    &quot;<A HREF="http://localhost:65100/ServiceGSUA&quot;">http://localhost:65100/ServiceGSUA&quot;</A>);
                
                
            }
            catch(System.Exception)
            {
                MessageBox.Show(&quot;Erreur de connection avec la sds&quot;, 
&quot;Erreur de connection&quot;, MessageBoxButtons.OK, MessageBoxIcon.Warning);
                erreurbool=false;
            }    
    
            IGsua monobjet = Obj as IGsua;
            ClientSDS client = new ClientSDS(ref monobjet,erreurbool);
            Application.Run(client);
                                    
        }
    
    
    }
    
    private void Quitter_Click(object sender, System.EventArgs e)
    {
            
        ObjInterface=null;
        Application.Exit();
    }

            

    private void button1_Click(object sender, System.EventArgs e)
    {
        if ( openFileDialog1.ShowDialog() != DialogResult.OK )
        {
            return;
        }
        else
        {
            textBox1.Text = (string) openFileDialog1.FileName;
        }
    }

        
    private void button2_Click(object sender, System.EventArgs e)
    {
        if ( textBox1.Text == String.Empty )
        {
            MessageBox.Show(&quot;Erreur, vous devez selectionner un 
fichier&quot;, &quot;Erreur de selection de fichier&quot;, MessageBoxButtons.OK, 
MessageBoxIcon.Warning);
            textBox1.Focus();
        }
        else
        {
            if(Clibool!=false)
            {
                //do something
            }
            else
            {
                MessageBox.Show(&quot;Pas de connection SDS&quot;,&quot; redemarrer SDS 
et ce programme &quot;,MessageBoxButtons.OK, MessageBoxIcon.Error);            
                
            }
        }
    }

}


</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028943.html">[Mono-list] Wondering how to check the status of asp.net 2.0?
</A></li>
	<LI>Next message: <A HREF="028963.html">[Mono-list] pb on Winforms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28942">[ date ]</a>
              <a href="thread.html#28942">[ thread ]</a>
              <a href="subject.html#28942">[ subject ]</a>
              <a href="author.html#28942">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
