<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Sandbox
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Sandbox&In-Reply-To=%3CCAHZ6KndNSX0SePz88sdfDdMKfRAR%2BTf4KJw%2BtuZmQ_yZYywX4w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051468.html">
   <LINK REL="Next"  HREF="051491.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Sandbox</H1>
    <B>Peter Robinson</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Sandbox&In-Reply-To=%3CCAHZ6KndNSX0SePz88sdfDdMKfRAR%2BTf4KJw%2BtuZmQ_yZYywX4w%40mail.gmail.com%3E"
       TITLE="[Mono-list] Sandbox">pete at madhippy.com
       </A><BR>
    <I>Mon Jan 12 22:00:16 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="051468.html">[Mono-list] Sandbox
</A></li>
        <LI>Next message: <A HREF="051491.html">[Mono-list] Sandbox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51473">[ date ]</a>
              <a href="thread.html#51473">[ thread ]</a>
              <a href="subject.html#51473">[ subject ]</a>
              <a href="author.html#51473">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've done something similar in vanilla dotnet

1) compile code using the CSharpCodeProvider
2) create an IMarshalByRefObject implementation that takes the created
assembly as a byte[], loads it  and can execute the code
3) in the 'manager', create a new AppDomain with low security permissions -
load the IMarshalByRefObject
4) can then execute the loaded code

Key things to check
1) IMarshalByRefObject doesn't accidentally cause types to be loaded from
the loaded assembly (ie check return types etc)
2) InitialiseLifetimeService correctly setup
3) correct use of code access security linked with the AppDomain permissions

This was a pre-roslyn implmentation, would be much easier now.

I'd have thought monos eval functionality would be useful too.


On 12 January 2015 at 08:30, Ollhax &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">ollhak at gmail.com</A>&gt; wrote:

&gt;<i> Hrm, interesting. Is it even possible to run Mono with such settings?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://mono.1490590.n4.nabble.com/Sandbox-tp4665163p4665171.html">http://mono.1490590.n4.nabble.com/Sandbox-tp4665163p4665171.html</A>
</I>&gt;<i> Sent from the Mono - General mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20150112/509fa232/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20150112/509fa232/attachment.html</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051468.html">[Mono-list] Sandbox
</A></li>
	<LI>Next message: <A HREF="051491.html">[Mono-list] Sandbox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51473">[ date ]</a>
              <a href="thread.html#51473">[ thread ]</a>
              <a href="subject.html#51473">[ subject ]</a>
              <a href="author.html#51473">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
