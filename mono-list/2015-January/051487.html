<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] TypeLoadException with ASP.NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20TypeLoadException%20with%20ASP.NET&In-Reply-To=%3CCAA1SNA0T-dAomc0WHyjncSsom-CJSE8%3D9nf%2B09apwhGP71G%2B-w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="051486.html">
   <LINK REL="Next"  HREF="051494.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] TypeLoadException with ASP.NET</H1>
    <B>Igor Shmukler</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20TypeLoadException%20with%20ASP.NET&In-Reply-To=%3CCAA1SNA0T-dAomc0WHyjncSsom-CJSE8%3D9nf%2B09apwhGP71G%2B-w%40mail.gmail.com%3E"
       TITLE="[Mono-list] TypeLoadException with ASP.NET">igor.shmukler at gmail.com
       </A><BR>
    <I>Thu Jan 15 03:25:08 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="051486.html">[Mono-list] TypeLoadException with ASP.NET
</A></li>
        <LI>Next message: <A HREF="051494.html">[Mono-list] TypeLoadException with ASP.NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51487">[ date ]</a>
              <a href="thread.html#51487">[ thread ]</a>
              <a href="subject.html#51487">[ subject ]</a>
              <a href="author.html#51487">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Martin,

I tried with modules from version 3.81. I understand those are fairly
modern. No change.
On my Ubuntu, had quite a lot of minor problems installing and
removing various packages with apt-get, btw.
On the subject, I spent hours and did not manage apache2 to load types
or give proper diagnostics and logging. XSP4 worked out of the box on
both Mac and Linux.

If someone wants to dig into this, I would be delighted to assist. My
boss is a big supporter of open source, and the code in question is
trivial. I should probably be able to share binaries and sources, to
whoever wants to dive into improving mod_mono on apache2.

Sincerely,

Igor Shmukler

On Thu, Jan 15, 2015 at 12:00 AM, Martin Thwaites
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">monoforum at my2cents.co.uk</A>&gt; wrote:
&gt;<i> Hi Igor,
</I>&gt;<i>
</I>&gt;<i> Your version of mono is very old, so first, I would upgrade.
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.mono-project.com/docs/getting-started/install/linux/#debian-ubuntu-and-derivatives">http://www.mono-project.com/docs/getting-started/install/linux/#debian-ubuntu-and-derivatives</A>
</I>&gt;<i>
</I>&gt;<i> That should give you an idea how to do it.
</I>&gt;<i>
</I>&gt;<i> Once you've done that, if you're still getting problems try sending us the
</I>&gt;<i> actual types (you replaced them with XXX in your message).
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Martin
</I>&gt;<i>
</I>&gt;<i> On 13 January 2015 at 22:21, Igor Shmukler &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">igor.shmukler at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hello Marco,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thank you for your email.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I don't have to use apache2. I could use any production quality web
</I>&gt;&gt;<i> server. The ability to handle load, is not even that important. We
</I>&gt;&gt;<i> need to run an embedded server.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If nginx+fastcgi is easy to setup, we would probably for it. Is this
</I>&gt;&gt;<i> easy to setup? I had problems with XSP2, but version 4 just works for
</I>&gt;&gt;<i> me on both Mac and Linux. Whatever it is, I am happy.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sincerely,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Igor Shmukler
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Tue, Jan 13, 2015 at 11:56 PM, Marco Ridoni &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">m.ridoni at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; Igor, sorry if I'm asking something you already answered somehow: do you
</I>&gt;&gt;<i> &gt; absolutely have to use Apache+mod_mono? I found nginx + fastcgi much
</I>&gt;&gt;<i> &gt; faster
</I>&gt;&gt;<i> &gt; and reliable in my case.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; m.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; 2015-01-13 20:33 GMT+01:00 Igor Shmukler &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">igor.shmukler at gmail.com</A>&gt;:
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Hello Andres,
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; I &quot;agree&quot; that a cryptic message is not the friendliest thing for a
</I>&gt;&gt;<i> &gt;&gt; programmer, such as myself. I should be coding, instead I am
</I>&gt;&gt;<i> &gt;&gt; pretending to be a system administrator. IMHO, what is a bug: &quot;is in
</I>&gt;&gt;<i> &gt;&gt; the eye of the beholder.&quot; I would love it, if every project was
</I>&gt;&gt;<i> &gt;&gt; moderated according to your standards. :)
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; After a lot more digging, so I am delighted to share the few
</I>&gt;&gt;<i> &gt;&gt; additional insights.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; I tried various apache2+mono configurations using mod_mono_auto and/or
</I>&gt;&gt;<i> &gt;&gt; mod_mono with manual site configuration. No matter what configuration
</I>&gt;&gt;<i> &gt;&gt; was selected, the default.aspx compiles then loading a type from a DLL
</I>&gt;&gt;<i> &gt;&gt; fails - otherwise, things look the same.
</I>&gt;&gt;<i> &gt;&gt; I tried running my code with XSP2, and got exactly the same output as
</I>&gt;&gt;<i> &gt;&gt; with apache2+mod_mono[_auto].
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Finally, I tried XSP4 - the same server that Xamarin packaged for
</I>&gt;&gt;<i> &gt;&gt; XamarinStudio, which I use on my OSX laptop. XSP4 works.
</I>&gt;&gt;<i> &gt;&gt; [I quickly tried mono-apache-server4, but did not get it to work fast
</I>&gt;&gt;<i> &gt;&gt; enough. Perhaps, another pass at mono-server4 makes even more sense,
</I>&gt;&gt;<i> &gt;&gt; now.]
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Sincerely,
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Igor Shmukler
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; On Tue, Jan 13, 2015 at 8:29 PM, Andr&#233;s G. Aragoneses
</I>&gt;&gt;<i> &gt;&gt; &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">knocte at gmail.com</A>&gt;
</I>&gt;&gt;<i> &gt;&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt; And when I say a &quot;bug&quot; I mean either a Mono bug, or a mod_mono bug.
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; On 13 January 2015 at 19:29, Andr&#233;s G. Aragoneses &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">knocte at gmail.com</A>&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; Igor, a misconfiguration problem should never rise a cryptic
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; TypeLoadException. You're simply hitting a bug with your codebase.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; If
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; you
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; keep reducing the testcase, you will be able to know where is the
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; problem,
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; so you can open a more detailed bug report about it, or even fix it
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; yourself.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; On 13 January 2015 at 10:01, Igor Shmukler &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">igor.shmukler at gmail.com</A>&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; Hi Andres,
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; Thank you again
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt;&gt; I already know that my code runs fine [on Mac].
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; With what web server?
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; On Mac [OS X], I have been using XamarinStudio, which hosts on XSP4
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; [at least by default]. XSP4 on Mac works great, but on Linux things
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; are strange. I am totally perplexed.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; Do you think that 0.0.0.0 is the proper assembly version? What do I
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; do
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; to find out what is wrong. Does mod_mono have a separate log
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; somewhere? Does it make sense that apache2 error log shows no
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; errors?
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt;&gt; What would running my code with XSP prove?
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; It would give more info to pinpoint if it's a bug in mono's
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; ASP.NET
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; stack,
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; or in mod_mono (which is a different codebase).
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; Do you think that there is indeed a bug in a codebase? My guess is
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; that something is funky with configuration. Obviously, I don't know
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; what are the answers to my own questions. Hence, with that many
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; variables, my guess is only &quot;so&quot; educated.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; Please advise.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; Sincerely,
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; Igor Shmukler
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;&gt;<i> &gt;&gt; Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;<i> &gt;&gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; _______________________________________________
</I>&gt;&gt;<i> &gt; Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="051486.html">[Mono-list] TypeLoadException with ASP.NET
</A></li>
	<LI>Next message: <A HREF="051494.html">[Mono-list] TypeLoadException with ASP.NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51487">[ date ]</a>
              <a href="thread.html#51487">[ thread ]</a>
              <a href="subject.html#51487">[ subject ]</a>
              <a href="author.html#51487">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
