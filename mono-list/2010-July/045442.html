<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Debugging mono dll loaded by Unity3d
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Debugging%20mono%20dll%20loaded%20by%20Unity3d&In-Reply-To=1279296296718-2291591.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045441.html">
   <LINK REL="Next"  HREF="045444.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Debugging mono dll loaded by Unity3d</H1>
    <B>Michael Hutchinson</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Debugging%20mono%20dll%20loaded%20by%20Unity3d&In-Reply-To=1279296296718-2291591.post%40n4.nabble.com"
       TITLE="[Mono-list] Debugging mono dll loaded by Unity3d">m.j.hutchinson at gmail.com
       </A><BR>
    <I>Sat Jul 17 21:18:44 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="045441.html">[Mono-list] Debugging mono dll loaded by Unity3d
</A></li>
        <LI>Next message: <A HREF="045444.html">[Mono-list] Debugging mono dll loaded by Unity3d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45442">[ date ]</a>
              <a href="thread.html#45442">[ thread ]</a>
              <a href="subject.html#45442">[ subject ]</a>
              <a href="author.html#45442">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jul 16, 2010 at 12:04 PM, and192 &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">andrew.rushby at googlemail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Hi there,
</I>&gt;<i>
</I>&gt;<i> I have a problem trying to understand how to debug a library I'm writing in
</I>&gt;<i> MonoDevelop. This library is being referenced from a Unity3d project.
</I>&gt;<i>
</I>&gt;<i> I have been pointing the MonoDevelop debugger at the built Unity3d exe and
</I>&gt;<i> hoping to be able to 'attach' along the lines of the MSVisual studio
</I>&gt;<i> debugger. However the debugger loads in MonoDevelop and encounters an
</I>&gt;<i> exception:
</I>&gt;<i> &#160; System.Runtime.InteropServices.COMException (0x80131700): Failed to load
</I>&gt;<i> the runtime. at
</I>&gt;<i> Microsoft.Samples.Debugging.CorDebug.NativeMethods.GetRequestedRuntimeVersion
</I>&gt;<i> etc...
</I>
That's the .NET debugging addin - it cannot debug Mono apps. To use
the Mono debugger, your target runtime should be Mono. However...

&gt;<i> I suspect this is because Unity3d is not a mono executable and the Mono
</I>&gt;<i> debugger cannot detect the runtime version.
</I>&gt;<i>
</I>&gt;<i> I appreciate there may not be an easy way to do this, but before I give up,
</I>&gt;<i> does anyone have any suggestions, other than writing to debug log files etc,
</I>&gt;<i> on how I can use a debugger to step through my mono code?
</I>
The Mono Soft debugger does not support attaching to arbitrary
runtimes. You must use Mono 2.6+, and the apps must be started in
debuggable mode, which MD does automatically using Mono runtime
commandline arguments when starting the app.

For apps that embed the Mono runtime, such as Unity, you need a
(trivial) MD addin to tell it how to launch the app. Also, the
embedding host must support enabling debugging, and must use Mono
2.6+. For this, you'll need Unity 3.0.

-- 
Michael Hutchinson
<A HREF="http://mjhutchinson.com">http://mjhutchinson.com</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045441.html">[Mono-list] Debugging mono dll loaded by Unity3d
</A></li>
	<LI>Next message: <A HREF="045444.html">[Mono-list] Debugging mono dll loaded by Unity3d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45442">[ date ]</a>
              <a href="thread.html#45442">[ thread ]</a>
              <a href="subject.html#45442">[ subject ]</a>
              <a href="author.html#45442">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
