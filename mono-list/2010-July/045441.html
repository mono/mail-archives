<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Debugging mono dll loaded by Unity3d
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Debugging%20mono%20dll%20loaded%20by%20Unity3d&In-Reply-To=1279296296718-2291591.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045439.html">
   <LINK REL="Next"  HREF="045442.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Debugging mono dll loaded by Unity3d</H1>
    <B>Steve Lessard</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Debugging%20mono%20dll%20loaded%20by%20Unity3d&In-Reply-To=1279296296718-2291591.post%40n4.nabble.com"
       TITLE="[Mono-list] Debugging mono dll loaded by Unity3d">s_lessard at yahoo.com
       </A><BR>
    <I>Sat Jul 17 14:02:25 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="045439.html">[Mono-list] Debugging mono dll loaded by Unity3d
</A></li>
        <LI>Next message: <A HREF="045442.html">[Mono-list] Debugging mono dll loaded by Unity3d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45441">[ date ]</a>
              <a href="thread.html#45441">[ thread ]</a>
              <a href="subject.html#45441">[ subject ]</a>
              <a href="author.html#45441">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Instead of attaching to the exe that references your dll have MonoDevelop launch the exe for you. The trick to getting MonoDevelop to launch the exe for you is to create an empty project with the same name as your exe (minus the .exe extension) and add it to the same solution as your dll project. Set that empty project as the startup project. In the directory for the empty project create the bin\Debug directories and copy your exe, exe.mdb, config, etc. files there. Now build the entire solution and select Debug from the Run menu. MonoDevelop will launch your exe in the debugger and should be able to break at breakpoints within your dll project.

-SteveL


On Jul 16, 2010, at 9:04 AM, and192 &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">andrew.rushby at googlemail.com</A>&gt; wrote:

&gt;<i> 
</I>&gt;<i> Hi there,
</I>&gt;<i> 
</I>&gt;<i> I have a problem trying to understand how to debug a library I'm writing in
</I>&gt;<i> MonoDevelop. This library is being referenced from a Unity3d project.
</I>&gt;<i> 
</I>&gt;<i> I have been pointing the MonoDevelop debugger at the built Unity3d exe and
</I>&gt;<i> hoping to be able to 'attach' along the lines of the MSVisual studio
</I>&gt;<i> debugger. However the debugger loads in MonoDevelop and encounters an
</I>&gt;<i> exception:
</I>&gt;<i>   System.Runtime.InteropServices.COMException (0x80131700): Failed to load
</I>&gt;<i> the runtime. at
</I>&gt;<i> Microsoft.Samples.Debugging.CorDebug.NativeMethods.GetRequestedRuntimeVersion
</I>&gt;<i> etc...
</I>&gt;<i> 
</I>&gt;<i> I suspect this is because Unity3d is not a mono executable and the Mono
</I>&gt;<i> debugger cannot detect the runtime version.
</I>&gt;<i> 
</I>&gt;<i> I appreciate there may not be an easy way to do this, but before I give up,
</I>&gt;<i> does anyone have any suggestions, other than writing to debug log files etc,
</I>&gt;<i> on how I can use a debugger to step through my mono code?
</I>&gt;<i> 
</I>&gt;<i> Many thanks in advance,
</I>&gt;<i> Andy
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> View this message in context: <A HREF="http://mono.1490590.n4.nabble.com/Debugging-mono-dll-loaded-by-Unity3d-tp2291591p2291591.html">http://mono.1490590.n4.nabble.com/Debugging-mono-dll-loaded-by-Unity3d-tp2291591p2291591.html</A>
</I>&gt;<i> Sent from the Mono - General mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045439.html">[Mono-list] Debugging mono dll loaded by Unity3d
</A></li>
	<LI>Next message: <A HREF="045442.html">[Mono-list] Debugging mono dll loaded by Unity3d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45441">[ date ]</a>
              <a href="thread.html#45441">[ thread ]</a>
              <a href="subject.html#45441">[ subject ]</a>
              <a href="author.html#45441">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
