<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Errormessage running Nunit on Mac Leopard
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Errormessage%20running%20Nunit%20on%20Mac%20Leopard&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038490.html">
   <LINK REL="Next"  HREF="038494.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Errormessage running Nunit on Mac Leopard</H1>
    <B>Ben Aurel</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Errormessage%20running%20Nunit%20on%20Mac%20Leopard&In-Reply-To="
       TITLE="[Mono-list] Errormessage running Nunit on Mac Leopard">ben.aurel at gmail.com
       </A><BR>
    <I>Tue May  6 07:05:52 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="038490.html">[Mono-list] System.DllNotFoundException: gdiplus.dll
</A></li>
        <LI>Next message: <A HREF="038494.html">[Mono-list] Errormessage running Nunit on Mac Leopard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38491">[ date ]</a>
              <a href="thread.html#38491">[ thread ]</a>
              <a href="subject.html#38491">[ subject ]</a>
              <a href="author.html#38491">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi
I've built mono from sources on my Mac 10.5.2 which went fine (mostly I guess).
$ mcs HelloWorld.cs
$ mono HelloWolrd.exe
Hello World!

that went fine so far... Now I wanted to take it to the next step by
writing a simple nunit test: (sources from the nunit-site, see below):

$ mcs -t:library Account.cs [1]
$ mcs -pkg:dotnet -r:Nunit.Framework -r:Account -t:library AccountTest.cs [2]

$ nunit-console AccountTest.dll:
NUnit version 2.2.0
Copyright (C) 2002-2003 James W. Newkirk, Michael C. Two, Alexei A.
Vorontsov, Charlie Poole.
Copyright (C) 2000-2003 Philip Craig.
All Rights Reserved.

OS Version: Unix 9.2.2.0    Mono Version: 1.1.4322.2032

.F

Tests run: 1, Failures: 1, Not run: 0, Time: 0.041441 seconds

Tests run: 1, Failures: 1, Not run: 0, Time: 0.041441 seconds

Failures:
1) bank.AccountTest.TransferFunds :
	expected:&lt;250&gt;
	 but was:&lt;150&gt;

and then a strange MESSAGE:

  at bank.AccountTest.TransferFunds () [0x00000]
  at (wrapper managed-to-native)
System.Reflection.MonoMethod:InternalInvoke
(object,object[],System.Exception&amp;)
  at System.Reflection.MonoMethod.Invoke (System.Object obj,
BindingFlags invokeAttr, System.Reflection.Binder binder,
System.Object[] parameters, System.Globalization.CultureInfo culture)
[0x00041] in ~/mono/compiling/mcs/class/corlib/System.Reflection/MonoMethod.cs:157

I don't think this reference to MonoMethod.cs:157 is normal. What is
wrong here?

Thanks in advance.
Ben

[1] Account.cs
  public class Account
  {
    private float balance;
    public void Deposit(float amount)
    {
      balance+=amount;
    }

    public void Withdraw(float amount)
    {
      balance-=amount;
    }

    public void TransferFunds(Account destination, float amount)
    {
    }

    public float Balance
    {
      get{ return balance;}
    }
  }
}


[2] AccountTest.cs
namespace bank
{
  using NUnit.Framework;

  [TestFixture]
  public class AccountTest
  {
    [Test]
    public void TransferFunds()
    {
      Account source = new Account();
      source.Deposit(200.00F);
      Account destination = new Account();
      destination.Deposit(150.00F);

      source.TransferFunds(destination, 100.00F);
      Assert.AreEqual(250.00F, destination.Balance);
      Assert.AreEqual(100.00F, source.Balance);
	
    }
  }
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038490.html">[Mono-list] System.DllNotFoundException: gdiplus.dll
</A></li>
	<LI>Next message: <A HREF="038494.html">[Mono-list] Errormessage running Nunit on Mac Leopard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38491">[ date ]</a>
              <a href="thread.html#38491">[ thread ]</a>
              <a href="subject.html#38491">[ subject ]</a>
              <a href="author.html#38491">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
