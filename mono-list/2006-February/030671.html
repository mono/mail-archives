<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Numbers with &quot;,&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Numbers%20with%20%22%2C%22&In-Reply-To=1139619377.8044.18.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030670.html">
   <LINK REL="Next"  HREF="030666.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Numbers with &quot;,&quot;</H1>
    <B>Jonathan Pryor</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Numbers%20with%20%22%2C%22&In-Reply-To=1139619377.8044.18.camel%40localhost.localdomain"
       TITLE="[Mono-list] Numbers with &quot;,&quot;">jonpryor at vt.edu
       </A><BR>
    <I>Sat Feb 11 11:07:13 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="030670.html">[Mono-list] Numbers with &quot;,&quot;
</A></li>
        <LI>Next message: <A HREF="030666.html">[Mono-list] Numbers with &quot;,&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30671">[ date ]</a>
              <a href="thread.html#30671">[ thread ]</a>
              <a href="subject.html#30671">[ subject ]</a>
              <a href="author.html#30671">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2006-02-11 at 00:56 +0000, Paulo Augusto wrote:
&gt;<i> In portuguese (in fact, every language i know except english), numbers
</I>&gt;<i> are separated by a &quot;,&quot; comma, instead of by a &quot;.&quot; dot.
</I>&gt;<i> 
</I>&gt;<i> So, when my mono program needs a number from an Entry():
</I>&gt;<i> Convert.ToSingle (string);
</I>&gt;<i> and then i want to pass that number to MySql through an sql string:
</I>&gt;<i> float.ToString();
</I>&gt;<i> results in a string that has a &quot;,&quot; which brakes the sql string.
</I>&gt;<i> 
</I>&gt;<i> Anyone has any idea on what's the best way to handle this localisation
</I>&gt;<i> issue?
</I>
I quite literally just answered this question:

<A HREF="http://lists.ximian.com/pipermail/mono-list/2006-February/030647.html">http://lists.ximian.com/pipermail/mono-list/2006-February/030647.html</A>

Too bad the other half of my answer didn't make it to the list.  :-/

To go from a number within your current culture to the equivalent value
in a different culture requires two steps: (1) parse the string into a
number; and (2) format the number into an appropriate string:


        NumberFormatInfo source = 
	        new CultureInfo (&quot;de-DE&quot;).NumberFormat;
	        // or use your appropriate culture instead of &quot;de-DE&quot;,
                // or use CultureInfo.InstalledUICulture.NumberFormat
        NumberFormatInfo dest =
                CultureInfo.InvariantCulture.NumberFormat;
                // or use `new CultureInfo (&quot;en-US&quot;).NumberFormat

	// (1) Parse the string into a double:
	double d = double.Parse (&quot;12,34&quot;, source);

	// (2) Create a string for use in SQL insertion:
	string sql = d.ToString (dest);

That's all you need to do, and this will work properly for all languages
(assuming you use the correct source NumberFormatInfo), as opposed to
just replacing all instances of ',' with '.' (which will fail if you
ever get thousands-grouping symbols, e.g. &quot;123,456,789.01&quot;, though you
probably don't want grouping symbols for SQL insertion anyway...).

 - Jon


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030670.html">[Mono-list] Numbers with &quot;,&quot;
</A></li>
	<LI>Next message: <A HREF="030666.html">[Mono-list] Numbers with &quot;,&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30671">[ date ]</a>
              <a href="thread.html#30671">[ thread ]</a>
              <a href="subject.html#30671">[ subject ]</a>
              <a href="author.html#30671">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
