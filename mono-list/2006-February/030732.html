<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] DataGrid difference to .NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20DataGrid%20difference%20to%20.NET&In-Reply-To=22320748.2811140447569373.JavaMail.servlet%40kundenserver">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030725.html">
   <LINK REL="Next"  HREF="030726.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] DataGrid difference to .NET</H1>
    <B>Mike</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20DataGrid%20difference%20to%20.NET&In-Reply-To=22320748.2811140447569373.JavaMail.servlet%40kundenserver"
       TITLE="[Mono-list] DataGrid difference to .NET">stuff at dustsmoke.com
       </A><BR>
    <I>Tue Feb 21 03:47:51 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="030725.html">[Mono-list] DataGrid difference to .NET
</A></li>
        <LI>Next message: <A HREF="030726.html">[Mono-list] PIxbuf loading optimization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30732">[ date ]</a>
              <a href="thread.html#30732">[ thread ]</a>
              <a href="subject.html#30732">[ subject ]</a>
              <a href="author.html#30732">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">winzen at online.de</A> wrote:
&gt;<i> Hi everybody,
</I>&gt;<i>
</I>&gt;<i> i'm using DataGrids with dynamic DataTables in an ASP.NET application. I encountered a small problem when DataGrids show different behaviour in Mono compared to MS.NET (bug on MS side?). When i bind a DataTable with strange column names (including special characters like &quot;.&quot;) to a DataGrid Mono throws an exception and MS.NET does not.
</I>&gt;<i>
</I>&gt;<i> Here is a small NUnit test to demonstrate the problem:
</I>&gt;<i>
</I>&gt;<i> [Test]
</I>&gt;<i> public void DataGridWithStrangeColumnNames() {
</I>&gt;<i>   DataTable testTable = createTable(new string[] {&quot;test / 5x&quot;,
</I>&gt;<i>     &quot;eps.mul(%)&quot;, &quot;yearX&quot;, &quot;jahr_2000&quot;});
</I>&gt;<i>   testTable.Rows.Add(new object[] {&quot;EPS adj.test&quot;, &quot;47&quot;, &quot;0&quot;, &quot;a&quot;});
</I>&gt;<i>   DataGrid grid = new DataGrid();
</I>&gt;<i>   grid.AutoGenerateColumns = true;
</I>&gt;<i>   grid.DataSource = testTable;
</I>&gt;<i>   grid.DataBind();
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> private DataTable createTable(string[] fields) {
</I>&gt;<i>   DataTable table = new DataTable();
</I>&gt;<i>   foreach (string column in fields) {
</I>&gt;<i>     table.Columns.Add(column);
</I>&gt;<i>   }
</I>&gt;<i>   return table;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> CU
</I>&gt;<i> Jochen Winzen
</I>&gt;<i>
</I>&gt;<i> P.S. This is the error message:
</I>&gt;<i>
</I>&gt;<i> OS Version: Unix 2.6.8.2    Mono Version: 1.1.4322.2032
</I>&gt;<i>
</I>&gt;<i> .......................................F.........................
</I>&gt;<i> Tests run: 64, Failures: 1, Not run: 0, Time: 4.182289 seconds
</I>&gt;<i>
</I>&gt;<i> Failures:
</I>&gt;<i> 1) TestFacade.DataGridWithStrangeColumnNames : System.Web.HttpException : Property eps not found in System.Data.DataRowView
</I>&gt;<i> in &lt;0x0015a&gt; System.Web.UI.DataBinder:GetPropertyValue (System.Object container, System.String propName)
</I>&gt;<i> in &lt;0x000ac&gt; System.Web.UI.DataBinder:Eval (System.Object container, System.String expression)
</I>&gt;<i> in &lt;0x0005b&gt; System.Web.UI.WebControls.BoundColumn:GetValueFromItem (System.Web.UI.WebControls.DataGridItem item)
</I>&gt;<i> in &lt;0x0006e&gt; System.Web.UI.WebControls.BoundColumn:ItemDataBinding (System.Object sender, System.EventArgs e)
</I>&gt;<i> in (wrapper delegate-invoke) System.MulticastDelegate:invoke_void_object_EventArgs (object,System.EventArgs)
</I>&gt;<i> in &lt;0x00117&gt; System.Web.UI.Control:OnDataBinding (System.EventArgs e)
</I>&gt;<i> in &lt;0x00013&gt; System.Web.UI.Control:DataBind ()
</I>&gt;<i> in &lt;0x0005a&gt; System.Web.UI.Control:DataBindChildren ()
</I>&gt;<i> in &lt;0x0001e&gt; System.Web.UI.Control:DataBind ()
</I>&gt;<i> in &lt;0x0010b&gt; System.Web.UI.WebControls.DataGrid:CreateItem (Int32 item_index, Int32 data_source_index, ListItemType type, Boolean data_bind, System.Object data_item, System.Web.UI.WebControls.PagedDataSource paged)
</I>&gt;<i> in &lt;0x00420&gt; System.Web.UI.WebControls.DataGrid:CreateControlHierarchy (Boolean useDataSource)
</I>&gt;<i> in &lt;0x00095&gt; System.Web.UI.WebControls.BaseDataList:DataBind ()
</I>&gt;<i> in &lt;0x0013c&gt; Mescor.WebCliver.BusinessModel.Company.TestCompanyFacade:DataGridWithStrangeColumnNames ()
</I>&gt;<i> in &lt;0x00000&gt; &lt;unknown method&gt;
</I>&gt;<i> in (wrapper managed-to-native) System.Reflection.MonoMethod:InternalInvoke (object,object[])
</I>&gt;<i> in &lt;0x0008d&gt; System.Reflection.MonoMethod:Invoke (System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture)
</I>&gt;<i> _______________________________________________
</I>&gt;<i>   
</I>Ackkkk!

Why on earth would you want to do this in the first place? You are just 
asking for trouble.

But no, it isn't a bug on MS's side. Its just some very bad form that 
they have been accepting for as long as I can remember with their products.

-Mike
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030725.html">[Mono-list] DataGrid difference to .NET
</A></li>
	<LI>Next message: <A HREF="030726.html">[Mono-list] PIxbuf loading optimization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30732">[ date ]</a>
              <a href="thread.html#30732">[ thread ]</a>
              <a href="subject.html#30732">[ subject ]</a>
              <a href="author.html#30732">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
