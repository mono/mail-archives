<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Buggy symlink to machine.config while compiling Mono
	from source
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Buggy%20symlink%20to%20machine.config%20while%20compiling%20Mono%0A%09from%20source&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030769.html">
   <LINK REL="Next"  HREF="030781.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Buggy symlink to machine.config while compiling Mono
	from source</H1>
    <B>Christian Schneider</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Buggy%20symlink%20to%20machine.config%20while%20compiling%20Mono%0A%09from%20source&In-Reply-To="
       TITLE="[Mono-list] Buggy symlink to machine.config while compiling Mono
	from source">mail at chrschn.de
       </A><BR>
    <I>Fri Feb 24 12:21:47 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="030769.html">[Mono-list] Mono Readline
</A></li>
        <LI>Next message: <A HREF="030781.html">[Mono-list] Buggy symlink to machine.config while compiling Mono
	from source
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30776">[ date ]</a>
              <a href="thread.html#30776">[ thread ]</a>
              <a href="subject.html#30776">[ subject ]</a>
              <a href="author.html#30776">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all.

I was trying to compile Mono 1.1.13.2 from source on my Linux box. After
a while it stopped at the following error:

        MONO_PATH=&quot;../../class/lib/net_1_1_bootstrap:
        $MONO_PATH&quot; /usr/src/packages/mono-1.1.13.2/runtime/mono-wrapper  ../../class/lib/net_1_1_bootstrap/sn.exe -q -R mscorlib.dll ../../class/mono.snk
        Couldn't sign the assembly mscorlib.dll with this key pair.

Investigating the problem I stumbled over a strange symlink in the
build-subdirectories &quot;runtime/etc/mono/1.0&quot; and &quot;runtime/etc/mono/2.0&quot;:

        /usr/src/packages/mono-1.1.13.2/runtime/etc/mono/1.0/machine.config -&gt; ../../../..//usr/src/packages/mono-1.1.13.2/data/net_1_1/machine.config
        
        /usr/src/packages/mono-1.1.13.2/runtime/etc/mono/2.0/machine.config -&gt; ../../../..//usr/src/packages/mono-1.1.13.2/data/net_2_0/machine.config

After changing the symlinks as follows, Mono compiled just fine:

        /usr/src/packages/mono-1.1.13.2/runtime/etc/mono/1.0/machine.config -&gt; ../../../../data/net_1_1/machine.config
        
        /usr/src/packages/mono-1.1.13.2/runtime/etc/mono/2.0/machine.config -&gt; ../../../../data/net_2_0/machine.config

Perhaps this problem comes from the fact that I use a wrapper-script
&quot;/usr/bin/conf64&quot; that I use to set some environment variables for
compiling a package as x86_64 build (I also have a conf32 script). This
script then calls the configure script in the local directory. Thus,
configure actually got called as
&quot;/usr/src/packages/mono-1.1.13.2/configure&quot; and not &quot;./configure&quot;. See
the first lines of the config.log:

        This file contains any messages produced by compilers while
        running configure, to aid debugging if configure makes a
        mistake.
        
        It was created by configure, which was
        generated by GNU Autoconf 2.59.  Invocation command line was
        
          $ /usr/src/packages/mono-1.1.13.2/configure --sysconfdir=/etc
        --prefix=/usr --libdir=/usr/lib64
        
        ## --------- ##
        ## Platform. ##
        ...

Hope you can fix this problem in the configure script, or where it might
come from.
-- 
Regards,

Christian Schneider

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030769.html">[Mono-list] Mono Readline
</A></li>
	<LI>Next message: <A HREF="030781.html">[Mono-list] Buggy symlink to machine.config while compiling Mono
	from source
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30776">[ date ]</a>
              <a href="thread.html#30776">[ thread ]</a>
              <a href="subject.html#30776">[ subject ]</a>
              <a href="author.html#30776">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
