<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Random seeding on different machines
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.dot.net?Subject=Re%3A%20%5BMono-list%5D%20Random%20seeding%20on%20different%20machines&In-Reply-To=%3CCAJjm3ZfO86iDJMy3RsHiEvM1KQbOgMYti-mQQcaPiuL88ggtpA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052243.html">
   <LINK REL="Next"  HREF="052245.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Random seeding on different machines</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-list%40lists.dot.net?Subject=Re%3A%20%5BMono-list%5D%20Random%20seeding%20on%20different%20machines&In-Reply-To=%3CCAJjm3ZfO86iDJMy3RsHiEvM1KQbOgMYti-mQQcaPiuL88ggtpA%40mail.gmail.com%3E"
       TITLE="[Mono-list] Random seeding on different machines">sebastien.pouliot at gmail.com
       </A><BR>
    <I>Tue Oct  4 15:04:00 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052243.html">[Mono-list] Random seeding on different machines
</A></li>
        <LI>Next message (by thread): <A HREF="052245.html">[Mono-list] mono and LibreOffice (Ubuntu/Linux)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52244">[ date ]</a>
              <a href="thread.html#52244">[ thread ]</a>
              <a href="subject.html#52244">[ subject ]</a>
              <a href="author.html#52244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bonjour Matt.

You probably have different versions of Mono on those computers. In the
past both Mono and MS had different implementation for Random. Now that
Mono is using the open sourced MS reference source this is &quot;fixed&quot;, but it
means current Mono Random's output won't be compatible with earlier
versions.

For simulation purpose I suggest you to use/include a well known PRNG and
not depend on the platform. That will make it easier in case you ever have
to run the same code on a different (e.g. not .NET) runtime.

Regards,
Sebastien

On Tue, Oct 4, 2016 at 10:09 AM, Matt Calder &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">mvcalder at gmail.com</A>&gt; wrote:

&gt;<i> Edward,
</I>&gt;<i>
</I>&gt;<i> Thanks this is a non-crypto application. We are doing simulations across
</I>&gt;<i> machines and want to know if we can expect identical runs to match. It
</I>&gt;<i> sounds like you are saying &quot;no&quot;.
</I>&gt;<i>
</I>&gt;<i> Matt
</I>&gt;<i>
</I>&gt;<i> On Tue, Oct 4, 2016 at 10:02 AM, Edward Ned Harvey (mono) &lt;
</I>&gt;<i> <A HREF="http://lists.dot.net/mailman/listinfo/mono-list">edward.harvey.mono at clevertrove.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> &gt; From: Mono-list [mailto:<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">mono-list-bounces at lists.dot.net</A>] On Behalf Of
</I>&gt;&gt;<i> Matt
</I>&gt;&gt;<i> &gt; Calder
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; We are seeing differences in the output of Random.Next,
</I>&gt;&gt;<i> &gt; Random.NextDouble when run from the same seed but on different
</I>&gt;&gt;<i> &gt; machines. I am wondering if this is expected.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The implementation of the non-crypto random functions is not to be
</I>&gt;&gt;<i> assumed. That is - you should not use it for crypto purposes. You will
</I>&gt;&gt;<i> often have predictable results, but you should not count on the results
</I>&gt;&gt;<i> being predictable, as the underlying implementation is not in the spec, so
</I>&gt;&gt;<i> the implementation is subject to change.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If you require a predictable result from a starting seed, you're looking
</I>&gt;&gt;<i> for a DRBG, or PRNG, with a known standard implementation. There are some
</I>&gt;&gt;<i> NIST standards out there that define such DRBG's, and there are some
</I>&gt;&gt;<i> implementations of those available in some crypto libraries such as
</I>&gt;&gt;<i> bouncycastle, but it would basically be a research topic to figure it all
</I>&gt;&gt;<i> out if you want to go that way. The really simple way to do it, assuming
</I>&gt;&gt;<i> you want a predictable result, and you're not concerned with security, is
</I>&gt;&gt;<i> to just put an AES class into CBC mode, and give in a seed for the key and
</I>&gt;&gt;<i> IV. Wrap it in a CryptoStream. You'll have predictable random output,
</I>&gt;&gt;<i> fairly low cost.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.dot.net/mailman/listinfo/mono-list">Mono-list at lists.dot.net</A>
</I>&gt;<i> <A HREF="http://lists.dot.net/mailman/listinfo/mono-list">http://lists.dot.net/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/mono-list/attachments/20161004/99440427/attachment.html">http://lists.dot.net/pipermail/mono-list/attachments/20161004/99440427/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052243.html">[Mono-list] Random seeding on different machines
</A></li>
	<LI>Next message (by thread): <A HREF="052245.html">[Mono-list] mono and LibreOffice (Ubuntu/Linux)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52244">[ date ]</a>
              <a href="thread.html#52244">[ thread ]</a>
              <a href="subject.html#52244">[ subject ]</a>
              <a href="author.html#52244">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
