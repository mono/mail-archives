<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Pass arguments to executable generated by mkbundle
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.dot.net?Subject=Re%3A%20%5BMono-list%5D%20Pass%20arguments%20to%20executable%20generated%20by%20mkbundle&In-Reply-To=%3CCAFn2Jfk8GQznP8M6TpfO6Y6r0FoE95wCYff20Um%2BXU%2BjX81_DA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052277.html">
   <LINK REL="Next"  HREF="052279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Pass arguments to executable generated by mkbundle</H1>
    <B>Samuel El-Borai</B> 
    <A HREF="mailto:mono-list%40lists.dot.net?Subject=Re%3A%20%5BMono-list%5D%20Pass%20arguments%20to%20executable%20generated%20by%20mkbundle&In-Reply-To=%3CCAFn2Jfk8GQznP8M6TpfO6Y6r0FoE95wCYff20Um%2BXU%2BjX81_DA%40mail.gmail.com%3E"
       TITLE="[Mono-list] Pass arguments to executable generated by mkbundle">samuel.elborai at gmail.com
       </A><BR>
    <I>Sun Oct 30 13:19:25 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052277.html">[Mono-list] xbuild and relative paths
</A></li>
        <LI>Next message (by thread): <A HREF="052279.html">[Mono-list] Wrong email
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52278">[ date ]</a>
              <a href="thread.html#52278">[ thread ]</a>
              <a href="subject.html#52278">[ subject ]</a>
              <a href="author.html#52278">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi the mailing list,

I’m trying to use mkbundle to generate a single file executable for my
project. It works great so far but I cannot find a way to pass arguments to
my program.

I’m using it like this:

1 - Compile my project via Xamarin studio

2 - Merge assemblies into a single assembly with ILRepack
&lt;<A HREF="https://github.com/gluck/il-repack">https://github.com/gluck/il-repack</A>&gt;

$ mono ~/.config/NuGet/packages/ILRepack.2.0.12/tools/ILRepack.exe
/internalize /parallel /targetplatform:v4 /verbose /out:myapp
MyApp.exe *.dll

3 - Create a bundle containing my assembly and the mono runtime

$ mkbundle --simple --cross 4.6.1-linux-libc2.12-amd64 -o myapp_out ./myapp

At this point I can run ./myapp_out and it works. But when I try to pass
arguments I have an error:

# I run the app without arguments, it works as expected
$ ./myapp_out
c-Found: config:myapp 8f1000
ERROR: missing parameter '--keys'.
USAGE: myapp [--help] --keys [&lt;KEYS&gt;...]

OPTIONS:

    --keys [&lt;KEYS&gt;…]    Keys to process
    --help                display this list of options.

# I try to run it with an argument, it fails
$ ./myapp_out --keys test_key
c-Found: config:myapp 8f1000
Unknown command line option: '--keys'

# If I run it with `--help` I get the help from `mono`
$ ./myapp_out --help
Usage is: mono [options] program [program-options]

Development:
    --aot[=&lt;options&gt;]      Compiles the assembly to native code
    --debug[=&lt;options&gt;]    Enable debugging support, use --help-debug
for details
    --debugger-agent=options Enable the debugger agent
    --profile[=profiler]   Runs in profiling mode with the specified
profiler module
    --trace[=EXPR]         Enable tracing, use --help-trace for details
    --jitmap               Output a jit method map to /tmp/perf-PID.map
    --help-devel           Shows more options available to developers

Runtime:
    --config FILE          Loads FILE as the Mono config
    --verbose, -v          Increases the verbosity level
    --help, -h             Show usage information
    --version, -V          Show version information
    --runtime=VERSION      Use the VERSION runtime, instead of autodetecting
    --optimize=OPT         Turns on or off a specific optimization
                           Use --list-opt to get a list of optimizations
    --security[=mode]      Turns on the unsupported security manager
(off by default)
                           mode is one of cas, core-clr, verifiable or validil
    --attach=OPTIONS       Pass OPTIONS to the attach agent in the runtime.
                           Currently the only supported option is 'disable'.
    --llvm, --nollvm       Controls whenever the runtime uses LLVM to
compile code.
    --gc=[sgen,boehm]      Select SGen or Boehm GC (runs mono or mono-sgen)
    --arch=[32,64]         Select architecture (runs mono32 or mono64)

Any guidance would be appreciated.

Cheers,

Samuel El-Borai
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/mono-list/attachments/20161030/39e68cab/attachment.html">http://lists.dot.net/pipermail/mono-list/attachments/20161030/39e68cab/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052277.html">[Mono-list] xbuild and relative paths
</A></li>
	<LI>Next message (by thread): <A HREF="052279.html">[Mono-list] Wrong email
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52278">[ date ]</a>
              <a href="thread.html#52278">[ thread ]</a>
              <a href="subject.html#52278">[ subject ]</a>
              <a href="author.html#52278">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
