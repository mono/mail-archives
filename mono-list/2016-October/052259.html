<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mono/embedded
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.dot.net?Subject=Re%3A%20%5BMono-list%5D%20mono/embedded&In-Reply-To=%3CEDA3B21E-91E1-4DC1-BB61-5168ECDACA21%40mugginsoft.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052258.html">
   <LINK REL="Next"  HREF="052260.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mono/embedded</H1>
    <B>Jonathan Mitchell</B> 
    <A HREF="mailto:mono-list%40lists.dot.net?Subject=Re%3A%20%5BMono-list%5D%20mono/embedded&In-Reply-To=%3CEDA3B21E-91E1-4DC1-BB61-5168ECDACA21%40mugginsoft.com%3E"
       TITLE="[Mono-list] mono/embedded">lists at mugginsoft.com
       </A><BR>
    <I>Tue Oct 25 07:31:00 UTC 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052258.html">[Mono-list] mono/embedded
</A></li>
        <LI>Next message (by thread): <A HREF="052260.html">[Mono-list] mono/embedded
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52259">[ date ]</a>
              <a href="thread.html#52259">[ thread ]</a>
              <a href="subject.html#52259">[ subject ]</a>
              <a href="author.html#52259">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

<A HREF="http://docs.go-mono.com/?link=xhtml%3adeploy%2fmono-api-assembly.html">http://docs.go-mono.com/?link=xhtml%3adeploy%2fmono-api-assembly.html</A>

From mono/metadat/assembly.h

/* Installs a function which is called each time a new assembly is loaded. */
typedef void  (*MonoAssemblyLoadFunc)         (MonoAssembly *assembly, void* user_data);
MONO_API void          mono_install_assembly_load_hook (MonoAssemblyLoadFunc func, void* user_data);

/* 
 * Installs a new function which is used to search the list of loaded 
 * assemblies for a given assembly name.
 */
typedef MonoAssembly *(*MonoAssemblySearchFunc)         (MonoAssemblyName *aname, void* user_data);
MONO_API void          mono_install_assembly_search_hook (MonoAssemblySearchFunc func, void* user_data);
MONO_API void 	      mono_install_assembly_refonly_search_hook (MonoAssemblySearchFunc func, void* user_data);

MONO_API MonoAssembly* mono_assembly_invoke_search_hook (MonoAssemblyName *aname);

/*
 * Installs a new search function which is used as a last resort when loading 
 * an assembly fails. This could invoke AssemblyResolve events.
 */
MONO_API void          
mono_install_assembly_postload_search_hook (MonoAssemblySearchFunc func, void* user_data);

MONO_API void          
mono_install_assembly_postload_refonly_search_hook (MonoAssemblySearchFunc func, void* user_data);

Jonathan

&gt;<i> On 25 Oct 2016, at 01:22, Wolfgang Mauer &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">wolfgang.mauer at kabelmail.de</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> do everyone know if there is something like “AppDomain.CurrentDomain.AssemblyResolve” in embedded Mono?
</I>&gt;<i> Thanks
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> Von: Mono-list [mailto:<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">mono-list-bounces at lists.xamarin.com</A>] Im Auftrag von Wolfgang Mauer
</I>&gt;<i> Gesendet: Sonntag, 23. Oktober 2016 19:59
</I>&gt;<i> An: <A HREF="http://lists.dot.net/mailman/listinfo/mono-list">mono-list at lists.xamarin.com</A>
</I>&gt;<i> Betreff: [Mono-list] mono/embedded
</I>&gt;<i>  
</I>&gt;<i> Hi all,
</I>&gt;<i> i try to make a kind of stub-loader with mono/embedded.
</I>&gt;<i>  
</I>&gt;<i> I have read the documentation at <A HREF="http://www.mono-project.com/docs/advanced/embedding/">http://www.mono-project.com/docs/advanced/embedding/</A> and tried a lot of samples.
</I>&gt;<i> None of them examples work(mono 4.6.1/ubuntu 16.10)
</I>&gt;<i>  
</I>&gt;<i> I like to have a executable(c/c++) that load an c# assembly and run the public constructor
</I>&gt;<i> The assembly constructor will load gtk-sharp(referenced) and call 
</I>&gt;<i>                 Application.Init();
</I>&gt;<i>                 ….
</I>&gt;<i> Application.Run();
</I>&gt;<i>  
</I>&gt;<i> But with all my testing the different mono methods the assembly/ctor never will get called, and no error occurred.
</I>&gt;<i> Have someone a really working sample with new versions of mono/ubuntu ?
</I>&gt;<i>  
</I>&gt;<i> Thanks a lot!
</I>&gt;<i> /Wolfgang
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.dot.net/mailman/listinfo/mono-list">Mono-list at lists.dot.net</A>
</I>&gt;<i> <A HREF="http://lists.dot.net/mailman/listinfo/mono-list">http://lists.dot.net/mailman/listinfo/mono-list</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052258.html">[Mono-list] mono/embedded
</A></li>
	<LI>Next message (by thread): <A HREF="052260.html">[Mono-list] mono/embedded
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52259">[ date ]</a>
              <a href="thread.html#52259">[ thread ]</a>
              <a href="subject.html#52259">[ subject ]</a>
              <a href="author.html#52259">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
