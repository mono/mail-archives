<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mod-mono-server-2 randomly runs instead of	mod-mono-server 4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20mod-mono-server-2%20randomly%20runs%20instead%20of%0A%09mod-mono-server%204&In-Reply-To=%3CCAJm-eZ1L3xpHrH1-iDwf%3DYcNjNN%3D_WQrf3_Md_O0G%2B0waoHc4Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="050475.html">
   <LINK REL="Next"  HREF="050474.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mod-mono-server-2 randomly runs instead of	mod-mono-server 4</H1>
    <B>Brian Vogel</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20mod-mono-server-2%20randomly%20runs%20instead%20of%0A%09mod-mono-server%204&In-Reply-To=%3CCAJm-eZ1L3xpHrH1-iDwf%3DYcNjNN%3D_WQrf3_Md_O0G%2B0waoHc4Q%40mail.gmail.com%3E"
       TITLE="[Mono-list] mod-mono-server-2 randomly runs instead of	mod-mono-server 4">brian at techrhythm.com
       </A><BR>
    <I>Fri Nov 15 04:20:41 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="050475.html">[Mono-list] Generic Error GDI+
</A></li>
        <LI>Next message: <A HREF="050474.html">[Mono-list] Where is the source of libgdiplus-3.0.tar.gz
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50473">[ date ]</a>
              <a href="thread.html#50473">[ thread ]</a>
              <a href="subject.html#50473">[ subject ]</a>
              <a href="author.html#50473">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am running mod_mono with Apache on Cent OS.  It's a clean install of mono
3.2.0  The site has been running fine with no issues for several months.  I
have an issue with my application where mod-mono-server2.exe will randomly
get executed of mod-mono-server-4.  This happened again today after I
restarted Apache.

I've had this same issue before with previous versions of mono. I had a
peek at mod_mono.c and it looks like it will fall back to mod-mono-server2
when server_path is not set, which is what's happening to me - at least
it's running mod-mono-server2 instead of 4.

<A HREF="https://github.com/mono/mod_mono/blob/master/src/mod_mono.c#L1698">https://github.com/mono/mod_mono/blob/master/src/mod_mono.c#L1698</A>
<A HREF="https://github.com/mono/mod_mono/blob/master/src/mod_mono.h#L94">https://github.com/mono/mod_mono/blob/master/src/mod_mono.h#L94</A>

Given the random nature of the problem is it possible that there may be
some memory getting inadvertently erased or that the .conf file isn't
getting loaded in the first place? Any help in troubleshooting this would
be greatly appreciated!

I've included my .conf file below for posterity.

Thanks,

Brian

#my conf file

   MonoAutoApplication disabled
   AddHandler mono .asax .ashx .config .cs .cshtml .asmx .axd
   #not really needed since MonoServerPath should override it - grasping at
straws here!
   MonoTargetFramework 4.0
   MonoServerPath &quot;/usr/local/bin/mod-mono-server4&quot;
   MonoDebug test.mysite.com false
   MonoApplications test.mysite.com &quot;/:/var/www/vhosts/mysite30.com/httpdocs
&quot;

  &lt;Location &quot;/&quot;&gt;
     Allow from all
     Order allow,deny
     MonoSetServerAlias test.mysite.com
     SetHandler mono
     SetOutputFilter DEFLATE
     SetEnvIfNoCase Request_URI &quot;\.(?:gif|jpe?g|png)$&quot; no-gzip dont-vary
  &lt;/Location&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20131114/cf311053/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20131114/cf311053/attachment.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="050475.html">[Mono-list] Generic Error GDI+
</A></li>
	<LI>Next message: <A HREF="050474.html">[Mono-list] Where is the source of libgdiplus-3.0.tar.gz
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50473">[ date ]</a>
              <a href="thread.html#50473">[ thread ]</a>
              <a href="subject.html#50473">[ subject ]</a>
              <a href="author.html#50473">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
