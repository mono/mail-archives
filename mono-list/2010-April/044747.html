<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Thread Pool issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Thread%20Pool%20issues&In-Reply-To=4BB74307.2020204%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044745.html">
   <LINK REL="Next"  HREF="044743.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Thread Pool issues</H1>
    <B>Gonzalo Paniagua Javier</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Thread%20Pool%20issues&In-Reply-To=4BB74307.2020204%40gmail.com"
       TITLE="[Mono-list] Thread Pool issues">gonzalo.mono at gmail.com
       </A><BR>
    <I>Sat Apr  3 11:55:40 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="044745.html">[Mono-list] Thread Pool issues
</A></li>
        <LI>Next message: <A HREF="044743.html">[Mono-list] Announcing NAnt 0.90-alpha1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44747">[ date ]</a>
              <a href="thread.html#44747">[ thread ]</a>
              <a href="subject.html#44747">[ subject ]</a>
              <a href="author.html#44747">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2010-04-03 at 05:31 -0800, aldus wrote:
&gt;<i> Gonzalo Paniagua Javier-3 [via Mono] has written: 
</I>&gt;<i> &gt; MonoMaxActiveRequests docubox 0 
</I>&gt;<i> &gt; MonoMaxWaitingRequests docubox 0 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; And I would remove that MONO_THREADS_PER_CPU setting. It is too
</I>&gt;<i> high. 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; -Gonzalo 
</I>&gt;<i> Thank you Gonzalo. 
</I>&gt;<i> 
</I>&gt;<i> I have found the &quot;MONO_THREADS_PER_CPU =2000&quot; settings as a setting
</I>&gt;<i> to 
</I>&gt;<i> solve the Max Active Request issue on this mailing list. 
</I>&gt;<i> It works with 2.6.1 but not with 2.6.3. 
</I>&gt;<i> 
</I>&gt;<i> Now I have put this new settings on our server. 
</I>&gt;<i> We have two applications on the same server, the first named
</I>&gt;<i> &quot;docubox&quot; 
</I>&gt;<i> and the other named &quot;serinfo&quot;, then I have add these settings twice
</I>&gt;<i> (two 
</I>&gt;<i> rows for each application), that's right? 
</I>
Yes. When you don't specify an application name (docubox, serinfo) the
default value is 'default'. That's why the settings you had before
didn't apply to your applications.

&gt;<i> Now, my new questions are: 
</I>&gt;<i> 
</I>&gt;<i> 1. What is the right value to use for &quot;MONO_THREADS_PER_CPU&quot; ? 
</I>&gt;<i> 2. If these new settings solve the issue, there is any need to change 
</I>&gt;<i> the &quot;Threads Per Cpu&quot; value? 
</I>
The right value depends on your application, the load it gets and the
CPU/memory that you have. I would set that environment variable to the
lowest number that can handle the typical load you get.

There is a new threadpool in trunk that dynamically adjusts the number
of active threads and will make MONO_THREADS_PER_CPU obsolete (or change
its meaning).

-Gonzalo


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044745.html">[Mono-list] Thread Pool issues
</A></li>
	<LI>Next message: <A HREF="044743.html">[Mono-list] Announcing NAnt 0.90-alpha1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44747">[ date ]</a>
              <a href="thread.html#44747">[ thread ]</a>
              <a href="subject.html#44747">[ subject ]</a>
              <a href="author.html#44747">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
