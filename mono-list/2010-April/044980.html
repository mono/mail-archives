<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] IronPython source file must be present to run on Linux
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20IronPython%20source%20file%20must%20be%20present%20to%20run%20on%0A%20Linux&In-Reply-To=m2ld92a2d931004261227j1535a4a8re3f65c007e169e75%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044978.html">
   <LINK REL="Next"  HREF="044985.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] IronPython source file must be present to run on Linux</H1>
    <B>Dino Viehland</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20IronPython%20source%20file%20must%20be%20present%20to%20run%20on%0A%20Linux&In-Reply-To=m2ld92a2d931004261227j1535a4a8re3f65c007e169e75%40mail.gmail.com"
       TITLE="[Mono-list] IronPython source file must be present to run on Linux">dinov at microsoft.com
       </A><BR>
    <I>Mon Apr 26 19:33:58 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="044978.html">[Mono-list] IronPython source file must be present to run on	Linux
</A></li>
        <LI>Next message: <A HREF="044985.html">[Mono-list] IronPython source file must be present to run on	Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44980">[ date ]</a>
              <a href="thread.html#44980">[ thread ]</a>
              <a href="subject.html#44980">[ subject ]</a>
              <a href="author.html#44980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ben wrote:
&gt;<i> I have a simple IronPython 2.6 Hello World console program created and
</I>&gt;<i> compiled with SharpDevelop on Windows. You can download the program
</I>&gt;<i> here: <A HREF="http://dl.dropbox.com/u/101667/HelloWorld.zip">http://dl.dropbox.com/u/101667/HelloWorld.zip</A>
</I>&gt;<i> 
</I>&gt;<i> When I run the HelloWorld executable on Windows, it works correctly.
</I>&gt;<i> When I run the same thing on Linux, it fails and says it can't find
</I>&gt;<i> the HelloWorld module. If I put the HelloWorld.py script from which
</I>&gt;<i> the executable was compiled into the directory with the executable,
</I>&gt;<i> the script runs fine on Linux.
</I>&gt;<i> 
</I>&gt;<i> I think SharpDevelop uses the standard pyc.exe to compile IronPython,
</I>&gt;<i> but just in case I compiled it myself and got the same results.
</I>&gt;<i> 
</I>&gt;<i> I also tried running the program under Mono 2.4 on Windows and it ran
</I>&gt;<i> correctly without HelloWorld.py
</I>&gt;<i> 
</I>&gt;<i> I can work around this problem by including the Python source, but I
</I>&gt;<i> don't think that is the correct behavior.
</I>&gt;<i> 
</I>&gt;<i> OS: Ubuntu 9.10
</I>&gt;<i> Mono Version: Mono JIT compiler version 2.4.4 (Debian
</I>&gt;<i> 2.4.4~svn151842-1gezakovacs~karmic1)
</I>&gt;<i> 
</I>&gt;<i> Full error message when HelloWorld.py is not present:
</I>&gt;<i> Unhandled Exception: IronPython.Runtime.Exceptions.ImportException: No
</I>&gt;<i> module named HelloWorld
</I>&gt;<i>   at IronPython.Modules.Builtin.__import__
</I>&gt;<i> (IronPython.Runtime.CodeContext context, System.String name,
</I>&gt;<i> System.Object globals, System.Object locals, System.Object fromlist,
</I>&gt;<i> Int32 level) [0x00000]
</I>&gt;<i>   at (wrapper managed-to-native)
</I>&gt;<i> System.Reflection.MonoMethod:InternalInvoke
</I>&gt;<i> (object,object[],System.Exception&amp;)
</I>&gt;<i>   at System.Reflection.MonoMethod.Invoke (System.Object obj,
</I>&gt;<i> BindingFlags invokeAttr, System.Reflection.Binder binder,
</I>&gt;<i> System.Object[] parameters, System.Globalization.CultureInfo culture)
</I>&gt;<i> [0x00000]
</I>
Does this work if you compile on Linux and run on Linux?

I think the issue here is that we're compiling in the path separator on
Windows and then using the Linux path separator to extract out the 
module name.  We should probably always use forward slashes both when
writing out the module name and reading it back in.  I think that shouldn't
give us any problems.


</PRE>



































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044978.html">[Mono-list] IronPython source file must be present to run on	Linux
</A></li>
	<LI>Next message: <A HREF="044985.html">[Mono-list] IronPython source file must be present to run on	Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44980">[ date ]</a>
              <a href="thread.html#44980">[ thread ]</a>
              <a href="subject.html#44980">[ subject ]</a>
              <a href="author.html#44980">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
