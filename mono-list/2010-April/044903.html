<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] WCF/JSON POST get error 415, expected content-type application/xml not application/json
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20WCF/JSON%20POST%20get%20error%20415%2C%0A%20expected%20content-type%20application/xml%20not%20application/json&In-Reply-To=1271626602911-2015191.post%40n4.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044901.html">
   <LINK REL="Next"  HREF="044908.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] WCF/JSON POST get error 415, expected content-type application/xml not application/json</H1>
    <B>Atsushi Eno</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20WCF/JSON%20POST%20get%20error%20415%2C%0A%20expected%20content-type%20application/xml%20not%20application/json&In-Reply-To=1271626602911-2015191.post%40n4.nabble.com"
       TITLE="[Mono-list] WCF/JSON POST get error 415, expected content-type application/xml not application/json">atsushieno at veritas-vos-liberabit.com
       </A><BR>
    <I>Sun Apr 18 23:15:08 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="044901.html">[Mono-list] WCF/JSON POST get error 415, expected content-type application/xml not application/json
</A></li>
        <LI>Next message: <A HREF="044908.html">[Mono-list] WCF/JSON POST get error 415, expected content-type application/xml not application/json
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44903">[ date ]</a>
              <a href="thread.html#44903">[ thread ]</a>
              <a href="subject.html#44903">[ subject ]</a>
              <a href="author.html#44903">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

When it comes to WCF service stuff, 2.6 is already too outdated and only 
trunk (or daily build) is worth checking i.e. 2.6 won't work for several 
usage.

Though trunk wouldn't work fine for such UriTemplating stuff especially 
if you have configured wsdl support, due to very complicated design 
issue in WCF itself that made ours messed:
<A HREF="http://anonsvn.mono-project.com/viewvc/trunk/mcs/class/System.ServiceModel/HTTP_listener_notes.txt?view=log">http://anonsvn.mono-project.com/viewvc/trunk/mcs/class/System.ServiceModel/HTTP_listener_notes.txt?view=log</A>

If you still see the issue, please post a complete (but simplified) set 
of working repro code to bugzilla.

Atsushi Eno

On 2010/04/19 6:36, Iain Mcleod wrote:
&gt;<i> Also, I may as well add this stack trace, obtained when I switched my
</I>&gt;<i> services across to use WebMessageFormat.Xml with
</I>&gt;<i> WebMessageBodyStyle.Wrapped.  It happens every time I make a request.
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i> Iain
</I>&gt;<i>
</I>&gt;<i>                           ----------------------
</I>&gt;<i>
</I>&gt;<i> Exception There is already message property for Web body format   at
</I>&gt;<i> System.ServiceModel.Dispatcher.WebHttpDispatchOpera
</I>&gt;<i> tionSelector.SelectOperation (System.ServiceModel.Channels.Message&amp;  message,
</I>&gt;<i> System.Boolean&amp;  uriMatched) [0x00000] in&lt;f
</I>&gt;<i> ilename unknown&gt;:0
</I>&gt;<i>    at
</I>&gt;<i> System.ServiceModel.Dispatcher.WebHttpDispatchOperationSelector.SelectOperation
</I>&gt;<i> (System.ServiceModel.Channels.Messa
</I>&gt;<i> ge&amp;  message) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>    at System.ServiceModel.Dispatcher.OperationInvokerHandler.GetOperation
</I>&gt;<i> (System.ServiceModel.Channels.Message input, Sy
</I>&gt;<i> stem.ServiceModel.Dispatcher.DispatchRuntime dispatchRuntime) [0x00000] in
</I>&gt;<i> &lt;filename unknown&gt;:0
</I>&gt;<i>    at System.ServiceModel.Dispatcher.OperationInvokerHandler.ProcessRequest
</I>&gt;<i> (System.ServiceModel.Dispatcher.MessageProces
</I>&gt;<i> singContext mrc) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>    at
</I>&gt;<i> System.ServiceModel.Dispatcher.BaseRequestProcessorHandler.ProcessRequestChain
</I>&gt;<i> (System.ServiceModel.Dispatcher.Mess
</I>&gt;<i> ageProcessingContext mrc) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>    at
</I>&gt;<i> System.ServiceModel.Dispatcher.BaseRequestProcessorHandler.ProcessRequestChain
</I>&gt;<i> (System.ServiceModel.Dispatcher.Mess
</I>&gt;<i> ageProcessingContext mrc) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>    at
</I>&gt;<i> System.ServiceModel.Dispatcher.BaseRequestProcessorHandler.ProcessRequestChain
</I>&gt;<i> (System.ServiceModel.Dispatcher.Mess
</I>&gt;<i> ageProcessingContext mrc) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>    at System.ServiceModel.Dispatcher.HandlersChain.ProcessRequestChain
</I>&gt;<i> (System.ServiceModel.Dispatcher.MessageProcessingC
</I>&gt;<i> ontext mrc) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>    at System.ServiceModel.Dispatcher.BaseRequestProcessor.ProcessRequest
</I>&gt;<i> (System.ServiceModel.Dispatcher.MessageProcessin
</I>&gt;<i> gContext mrc) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i> System.NullReferenceException: Object reference not set to an instance of an
</I>&gt;<i> object
</I>&gt;<i>    at System.ServiceModel.Dispatcher.MessageProcessingContext.Reply (Boolean
</I>&gt;<i> useTimeout) [0x00000] in&lt;filename unknown&gt;:
</I>&gt;<i> 0
</I>&gt;<i>    at System.ServiceModel.Dispatcher.ErrorProcessingHandler.ProcessRequest
</I>&gt;<i> (System.ServiceModel.Dispatcher.MessageProcess
</I>&gt;<i> ingContext mrc) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>    at
</I>&gt;<i> System.ServiceModel.Dispatcher.BaseRequestProcessorHandler.ProcessRequestChain
</I>&gt;<i> (System.ServiceModel.Dispatcher.Mess
</I>&gt;<i> ageProcessingContext mrc) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>    at System.ServiceModel.Dispatcher.HandlersChain.ProcessRequestChain
</I>&gt;<i> (System.ServiceModel.Dispatcher.MessageProcessingC
</I>&gt;<i> ontext mrc) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>    at System.ServiceModel.Dispatcher.BaseRequestProcessor.ProcessRequest
</I>&gt;<i> (System.ServiceModel.Dispatcher.MessageProcessin
</I>&gt;<i> gContext mrc) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>    at
</I>&gt;<i> System.ServiceModel.Dispatcher.InputOrReplyRequestProcessor.ProcessReply
</I>&gt;<i> (System.ServiceModel.Channels.RequestConte
</I>&gt;<i> xt rc) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>    at System.ServiceModel.Dispatcher.ListenerLoopManager.ProcessRequest
</I>&gt;<i> (IReplyChannel reply, System.ServiceModel.Channel
</I>&gt;<i> s.RequestContext rc) [0x00000] in&lt;filename unknown&gt;:0
</I>&gt;<i>    
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044901.html">[Mono-list] WCF/JSON POST get error 415, expected content-type application/xml not application/json
</A></li>
	<LI>Next message: <A HREF="044908.html">[Mono-list] WCF/JSON POST get error 415, expected content-type application/xml not application/json
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44903">[ date ]</a>
              <a href="thread.html#44903">[ thread ]</a>
              <a href="subject.html#44903">[ subject ]</a>
              <a href="author.html#44903">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
