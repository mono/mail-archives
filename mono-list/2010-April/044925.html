<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Duplicate keys in hashtable when using Castle Monorail with Brail view engine
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Duplicate%20keys%20in%20hashtable%20when%20using%20Castle%0A%20Monorail%20with%20Brail%20view%20engine&In-Reply-To=hqq8mv%24vns%241%40dough.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044924.html">
   <LINK REL="Next"  HREF="044926.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Duplicate keys in hashtable when using Castle Monorail with Brail view engine</H1>
    <B>Simon Lindgren</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Duplicate%20keys%20in%20hashtable%20when%20using%20Castle%0A%20Monorail%20with%20Brail%20view%20engine&In-Reply-To=hqq8mv%24vns%241%40dough.gmane.org"
       TITLE="[Mono-list] Duplicate keys in hashtable when using Castle Monorail with Brail view engine">simon.n.lindgren at gmail.com
       </A><BR>
    <I>Thu Apr 22 19:33:55 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="044924.html">[Mono-list] Duplicate keys in hashtable when using Castle Monorail with Brail view engine
</A></li>
        <LI>Next message: <A HREF="044926.html">[Mono-list] fail to compite *.exe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44925">[ date ]</a>
              <a href="thread.html#44925">[ thread ]</a>
              <a href="subject.html#44925">[ subject ]</a>
              <a href="author.html#44925">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>tor 2010-04-22 klockan 21:40 +0200 skrev Robert Jordan:
&gt;<i> On 22.04.2010 19:57, Simon Lindgren wrote:
</I>&gt;<i> &gt; 	string path = &quot;path&quot;;
</I>&gt;<i> &gt; 	try {
</I>&gt;<i> 
</I>&gt;<i> This is a very interesting way of iterating over a dictionary ;)
</I>
Indeed :)

&gt;<i> 
</I>&gt;<i> &gt; 		for (IDictionaryEnumerator n = parameters.GetEnumerator(); ;) {
</I>&gt;<i> &gt; 			n.MoveNext();
</I>&gt;<i> &gt; 			if (((string)n.Value) == &quot;/Page1&quot;) {
</I>&gt;<i> &gt; 				Console.WriteLine(&quot;path.GetHashCode(): {0}&quot;, path.GetHashCode());
</I>&gt;<i> &gt; 				Console.WriteLine(&quot;Key.GetHashCode(): {0}&quot;, n.Key.GetHashCode());
</I>&gt;<i> &gt; 				Console.WriteLine(&quot;Key.Equals(path): {0}&quot;, n.Key.Equals(path));
</I>&gt;<i> &gt; 				Console.WriteLine(&quot;ReferenceEquals(Key, path): {0}&quot;, ReferenceEquals(n.Key, path));
</I>&gt;<i> &gt; 				Console.WriteLine(&quot;Key == path: {0}&quot;, n.Key == path);
</I>&gt;<i> 
</I>&gt;<i> n.Key == path will always be false here, because String.Equals
</I>&gt;<i> will *not* be called.
</I>
Not really an error, just me forgetting to remove it after adding the
ReferenceEquals call...

&gt;<i> 
</I>&gt;<i> You must cast n.Key to string:
</I>&gt;<i> 
</I>&gt;<i> 	(string)n.Key == path
</I>&gt;<i> 
</I>&gt;<i> Check your code for similar errors and if you still think you've
</I>&gt;<i> found a bug, please file a case in Bugzilla with a self-contained
</I>&gt;<i> test case anyone can compile.
</I>
I don't know how to reproduce this without the ASP.NET stack or the
dozen libs that is required for the Castle Framework. The code for this
is pretty small though, something like 200 lines or so including
configuration, but I don't believe it can be automated very easily.

The fact remains that I can get what seems to be a duplicate key into a
Hashtable, so something is not right, but I don't really know what to
try next.

-- 
Simon Lindgren
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 198 bytes
Desc: Detta =?ISO-8859-1?Q?=E4r?= en digitalt signerad
	meddelandedel
Url : <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20100423/92ad79fb/attachment.bin">http://lists.ximian.com/pipermail/mono-list/attachments/20100423/92ad79fb/attachment.bin</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044924.html">[Mono-list] Duplicate keys in hashtable when using Castle Monorail with Brail view engine
</A></li>
	<LI>Next message: <A HREF="044926.html">[Mono-list] fail to compite *.exe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44925">[ date ]</a>
              <a href="thread.html#44925">[ thread ]</a>
              <a href="subject.html#44925">[ subject ]</a>
              <a href="author.html#44925">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
