<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Exception with DllMap on Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Exception%20with%20DllMap%20on%20Windows&In-Reply-To=68660607-DD59-4AF1-9D28-AD888D03195B%40web.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044951.html">
   <LINK REL="Next"  HREF="044961.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Exception with DllMap on Windows</H1>
    <B>Alan McGovern</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Exception%20with%20DllMap%20on%20Windows&In-Reply-To=68660607-DD59-4AF1-9D28-AD888D03195B%40web.de"
       TITLE="[Mono-list] Exception with DllMap on Windows">alan.mcgovern at gmail.com
       </A><BR>
    <I>Sun Apr 25 06:54:18 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="044951.html">[Mono-list] Exception with DllMap on Windows
</A></li>
        <LI>Next message: <A HREF="044961.html">[Mono-list] Exception with DllMap on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44956">[ date ]</a>
              <a href="thread.html#44956">[ thread ]</a>
              <a href="subject.html#44956">[ subject ]</a>
              <a href="author.html#44956">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

On Sat, Apr 24, 2010 at 3:09 PM, Andreas F&#228;rber &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">andreas.faerber at web.de</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Am 24.04.2010 um 16:03 schrieb Alan McGovern:
</I>&gt;<i>
</I>&gt;&gt;<i> There's no need to place P/Invokes in a separate assembly. There's no
</I>&gt;&gt;<i> benefit to it. As was said before, just use the windows name for each
</I>&gt;&gt;<i> library in your code and on non-windows platforms include the .config
</I>&gt;&gt;<i> file with the dllmap sections in it.
</I>&gt;<i>
</I>&gt;<i> That does not help with having a .exe.config on Windows though. You then
</I>&gt;<i> need two configs and two binary distros.
</I>
You've misunderstood what I've said I think :) No matter what you do
you will always require either 1 or 2 .config files and 1 binary. Lets
take the typical example where the only reason for the .config is to
do dll remapping. In this (the most common) case, you will mark all
your P/Invokes with the windows binary name and distribute your binary
with no dllmap for windows based platforms.

If you want this binary to run unchanged on non-windows platforms
(maxos, linux) then all you have to do is ship the exact same binary
with a .config file containing the dllmaps. You do not require a
separate binary. So in this scenario you need 1 binary and 1 .config
file.

For the more complex case where your app has an existing .config file
which it requires on windows, you'll need two .config files. The
windows one will not contain the dllmap entries and the non-windows
one will. You still need only 1 binary in this case.

Alan.

&gt;<i>
</I>&gt;<i> Andreas
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044951.html">[Mono-list] Exception with DllMap on Windows
</A></li>
	<LI>Next message: <A HREF="044961.html">[Mono-list] Exception with DllMap on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44956">[ date ]</a>
              <a href="thread.html#44956">[ thread ]</a>
              <a href="subject.html#44956">[ subject ]</a>
              <a href="author.html#44956">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
