<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Invalid data from CP2102 USB device
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Invalid%20data%20from%20CP2102%20USB%20device&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044819.html">
   <LINK REL="Next"  HREF="044854.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Invalid data from CP2102 USB device</H1>
    <B>Steve Ricketts</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Invalid%20data%20from%20CP2102%20USB%20device&In-Reply-To="
       TITLE="[Mono-list] Invalid data from CP2102 USB device">velocedge at hotmail.com
       </A><BR>
    <I>Mon Apr 12 10:46:17 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="044819.html">[Mono-list] Is Mono appropriate for a GNU/Linux server	application?
</A></li>
        <LI>Next message: <A HREF="044854.html">[Mono-list] Invalid data from CP2102 USB device
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44839">[ date ]</a>
              <a href="thread.html#44839">[ thread ]</a>
              <a href="subject.html#44839">[ subject ]</a>
              <a href="author.html#44839">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I tried to use the DataReceived event to read from a CP2102 USB device.  I
found this article <A HREF="http://www.mono-project.com/HowToSystemIOPorts">http://www.mono-project.com/HowToSystemIOPorts</A> that says
&quot;There is no event notification for received serial data&quot;... which would
explain why the event wasn't firing.  However, it also says that at the time
of writing it's mono 1.2.2.

So, I used BackgroundWorker to set up a thread to continually look at
BytesToRead and grab the data.  It does that ok, but the data is not
correct.  It seems to be consistent, same data every time the same key is
pressed, but not the correct values.  The USB device is an RF receiver that
listens to wireless remote controls.  When I press a button on the wireless
remote, I get the proper packet size (8) but the values are off.  I'll
include an example below with the results from the same device in Windows:

Linux      Windows (correct values)
0 - 255   255
1 - 186   90
2 - 133   5
3 - 213   184
4 - 128   0
5 - 130   2
6 - 128   0
7 - 145   17

Using the same baud rate on Linux that I do with Windows (128000) I get
nothing from the receiver.  Switching to 115200 I get the data but as I
said, it's incorrect.  No other baud rates (I've tried many) give me any
response at all.

So I have the following questions:

1. Has anyone had any similar issues or know what else I could try?   
2. Does anyone know if that limitation has been fixed and is able to trigger
an event when data is received by the device?

sr


-- 
View this message in context: <A HREF="http://n4.nabble.com/Invalid-data-from-CP2102-USB-device-tp1837224p1837224.html">http://n4.nabble.com/Invalid-data-from-CP2102-USB-device-tp1837224p1837224.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044819.html">[Mono-list] Is Mono appropriate for a GNU/Linux server	application?
</A></li>
	<LI>Next message: <A HREF="044854.html">[Mono-list] Invalid data from CP2102 USB device
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44839">[ date ]</a>
              <a href="thread.html#44839">[ thread ]</a>
              <a href="subject.html#44839">[ subject ]</a>
              <a href="author.html#44839">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
