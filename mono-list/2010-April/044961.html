<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Exception with DllMap on Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Exception%20with%20DllMap%20on%20Windows&In-Reply-To=v2x117799f01004250354rcd3918a8w369ae20f1894a89f%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044956.html">
   <LINK REL="Next"  HREF="044962.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Exception with DllMap on Windows</H1>
    <B>Andreas F&#228;rber</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Exception%20with%20DllMap%20on%20Windows&In-Reply-To=v2x117799f01004250354rcd3918a8w369ae20f1894a89f%40mail.gmail.com"
       TITLE="[Mono-list] Exception with DllMap on Windows">andreas.faerber at web.de
       </A><BR>
    <I>Sun Apr 25 12:59:53 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="044956.html">[Mono-list] Exception with DllMap on Windows
</A></li>
        <LI>Next message: <A HREF="044962.html">[Mono-list] Exception with DllMap on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44961">[ date ]</a>
              <a href="thread.html#44961">[ thread ]</a>
              <a href="subject.html#44961">[ subject ]</a>
              <a href="author.html#44961">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Am 25.04.2010 um 12:54 schrieb Alan McGovern:

&gt;<i> On Sat, Apr 24, 2010 at 3:09 PM, Andreas F&#228;rber &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">andreas.faerber at web.de</A> 
</I>&gt;<i> &gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Am 24.04.2010 um 16:03 schrieb Alan McGovern:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> There's no need to place P/Invokes in a separate assembly. There's  
</I>&gt;&gt;&gt;<i> no
</I>&gt;&gt;&gt;<i> benefit to it. As was said before, just use the windows name for  
</I>&gt;&gt;&gt;<i> each
</I>&gt;&gt;&gt;<i> library in your code and on non-windows platforms include  
</I>&gt;&gt;&gt;<i> the .config
</I>&gt;&gt;&gt;<i> file with the dllmap sections in it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That does not help with having a .exe.config on Windows though. You  
</I>&gt;&gt;<i> then
</I>&gt;&gt;<i> need two configs and two binary distros.
</I>&gt;<i>
</I>&gt;<i> You've misunderstood what I've said I think :)
</I>
No, I understood that perfectly well and it is a valid solution. I did  
however offer an alternative solution that is valid just as well. They  
are for different use cases and it is up to the OP to decide which one  
suits him best.

Solution #1:
MyApp.exe
[MyApp.exe.config - .NET only w/ dllmap]
MyApp.exe.config - Mono only
-&gt; needs two binary distributions due to .exe.config

Solution #2:
MyApp.exe
MyApp.exe.config
MyPInvokes.dll
MyPInvokes.dll.config - w/ dllmap
-&gt; can be shared between .NET and Mono

There's differences in both files and packaging. If you want to zip it  
up and do write-once-run-everywhere then my solution is superior  
(think of Mono.Posix and of development on Windows); if you use OBS  
and thus don't care then your solution is easier, no question.

Hope that explains,

Andreas

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044956.html">[Mono-list] Exception with DllMap on Windows
</A></li>
	<LI>Next message: <A HREF="044962.html">[Mono-list] Exception with DllMap on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44961">[ date ]</a>
              <a href="thread.html#44961">[ thread ]</a>
              <a href="subject.html#44961">[ subject ]</a>
              <a href="author.html#44961">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
