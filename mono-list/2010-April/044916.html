<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] WinForms DataGridView does not add a new Row
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20WinForms%20DataGridView%20does%20not%20add%20a%20new%20Row&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044913.html">
   <LINK REL="Next"  HREF="044917.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] WinForms DataGridView does not add a new Row</H1>
    <B>Costantino Pipero</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20WinForms%20DataGridView%20does%20not%20add%20a%20new%20Row&In-Reply-To="
       TITLE="[Mono-list] WinForms DataGridView does not add a new Row">cos at beeond.net
       </A><BR>
    <I>Tue Apr 20 23:55:40 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="044913.html">[Mono-list] FOX
</A></li>
        <LI>Next message: <A HREF="044917.html">[Mono-list] WinForms DataGridView does not add a new Row
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44916">[ date ]</a>
              <a href="thread.html#44916">[ thread ]</a>
              <a href="subject.html#44916">[ subject ]</a>
              <a href="author.html#44916">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I have a very simple Winform app that I want to use to show the  
cross-platform development.

Basically, it's a WinForm DataGrid with 2 buttons that loads/change/save  
to and from an XML file.

It's pretty straight forward, and works perfectly in VS in Windows. It  
compiles and run in Mono and openSuse 11.2, but the DataGrid doesn't add  
the new blank row at the bottom that allows to enter new data (like it  
does in Windows).

Here's the form code



using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Text;
using System.Windows.Forms;

namespace MonoWinForms
{
     public partial class Form1 : Form
     {
         const string dataFile = &quot;Contacts.xml&quot;;

         public Form1()
         {
             InitializeComponent();
         }

         private void Form1_Load(object sender, EventArgs e)
         {
             if (System.IO.File.Exists(dataFile)) LoadData();
             else CreateData();
         }


         private void LoadData()
         {
             dsContacts.ReadXml(dataFile);
         }

         private void CreateData()
         {
             dsContacts.Contacts.AddContactsRow(&quot;&lt;First Name&gt;&quot;, &quot;&lt;Last  
Name&gt;&quot;, &quot;&lt;Email&gt;&quot;);
             dsContacts.WriteXml(dataFile, XmlWriteMode.WriteSchema);
         }

         private void btnSave_Click(object sender, EventArgs e)
         {
             dsContacts.Contacts.AcceptChanges();
             dsContacts.Contacts.WriteXml(dataFile,  
XmlWriteMode.WriteSchema);
         }

         private void btnDelete_Click(object sender, EventArgs e)
         {
             dataGridView1.Rows.RemoveAt(dataGridView1.CurrentRow.Index);
             btnSave_Click(sender, e);
         }



     }
}





Thanks for you help, I can send the whole VS solution if it helps (for the  
designer and the dataset)...

Cos
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044913.html">[Mono-list] FOX
</A></li>
	<LI>Next message: <A HREF="044917.html">[Mono-list] WinForms DataGridView does not add a new Row
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44916">[ date ]</a>
              <a href="thread.html#44916">[ thread ]</a>
              <a href="subject.html#44916">[ subject ]</a>
              <a href="author.html#44916">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
