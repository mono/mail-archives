<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Bad PKCS7 padding. Invalid length when using asp.net membership provider - a bug in mono?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Bad%20PKCS7%20padding.%20Invalid%20length%20when%20using%20asp.net%0A%20membership%20provider%20-%20a%20bug%20in%20mono%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043263.html">
   <LINK REL="Next"  HREF="043279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Bad PKCS7 padding. Invalid length when using asp.net membership provider - a bug in mono?</H1>
    <B>Piotr Walat</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Bad%20PKCS7%20padding.%20Invalid%20length%20when%20using%20asp.net%0A%20membership%20provider%20-%20a%20bug%20in%20mono%3F&In-Reply-To="
       TITLE="[Mono-list] Bad PKCS7 padding. Invalid length when using asp.net membership provider - a bug in mono?">piotr.walat at gmail.com
       </A><BR>
    <I>Thu Aug 13 11:26:21 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="043263.html">[Mono-list]  mono Visual Studio tools with Phalanger projects
</A></li>
        <LI>Next message: <A HREF="043279.html">[Mono-list]  Start from CD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43278">[ date ]</a>
              <a href="thread.html#43278">[ thread ]</a>
              <a href="subject.html#43278">[ subject ]</a>
              <a href="author.html#43278">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello 
i am using Nauckit Postgresql membership provider for asp.net
(<A HREF="http://dev.nauck-it.de/aspsqlprovider/">http://dev.nauck-it.de/aspsqlprovider/</A>) with passwordFormat set to
&quot;Encrypted&quot;.

I used Membership.CreateUser(string,string,string) method to create a user
and it worked flawlessly... however everytime i try to login using
registered user's credentials i get an exception:


Bad PKCS7 padding. Invalid length {some_number}

Stack trace:

System.Security.Cryptography.CryptographicException: Bad PKCS7 padding.
Invalid length 176.

  at Mono.Security.Cryptography.SymmetricTransform.ThrowBadPaddingException
(PaddingMode padding, Int32 length, Int32 position) [0x0005c] in
/var/tmp/portage/dev-lang/mono-2.4.2/work/mono-2.4.2/mcs/class/corlib/Mono.Security.Cryptography/SymmetricTransform.cs:363 

  at Mono.Security.Cryptography.SymmetricTransform.FinalDecrypt
(System.Byte[] inputBuffer, Int32 inputOffset, Int32 inputCount) [0x001a3]
in
/var/tmp/portage/dev-lang/mono-2.4.2/work/mono-2.4.2/mcs/class/corlib/Mono.Security.Cryptography/SymmetricTransform.cs:515 

  at Mono.Security.Cryptography.SymmetricTransform.TransformFinalBlock
(System.Byte[] inputBuffer, Int32 inputOffset, Int32 inputCount) [0x00034]
in
/var/tmp/portage/dev-lang/mono-2.4.2/work/mono-2.4.2/mcs/class/corlib/Mono.Security.Cryptography/SymmetricTransform.cs:554 

  at
System.Security.Cryptography.RijndaelManagedTransform.TransformFinalBlock
(System.Byte[] inputBuffer, Int32 inputOffset, Int32 inputCount) [0x00000]
in
/var/tmp/portage/dev-lang/mono-2.4.2/work/mono-2.4.2/mcs/class/corlib/System.Security.Cryptography/RijndaelManagedTransform.cs:94 

  at System.Web.Security.MembershipProvider.DecryptPassword (System.Byte[]
encodedPassword) [0x00017] in
/var/tmp/portage/dev-lang/mono-2.4.2/work/mono-2.4.2/mcs/class/System.Web/System.Web.Security/MembershipProvider.cs:123 

  at NauckIT.PostgreSQLProvider.PgMembershipProvider.UnEncodePassword
(System.String encodedPassword) [0x00025] in
/home/pw/projects/ptest/ASPNetProvider/src/NauckIT.PostgreSQLProvider/PgMembershipProvider.cs:1432 

  at NauckIT.PostgreSQLProvider.PgMembershipProvider.CheckPassword
(System.String password, System.String dbpassword) [0x0001e] in
/home/pw/projects/ptest/ASPNetProvider/src/NauckIT.PostgreSQLProvider/PgMembershipProvider.cs:1366 

  at NauckIT.PostgreSQLProvider.PgMembershipProvider.ValidateUser
(System.String username, System.String password) [0x00144] in
/home/pw/projects/ptest/ASPNetProvider/src/NauckIT.PostgreSQLProvider/PgMembershipProvider.cs:1241 

  at System.Web.UI.WebControls.Login.AuthenticateUser () [0x00087] in
/var/tmp/portage/dev-lang/mono-2.4.2/work/mono-2.4.2/mcs/class/System.Web/System.Web.UI.WebControls/Login.cs:1289 

  at System.Web.UI.WebControls.Login.OnBubbleEvent (System.Object source,
System.EventArgs e) [0x00023] in
/var/tmp/portage/dev-lang/mono-2.4.2/work/mono-2.4.2/mcs/class/System.Web/System.Web.UI.WebControls/Login.cs:1119 

Version information:  Mono Version: 2.0.50727.1433; ASP.NET Version:
2.0.50727.1433


Well is it likely to be a bug in mono or am I doing something wrong?
 
-- 
View this message in context: <A HREF="http://www.nabble.com/Bad-PKCS7-padding.-Invalid-length-when-using-asp.net-membership-provider---a-bug-in-mono--tp24955064p24955064.html">http://www.nabble.com/Bad-PKCS7-padding.-Invalid-length-when-using-asp.net-membership-provider---a-bug-in-mono--tp24955064p24955064.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.

</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043263.html">[Mono-list]  mono Visual Studio tools with Phalanger projects
</A></li>
	<LI>Next message: <A HREF="043279.html">[Mono-list]  Start from CD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43278">[ date ]</a>
              <a href="thread.html#43278">[ thread ]</a>
              <a href="subject.html#43278">[ subject ]</a>
              <a href="author.html#43278">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
