<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Autofac 3.0.1 on Mono 3.0.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Autofac%203.0.1%20on%20Mono%203.0.5&In-Reply-To=%3C5134C084.1090503%40uci.ru.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049637.html">
   <LINK REL="Next"  HREF="049640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Autofac 3.0.1 on Mono 3.0.5</H1>
    <B>Erik Schierboom</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Autofac%203.0.1%20on%20Mono%203.0.5&In-Reply-To=%3C5134C084.1090503%40uci.ru.nl%3E"
       TITLE="[Mono-list] Autofac 3.0.1 on Mono 3.0.5">e.schierboom at uci.ru.nl
       </A><BR>
    <I>Mon Mar  4 15:40:52 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="049637.html">[Mono-list] Autofac 3.0.1 on Mono 3.0.5
</A></li>
        <LI>Next message: <A HREF="049640.html">[Mono-list] Autofac 3.0.1 on Mono 3.0.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49642">[ date ]</a>
              <a href="thread.html#49642">[ thread ]</a>
              <a href="subject.html#49642">[ subject ]</a>
              <a href="author.html#49642">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Okay, I'll do that. Good luck on the PCL support. I do see more and more 
libraries moving to PCL format due to the large number of different 
platforms it can run on unmodified.

Op 4-3-2013 16:39, Rodrigo Kumpera schreef:
&gt;<i> Unfortunately running PCL binaries are hit-and-miss right now, so try 
</I>&gt;<i> to use binaries compiled against .NET 4.5.
</I>&gt;<i>
</I>&gt;<i> We're working on PCL, but there's no timeframe on when it will be 
</I>&gt;<i> available.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Mar 4, 2013 at 4:01 AM, Erik Schierboom 
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">e.schierboom at uci.ru.nl</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">e.schierboom at uci.ru.nl</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     Hi,
</I>&gt;<i>
</I>&gt;<i>     Yes I am trying to consume a PCL libary. You say that Mono does
</I>&gt;<i>     not support PCL libraries, but the PCL library version without
</I>&gt;<i>     extension methods works fine. The problem is there solely with the
</I>&gt;<i>     PCL library version that contains extension methods.
</I>&gt;<i>
</I>&gt;<i>     Erik
</I>&gt;<i>
</I>&gt;<i>     Op 1-3-2013 16:35, Rodrigo Kumpera schreef:
</I>&gt;&gt;<i>     Are you trying to compile a PCL version of this lib? Mono doesn't
</I>&gt;&gt;<i>     support PCL.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     On Fri, Mar 1, 2013 at 8:25 AM, Alan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">alan.mcgovern at gmail.com</A>
</I>&gt;&gt;<i>     &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">alan.mcgovern at gmail.com</A>&gt;&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         This should be fixed by updating your mono to 3.0.6 or higher.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         Thanks,
</I>&gt;&gt;<i>         Alan
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         On 27 February 2013 13:34, Erik Schierboom
</I>&gt;&gt;<i>         &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">e.schierboom at uci.ru.nl</A> &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">e.schierboom at uci.ru.nl</A>&gt;&gt; wrote:
</I>&gt;&gt;<i>         &gt; I have been trying to get Autofac 3.0.1 working on Mono,
</I>&gt;&gt;<i>         but have so far
</I>&gt;&gt;<i>         &gt; been unsuccessful. When I try to run an application that
</I>&gt;&gt;<i>         references Autofac
</I>&gt;&gt;<i>         &gt; 3.0.1 on Mono 3.0.5, I get the following exception:
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader probing location:
</I>&gt;&gt;<i>         &gt; '/opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll'.
</I>&gt;&gt;<i>         &gt;     Mono: Image addref mscorlib[0x14ce2c70] -&gt;
</I>&gt;&gt;<i>         &gt; /opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll[0x14ce1ec0]: 2
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader probing location:
</I>&gt;&gt;<i>         &gt; '/opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll'.
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader loaded assembly from location:
</I>&gt;&gt;<i>         &gt; '/opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll'.
</I>&gt;&gt;<i>         &gt;     Mono: Assembly mscorlib[0x14ce2c70] added to domain
</I>&gt;&gt;<i>         &gt; ConsoleApplication1.exe, ref_count=1
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader probing location:
</I>&gt;&gt;<i>         'ConsoleApplication1.exe'.
</I>&gt;&gt;<i>         &gt;     Mono: Image addref ConsoleApplication1[0x14d20230] -&gt;
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         /var/www/sites/erik/monoconsole/ConsoleApplication1.exe[0x14d1f4a0]:
</I>&gt;&gt;<i>         2
</I>&gt;&gt;<i>         &gt;     Mono: Assembly ConsoleApplication1[0x14d20230] added to
</I>&gt;&gt;<i>         domain
</I>&gt;&gt;<i>         &gt; ConsoleApplication1.exe, ref_count=1
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader loaded assembly from location:
</I>&gt;&gt;<i>         &gt; 'ConsoleApplication1.exe'.
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader probing location:
</I>&gt;&gt;<i>         'ConsoleApplication1.exe'.
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Ref addref
</I>&gt;&gt;<i>         ConsoleApplication1[0x14d20230] -&gt;
</I>&gt;&gt;<i>         &gt; mscorlib[0x14ce2c70]: 2
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader probing location:
</I>&gt;&gt;<i>         &gt; '/var/www/sites/erik/monoconsole/Autofac.dll'.
</I>&gt;&gt;<i>         &gt;     Mono: Image addref Autofac[0x14d269b0] -&gt;
</I>&gt;&gt;<i>         &gt; /var/www/sites/erik/monoconsole/Autofac.dll[0x14d25c40]: 2
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Autofac[0x14d269b0] added to domain
</I>&gt;&gt;<i>         &gt; ConsoleApplication1.exe, ref_count=1
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader loaded assembly from location:
</I>&gt;&gt;<i>         &gt; '/var/www/sites/erik/monoconsole/Autofac.dll'.
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Ref addref
</I>&gt;&gt;<i>         ConsoleApplication1[0x14d20230] -&gt;
</I>&gt;&gt;<i>         &gt; Autofac[0x14d269b0]: 2
</I>&gt;&gt;<i>         &gt;     Mono: The request to load the retargetable assembly
</I>&gt;&gt;<i>         mscorlib v2.0.5.0
</I>&gt;&gt;<i>         &gt; was remapped to mscorlib v4.0.0.0
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Ref addref Autofac[0x14d269b0] -&gt;
</I>&gt;&gt;<i>         mscorlib[0x14ce2c70]: 3
</I>&gt;&gt;<i>         &gt;     Mono: The request to load the retargetable assembly
</I>&gt;&gt;<i>         System.Core v2.0.5.0
</I>&gt;&gt;<i>         &gt; was remapped to System.Core v4.0.0.0
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader probing location:
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         '/opt/mono-3.0.5/lib/mono/gac/System.Core/4.0.0.0__7cec85d7bea7798e/System.Core.dll'.
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader probing location:
</I>&gt;&gt;<i>         &gt; '/var/www/sites/erik/monoconsole/System.Core.dll'.
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader probing location:
</I>&gt;&gt;<i>         &gt; '/opt/mono-3.0.5/lib/System.Core.dll'.
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader probing location:
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         '/opt/mono-3.0.5/lib/mono/gac/System.Core/4.0.0.0__7cec85d7bea7798e/System.Core.exe'.
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader probing location:
</I>&gt;&gt;<i>         &gt; '/var/www/sites/erik/monoconsole/System.Core.exe'.
</I>&gt;&gt;<i>         &gt;     Mono: Assembly Loader probing location:
</I>&gt;&gt;<i>         &gt; '/opt/mono-3.0.5/lib/System.Core.exe'.
</I>&gt;&gt;<i>         &gt;     Mono: The following assembly referenced from
</I>&gt;&gt;<i>         &gt; /var/www/sites/erik/monoconsole/Autofac.dll could not be
</I>&gt;&gt;<i>         loaded:
</I>&gt;&gt;<i>         &gt;          Assembly:   System.Core  (assemblyref_index=1)
</I>&gt;&gt;<i>         &gt;          Version:    2.0.5.0
</I>&gt;&gt;<i>         &gt;          Public Key: 7cec85d7bea7798e
</I>&gt;&gt;<i>         &gt;     The assembly was not found in the Global Assembly
</I>&gt;&gt;<i>         Cache, a path listed
</I>&gt;&gt;<i>         &gt; in the MONO_PATH environment variable, or in the location
</I>&gt;&gt;<i>         of the executing
</I>&gt;&gt;<i>         &gt; assembly (/var/www/sites/erik/monoconsole/).
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         &gt;     Mono: Failed to load assembly Autofac[0x14d269b0]
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         &gt;     Mono: Could not load file or assembly 'System.Core,
</I>&gt;&gt;<i>         Version=2.0.5.0,
</I>&gt;&gt;<i>         &gt; Culture=neutral, PublicKeyToken=7cec85d7bea7798e,
</I>&gt;&gt;<i>         Retargetable=Yes' or one
</I>&gt;&gt;<i>         &gt; of its dependencies.
</I>&gt;&gt;<i>         &gt;     Missing method .ctor in assembly
</I>&gt;&gt;<i>         &gt; /var/www/sites/erik/monoconsole/Autofac.dll, type
</I>&gt;&gt;<i>         &gt; System.Runtime.CompilerServices.ExtensionAttribute
</I>&gt;&gt;<i>         &gt;     Can't find custom attr constructor image:
</I>&gt;&gt;<i>         &gt; /var/www/sites/erik/monoconsole/Autofac.dll mtoken: 0x0a000015
</I>&gt;&gt;<i>         &gt;     Hello!
</I>&gt;&gt;<i>         &gt;     Mono: Unloading domain
</I>&gt;&gt;<i>         ConsoleApplication1.exe[0x2aaaab6f1cc0], assembly
</I>&gt;&gt;<i>         &gt; mscorlib[0x14ce2c70], ref_count=3
</I>&gt;&gt;<i>         &gt;     Mono: Unloading domain
</I>&gt;&gt;<i>         ConsoleApplication1.exe[0x2aaaab6f1cc0], assembly
</I>&gt;&gt;<i>         &gt; ConsoleApplication1[0x14d20230], ref_count=1
</I>&gt;&gt;<i>         &gt;     Mono: Unloading assembly ConsoleApplication1 [0x14d20230].
</I>&gt;&gt;<i>         &gt;     Mono: Unloading image
</I>&gt;&gt;<i>         &gt; /var/www/sites/erik/monoconsole/ConsoleApplication1.exe
</I>&gt;&gt;<i>         [0x14d1f4a0].
</I>&gt;&gt;<i>         &gt;     Mono: Unloading domain
</I>&gt;&gt;<i>         ConsoleApplication1.exe[0x2aaaab6f1cc0], assembly
</I>&gt;&gt;<i>         &gt; Autofac[0x14d269b0], ref_count=1
</I>&gt;&gt;<i>         &gt;     Mono: Unloading assembly Autofac [0x14d269b0].
</I>&gt;&gt;<i>         &gt;     Mono: Unloading image
</I>&gt;&gt;<i>         /var/www/sites/erik/monoconsole/Autofac.dll
</I>&gt;&gt;<i>         &gt; [0x14d25c40].
</I>&gt;&gt;<i>         &gt;     Mono: Unloading assembly mscorlib [0x14ce2c70].
</I>&gt;&gt;<i>         &gt;     Mono: Unloading image
</I>&gt;&gt;<i>         /opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll
</I>&gt;&gt;<i>         &gt; [0x14ce1ec0].
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         &gt; There are several things to note. First, it appears that
</I>&gt;&gt;<i>         System.Core 2.0.5.0
</I>&gt;&gt;<i>         &gt; could not be loaded. Could this be due to Autofac 3.0.1
</I>&gt;&gt;<i>         being a portable
</I>&gt;&gt;<i>         &gt; class library?
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         &gt; This problem also results in the second issue, where there
</I>&gt;&gt;<i>         is a Missing
</I>&gt;&gt;<i>         &gt; method .ctor in
</I>&gt;&gt;<i>         System.Runtime.CompilerServices.ExtensionAttribute. I have
</I>&gt;&gt;<i>         &gt; found some information about this problem, and it appears
</I>&gt;&gt;<i>         that this problem
</I>&gt;&gt;<i>         &gt; is due to the ExtensionAttribute class being moved from one
</I>&gt;&gt;<i>         DLL to another:
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         <A HREF="http://www.lextm.com/2013/02/how-to-use-nuget-on-mono-part-iv.html">http://www.lextm.com/2013/02/how-to-use-nuget-on-mono-part-iv.html</A>
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         &gt; This problem can be reproduced as follows (see
</I>&gt;&gt;<i>         &gt; <A HREF="https://gist.github.com/ErikSchierboom/5047101">https://gist.github.com/ErikSchierboom/5047101</A>):
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         &gt;  1. Create a .NET 4.0 console application
</I>&gt;&gt;<i>         &gt;  2. Add a reference to Autofac 3.0.1 (e.g. through NuGet)
</I>&gt;&gt;<i>         &gt;  3. Create an instance of the `ContainerBuilder` class
</I>&gt;&gt;<i>         &gt;  4. Build the console application
</I>&gt;&gt;<i>         &gt;  5. Run the console application under Mono
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         &gt; Does anyone have an idea on how to solve this problem?
</I>&gt;&gt;<i>         &gt; _______________________________________________
</I>&gt;&gt;<i>         &gt; Mono-list maillist  - <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;<i>         &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>&gt;
</I>&gt;&gt;<i>         &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;&gt;<i>         _______________________________________________
</I>&gt;&gt;<i>         Mono-list maillist  - <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;<i>         &lt;mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>&gt;
</I>&gt;&gt;<i>         <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20130304/380aa335/attachment-0001.html">http://lists.ximian.com/pipermail/mono-list/attachments/20130304/380aa335/attachment-0001.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049637.html">[Mono-list] Autofac 3.0.1 on Mono 3.0.5
</A></li>
	<LI>Next message: <A HREF="049640.html">[Mono-list] Autofac 3.0.1 on Mono 3.0.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49642">[ date ]</a>
              <a href="thread.html#49642">[ thread ]</a>
              <a href="subject.html#49642">[ subject ]</a>
              <a href="author.html#49642">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
