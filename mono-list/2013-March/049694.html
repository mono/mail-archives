<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Poor Mono performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Poor%20Mono%20performance&In-Reply-To=%3C00057A89FA881C4EA7F424AEC9F1F62641DE13DC%40LV-EXMBX03.ad.agi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049689.html">
   <LINK REL="Next"  HREF="049695.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Poor Mono performance</H1>
    <B>Olajos, Imre</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Poor%20Mono%20performance&In-Reply-To=%3C00057A89FA881C4EA7F424AEC9F1F62641DE13DC%40LV-EXMBX03.ad.agi%3E"
       TITLE="[Mono-list] Poor Mono performance">IOlajos at ballytech.com
       </A><BR>
    <I>Tue Mar 12 16:32:43 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="049689.html">[Mono-list] Poor Mono performance
</A></li>
        <LI>Next message: <A HREF="049695.html">[Mono-list] Poor Mono performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49694">[ date ]</a>
              <a href="thread.html#49694">[ thread ]</a>
              <a href="subject.html#49694">[ subject ]</a>
              <a href="author.html#49694">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> I downloaded the file you linked above, and compiled it, .Net 4 Windows 7 x86_64 dual core intel i5.  It ran in 3.3 sec.  I then ran on the exact same machine in windows mono 2.10.9 and it ran in 3.66 sec.
</I>
That's interesting. I wonder why the difference is so dramatic on my machine? If this was the difference in performance on my setup, too, I would be totally okay with that...

&gt;<i> Mono 3.41
</I>
What version of Mono is this???

--
Imre


-----Original Message-----
From: edward.harvey.mono [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">edward.harvey.mono at clevertrove.com</A>] 
Sent: Tuesday, March 12, 2013 7:06 AM
To: Olajos, Imre; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
Subject: RE: [Mono-list] Poor Mono performance

&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A> [mailto:mono-list- 
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">bounces at lists.ximian.com</A>] On Behalf Of imreolajos
</I>&gt;<i> 
</I>&gt;<i> SpeedTest.cs
</I>&gt;<i> &lt;<A HREF="http://mono.1490590.n4.nabble.com/file/n4658877/SpeedTest.cs">http://mono.1490590.n4.nabble.com/file/n4658877/SpeedTest.cs</A>&gt;
</I>
Ok, you've provided some source code, you said it is important to you, and it represents your real life work load.  You've said you had some performance problems with it and would like to know why and what to do about it ...  Other people here have commented that it seems we're avoiding the problem.

So, I'll bite:

I downloaded the file you linked above, and compiled it, .Net 4 Windows 7 x86_64 dual core intel i5.  It ran in 3.3 sec.  I then ran on the exact same machine in windows mono 2.10.9 and it ran in 3.66 sec.  To eliminate sampling error, I ran repeatedly, and alternatingly.  Windows 3.4, Mono 3.41, Win 3.3, Mono 3.41, Win 3.3, Mono 3.43

While the mono performance is a little lower, it's not dramatic.

I then set var totals = new List&lt;int&gt;() { 10, 10, 100, 100, 1000 }; to make the job run longer, and ran again.  Win 32.7, Mono 32.8, Win 32.4, Mono 32.9

Even less dramatic.

I set the totals list back to the original presets.  Deployed the .exe to a slightly slower windows 7 x86_64 virtual machine with 2 cpu's and 1 g ram, and also deployed (and recompiled) to a fedora 17 x86_64 machine, mono 2.10.8 installed via yum.  The win &amp; lin machines have identical system specs, running on the same host hardware.  win 4.9, lin 3.2, win 4.9, lin 3.2, win 4.9, lin 3.2

The most dramatic result we're seeing in any of these tests, is that mono for linux is significantly faster than .Net for this particular task, while mono for windows is slightly slower than .Net.  Again, specifically for this test case in this configuration.  I would not be comfortable generalizing anything from this.  I bet you'll see different results with different patch levels of Windows or linux, different versions of .Net, different versions of mono, different on 32bit vs 64bit hardware, etc.


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049689.html">[Mono-list] Poor Mono performance
</A></li>
	<LI>Next message: <A HREF="049695.html">[Mono-list] Poor Mono performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49694">[ date ]</a>
              <a href="thread.html#49694">[ thread ]</a>
              <a href="subject.html#49694">[ subject ]</a>
              <a href="author.html#49694">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
