<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Autofac 3.0.1 on Mono 3.0.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Autofac%203.0.1%20on%20Mono%203.0.5&In-Reply-To=%3C51346270.1080104%40uci.ru.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049642.html">
   <LINK REL="Next"  HREF="049633.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Autofac 3.0.1 on Mono 3.0.5</H1>
    <B>Erik Schierboom</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Autofac%203.0.1%20on%20Mono%203.0.5&In-Reply-To=%3C51346270.1080104%40uci.ru.nl%3E"
       TITLE="[Mono-list] Autofac 3.0.1 on Mono 3.0.5">e.schierboom at uci.ru.nl
       </A><BR>
    <I>Mon Mar  4 08:59:28 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="049642.html">[Mono-list] Autofac 3.0.1 on Mono 3.0.5
</A></li>
        <LI>Next message: <A HREF="049633.html">[Mono-list] DynamicObject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49640">[ date ]</a>
              <a href="thread.html#49640">[ thread ]</a>
              <a href="subject.html#49640">[ subject ]</a>
              <a href="author.html#49640">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alan,

Unfortunately, I can confirm that updating to Mono 3.0.6 does not solve 
the problem.

With regards,

Erik

Op 1-3-2013 14:25, Alan schreef:
&gt;<i> This should be fixed by updating your mono to 3.0.6 or higher.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Alan
</I>&gt;<i>
</I>&gt;<i> On 27 February 2013 13:34, Erik Schierboom &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">e.schierboom at uci.ru.nl</A>&gt; wrote:
</I>&gt;&gt;<i> I have been trying to get Autofac 3.0.1 working on Mono, but have so far
</I>&gt;&gt;<i> been unsuccessful. When I try to run an application that references Autofac
</I>&gt;&gt;<i> 3.0.1 on Mono 3.0.5, I get the following exception:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Mono: Assembly Loader probing location:
</I>&gt;&gt;<i> '/opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll'.
</I>&gt;&gt;<i>      Mono: Image addref mscorlib[0x14ce2c70] -&gt;
</I>&gt;&gt;<i> /opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll[0x14ce1ec0]: 2
</I>&gt;&gt;<i>      Mono: Assembly Loader probing location:
</I>&gt;&gt;<i> '/opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll'.
</I>&gt;&gt;<i>      Mono: Assembly Loader loaded assembly from location:
</I>&gt;&gt;<i> '/opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll'.
</I>&gt;&gt;<i>      Mono: Assembly mscorlib[0x14ce2c70] added to domain
</I>&gt;&gt;<i> ConsoleApplication1.exe, ref_count=1
</I>&gt;&gt;<i>      Mono: Assembly Loader probing location: 'ConsoleApplication1.exe'.
</I>&gt;&gt;<i>      Mono: Image addref ConsoleApplication1[0x14d20230] -&gt;
</I>&gt;&gt;<i> /var/www/sites/erik/monoconsole/ConsoleApplication1.exe[0x14d1f4a0]: 2
</I>&gt;&gt;<i>      Mono: Assembly ConsoleApplication1[0x14d20230] added to domain
</I>&gt;&gt;<i> ConsoleApplication1.exe, ref_count=1
</I>&gt;&gt;<i>      Mono: Assembly Loader loaded assembly from location:
</I>&gt;&gt;<i> 'ConsoleApplication1.exe'.
</I>&gt;&gt;<i>      Mono: Assembly Loader probing location: 'ConsoleApplication1.exe'.
</I>&gt;&gt;<i>      Mono: Assembly Ref addref ConsoleApplication1[0x14d20230] -&gt;
</I>&gt;&gt;<i> mscorlib[0x14ce2c70]: 2
</I>&gt;&gt;<i>      Mono: Assembly Loader probing location:
</I>&gt;&gt;<i> '/var/www/sites/erik/monoconsole/Autofac.dll'.
</I>&gt;&gt;<i>      Mono: Image addref Autofac[0x14d269b0] -&gt;
</I>&gt;&gt;<i> /var/www/sites/erik/monoconsole/Autofac.dll[0x14d25c40]: 2
</I>&gt;&gt;<i>      Mono: Assembly Autofac[0x14d269b0] added to domain
</I>&gt;&gt;<i> ConsoleApplication1.exe, ref_count=1
</I>&gt;&gt;<i>      Mono: Assembly Loader loaded assembly from location:
</I>&gt;&gt;<i> '/var/www/sites/erik/monoconsole/Autofac.dll'.
</I>&gt;&gt;<i>      Mono: Assembly Ref addref ConsoleApplication1[0x14d20230] -&gt;
</I>&gt;&gt;<i> Autofac[0x14d269b0]: 2
</I>&gt;&gt;<i>      Mono: The request to load the retargetable assembly mscorlib v2.0.5.0
</I>&gt;&gt;<i> was remapped to mscorlib v4.0.0.0
</I>&gt;&gt;<i>      Mono: Assembly Ref addref Autofac[0x14d269b0] -&gt; mscorlib[0x14ce2c70]: 3
</I>&gt;&gt;<i>      Mono: The request to load the retargetable assembly System.Core v2.0.5.0
</I>&gt;&gt;<i> was remapped to System.Core v4.0.0.0
</I>&gt;&gt;<i>      Mono: Assembly Loader probing location:
</I>&gt;&gt;<i> '/opt/mono-3.0.5/lib/mono/gac/System.Core/4.0.0.0__7cec85d7bea7798e/System.Core.dll'.
</I>&gt;&gt;<i>      Mono: Assembly Loader probing location:
</I>&gt;&gt;<i> '/var/www/sites/erik/monoconsole/System.Core.dll'.
</I>&gt;&gt;<i>      Mono: Assembly Loader probing location:
</I>&gt;&gt;<i> '/opt/mono-3.0.5/lib/System.Core.dll'.
</I>&gt;&gt;<i>      Mono: Assembly Loader probing location:
</I>&gt;&gt;<i> '/opt/mono-3.0.5/lib/mono/gac/System.Core/4.0.0.0__7cec85d7bea7798e/System.Core.exe'.
</I>&gt;&gt;<i>      Mono: Assembly Loader probing location:
</I>&gt;&gt;<i> '/var/www/sites/erik/monoconsole/System.Core.exe'.
</I>&gt;&gt;<i>      Mono: Assembly Loader probing location:
</I>&gt;&gt;<i> '/opt/mono-3.0.5/lib/System.Core.exe'.
</I>&gt;&gt;<i>      Mono: The following assembly referenced from
</I>&gt;&gt;<i> /var/www/sites/erik/monoconsole/Autofac.dll could not be loaded:
</I>&gt;&gt;<i>           Assembly:   System.Core    (assemblyref_index=1)
</I>&gt;&gt;<i>           Version:    2.0.5.0
</I>&gt;&gt;<i>           Public Key: 7cec85d7bea7798e
</I>&gt;&gt;<i>      The assembly was not found in the Global Assembly Cache, a path listed
</I>&gt;&gt;<i> in the MONO_PATH environment variable, or in the location of the executing
</I>&gt;&gt;<i> assembly (/var/www/sites/erik/monoconsole/).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Mono: Failed to load assembly Autofac[0x14d269b0]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Mono: Could not load file or assembly 'System.Core, Version=2.0.5.0,
</I>&gt;&gt;<i> Culture=neutral, PublicKeyToken=7cec85d7bea7798e, Retargetable=Yes' or one
</I>&gt;&gt;<i> of its dependencies.
</I>&gt;&gt;<i>      Missing method .ctor in assembly
</I>&gt;&gt;<i> /var/www/sites/erik/monoconsole/Autofac.dll, type
</I>&gt;&gt;<i> System.Runtime.CompilerServices.ExtensionAttribute
</I>&gt;&gt;<i>      Can't find custom attr constructor image:
</I>&gt;&gt;<i> /var/www/sites/erik/monoconsole/Autofac.dll mtoken: 0x0a000015
</I>&gt;&gt;<i>      Hello!
</I>&gt;&gt;<i>      Mono: Unloading domain ConsoleApplication1.exe[0x2aaaab6f1cc0], assembly
</I>&gt;&gt;<i> mscorlib[0x14ce2c70], ref_count=3
</I>&gt;&gt;<i>      Mono: Unloading domain ConsoleApplication1.exe[0x2aaaab6f1cc0], assembly
</I>&gt;&gt;<i> ConsoleApplication1[0x14d20230], ref_count=1
</I>&gt;&gt;<i>      Mono: Unloading assembly ConsoleApplication1 [0x14d20230].
</I>&gt;&gt;<i>      Mono: Unloading image
</I>&gt;&gt;<i> /var/www/sites/erik/monoconsole/ConsoleApplication1.exe [0x14d1f4a0].
</I>&gt;&gt;<i>      Mono: Unloading domain ConsoleApplication1.exe[0x2aaaab6f1cc0], assembly
</I>&gt;&gt;<i> Autofac[0x14d269b0], ref_count=1
</I>&gt;&gt;<i>      Mono: Unloading assembly Autofac [0x14d269b0].
</I>&gt;&gt;<i>      Mono: Unloading image /var/www/sites/erik/monoconsole/Autofac.dll
</I>&gt;&gt;<i> [0x14d25c40].
</I>&gt;&gt;<i>      Mono: Unloading assembly mscorlib [0x14ce2c70].
</I>&gt;&gt;<i>      Mono: Unloading image /opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll
</I>&gt;&gt;<i> [0x14ce1ec0].
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There are several things to note. First, it appears that System.Core 2.0.5.0
</I>&gt;&gt;<i> could not be loaded. Could this be due to Autofac 3.0.1 being a portable
</I>&gt;&gt;<i> class library?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This problem also results in the second issue, where there is a Missing
</I>&gt;&gt;<i> method .ctor in System.Runtime.CompilerServices.ExtensionAttribute. I have
</I>&gt;&gt;<i> found some information about this problem, and it appears that this problem
</I>&gt;&gt;<i> is due to the ExtensionAttribute class being moved from one DLL to another:
</I>&gt;&gt;<i> <A HREF="http://www.lextm.com/2013/02/how-to-use-nuget-on-mono-part-iv.html">http://www.lextm.com/2013/02/how-to-use-nuget-on-mono-part-iv.html</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This problem can be reproduced as follows (see
</I>&gt;&gt;<i> <A HREF="https://gist.github.com/ErikSchierboom/5047101">https://gist.github.com/ErikSchierboom/5047101</A>):
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   1. Create a .NET 4.0 console application
</I>&gt;&gt;<i>   2. Add a reference to Autofac 3.0.1 (e.g. through NuGet)
</I>&gt;&gt;<i>   3. Create an instance of the `ContainerBuilder` class
</I>&gt;&gt;<i>   4. Build the console application
</I>&gt;&gt;<i>   5. Run the console application under Mono
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Does anyone have an idea on how to solve this problem?
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049642.html">[Mono-list] Autofac 3.0.1 on Mono 3.0.5
</A></li>
	<LI>Next message: <A HREF="049633.html">[Mono-list] DynamicObject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49640">[ date ]</a>
              <a href="thread.html#49640">[ thread ]</a>
              <a href="subject.html#49640">[ subject ]</a>
              <a href="author.html#49640">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
