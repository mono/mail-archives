<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Autofac 3.0.1 on Mono 3.0.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Autofac%203.0.1%20on%20Mono%203.0.5&In-Reply-To=%3CCACmR%2BBA%2BkeFpAk0pZnsLQLTiPpX8zdb74TTBtDYCEhy34kH0ew%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="049632.html">
   <LINK REL="Next"  HREF="049641.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Autofac 3.0.1 on Mono 3.0.5</H1>
    <B>Rodrigo Kumpera</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=Re%3A%20%5BMono-list%5D%20Autofac%203.0.1%20on%20Mono%203.0.5&In-Reply-To=%3CCACmR%2BBA%2BkeFpAk0pZnsLQLTiPpX8zdb74TTBtDYCEhy34kH0ew%40mail.gmail.com%3E"
       TITLE="[Mono-list] Autofac 3.0.1 on Mono 3.0.5">kumpera at gmail.com
       </A><BR>
    <I>Fri Mar  1 15:35:08 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="049632.html">[Mono-list] Autofac 3.0.1 on Mono 3.0.5
</A></li>
        <LI>Next message: <A HREF="049641.html">[Mono-list] Autofac 3.0.1 on Mono 3.0.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49634">[ date ]</a>
              <a href="thread.html#49634">[ thread ]</a>
              <a href="subject.html#49634">[ subject ]</a>
              <a href="author.html#49634">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Are you trying to compile a PCL version of this lib? Mono doesn't support
PCL.


On Fri, Mar 1, 2013 at 8:25 AM, Alan &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">alan.mcgovern at gmail.com</A>&gt; wrote:

&gt;<i> This should be fixed by updating your mono to 3.0.6 or higher.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Alan
</I>&gt;<i>
</I>&gt;<i> On 27 February 2013 13:34, Erik Schierboom &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">e.schierboom at uci.ru.nl</A>&gt; wrote:
</I>&gt;<i> &gt; I have been trying to get Autofac 3.0.1 working on Mono, but have so far
</I>&gt;<i> &gt; been unsuccessful. When I try to run an application that references
</I>&gt;<i> Autofac
</I>&gt;<i> &gt; 3.0.1 on Mono 3.0.5, I get the following exception:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Mono: Assembly Loader probing location:
</I>&gt;<i> &gt; '/opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll'.
</I>&gt;<i> &gt;     Mono: Image addref mscorlib[0x14ce2c70] -&gt;
</I>&gt;<i> &gt; /opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll[0x14ce1ec0]: 2
</I>&gt;<i> &gt;     Mono: Assembly Loader probing location:
</I>&gt;<i> &gt; '/opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll'.
</I>&gt;<i> &gt;     Mono: Assembly Loader loaded assembly from location:
</I>&gt;<i> &gt; '/opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll'.
</I>&gt;<i> &gt;     Mono: Assembly mscorlib[0x14ce2c70] added to domain
</I>&gt;<i> &gt; ConsoleApplication1.exe, ref_count=1
</I>&gt;<i> &gt;     Mono: Assembly Loader probing location: 'ConsoleApplication1.exe'.
</I>&gt;<i> &gt;     Mono: Image addref ConsoleApplication1[0x14d20230] -&gt;
</I>&gt;<i> &gt; /var/www/sites/erik/monoconsole/ConsoleApplication1.exe[0x14d1f4a0]: 2
</I>&gt;<i> &gt;     Mono: Assembly ConsoleApplication1[0x14d20230] added to domain
</I>&gt;<i> &gt; ConsoleApplication1.exe, ref_count=1
</I>&gt;<i> &gt;     Mono: Assembly Loader loaded assembly from location:
</I>&gt;<i> &gt; 'ConsoleApplication1.exe'.
</I>&gt;<i> &gt;     Mono: Assembly Loader probing location: 'ConsoleApplication1.exe'.
</I>&gt;<i> &gt;     Mono: Assembly Ref addref ConsoleApplication1[0x14d20230] -&gt;
</I>&gt;<i> &gt; mscorlib[0x14ce2c70]: 2
</I>&gt;<i> &gt;     Mono: Assembly Loader probing location:
</I>&gt;<i> &gt; '/var/www/sites/erik/monoconsole/Autofac.dll'.
</I>&gt;<i> &gt;     Mono: Image addref Autofac[0x14d269b0] -&gt;
</I>&gt;<i> &gt; /var/www/sites/erik/monoconsole/Autofac.dll[0x14d25c40]: 2
</I>&gt;<i> &gt;     Mono: Assembly Autofac[0x14d269b0] added to domain
</I>&gt;<i> &gt; ConsoleApplication1.exe, ref_count=1
</I>&gt;<i> &gt;     Mono: Assembly Loader loaded assembly from location:
</I>&gt;<i> &gt; '/var/www/sites/erik/monoconsole/Autofac.dll'.
</I>&gt;<i> &gt;     Mono: Assembly Ref addref ConsoleApplication1[0x14d20230] -&gt;
</I>&gt;<i> &gt; Autofac[0x14d269b0]: 2
</I>&gt;<i> &gt;     Mono: The request to load the retargetable assembly mscorlib v2.0.5.0
</I>&gt;<i> &gt; was remapped to mscorlib v4.0.0.0
</I>&gt;<i> &gt;     Mono: Assembly Ref addref Autofac[0x14d269b0] -&gt;
</I>&gt;<i> mscorlib[0x14ce2c70]: 3
</I>&gt;<i> &gt;     Mono: The request to load the retargetable assembly System.Core
</I>&gt;<i> v2.0.5.0
</I>&gt;<i> &gt; was remapped to System.Core v4.0.0.0
</I>&gt;<i> &gt;     Mono: Assembly Loader probing location:
</I>&gt;<i> &gt;
</I>&gt;<i> '/opt/mono-3.0.5/lib/mono/gac/System.Core/4.0.0.0__7cec85d7bea7798e/System.Core.dll'.
</I>&gt;<i> &gt;     Mono: Assembly Loader probing location:
</I>&gt;<i> &gt; '/var/www/sites/erik/monoconsole/System.Core.dll'.
</I>&gt;<i> &gt;     Mono: Assembly Loader probing location:
</I>&gt;<i> &gt; '/opt/mono-3.0.5/lib/System.Core.dll'.
</I>&gt;<i> &gt;     Mono: Assembly Loader probing location:
</I>&gt;<i> &gt;
</I>&gt;<i> '/opt/mono-3.0.5/lib/mono/gac/System.Core/4.0.0.0__7cec85d7bea7798e/System.Core.exe'.
</I>&gt;<i> &gt;     Mono: Assembly Loader probing location:
</I>&gt;<i> &gt; '/var/www/sites/erik/monoconsole/System.Core.exe'.
</I>&gt;<i> &gt;     Mono: Assembly Loader probing location:
</I>&gt;<i> &gt; '/opt/mono-3.0.5/lib/System.Core.exe'.
</I>&gt;<i> &gt;     Mono: The following assembly referenced from
</I>&gt;<i> &gt; /var/www/sites/erik/monoconsole/Autofac.dll could not be loaded:
</I>&gt;<i> &gt;          Assembly:   System.Core    (assemblyref_index=1)
</I>&gt;<i> &gt;          Version:    2.0.5.0
</I>&gt;<i> &gt;          Public Key: 7cec85d7bea7798e
</I>&gt;<i> &gt;     The assembly was not found in the Global Assembly Cache, a path
</I>&gt;<i> listed
</I>&gt;<i> &gt; in the MONO_PATH environment variable, or in the location of the
</I>&gt;<i> executing
</I>&gt;<i> &gt; assembly (/var/www/sites/erik/monoconsole/).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Mono: Failed to load assembly Autofac[0x14d269b0]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Mono: Could not load file or assembly 'System.Core, Version=2.0.5.0,
</I>&gt;<i> &gt; Culture=neutral, PublicKeyToken=7cec85d7bea7798e, Retargetable=Yes' or
</I>&gt;<i> one
</I>&gt;<i> &gt; of its dependencies.
</I>&gt;<i> &gt;     Missing method .ctor in assembly
</I>&gt;<i> &gt; /var/www/sites/erik/monoconsole/Autofac.dll, type
</I>&gt;<i> &gt; System.Runtime.CompilerServices.ExtensionAttribute
</I>&gt;<i> &gt;     Can't find custom attr constructor image:
</I>&gt;<i> &gt; /var/www/sites/erik/monoconsole/Autofac.dll mtoken: 0x0a000015
</I>&gt;<i> &gt;     Hello!
</I>&gt;<i> &gt;     Mono: Unloading domain ConsoleApplication1.exe[0x2aaaab6f1cc0],
</I>&gt;<i> assembly
</I>&gt;<i> &gt; mscorlib[0x14ce2c70], ref_count=3
</I>&gt;<i> &gt;     Mono: Unloading domain ConsoleApplication1.exe[0x2aaaab6f1cc0],
</I>&gt;<i> assembly
</I>&gt;<i> &gt; ConsoleApplication1[0x14d20230], ref_count=1
</I>&gt;<i> &gt;     Mono: Unloading assembly ConsoleApplication1 [0x14d20230].
</I>&gt;<i> &gt;     Mono: Unloading image
</I>&gt;<i> &gt; /var/www/sites/erik/monoconsole/ConsoleApplication1.exe [0x14d1f4a0].
</I>&gt;<i> &gt;     Mono: Unloading domain ConsoleApplication1.exe[0x2aaaab6f1cc0],
</I>&gt;<i> assembly
</I>&gt;<i> &gt; Autofac[0x14d269b0], ref_count=1
</I>&gt;<i> &gt;     Mono: Unloading assembly Autofac [0x14d269b0].
</I>&gt;<i> &gt;     Mono: Unloading image /var/www/sites/erik/monoconsole/Autofac.dll
</I>&gt;<i> &gt; [0x14d25c40].
</I>&gt;<i> &gt;     Mono: Unloading assembly mscorlib [0x14ce2c70].
</I>&gt;<i> &gt;     Mono: Unloading image /opt/mono-3.0.5/lib/mono/4.5/mscorlib.dll
</I>&gt;<i> &gt; [0x14ce1ec0].
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; There are several things to note. First, it appears that System.Core
</I>&gt;<i> 2.0.5.0
</I>&gt;<i> &gt; could not be loaded. Could this be due to Autofac 3.0.1 being a portable
</I>&gt;<i> &gt; class library?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This problem also results in the second issue, where there is a Missing
</I>&gt;<i> &gt; method .ctor in System.Runtime.CompilerServices.ExtensionAttribute. I
</I>&gt;<i> have
</I>&gt;<i> &gt; found some information about this problem, and it appears that this
</I>&gt;<i> problem
</I>&gt;<i> &gt; is due to the ExtensionAttribute class being moved from one DLL to
</I>&gt;<i> another:
</I>&gt;<i> &gt; <A HREF="http://www.lextm.com/2013/02/how-to-use-nuget-on-mono-part-iv.html">http://www.lextm.com/2013/02/how-to-use-nuget-on-mono-part-iv.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This problem can be reproduced as follows (see
</I>&gt;<i> &gt; <A HREF="https://gist.github.com/ErikSchierboom/5047101">https://gist.github.com/ErikSchierboom/5047101</A>):
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  1. Create a .NET 4.0 console application
</I>&gt;<i> &gt;  2. Add a reference to Autofac 3.0.1 (e.g. through NuGet)
</I>&gt;<i> &gt;  3. Create an instance of the `ContainerBuilder` class
</I>&gt;<i> &gt;  4. Build the console application
</I>&gt;<i> &gt;  5. Run the console application under Mono
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Does anyone have an idea on how to solve this problem?
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20130301/97229bbc/attachment-0001.html">http://lists.ximian.com/pipermail/mono-list/attachments/20130301/97229bbc/attachment-0001.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="049632.html">[Mono-list] Autofac 3.0.1 on Mono 3.0.5
</A></li>
	<LI>Next message: <A HREF="049641.html">[Mono-list] Autofac 3.0.1 on Mono 3.0.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49634">[ date ]</a>
              <a href="thread.html#49634">[ thread ]</a>
              <a href="subject.html#49634">[ subject ]</a>
              <a href="author.html#49634">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
