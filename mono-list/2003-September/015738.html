<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Question about RSACryptoServiceProvider...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:giuseppe.greco%40agamura.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="015737.html">
   <LINK REL="Next"  HREF="015739.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Question about RSACryptoServiceProvider...
   </H1>
    <B>Giuseppe Greco
    </B> 
    <A HREF="mailto:giuseppe.greco%40agamura.com"
       TITLE="[Mono-list] Question about RSACryptoServiceProvider...">giuseppe.greco@agamura.com
       </A><BR>
    <I>Sat, 06 Sep 2003 15:43:29 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="015737.html">[Mono-list] Question about RSACryptoServiceProvider...
</A></li>
        <LI> Next message: <A HREF="015739.html">[Mono-list] Question about RSACryptoServiceProvider...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15738">[ date ]</a>
              <a href="thread.html#15738">[ thread ]</a>
              <a href="subject.html#15738">[ subject ]</a>
              <a href="author.html#15738">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sebastien,

Thank you very much for your explication!
Now I understand how to use RSACryptoServiceProvider.

Have a nice day,
Gius_.

On Sat, 2003-09-06 at 15:30, Sebastien Pouliot wrote:
&gt;<i> Gius,
</I>&gt;<i> 
</I>&gt;<i> &gt; If I've well understood, the following code generates the
</I>&gt;<i> &gt; public/private key pair:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; RSACryptoServiceProvider rsa = new RSACryptoServiceProvider();
</I>&gt;<i> 
</I>&gt;<i> Right this will generate a new keypair with the default key size (normally
</I>&gt;<i> 1024 bits).
</I>&gt;<i> 
</I>&gt;<i> &gt; Then, the following code retrieves the public key:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; RSAParamters publicKey = rsa.ExportParameters(false);
</I>&gt;<i> 
</I>&gt;<i> Yes. This will return the public key.
</I>&gt;<i> 
</I>&gt;<i> &gt; and the following code retrieves the private key:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; RSAParametes privateKey = rsa.ExportParamters(true);
</I>&gt;<i> 
</I>&gt;<i> Not exactly. This returns the keypair - including the private key.
</I>&gt;<i> 
</I>&gt;<i> &gt; Well, the question is: How does the Encrypt/Decrypt
</I>&gt;<i> &gt; method know which key to use?
</I>&gt;<i> 
</I>&gt;<i> This is automatic (by design). Encrypt uses the public key. Decrypt requires
</I>&gt;<i> the private key.
</I>&gt;<i> 
</I>&gt;<i> &gt; In my specific case, sometime I need to Encrypt with
</I>&gt;<i> &gt; the private key and Decrypt with the public key, and
</I>&gt;<i> &gt; sometime I need to Encrypt with the public key and
</I>&gt;<i> &gt; Decrypt with the private key...
</I>&gt;<i> 
</I>&gt;<i> Encrypting with the private key isn't (by design) supported in the .NET
</I>&gt;<i> framework (nor by Mono or me!).
</I>&gt;<i> While this is technically possible you wont find much support on most crypto
</I>&gt;<i> librairies (there are very good reason for that).
</I>&gt;<i> Most time (98%) people comes up with such a idea when there is a flaw in
</I>&gt;<i> their (security) design and they are trying to fix it at the wrong end.
</I>&gt;<i> 
</I>&gt;<i> If you REALLY need this (2%) then I suggest that you look at the
</I>&gt;<i> RSAManaged.cs file (in /mcs/class/corlib/Mono.Security.Cryptography/) and
</I>&gt;<i> implement your own &quot;InversedRSA&quot; class using the BigInteger classes
</I>&gt;<i> (available in /mcs/class/corlib/Mono.Math/).
</I>&gt;<i> 
</I>&gt;<i> &gt; Could somebody explain me this point one time for ever?
</I>&gt;<i> &gt; I've give a look at the msdn documentation, but it is
</I>&gt;<i> &gt; a little bit unclear, since it doesn't explain this
</I>&gt;<i> &gt; issue.
</I>&gt;<i> 
</I>&gt;<i> MSDN isn't the best source to learn about cryptography. The article are (a)
</I>&gt;<i> very basic or (b) API that requires solid crypto knowledge (as there are not
</I>&gt;<i> much warning about potential pitfalls).
</I>&gt;<i> 
</I>&gt;<i> I suggest getting a good book on cryptography (like cryptography applied).
</I>&gt;<i> The RSA FAQ (<A HREF="http://www.rsasecurity.com/rsalabs/faq/index.html">http://www.rsasecurity.com/rsalabs/faq/index.html</A>) is also a
</I>&gt;<i> good source of information.
</I>&gt;<i> 
</I>&gt;<i> Good luck,
</I>&gt;<i> 
</I>&gt;<i> Sebastien Pouliot
</I>&gt;<i> Security Architect, Motus Technologies, <A HREF="http://www.motus.com/">http://www.motus.com/</A>
</I>&gt;<i> work: <A HREF="mailto:spouliot@motus.com">spouliot@motus.com</A>
</I>&gt;<i> home: <A HREF="mailto:spouliot@videotron.ca">spouliot@videotron.ca</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="mailto:mono-list-admin@lists.ximian.com">mono-list-admin@lists.ximian.com</A>]On Behalf Of Giuseppe Greco
</I>&gt;<i> Sent: 6 septembre 2003 02:05
</I>&gt;<i> To: Mono
</I>&gt;<i> Subject: [Mono-list] Question about RSACryptoServiceProvider...
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> I'm trying to understand how RSACryptoServiceProvider works.
</I>&gt;<i> 
</I>&gt;<i> If I've well understood, the following code generates the
</I>&gt;<i> public/private key pair:
</I>&gt;<i> 
</I>&gt;<i> RSACryptoServiceProvider rsa = new RSACryptoServiceProvider();
</I>&gt;<i> 
</I>&gt;<i> Then, the following code retrieves the public key:
</I>&gt;<i> 
</I>&gt;<i> RSAParamters publicKey = rsa.ExportParameters(false);
</I>&gt;<i> 
</I>&gt;<i> and the following code retrieves the private key:
</I>&gt;<i> 
</I>&gt;<i> RSAParametes privateKey = rsa.ExportParamters(true);
</I>&gt;<i> 
</I>&gt;<i> Well, the question is: How does the Encrypt/Decrypt
</I>&gt;<i> method know which key to use?
</I>&gt;<i> 
</I>&gt;<i> In my specific case, sometime I need to Encrypt with
</I>&gt;<i> the private key and Decrypt with the public key, and
</I>&gt;<i> sometime I need to Encrypt with the public key and
</I>&gt;<i> Decrypt with the private key...
</I>&gt;<i> 
</I>&gt;<i> Could somebody explain me this point one time for ever?
</I>&gt;<i> I've give a look at the msdn documentation, but it is
</I>&gt;<i> a little bit unclear, since it doesn't explain this
</I>&gt;<i> issue.
</I>&gt;<i> 
</I>&gt;<i> Thanks a lot,
</I>&gt;<i> Gius_.
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> ----------------------------------------
</I>&gt;<i> Giuseppe Greco
</I>&gt;<i> 
</I>&gt;<i> ::agamura::
</I>&gt;<i> 
</I>&gt;<i> phone:  +41 (0)91 604 67 65
</I>&gt;<i> mobile: +41 (0)76 390 60 32
</I>&gt;<i> email:  <A HREF="mailto:giuseppe.greco@agamura.com">giuseppe.greco@agamura.com</A>
</I>&gt;<i> web:    www.agamura.com
</I>&gt;<i> ----------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>-- 
----------------------------------------
Giuseppe Greco

::<i>agamura::
</I>
phone:  +41 (0)91 604 67 65
mobile: +41 (0)76 390 60 32
email:  <A HREF="mailto:giuseppe.greco@agamura.com">giuseppe.greco@agamura.com</A>
web:    www.agamura.com
----------------------------------------


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="015737.html">[Mono-list] Question about RSACryptoServiceProvider...
</A></li>
	<LI> Next message: <A HREF="015739.html">[Mono-list] Question about RSACryptoServiceProvider...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15738">[ date ]</a>
              <a href="thread.html#15738">[ thread ]</a>
              <a href="subject.html#15738">[ subject ]</a>
              <a href="author.html#15738">[ author ]</a>
         </LI>
       </UL>
</body></html>
