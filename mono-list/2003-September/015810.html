<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Creating an ICMP socket fails
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tpsoftware%40users.sourceforge.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="015809.html">
   <LINK REL="Next"  HREF="015811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Creating an ICMP socket fails
   </H1>
    <B>TP-Software
    </B> 
    <A HREF="mailto:tpsoftware%40users.sourceforge.net"
       TITLE="[Mono-list] Creating an ICMP socket fails">tpsoftware@users.sourceforge.net
       </A><BR>
    <I>Thu, 11 Sep 2003 10:47:12 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="015809.html">[Mono-list] Creating an ICMP socket fails
</A></li>
        <LI> Next message: <A HREF="015811.html">[Mono-list] Creating an ICMP socket fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15810">[ date ]</a>
              <a href="thread.html#15810">[ thread ]</a>
              <a href="subject.html#15810">[ subject ]</a>
              <a href="author.html#15810">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've had simular problems with
the Socket class.

I've been unable to test it on linux yet,
but I bet this is mono/windows related.

Tim.
----- Original Message ----- 
From: &quot;Jörg Rosenkranz&quot; &lt;<A HREF="mailto:joergr@voelcker.com">joergr@voelcker.com</A>&gt;
To: &lt;<A HREF="mailto:mono-list@lists.ximian.com">mono-list@lists.ximian.com</A>&gt;
Sent: Thursday, September 11, 2003 10:32 AM
Subject: [Mono-list] Creating an ICMP socket fails


Hello,

We try to create an ICMP socket to ping another host. Mono on Linux throws
an
exception when the constructor of the Socket class is called.

Sample code:

using System;
using System.Net;
using System.Net.Sockets;

namespace IcmpTest
{
public class IcmpTest
{
public static void Main()
{
Socket IcmpSocket = new Socket(AddressFamily.InterNetwork, SocketType.Raw,
ProtocolType.Icmp);
}
}
}

Mono throws following exception:

Unhandled Exception: System.Net.Sockets.SocketException: Some sort of w32
error occurred: 0
in (unmanaged)
/home/viadmin/mono-cvs/install/lib/libmono.so.0(mono_raise_exception+0x22)
[0x400aee26]
in (unmanaged) /home/viadmin/mono-cvs/install/lib/libmono.so.0 [0x400d01c6]
in [0x00035] (at
/home/viadmin/mono-cvs/mcs/class/System/System.Net.Sockets/Socket.cs:417) 00
System.Net.Sockets.Socket:.ctor
(System.Net.Sockets.AddressFamily,System.Net.Sockets.SocketType,System.Net.S
ockets.ProtocolType)
in &lt;0x00037&gt; 00 IcmpTest.IcmpTest:Main ()

It runs fine using MS.NET.
Should I file a bug for this or are we doing something wrong?

Jörg
_______________________________________________
Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="015809.html">[Mono-list] Creating an ICMP socket fails
</A></li>
	<LI> Next message: <A HREF="015811.html">[Mono-list] Creating an ICMP socket fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15810">[ date ]</a>
              <a href="thread.html#15810">[ thread ]</a>
              <a href="subject.html#15810">[ subject ]</a>
              <a href="author.html#15810">[ author ]</a>
         </LI>
       </UL>
</body></html>
