<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Npgsql.dll
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Npgsql.dll&In-Reply-To=20050620081324.0E3CC70042%40frontgate.ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027536.html">
   <LINK REL="Next"  HREF="027541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Npgsql.dll</H1>
    <B>Carl Olsen</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Npgsql.dll&In-Reply-To=20050620081324.0E3CC70042%40frontgate.ximian.com"
       TITLE="[Mono-list] Npgsql.dll">carl at carl-olsen.com
       </A><BR>
    <I>Mon Jun 20 06:43:10 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="027536.html">[Mono-list] Npgsql.dll
</A></li>
        <LI>Next message: <A HREF="027541.html">[Mono-list] Npgsql.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27540">[ date ]</a>
              <a href="thread.html#27540">[ thread ]</a>
              <a href="subject.html#27540">[ subject ]</a>
              <a href="author.html#27540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have everything working now.  If you look on my home page, you'll see a
hit counter that uses 8 stored procedures, create, update, delete,
get_details, get_count, get_id, get_table, get_totals.  It tracks each IP
address separately, which you can't see by looking at the home page.  It
gets instantiated in the global.asax.cs file in the session_start section.
The code is broken into three sections: (1) the ADO.NET layer converts all
of the stored procedures into function calls; (2) the configuration layer
reads the connection string from an XML file; and (3) the business layer
uses the ADO.NET and configuration layer to actually do the calculations.
I'm feeling like I have a good handle on this now, so I'll start to build
some more complex structures.

Yes, the input parameters inside the function calls in the ADO.NET layer
need single quotes around the strings and nothing around the integers.

Thank you!

Carl

-----Original Message-----
From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A>
[mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A>] On Behalf Of Chris Aitken
Sent: Monday, June 20, 2005 3:13 AM
To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">carl at carl-olsen.com</A>; <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
Subject: RE: [Mono-list] Npgsql.dll

&gt;<i> Here's my parameterized function:
</I>&gt;<i> 
</I>&gt;<i> 	CREATE OR REPLACE FUNCTION getsenators(text)
</I>&gt;<i> 		RETURNS SETOF senators AS
</I>&gt;<i> 		'
</I>&gt;<i> 		DECLARE
</I>&gt;<i> 			input ALIAS FOR $1;
</I>&gt;<i> 			r senators%rowtype;
</I>&gt;<i> 		BEGIN
</I>&gt;<i> 			FOR r IN SELECT s_fname,s_lname,s_email 
</I>&gt;<i> FROM senate_members WHERE s_party=input LOOP
</I>&gt;<i> 				RETURN NEXT r;
</I>&gt;<i> 			END LOOP;
</I>&gt;<i> 			RETURN;
</I>&gt;<i> 		END
</I>&gt;<i> 		'
</I>&gt;<i> 	LANGUAGE 'plpgsql' VOLATILE;
</I>&gt;<i> 
</I>&gt;<i> When I type SELECT * FROM getsenators('D') I get the correct 
</I>&gt;<i> set of records.
</I>&gt;<i> 
</I>&gt;<i> I'm not even sure why it wasn't working before or what I did 
</I>&gt;<i> to fix it, but I now have working examples I can copy and use 
</I>&gt;<i> as templates.
</I>
Your previous select (that didn't work) had &quot; instead if '. Unsure if that
was a typo - but the error message looks to confirm the fact that double
quotes were used.

Chris


-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

_______________________________________________
Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>



</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027536.html">[Mono-list] Npgsql.dll
</A></li>
	<LI>Next message: <A HREF="027541.html">[Mono-list] Npgsql.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27540">[ date ]</a>
              <a href="thread.html#27540">[ thread ]</a>
              <a href="subject.html#27540">[ subject ]</a>
              <a href="author.html#27540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
