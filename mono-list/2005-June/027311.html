<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Certificate Store / LDAP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Certificate%20Store%20/%20LDAP&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027310.html">
   <LINK REL="Next"  HREF="027312.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Certificate Store / LDAP</H1>
    <B>Loren Bandiera</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Certificate%20Store%20/%20LDAP&In-Reply-To="
       TITLE="[Mono-list] Certificate Store / LDAP">lorenb at mmgsecurity.com
       </A><BR>
    <I>Wed Jun  1 09:20:10 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="027310.html">[Mono-list] Application looking for .NET framework
</A></li>
        <LI>Next message: <A HREF="027312.html">[Mono-list] Certificate Store / LDAP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27311">[ date ]</a>
              <a href="thread.html#27311">[ thread ]</a>
              <a href="subject.html#27311">[ subject ]</a>
              <a href="author.html#27311">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
BACKGROUND: I've been using Mono for a couple of projects, one of which is
called LAT (LDAP Administration Tool) [1].

I've been trying to get LDAP over SSL to work.  I found some sample code
(Samples.SecureBind.cs) written by Sunil Kumar at Novell but I couldn't
get it work on my system.

I figured out pretty quickly the problem was I needed to use the
certificate manager tool (certmgr) to import the SSL certificate into my
personal store.  Once I did that I could make a secure LDAP connection.

I dug into the certmgr source code to see how it imported certificates
into the store and copied over some chunks into LAT (my code is GPL'd; so
is the certmgr).

The plan was is if you were making an SSL connection, LAT would check the
store if there was no certificate it would popup a dialog and ask the user
if they wanted to import it.

If you click on 'Yes' the certificate does get imported into the user's
personal store but the LDAP connection fails.  If I exit and re-run the
program it works.

Is there some way I can get the Novell.Directory.Ldap classes to use a
freshly imported certificate without requiring a restart? Maybe there is a
better way to do want I want??

Anyone got any suggestions?

[1; cheap plug] - <A HREF="http://people.mmgsecurity.com/~lorenb/lat/">http://people.mmgsecurity.com/~lorenb/lat/</A>

-- 
Loren Bandiera, CISSP &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">lorenb at mmgsecurity.com</A>&gt;
MMG Security, Inc.


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027310.html">[Mono-list] Application looking for .NET framework
</A></li>
	<LI>Next message: <A HREF="027312.html">[Mono-list] Certificate Store / LDAP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27311">[ date ]</a>
              <a href="thread.html#27311">[ thread ]</a>
              <a href="subject.html#27311">[ subject ]</a>
              <a href="author.html#27311">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
