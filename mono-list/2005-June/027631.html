<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] mod_mono on a custom environment
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mod_mono%20on%20a%20custom%20environment&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027684.html">
   <LINK REL="Next"  HREF="027632.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] mod_mono on a custom environment</H1>
    <B>Alberto Avi</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20mod_mono%20on%20a%20custom%20environment&In-Reply-To="
       TITLE="[Mono-list] mod_mono on a custom environment">alberto.avi at gmail.com
       </A><BR>
    <I>Tue Jun 28 04:58:38 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="027684.html">[Mono-list] Compiling Mono for WinCE
</A></li>
        <LI>Next message: <A HREF="027632.html">[Mono-list] mod_mono on a custom environment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27631">[ date ]</a>
              <a href="thread.html#27631">[ thread ]</a>
              <a href="subject.html#27631">[ subject ]</a>
              <a href="author.html#27631">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Gonzalo,
   I spent the last three nights to install mono and mod_mono
on my Fedora Core 3 Linux Box. I've one big problem.
mod_mono don't work correctly. Can you help me ?
The objective is to have a web server as front end on one linux box
and a mono backend through TCP/IP connection between mod_mono and xsp
on another linux box. I tried this
configuration on the same machine as first step.

This are the steps:


*** Apache 2.0.54
./configure --prefix=/usr/local/httpd-2.0.54 --enable-so --with-apxs
make
make install

*** Mono
./configure --prefix=/usr/local/mono-1.1.8.1
make
make install

*** Xsp
./configure --prefix=/usr/local/xsp-1.0.9
make
make install

*** mod_mono
./configure --prefix=/usr/local/mod_mono-1.0.9
--with-apxs=/usr/local/httpd-2.0.54/bin/apxs --enable-debug
--with-mono-prefix=/usr/local/mono-1.1.8.1
make
make install


All the compiling/installing phases are ok.
The Apache web server is working with this definition:

...
LoadModule mono_module modules/mod_mono.so

Listen 8888
&lt;VirtualHost *:8888&gt;
   ServerName mono.usinet.it
   ErrorLog logs/mono.err
   CustomLog logs/mono.log common
   DocumentRoot /var/www/mono
   
   MonoListenAddress &quot;127.0.0.1&quot;
   MonoListenPort &quot;2222&quot;
   MonoRunXSP True
   MonoWapiDir &quot;/tmp/wapi&quot;
   MonoExecutablePath &quot;/usr/local/mono-1.1.8.1/bin/mono&quot;
   MonoServerPath &quot;/usr/local/xsp-1.0.9/bin/mod-mono-server&quot;
   MonoDebug True
   
   Alias /test &quot;/var/www/mono&quot;
   AddMonoApplications myapp &quot;/test:/var/www/mono&quot;

   &lt;Location /test&gt;
      SetHandler mono
           Options +Indexes
   &lt;/Location&gt;
&lt;/VirtualHost&gt;
...




When I try to connect to <A HREF="http://127.0.0.1:8888/test/index.aspx">http://127.0.0.1:8888/test/index.aspx</A> I
received http error 503.
This is the Apache error log file:


[Tue Jun 28 10:37:20 2005] [warn] creating dir config for (null)
[Tue Jun 28 10:37:20 2005] [warn] Initializing handler
[Tue Jun 28 10:37:20 2005] [warn] Mono Child Init
[Tue Jun 28 10:37:20 2005] [warn] errno in try_connect 111 Connection refused
[Tue Jun 28 10:37:20 2005] [warn] try_connect: -1
[Tue Jun 28 10:37:20 2005] [warn] forking default
[Tue Jun 28 10:37:20 2005] [warn] Applications: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config file: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config dir.: (null)
[Tue Jun 28 10:37:20 2005] [error] Not running mod-mono-server.exe because no
MonoApplications, MonoApplicationsConfigFile or MonoApplicationC
onfigDir specified.
[Tue Jun 28 10:37:20 2005] [warn] Socket file name /tmp/mod_mono_server_myapp
[Tue Jun 28 10:37:20 2005] [warn] errno in try_connect 2 No such file or
directory
[Tue Jun 28 10:37:20 2005] [warn] try_connect: -1
[Tue Jun 28 10:37:20 2005] [warn] forking myapp
[Tue Jun 28 10:37:20 2005] [warn] Applications: /test:/var/www/mono
[Tue Jun 28 10:37:20 2005] [warn] Config file: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config dir.: (null)
[Tue Jun 28 10:37:20 2005] [warn] Listen port: (null)
[Tue Jun 28 10:37:20 2005] [warn] Listen address: (null)
[Tue Jun 28 10:37:20 2005] [warn] Mono Child Init
[Tue Jun 28 10:37:20 2005] [warn] errno in try_connect 111 Connection refused
[Tue Jun 28 10:37:20 2005] [warn] try_connect: -1
[Tue Jun 28 10:37:20 2005] [warn] forking default
[Tue Jun 28 10:37:20 2005] [warn] Applications: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config file: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config dir.: (null)
[Tue Jun 28 10:37:20 2005] [error] Not running mod-mono-server.exe because no
MonoApplications, MonoApplicationsConfigFile or MonoApplicationC
onfigDir specified.
[Tue Jun 28 10:37:20 2005] [warn] Socket file name /tmp/mod_mono_server_myapp
[Tue Jun 28 10:37:20 2005] [warn] errno in try_connect 2 No such file or
directory
[Tue Jun 28 10:37:20 2005] [warn] try_connect: -1
[Tue Jun 28 10:37:20 2005] [warn] forking myapp
[Tue Jun 28 10:37:20 2005] [warn] Applications: /test:/var/www/mono
[Tue Jun 28 10:37:20 2005] [warn] Config file: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config dir.: (null)
[Tue Jun 28 10:37:20 2005] [warn] Listen port: (null)
[Tue Jun 28 10:37:20 2005] [warn] Listen address: (null)
[Tue Jun 28 10:37:20 2005] [warn] child started
[Tue Jun 28 10:37:20 2005] [warn] PATH:
/usr/kerberos/sbin:/usr/kerberos/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr
/X11R6/bin:/usr/local/mono-1.1.8.1/bin:/root/bin:/usr/local/mono-1.1.8.1/bin
[Tue Jun 28 10:37:20 2005] [warn] monodir: /usr/local/mono-1.1.8.1//bin
[Tue Jun 28 10:37:20 2005] [warn] serverdir:
/usr/local/mono-1.1.8.1//lib/mono/1.0
[Tue Jun 28 10:37:20 2005] [warn] PATH after:
/usr/local/mono-1.1.8.1//bin:/usr/local/mono-1.1.8.1//lib/mono/1.0:/usr/kerberos/sbin:/usr/kerbe
ros/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/X11R6/bin:/usr/local/mono-1.1.8.1/bin:/root/bin:/usr/local/mono-1.1.
8.1/bin
[Tue Jun 28 10:37:20 2005] [warn] Mono Child Init
[Tue Jun 28 10:37:20 2005] [warn] errno in try_connect 111 Connection refused
[Tue Jun 28 10:37:20 2005] [warn] try_connect: -1
[Tue Jun 28 10:37:20 2005] [warn] forking default
[Tue Jun 28 10:37:20 2005] [warn] Applications: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config file: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config dir.: (null)
[Tue Jun 28 10:37:20 2005] [error] Not running mod-mono-server.exe because no
MonoApplications, MonoApplicationsConfigFile or MonoApplicationC
onfigDir specified.
[Tue Jun 28 10:37:20 2005] [warn] Socket file name /tmp/mod_mono_server_myapp
[Tue Jun 28 10:37:20 2005] [warn] errno in try_connect 2 No such file or
directory
[Tue Jun 28 10:37:20 2005] [warn] try_connect: -1
[Tue Jun 28 10:37:20 2005] [warn] forking myapp
[Tue Jun 28 10:37:20 2005] [warn] Applications: /test:/var/www/mono
[Tue Jun 28 10:37:20 2005] [warn] Config file: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config dir.: (null)
[Tue Jun 28 10:37:20 2005] [warn] Listen port: (null)
[Tue Jun 28 10:37:20 2005] [warn] Listen address: (null)
[Tue Jun 28 10:37:20 2005] [warn] child started
[Tue Jun 28 10:37:20 2005] [warn] PATH:
/usr/kerberos/sbin:/usr/kerberos/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr
/X11R6/bin:/usr/local/mono-1.1.8.1/bin:/root/bin:/usr/local/mono-1.1.8.1/bin
[Tue Jun 28 10:37:20 2005] [warn] monodir: /usr/local/mono-1.1.8.1//bin
[Tue Jun 28 10:37:20 2005] [warn] serverdir:
/usr/local/mono-1.1.8.1//lib/mono/1.0
[Tue Jun 28 10:37:20 2005] [warn] PATH after:
/usr/local/mono-1.1.8.1//bin:/usr/local/mono-1.1.8.1//lib/mono/1.0:/usr/kerberos/sbin:/usr/kerbe
ros/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/X11R6/bin:/usr/local/mono-1.1.8.1/bin:/root/bin:/usr/local/mono-1.1.
8.1/bin
[Tue Jun 28 10:37:20 2005] [warn] Mono Child Init
[Tue Jun 28 10:37:20 2005] [warn] errno in try_connect 111 Connection refused
[Tue Jun 28 10:37:20 2005] [warn] try_connect: -1
[Tue Jun 28 10:37:20 2005] [warn] forking default
[Tue Jun 28 10:37:20 2005] [warn] Applications: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config file: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config dir.: (null)
[Tue Jun 28 10:37:20 2005] [error] Not running mod-mono-server.exe because no
MonoApplications, MonoApplicationsConfigFile or MonoApplicationC
onfigDir specified.
[Tue Jun 28 10:37:20 2005] [warn] Socket file name /tmp/mod_mono_server_myapp
[Tue Jun 28 10:37:20 2005] [warn] errno in try_connect 2 No such file or
directory
[Tue Jun 28 10:37:20 2005] [warn] try_connect: -1
[Tue Jun 28 10:37:20 2005] [warn] forking myapp
[Tue Jun 28 10:37:20 2005] [warn] Applications: /test:/var/www/mono
[Tue Jun 28 10:37:20 2005] [warn] Config file: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config dir.: (null)
[Tue Jun 28 10:37:20 2005] [warn] Listen port: (null)
[Tue Jun 28 10:37:20 2005] [warn] Listen address: (null)
[Tue Jun 28 10:37:20 2005] [warn] child started
[Tue Jun 28 10:37:20 2005] [warn] PATH:
/usr/kerberos/sbin:/usr/kerberos/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr
/X11R6/bin:/usr/local/mono-1.1.8.1/bin:/root/bin:/usr/local/mono-1.1.8.1/bin
[Tue Jun 28 10:37:20 2005] [warn] monodir: /usr/local/mono-1.1.8.1//bin
[Tue Jun 28 10:37:20 2005] [warn] serverdir:
/usr/local/mono-1.1.8.1//lib/mono/1.0
[Tue Jun 28 10:37:20 2005] [warn] PATH after:
/usr/local/mono-1.1.8.1//bin:/usr/local/mono-1.1.8.1//lib/mono/1.0:/usr/kerberos/sbin:/usr/kerbe
ros/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/X11R6/bin:/usr/local/mono-1.1.8.1/bin:/root/bin:/usr/local/mono-1.1.
8.1/bin
[Tue Jun 28 10:37:20 2005] [notice] Apache/2.0.54 (Unix) mod_mono/1.0.9
configured -- resuming normal operations
[Tue Jun 28 10:37:20 2005] [info] Server built: Jun 24 2005 15:38:43
[Tue Jun 28 10:37:20 2005] [debug] prefork.c(956): AcceptMutex: sysvsem
(default: sysvsem)
[Tue Jun 28 10:37:20 2005] [warn] child started
[Tue Jun 28 10:37:20 2005] [warn] PATH:
/usr/kerberos/sbin:/usr/kerberos/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr
/X11R6/bin:/usr/local/mono-1.1.8.1/bin:/root/bin:/usr/local/mono-1.1.8.1/bin
[Tue Jun 28 10:37:20 2005] [warn] monodir: /usr/local/mono-1.1.8.1//bin
[Tue Jun 28 10:37:20 2005] [warn] serverdir:
/usr/local/mono-1.1.8.1//lib/mono/1.0
[Tue Jun 28 10:37:20 2005] [warn] PATH after:
/usr/local/mono-1.1.8.1//bin:/usr/local/mono-1.1.8.1//lib/mono/1.0:/usr/kerberos/sbin:/usr/kerbe
ros/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/X11R6/bin:/usr/local/mono-1.1.8.1/bin:/root/bin:/usr/local/mono-1.1.
8.1/bin
[Tue Jun 28 10:37:20 2005] [warn] Mono Child Init
[Tue Jun 28 10:37:20 2005] [warn] errno in try_connect 111 Connection refused
[Tue Jun 28 10:37:20 2005] [warn] try_connect: -1
[Tue Jun 28 10:37:20 2005] [warn] forking default
[Tue Jun 28 10:37:20 2005] [warn] Applications: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config file: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config dir.: (null)
[Tue Jun 28 10:37:20 2005] [error] Not running mod-mono-server.exe because no
MonoApplications, MonoApplicationsConfigFile or MonoApplicationC
onfigDir specified.
[Tue Jun 28 10:37:20 2005] [warn] Socket file name /tmp/mod_mono_server_myapp
[Tue Jun 28 10:37:20 2005] [warn] errno in try_connect 2 No such file or
directory
[Tue Jun 28 10:37:20 2005] [warn] try_connect: -1
[Tue Jun 28 10:37:20 2005] [warn] forking myapp
[Tue Jun 28 10:37:20 2005] [warn] Applications: /test:/var/www/mono
[Tue Jun 28 10:37:20 2005] [warn] Config file: (null)
[Tue Jun 28 10:37:20 2005] [warn] Config dir.: (null)
[Tue Jun 28 10:37:20 2005] [warn] Listen port: (null)
[Tue Jun 28 10:37:20 2005] [warn] Listen address: (null)
[Tue Jun 28 10:37:20 2005] [warn] child started
[Tue Jun 28 10:37:20 2005] [warn] PATH:
/usr/kerberos/sbin:/usr/kerberos/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr
/X11R6/bin:/usr/local/mono-1.1.8.1/bin:/root/bin:/usr/local/mono-1.1.8.1/bin
[Tue Jun 28 10:37:20 2005] [warn] monodir: /usr/local/mono-1.1.8.1//bin
[Tue Jun 28 10:37:20 2005] [warn] serverdir:
/usr/local/mono-1.1.8.1//lib/mono/1.0
[Tue Jun 28 10:37:20 2005] [warn] PATH after:
/usr/local/mono-1.1.8.1//bin:/usr/local/mono-1.1.8.1//lib/mono/1.0:/usr/kerberos/sbin:/usr/kerbe
ros/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/X11R6/bin:/usr/local/mono-1.1.8.1/bin:/root/bin:/usr/local/mono-1.1.
8.1/bin
cannot open assembly /usr/local/mono-1.1.8.1//lib/mono/1.0/mod-mono-server.exe
cannot open assembly /usr/local/mono-1.1.8.1//lib/mono/1.0/mod-mono-server.exe
cannot open assembly /usr/local/mono-1.1.8.1//lib/mono/1.0/mod-mono-server.exe
cannot open assembly /usr/local/mono-1.1.8.1//lib/mono/1.0/mod-mono-server.exe
cannot open assembly /usr/local/mono-1.1.8.1//lib/mono/1.0/mod-mono-server.exe




I don't understand why mod_mono try to contact
/usr/local/mono-1.1.8.1//lib/mono/1.0/mod-mono-server.exe .
In the Apache config file I forced the correct path to
/usr/local/xsp-1.0.9/bin/mod-mono-server .

Can you give me some hope ?


Thanks a lot.

Alberto.
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027684.html">[Mono-list] Compiling Mono for WinCE
</A></li>
	<LI>Next message: <A HREF="027632.html">[Mono-list] mod_mono on a custom environment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27631">[ date ]</a>
              <a href="thread.html#27631">[ thread ]</a>
              <a href="subject.html#27631">[ subject ]</a>
              <a href="author.html#27631">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
