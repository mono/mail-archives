<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] First load error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20First%20load%20error&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036271.html">
   <LINK REL="Next"  HREF="036254.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] First load error</H1>
    <B>Lorenzo Viola</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20First%20load%20error&In-Reply-To="
       TITLE="[Mono-list] First load error">info at eulogika.net
       </A><BR>
    <I>Fri Sep 14 02:08:46 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="036271.html">[Mono-list] Building mono from trunk
</A></li>
        <LI>Next message: <A HREF="036254.html">[Mono-list] First load error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36253">[ date ]</a>
              <a href="thread.html#36253">[ thread ]</a>
              <a href="subject.html#36253">[ subject ]</a>
              <a href="author.html#36253">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Hello, I'm struggling on this problem from 2 days, I need some help...

I'm developing a website using vs2005,and then I deploy it to a debian / 
apache2 / mod-mono box

On the windows machine (vista + iis) I get no problem...when launching 
the application
from a browser on the linux machine, the first time a user browse the 
home page gets the below message...

refreshing the page, the problem gets away, without problem.

My real problem is that I can't get a real debug...

On mono, there is some variable still null at startup...
but I can't find which it is...


I've tried :
Console.Error.WriteLine(ex);

But I get no error inside the apache2 log...

The only way I found, is to place inside global.asax the following :

    void Application_Error(object sender, EventArgs e)
    {
        string EventLogFile = &quot;/var/www/xxxxxxxxxx/xxxxxx.log&quot;;
        StreamWriter sw = new StreamWriter(File.OpenWrite(EventLogFile));
        sw.AutoFlush = true;
               
        string sError = Server.GetLastError().ToString();
        string sTrace = Server.GetLastError().StackTrace.ToString();
        sw.WriteLine(&quot;###################### ERROR &quot;);
        sw.WriteLine(sError);
               
        string sErrorInner, sTraceInner;
        if (Server.GetLastError().InnerException != null)
        {
            sErrorInner = Server.GetLastError().InnerException.ToString();
            sTraceInner = 
Server.GetLastError().InnerException.StackTrace.ToString();
            sw.WriteLine(&quot;###################### ERROR INNER &quot;);
            sw.WriteLine(sErrorInner);             
        }      
        sw.Close();
    }


but I get the same message below...

I read about the tracing system, but it looks an overhead to me...

There is any other way than installing a whole linux system with some 
IDE like monodevelop ?
it takes a lot of time...


Best Regards



ps...the only strange thing I do is loading at preinit a different 
masterpage...


    protected override void OnPreInit(EventArgs e)
    {
        try
        {
            GetCookie();

            string sMPFile = &quot;~/templates/t&quot; + Session[&quot;soc&quot;] + 
&quot;_home.master&quot;;
            if (Session[&quot;op&quot;].ToString() == &quot;page&quot;)
                sMPFile = &quot;~/templates/t&quot; + Session[&quot;soc&quot;] + &quot;_page.master&quot;;

            base.MasterPageFile = sMPFile;
            base.OnPreInit(e);
        }
        catch (Exception ex)
        {
            Console.Error.WriteLine(ex);
            throw;
        }
    }



(this is error I get...)


  Server Error in '/' Application

------------------------------------------------------------------------


    /Object reference not set to an instance of an object/

*Description: *Error processing request.

*Error Message: *HTTP 500. System.NullReferenceException: Object 
reference not set to an instance of an object

*Stack Trace: *

System.NullReferenceException: Object reference not set to an instance of an object
  at ASP.templates_tcub_home_master.__Render_form1 (System.Web.UI.HtmlTextWriter __output, System.Web.UI.Control parameterContainer) [0x00000] 
  at (wrapper delegate-invoke) System.MulticastDelegate:invoke_void_HtmlTextWriter_Control (System.Web.UI.HtmlTextWriter,System.Web.UI.Control)
  at System.Web.UI.Control.RenderChildren (System.Web.UI.HtmlTextWriter writer) [0x00000] 
  at System.Web.UI.HtmlControls.HtmlForm.RenderChildren (System.Web.UI.HtmlTextWriter w) [0x00000] 
  at System.Web.UI.HtmlControls.HtmlContainerControl.Render (System.Web.UI.HtmlTextWriter writer) [0x00000] 
  at System.Web.UI.HtmlControls.HtmlForm.Render (System.Web.UI.HtmlTextWriter w) [0x00000] 
  at System.Web.UI.Control.RenderControl (System.Web.UI.HtmlTextWriter writer) [0x00000] 
  at System.Web.UI.HtmlControls.HtmlForm.RenderControl (System.Web.UI.HtmlTextWriter w) [0x00000] 
  at System.Web.UI.Control.RenderChildren (System.Web.UI.HtmlTextWriter writer) [0x00000] 
  at System.Web.UI.Control.Render (System.Web.UI.HtmlTextWriter writer) [0x00000] 
  at System.Web.UI.Control.RenderControl (System.Web.UI.HtmlTextWriter writer) [0x00000] 
  at System.Web.UI.Control.RenderChildren (System.Web.UI.HtmlTextWriter writer) [0x00000] 
  at System.Web.UI.Control.Render (System.Web.UI.HtmlTextWriter writer) [0x00000] 
  at System.Web.UI.Page.Render (System.Web.UI.HtmlTextWriter writer) [0x00000] 
  at System.Web.UI.Control.RenderControl (System.Web.UI.HtmlTextWriter writer) [0x00000] 
  at System.Web.UI.Page.InternalProcessRequest () [0x00000] 
  at System.Web.UI.Page.ProcessRequest (System.Web.HttpContext context) [0x00000] 

------------------------------------------------------------------------
09/14/2007 06:10:35
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20070914/58df033f/attachment-0001.html">http://lists.ximian.com/pipermail/mono-list/attachments/20070914/58df033f/attachment-0001.html</A> 
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036271.html">[Mono-list] Building mono from trunk
</A></li>
	<LI>Next message: <A HREF="036254.html">[Mono-list] First load error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36253">[ date ]</a>
              <a href="thread.html#36253">[ thread ]</a>
              <a href="subject.html#36253">[ subject ]</a>
              <a href="author.html#36253">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
