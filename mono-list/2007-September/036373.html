<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] MeasureString
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20MeasureString&In-Reply-To=260A0A30F9017945932CC4F7B911B33905DBDA4D%40i3mail1.i3domain.inin.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036374.html">
   <LINK REL="Next"  HREF="036371.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] MeasureString</H1>
    <B>Sebastien Pouliot</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20MeasureString&In-Reply-To=260A0A30F9017945932CC4F7B911B33905DBDA4D%40i3mail1.i3domain.inin.com"
       TITLE="[Mono-list] MeasureString">sebastien.pouliot at gmail.com
       </A><BR>
    <I>Thu Sep 20 17:23:44 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="036374.html">[Mono-list] MeasureString
</A></li>
        <LI>Next message: <A HREF="036371.html">[Mono-list] MeasureString
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36373">[ date ]</a>
              <a href="thread.html#36373">[ thread ]</a>
              <a href="subject.html#36373">[ subject ]</a>
              <a href="author.html#36373">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Dan,

On Thu, 2007-09-20 at 17:02 -0400, Maser, Dan wrote:
&gt;<i>  
</I>&gt;<i>   It might be a real issue, but my app has the need to measure strings
</I>&gt;<i> too and I've found that MeasureString is often quite wrong.  The MSDN
</I>&gt;<i> docs indicate that it often is too, and recommends using
</I>&gt;<i> Graphics.MeasureCharacterRanges instead.   You might consider trying
</I>&gt;<i> that approach as a work-around.   I know that I've removed all
</I>&gt;<i> references to MeasureString in my app in favor of
</I>&gt;<i> MeasureCharacterRanges which is far more reliable for me.
</I>
Older libgdiplus versions had very similar, yet subtly different, code
for both functions. Recent versions share the exact same code - so
reliability should be identical between the two of them. 

A lot of bugs around both calls has been fixed (most of them should be
in 1.2.5 iirc) but the current custom renderer in libgdiplus has some
design flaws that makes it impossible to handle all kind of options that
the API provides.

Someday we'll probably switch to the pango renderer(*). It should
produce far more precise results and handle i18n-fu correctly. However
there's no date planned for this feature - nor anyone working on it at
the moment(**).

(*) it's possible to play with a experimental version of this using SVN
(see my blog) but today it doesn't deal with a lot of options and is
also a lot slower (all fixable).

(**) Contributions are welcome :)
&gt;<i> 
</I>&gt;<i> ______________________________________________________________________
</I>&gt;<i> From: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list-bounces at lists.ximian.com</A>] On Behalf Of Jansen Bart
</I>&gt;<i> Sent: Thursday, September 20, 2007 3:28 PM
</I>&gt;<i> To: <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">mono-list at lists.ximian.com</A>
</I>&gt;<i> Subject: [Mono-list] MeasureString
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> I&#8217;m trying to ensure that a string fits in a rectangle shown on
</I>&gt;<i> screen, so whenever the string is too long, some characters are
</I>&gt;<i> stripped.  I&#8217;m using MeasureString to accomplish this.  With mono
</I>&gt;<i> under windows this is working fine, under linux the resulting string
</I>&gt;<i> is always way too long.  Is this a known issue? Is there a workaround?
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Thanks a lot for your help,
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> B.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>-- 
Sebastien Pouliot  &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">sebastien at ximian.com</A>&gt;
Blog: <A HREF="http://pages.infinit.net/ctech/">http://pages.infinit.net/ctech/</A>

</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036374.html">[Mono-list] MeasureString
</A></li>
	<LI>Next message: <A HREF="036371.html">[Mono-list] MeasureString
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36373">[ date ]</a>
              <a href="thread.html#36373">[ thread ]</a>
              <a href="subject.html#36373">[ subject ]</a>
              <a href="author.html#36373">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
