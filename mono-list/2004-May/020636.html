<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] multiple web apps with mod_mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chris%40turchin.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="020620.html">
   <LINK REL="Next"  HREF="020649.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] multiple web apps with mod_mono
   </H1>
    <B>Chris Turchin
    </B> 
    <A HREF="mailto:chris%40turchin.net"
       TITLE="[Mono-list] multiple web apps with mod_mono">chris@turchin.net
       </A><BR>
    <I>Mon, 24 May 2004 23:05:34 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="020620.html">[Mono-list] multiple web apps with mod_mono
</A></li>
        <LI> Next message: <A HREF="020649.html">[Mono-list] multiple web apps with mod_mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20636">[ date ]</a>
              <a href="thread.html#20636">[ thread ]</a>
              <a href="subject.html#20636">[ subject ]</a>
              <a href="author.html#20636">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Some more information to my situation: the /test/ webapp accompanying
xsp seems to work regardless of whether another app was started first. 

the only difference i have noticed is that i am using sessions in the
other apps and not in the /test/ app. and as if to confirm, when I click
on: 

<A HREF="http://turchin.homelinux.net/test/session1.aspx">http://turchin.homelinux.net/test/session1.aspx</A>


i get:

Server error in '/test' application

________________________________________________________________________
Description: Error processing request. 

Error Message: HTTP 500. 

Stack Trace: 
System.NullReferenceException: Object reference not set to an instance of an object
in &lt;0x0001d&gt; System.Int32:FindSign (int&amp;,string,System.Globalization.NumberFormatInfo,bool&amp;,bool&amp;)
in &lt;0x0043d&gt; System.Int32:Parse (string,System.Globalization.NumberStyles,System.IFormatProvider)
in &lt;0x00013&gt; System.Int32:Parse (string,System.IFormatProvider)
in &lt;0x00019&gt; System.Convert:ToInt32 (string,System.IFormatProvider)
in &lt;0x0000e&gt; System.String:System.IConvertible.ToInt32 (System.IFormatProvider)
in &lt;0x0048d&gt; System.Convert:ToType (object,System.Type,System.IFormatProvider)
in &lt;0x00037&gt; System.Convert:ChangeType (object,System.Type)
in &lt;0x001fa&gt; System.Web.Compilation.TemplateControlCompiler:GetExpressionFromString (System.Type,string)
in &lt;0x000e5&gt; System.Web.Compilation.TemplateControlCompiler:AddCodeForPropertyOrField (System.Web.UI.ControlBuilder,System.Type,string,string,bool)
in &lt;0x001e9&gt; System.Web.Compilation.TemplateControlCompiler:ProcessPropertiesAndFields (System.Web.UI.ControlBuilder,System.Reflection.MemberInfo,string,string)
in &lt;0x0040f&gt; System.Web.Compilation.TemplateControlCompiler:CreateAssignStatementsFromAttributes (System.Web.UI.ControlBuilder)
in &lt;0x0014b&gt; System.Web.Compilation.TemplateControlCompiler:CreateControlTree (System.Web.UI.ControlBuilder,bool,bool)
in &lt;0x004fb&gt; System.Web.Compilation.TemplateControlCompiler:CreateControlTree (System.Web.UI.ControlBuilder,bool,bool)
in &lt;0x004fb&gt; System.Web.Compilation.TemplateControlCompiler:CreateControlTree (System.Web.UI.ControlBuilder,bool,bool)
in &lt;0x00050&gt; System.Web.Compilation.TemplateControlCompiler:CreateMethods ()
in &lt;0x0000a&gt; System.Web.Compilation.PageCompiler:CreateMethods ()
in &lt;0x0019e&gt; System.Web.Compilation.BaseCompiler:GetCompiledType ()
in &lt;0x00273&gt; System.Web.Compilation.AspGenerator:GetCompiledType ()
in &lt;0x00036&gt; System.Web.UI.PageParser:CompileIntoType ()
in &lt;0x0001a&gt; System.Web.UI.TemplateControlParser:GetCompiledInstance ()
in &lt;0x00048&gt; System.Web.UI.PageParser:GetCompiledPageInstance (string,string,System.Web.HttpContext)
in &lt;0x00011&gt; System.Web.UI.PageHandlerFactory:GetHandler (System.Web.HttpContext,string,string,string)
in &lt;0x003a1&gt; System.Web.HttpApplication:CreateHttpHandler (System.Web.HttpContext,string,string,string)
in &lt;0x00122&gt; CreateHandlerState:Execute ()
in &lt;0x00084&gt; StateMachine:ExecuteState (System.Web.HttpApplication/IStateHandler,bool&amp;)


which is consistent with the problems occuring in the other webapps. is
it possible that mod_mono is having trouble supporting more than one
webapp's session state?

i also have experienced that when I enable cookieless=&quot;true&quot; in the
web.config, the apps do not seem to work at all anymore:

Server error in '/blogx' application

________________________________________________________________________
Cannot find '/blogx/(573F4B3EE6459955E53776F95B7433)//Default.aspx'.
Description: Error processing request. 

Error Message: HTTP 404. Cannot find
'/blogx/(573F4B3EE6459955E53776F95B7433)//Default.aspx'.


Any ideas?

Regards,
--chris




On Mon, 2004-05-24 at 16:01, Chris Turchin wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> until just recently, this morning in fact, I was able to run 4 web apps with
</I>&gt;<i> mod_mono concurrently and it seemed mostly to &quot;just work&quot;. Since updating from
</I>&gt;<i> cvs today I have the following situation:
</I>&gt;<i> 
</I>&gt;<i> After an apache restart, the first app loads in the browser and runs fine.
</I>&gt;<i> However any attempt to start an additional app yields the following error:
</I>&gt;<i> 
</I>&gt;<i> Server error in '/blogx' application
</I>&gt;<i> Description: Error processing request.
</I>&gt;<i> 
</I>&gt;<i> Error Message: HTTP 500.
</I>&gt;<i> 
</I>&gt;<i> Stack Trace:
</I>&gt;<i> 
</I>&gt;<i> System.NullReferenceException: Object reference not set to an instance of an
</I>&gt;<i> object
</I>&gt;<i> in &lt;0x0001d&gt; System.Int32:FindSign
</I>&gt;<i> (int&amp;,string,System.Globalization.NumberFormatInfo,bool&amp;,bool&amp;)
</I>&gt;<i> in &lt;0x0043d&gt; System.Int32:Parse
</I>&gt;<i> (string,System.Globalization.NumberStyles,System.IFormatProvider)
</I>&gt;<i> in &lt;0x00013&gt; System.Int32:Parse (string,System.IFormatProvider)
</I>&gt;<i> in &lt;0x00019&gt; System.Convert:ToInt32 (string,System.IFormatProvider)
</I>&gt;<i> in &lt;0x0000e&gt; System.String:System.IConvertible.ToInt32 (System.IFormatProvider)
</I>&gt;<i> in &lt;0x0048d&gt; System.Convert:ToType (object,System.Type,System.IFormatProvider)
</I>&gt;<i> in &lt;0x00037&gt; System.Convert:ChangeType (object,System.Type)
</I>&gt;<i> in &lt;0x001fa&gt;
</I>&gt;<i> System.Web.Compilation.TemplateControlCompiler:GetExpressionFromString
</I>&gt;<i> (System.Type,string)
</I>&gt;<i> in &lt;0x000e5&gt;
</I>&gt;<i> System.Web.Compilation.TemplateControlCompiler:AddCodeForPropertyOrField
</I>&gt;<i> (System.Web.UI.ControlBuilder,System.Type,string,string,bool)
</I>&gt;<i> in &lt;0x001e9&gt;
</I>&gt;<i> System.Web.Compilation.TemplateControlCompiler:ProcessPropertiesAndFields
</I>&gt;<i> (System.Web.UI.ControlBuilder,System.Reflection.MemberInfo,string,string)
</I>&gt;<i> in &lt;0x0040f&gt;
</I>&gt;<i> System.Web.Compilation.TemplateControlCompiler:CreateAssignStatementsFromAttributes
</I>&gt;<i> (System.Web.UI.ControlBuilder)
</I>&gt;<i> in &lt;0x0014b&gt; System.Web.Compilation.TemplateControlCompiler:CreateControlTree
</I>&gt;<i> (System.Web.UI.ControlBuilder,bool,bool)
</I>&gt;<i> in &lt;0x004fb&gt; System.Web.Compilation.TemplateControlCompiler:CreateControlTree
</I>&gt;<i> (System.Web.UI.ControlBuilder,bool,bool)
</I>&gt;<i> in &lt;0x004fb&gt; System.Web.Compilation.TemplateControlCompiler:CreateControlTree
</I>&gt;<i> (System.Web.UI.ControlBuilder,bool,bool)
</I>&gt;<i> in &lt;0x004fb&gt; System.Web.Compilation.TemplateControlCompiler:CreateControlTree
</I>&gt;<i> (System.Web.UI.ControlBuilder,bool,bool)
</I>&gt;<i> in &lt;0x00050&gt; System.Web.Compilation.TemplateControlCompiler:CreateMethods ()
</I>&gt;<i> in &lt;0x0000a&gt; System.Web.Compilation.PageCompiler:CreateMethods ()
</I>&gt;<i> in &lt;0x0019e&gt; System.Web.Compilation.BaseCompiler:GetCompiledType ()
</I>&gt;<i> in &lt;0x00273&gt; System.Web.Compilation.AspGenerator:GetCompiledType ()
</I>&gt;<i> in &lt;0x00036&gt; System.Web.UI.PageParser:CompileIntoType ()
</I>&gt;<i> in &lt;0x0001a&gt; System.Web.UI.TemplateControlParser:GetCompiledInstance ()
</I>&gt;<i> in &lt;0x00048&gt; System.Web.UI.PageParser:GetCompiledPageInstance
</I>&gt;<i> (string,string,System.Web.HttpContext)
</I>&gt;<i> in &lt;0x00011&gt; System.Web.UI.PageHandlerFactory:GetHandler
</I>&gt;<i> (System.Web.HttpContext,string,string,string)
</I>&gt;<i> in &lt;0x003a1&gt; System.Web.HttpApplication:CreateHttpHandler
</I>&gt;<i> (System.Web.HttpContext,string,string,string)
</I>&gt;<i> in &lt;0x00122&gt; CreateHandlerState:Execute ()
</I>&gt;<i> in &lt;0x00084&gt; StateMachine:ExecuteState
</I>&gt;<i> (System.Web.HttpApplication/IStateHandler,bool&amp;)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> It seems to be irrelevant which app I open in the browser first, it will work,
</I>&gt;<i> and any further application will result in this error. My setup is mdk 9.1,
</I>&gt;<i> apache-2 2.0.47, mono, mcs,xsp, mod_mono etc from cvs (updated today)...
</I>&gt;<i> 
</I>&gt;<i> Here is my config according to server-info:
</I>&gt;<i> 
</I>&gt;<i>    Module Name: mod_mono.c
</I>&gt;<i>    Content handlers: yes
</I>&gt;<i>    Configuration Phase Participation: Create Server Config
</I>&gt;<i>    Request Phase Participation: none
</I>&gt;<i>    &lt;snip&gt;
</I>&gt;<i>    Current Configuration:
</I>&gt;<i>           MonoRunXSP True
</I>&gt;<i>           MonoWapiDir /tmp
</I>&gt;<i>           MonoUnixSocket /tmp/mod_mono_server
</I>&gt;<i>           MonoServerPath /usr/bin/mod-mono-server.exe
</I>&gt;<i>           MonoApplications
</I>&gt;<i>           &quot;/gd-gallery:/data/web/gd-gallery,/Doogle:/data/web/Doogle,/tes
</I>&gt;<i>           t:/usr/share/doc/xsp/test,/blogx:/data/web/blogx&quot;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> and here is from my httpd2.conf:
</I>&gt;<i> 
</I>&gt;<i> LoadModule mono_module        /usr/lib/apache2-2.0.47/libmod_mono.so
</I>&gt;<i> MonoRunXSP True
</I>&gt;<i> MonoWapiDir /tmp
</I>&gt;<i> MonoUnixSocket /tmp/mod_mono_server
</I>&gt;<i> MonoServerPath /usr/bin/mod-mono-server.exe
</I>&gt;<i> MonoApplications
</I>&gt;<i> &quot;/gd-gallery:/data/web/gd-gallery,/Doogle:/data/web/Doogle,/test:/usr/share/doc/xsp/test,/blogx:/data/web/blogx&quot;
</I>&gt;<i> 
</I>&gt;<i> Alias /test /usr/share/doc/xsp/test
</I>&gt;<i> &lt;Directory /usr/share/doc/xsp/test&gt;
</I>&gt;<i>     SetHandler mono
</I>&gt;<i>     Order allow,deny
</I>&gt;<i>     Allow from all
</I>&gt;<i> &lt;/Directory&gt;
</I>&gt;<i> 
</I>&gt;<i> * The other directory entries are the same , just other directories :-)
</I>&gt;<i> 
</I>&gt;<i> I had seen this error sporradically in the past after a httpd restart but then
</I>&gt;<i> it seemed to go away after a page refresh (&lt;F5&gt;). Now I can not get it to go
</I>&gt;<i> away at all... :-(
</I>&gt;<i> 
</I>&gt;<i> Is this a configuration problem? I know there were more changes to mod_mono last
</I>&gt;<i> week, maybe I missed something? Or should I file a bug report?
</I>&gt;<i> 
</I>&gt;<i> Thanks!
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> --chris
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="020620.html">[Mono-list] multiple web apps with mod_mono
</A></li>
	<LI> Next message: <A HREF="020649.html">[Mono-list] multiple web apps with mod_mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20636">[ date ]</a>
              <a href="thread.html#20636">[ thread ]</a>
              <a href="subject.html#20636">[ subject ]</a>
              <a href="author.html#20636">[ author ]</a>
         </LI>
       </UL>
</body></html>
