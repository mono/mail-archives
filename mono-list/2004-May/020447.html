<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] A Plugin and WebService Issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:robik%40mailbox.sk">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="020451.html">
   <LINK REL="Next"  HREF="020448.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] A Plugin and WebService Issue
   </H1>
    <B>RoBiK
    </B> 
    <A HREF="mailto:robik%40mailbox.sk"
       TITLE="[Mono-list] A Plugin and WebService Issue">robik@mailbox.sk
       </A><BR>
    <I>Thu, 20 May 2004 12:36:18 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="020451.html">[Mono-list] xml schema support
</A></li>
        <LI> Next message: <A HREF="020448.html">[Mono-list] Is it Mono safe?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20447">[ date ]</a>
              <a href="thread.html#20447">[ thread ]</a>
              <a href="subject.html#20447">[ subject ]</a>
              <a href="author.html#20447">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I would use this approach:

1) you must have a plug-in Interface defined, that each plug-in must
implement
2) when the application starts, use static =
System.IO.Directory.GetFiles()
method to get the names of assemblies in the plug-in directory
3) for each plug-in-assembly file call static
System.Reflection.Assembly.LoadFrom() method to load the assembly into =
the
current AppDomain, then call the method
System.Reflection.Assembly.GetTypes() on the System.Reflection.Assembly
instance that you've got from the previous LoadFrom() method
4) for each Type that you get from previous GetType() method use the =
&quot;is&quot;
operator to check if the particular type implements the plug-in =
interface,
if it does, you have a type that implements your plug-in interface.=20
5) call static Syste.Activator.CreateInstance() method with the type =
from
previous step as parameter. Cast the result to the plug-in-interface =
type
and store it for example in an array for later use.
6) now you have an array of plug-in instances and can call the interface
methods on them

This is just an example, there are several other approaches which are =
more
or less similar to this one... everything depends on the needs of your
application.

RoBiK

Quoting Pablo Fischer &lt;<A HREF="mailto:pablo@pablo.com.mx">pablo@pablo.com.mx</A>&gt;:

&gt;<i> Hi!
</I>&gt;<i>
</I>&gt;<i> I would like to have some comments and suggestions about a issue.
</I>&gt;<i>
</I>&gt;<i> I am working in a Blog Client (mbloggy) that will work ONLY in SOAP =
</I>(NO
&gt;<i> XMLRPC) for different CMS and Blogs (phpnuke, postnuke, jaws, etc, =
</I>etc).
&gt;<i> To work with all these blogs I'm=A0 planning to use a 'plugin' system,
</I>&gt;<i> based in assemblies, for example:
</I>&gt;<i>
</I>&gt;<i> If a developer wants the plugin for a CMS (like drupal), he can save =
</I>his
&gt;<i> .dll plugin in ~./mbloggy/plugins and when mbloggy starts it will read
</I>&gt;<i> default plugins (in /etc/mbloggy) and the user plugins. When mbloggy
</I>&gt;<i> finds a new plugin it will be added to a 'drop down' (gtk#) so the =
</I>user
&gt;<i> can use it.
</I>&gt;<i>
</I>&gt;<i> My problem?, yes, I don't know which is the best option:
</I>&gt;<i>
</I>&gt;<i> a) Use .dll assemblies as plugins. But, how to connect to each plugin
</I>&gt;<i> from the front end?, exists a data type that can 'clone' another
</I>&gt;<i> object?, so I can do something like this:
</I>&gt;<i>
</I>&gt;<i> Wrapper wrap =3D new Wrapper();
</I>&gt;<i> wrap.Clone(&quot;assemblie.dll&quot;);
</I>&gt;<i> wrap.Url =3D &quot;<A HREF="http://www.foo.bar.com/foo.aspx?wsdl"">http://www.foo.bar.com/foo.aspx?wsdl&quot;</A>
</I>&gt;<i> wrap.DeletePost(3);
</I>&gt;<i>
</I>&gt;<i> So I can use the 'methods' of assemblie.dll in the wrap object?.
</I>&gt;<i>
</I>&gt;<i> b) Or use just one .dll and let the developers to 'develop' just the
</I>&gt;<i> WebService (server)?, So I can just work like this:
</I>&gt;<i>
</I>&gt;<i> Client c =3D new Client();
</I>&gt;<i> c.Url =3D &quot;<A HREF="http://www.foo.bar.com/foo.aspx?wsdl"">http://www.foo.bar.com/foo.aspx?wsdl&quot;</A>
</I>&gt;<i> c.DeletePost(3);
</I>&gt;<i>
</I>&gt;<i> Which is the best option? and where can I find more information for =
</I>the
&gt;<i> best option?.
</I>&gt;<i>
</I>&gt;<i> Thanks!
</I>&gt;<i> Pablo
</I>&gt;<i> --
</I>&gt;<i> Pablo Fischer Sandoval (pablo [arroba/at] pablo.com.mx)
</I>&gt;<i> Fingerprint:=A0 5973 0F10 543F 54AE 1E41=A0 EC81 0840 A10A 74A4 E5C0
</I>&gt;<i> <A HREF="http://www.pablo.com.mx">http://www.pablo.com.mx</A>
</I>&gt;<i> <A HREF="http://www.debianmexico.org">http://www.debianmexico.org</A>
</I>&gt;<i>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="020451.html">[Mono-list] xml schema support
</A></li>
	<LI> Next message: <A HREF="020448.html">[Mono-list] Is it Mono safe?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20447">[ date ]</a>
              <a href="thread.html#20447">[ thread ]</a>
              <a href="subject.html#20447">[ subject ]</a>
              <a href="author.html#20447">[ author ]</a>
         </LI>
       </UL>
</body></html>
