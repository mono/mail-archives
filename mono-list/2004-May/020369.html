<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] ByteFX.Data.MySqlClient.MySqlStream
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:Michael.Haider%40hofstaedtler.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="020362.html">
   <LINK REL="Next"  HREF="020360.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] ByteFX.Data.MySqlClient.MySqlStream
   </H1>
    <B>Michael Haider
    </B> 
    <A HREF="mailto:Michael.Haider%40hofstaedtler.com"
       TITLE="[Mono-list] ByteFX.Data.MySqlClient.MySqlStream">Michael.Haider@hofstaedtler.com
       </A><BR>
    <I>Tue, 18 May 2004 16:53:25 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="020362.html">[Mono-list] RE: WINFORM / Wine / Whats the fuck going wrong? (Mathieu PASQUET)
</A></li>
        <LI> Next message: <A HREF="020360.html">[Mono-list] WINFORM / Wine / Whats the fuck going wrong? (Mathieu PASQUET)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20369">[ date ]</a>
              <a href="thread.html#20369">[ thread ]</a>
              <a href="subject.html#20369">[ subject ]</a>
              <a href="author.html#20369">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everybody!

I'm very new to mono and I've found an examplecode on www.go-mono.com
to connect to a mysql database! -- But in my case, as you can see below,
 it doesn't work!

Can anyone help me?


Many thanks


Michael!

Here is my code:

using System;
using System.Data;
using ByteFX.Data.MySqlClient;
//using Mono.Data.MySql;
 
 public class Test 
 {
    public static void Main(string[] args)
    {
       
       
       IDbConnection dbcon = new MySqlConnection();
       //dbcon = new MySqlConnection(connectionString);
       dbcon.ConnectionString = &quot;Server=localhost;dbname=mydb;User
ID=root;Password=4711&quot;; 	
       Console.WriteLine(&quot;DB is closed&quot;);
       dbcon.Open();
       Console.WriteLine(&quot;DB open\n&quot;);

       IDbCommand dbcmd = dbcon.CreateCommand();


       string sql = &quot;SELECT * FROM Custtable&quot;;
       dbcmd.CommandText = sql;
	
       IDataReader reader = dbcmd.ExecuteReader();
       while(reader.Read())
       {
           
		Console.WriteLine(&quot;DB read&quot;);
       }
       
       reader.Close();
       reader = null;
       dbcmd.Dispose();
       dbcmd = null;
       dbcon.Close();
       dbcon = null;
       Console.WriteLine(&quot;DB closed\n&quot;);
    }
 }

mcs firsttest.cs -r:System.Data.dll -r:ByteFX.Data.dll
Compilation succeeded

mono firsttest.exe

DB is closed

Unhandled Exception: System.NullReferenceException: Object reference
not set to an instance of an object
in &lt;0x0025a&gt; ByteFX.Data.MySqlClient.MySqlStream:get_DataAvailable ()
in &lt;0x00058&gt; ByteFX.Data.Common.MultiHostStream:Read (byte[],int,int)
in &lt;0x00040&gt; ByteFX.Data.MySqlClient.MySqlStream:ReadInt24 ()
in &lt;0x00050&gt; (wrapper remoting-invoke-with-check)
ByteFX.Data.MySqlClient.MySqlStream:ReadInt24 ()
in &lt;0x00062&gt; ByteFX.Data.MySqlClient.Driver:ReadRawPacket ()
in &lt;0x00058&gt; ByteFX.Data.MySqlClient.Driver:ReadPacket ()
in &lt;0x00094&gt; ByteFX.Data.MySqlClient.Driver:Open
(ByteFX.Data.MySqlClient.MySqlConnectionString)
in &lt;0x0003c&gt; ByteFX.Data.MySqlClient.MySqlInternalConnection:Open ()
in &lt;0x000f4&gt;
ByteFX.Data.MySqlClient.MySqlPool:CreateNewPooledConnection ()
in &lt;0x00219&gt; ByteFX.Data.MySqlClient.MySqlPool:GetPooledConnection ()
in &lt;0x00058&gt; ByteFX.Data.MySqlClient.MySqlPool:GetConnection ()
in &lt;0x00116&gt; ByteFX.Data.MySqlClient.MySqlPoolManager:GetConnection
(ByteFX.Data.MySqlClient.MySqlConnectionString)
in &lt;0x00077&gt; ByteFX.Data.MySqlClient.MySqlConnection:Open ()
in &lt;0x00077&gt; Test:Main (string[])




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="020362.html">[Mono-list] RE: WINFORM / Wine / Whats the fuck going wrong? (Mathieu PASQUET)
</A></li>
	<LI> Next message: <A HREF="020360.html">[Mono-list] WINFORM / Wine / Whats the fuck going wrong? (Mathieu PASQUET)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20369">[ date ]</a>
              <a href="thread.html#20369">[ thread ]</a>
              <a href="subject.html#20369">[ subject ]</a>
              <a href="author.html#20369">[ author ]</a>
         </LI>
       </UL>
</body></html>
