<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Batch inserts with ADO.NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:fredrik.hedberg%40hedbergs.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="020586.html">
   <LINK REL="Next"  HREF="020593.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Batch inserts with ADO.NET
   </H1>
    <B>Fredrik Hedberg
    </B> 
    <A HREF="mailto:fredrik.hedberg%40hedbergs.com"
       TITLE="[Mono-list] Batch inserts with ADO.NET">fredrik.hedberg@hedbergs.com
       </A><BR>
    <I>Sun, 23 May 2004 13:52:15 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="020586.html">[Mono-list] Batch inserts with ADO.NET
</A></li>
        <LI> Next message: <A HREF="020593.html">[Mono-list] Batch inserts with ADO.NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20587">[ date ]</a>
              <a href="thread.html#20587">[ thread ]</a>
              <a href="subject.html#20587">[ subject ]</a>
              <a href="author.html#20587">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Par example:

command.Text = &quot;INSER INTO ...&quot;;
command.Prepare();

for (int i = 0; i &lt; 10000; i++)
{
	// Add some parameter data
	command.executeNonQuery();
}

The problem is, this still executes queries and checks results from the
database engine (in my case over the network) for each and every insert.
This slows the process considerably and while the JDBC add- and
executeBatch method below does about 80000 inserts per second, code like
the above snippet only does about 4000 with my current setup.

Thanks for you input.

/Fred

On Sun, 2004-05-23 at 13:34, Carlos Guzmán Álvarez wrote:
&gt;<i> Hello:
</I>&gt;<i> 
</I>&gt;<i> &gt;PreparedStatement statement = connection.prepareStatement(&quot;INSERT
</I>&gt;<i> &gt;INTO....&quot;);
</I>&gt;<i> &gt;                        
</I>&gt;<i> &gt;            for (int i = 0; i &lt; 1000; i++)
</I>&gt;<i> &gt;            {
</I>&gt;<i> &gt;                    statement.setInt(1,rand.nextInt());
</I>&gt;<i> &gt;                    statement.addBatch();
</I>&gt;<i> &gt;            }
</I>&gt;<i> &gt;            statement.executeBatch();
</I>&gt;<i> &gt;
</I>&gt;<i> Maybe you can use parametrized querys and the
</I>&gt;<i> XxCommand.Prepare method ??
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> Best regards
</I>&gt;<i> 
</I>&gt;<i> Carlos Guzmán Álvarez
</I>&gt;<i> Vigo-Spain
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="mailto:Mono-list@lists.ximian.com">Mono-list@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="020586.html">[Mono-list] Batch inserts with ADO.NET
</A></li>
	<LI> Next message: <A HREF="020593.html">[Mono-list] Batch inserts with ADO.NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20587">[ date ]</a>
              <a href="thread.html#20587">[ thread ]</a>
              <a href="subject.html#20587">[ subject ]</a>
              <a href="author.html#20587">[ author ]</a>
         </LI>
       </UL>
</body></html>
