<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] multiple web apps with mod_mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chris%40turchin.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="020619.html">
   <LINK REL="Next"  HREF="020636.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] multiple web apps with mod_mono
   </H1>
    <B>Chris Turchin
    </B> 
    <A HREF="mailto:chris%40turchin.net"
       TITLE="[Mono-list] multiple web apps with mod_mono">chris@turchin.net
       </A><BR>
    <I>Mon, 24 May 2004 07:01:10 -0700 (PDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="020619.html">[Mono-list] Problem running monodevelop on NetBSD
</A></li>
        <LI> Next message: <A HREF="020636.html">[Mono-list] multiple web apps with mod_mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20620">[ date ]</a>
              <a href="thread.html#20620">[ thread ]</a>
              <a href="subject.html#20620">[ subject ]</a>
              <a href="author.html#20620">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

until just recently, this morning in fact, I was able to run 4 web apps with
mod_mono concurrently and it seemed mostly to &quot;just work&quot;. Since updating from
cvs today I have the following situation:

After an apache restart, the first app loads in the browser and runs fine.
However any attempt to start an additional app yields the following error:

Server error in '/blogx' application
Description: Error processing request.

Error Message: HTTP 500.

Stack Trace:

System.NullReferenceException: Object reference not set to an instance of an
object
in &lt;0x0001d&gt; System.Int32:FindSign
(int&amp;,string,System.Globalization.NumberFormatInfo,bool&amp;,bool&amp;)
in &lt;0x0043d&gt; System.Int32:Parse
(string,System.Globalization.NumberStyles,System.IFormatProvider)
in &lt;0x00013&gt; System.Int32:Parse (string,System.IFormatProvider)
in &lt;0x00019&gt; System.Convert:ToInt32 (string,System.IFormatProvider)
in &lt;0x0000e&gt; System.String:System.IConvertible.ToInt32 (System.IFormatProvider)
in &lt;0x0048d&gt; System.Convert:ToType (object,System.Type,System.IFormatProvider)
in &lt;0x00037&gt; System.Convert:ChangeType (object,System.Type)
in &lt;0x001fa&gt;
System.Web.Compilation.TemplateControlCompiler:GetExpressionFromString
(System.Type,string)
in &lt;0x000e5&gt;
System.Web.Compilation.TemplateControlCompiler:AddCodeForPropertyOrField
(System.Web.UI.ControlBuilder,System.Type,string,string,bool)
in &lt;0x001e9&gt;
System.Web.Compilation.TemplateControlCompiler:ProcessPropertiesAndFields
(System.Web.UI.ControlBuilder,System.Reflection.MemberInfo,string,string)
in &lt;0x0040f&gt;
System.Web.Compilation.TemplateControlCompiler:CreateAssignStatementsFromAttributes
(System.Web.UI.ControlBuilder)
in &lt;0x0014b&gt; System.Web.Compilation.TemplateControlCompiler:CreateControlTree
(System.Web.UI.ControlBuilder,bool,bool)
in &lt;0x004fb&gt; System.Web.Compilation.TemplateControlCompiler:CreateControlTree
(System.Web.UI.ControlBuilder,bool,bool)
in &lt;0x004fb&gt; System.Web.Compilation.TemplateControlCompiler:CreateControlTree
(System.Web.UI.ControlBuilder,bool,bool)
in &lt;0x004fb&gt; System.Web.Compilation.TemplateControlCompiler:CreateControlTree
(System.Web.UI.ControlBuilder,bool,bool)
in &lt;0x00050&gt; System.Web.Compilation.TemplateControlCompiler:CreateMethods ()
in &lt;0x0000a&gt; System.Web.Compilation.PageCompiler:CreateMethods ()
in &lt;0x0019e&gt; System.Web.Compilation.BaseCompiler:GetCompiledType ()
in &lt;0x00273&gt; System.Web.Compilation.AspGenerator:GetCompiledType ()
in &lt;0x00036&gt; System.Web.UI.PageParser:CompileIntoType ()
in &lt;0x0001a&gt; System.Web.UI.TemplateControlParser:GetCompiledInstance ()
in &lt;0x00048&gt; System.Web.UI.PageParser:GetCompiledPageInstance
(string,string,System.Web.HttpContext)
in &lt;0x00011&gt; System.Web.UI.PageHandlerFactory:GetHandler
(System.Web.HttpContext,string,string,string)
in &lt;0x003a1&gt; System.Web.HttpApplication:CreateHttpHandler
(System.Web.HttpContext,string,string,string)
in &lt;0x00122&gt; CreateHandlerState:Execute ()
in &lt;0x00084&gt; StateMachine:ExecuteState
(System.Web.HttpApplication/IStateHandler,bool&amp;)




It seems to be irrelevant which app I open in the browser first, it will work,
and any further application will result in this error. My setup is mdk 9.1,
apache-2 2.0.47, mono, mcs,xsp, mod_mono etc from cvs (updated today)...

Here is my config according to server-info:

   Module Name: mod_mono.c
   Content handlers: yes
   Configuration Phase Participation: Create Server Config
   Request Phase Participation: none
   &lt;snip&gt;
   Current Configuration:
          MonoRunXSP True
          MonoWapiDir /tmp
          MonoUnixSocket /tmp/mod_mono_server
          MonoServerPath /usr/bin/mod-mono-server.exe
          MonoApplications
          &quot;/gd-gallery:/data/web/gd-gallery,/Doogle:/data/web/Doogle,/tes
          t:/usr/share/doc/xsp/test,/blogx:/data/web/blogx&quot;


and here is from my httpd2.conf:

LoadModule mono_module        /usr/lib/apache2-2.0.47/libmod_mono.so
MonoRunXSP True
MonoWapiDir /tmp
MonoUnixSocket /tmp/mod_mono_server
MonoServerPath /usr/bin/mod-mono-server.exe
MonoApplications
&quot;/gd-gallery:/data/web/gd-gallery,/Doogle:/data/web/Doogle,/test:/usr/share/doc/xsp/test,/blogx:/data/web/blogx&quot;

Alias /test /usr/share/doc/xsp/test
&lt;Directory /usr/share/doc/xsp/test&gt;
    SetHandler mono
    Order allow,deny
    Allow from all
&lt;/Directory&gt;

* The other directory entries are the same , just other directories :-)

I had seen this error sporradically in the past after a httpd restart but then
it seemed to go away after a page refresh (&lt;F5&gt;). Now I can not get it to go
away at all... :-(

Is this a configuration problem? I know there were more changes to mod_mono last
week, maybe I missed something? Or should I file a bug report?

Thanks!

Regards,
--chris



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="020619.html">[Mono-list] Problem running monodevelop on NetBSD
</A></li>
	<LI> Next message: <A HREF="020636.html">[Mono-list] multiple web apps with mod_mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20620">[ date ]</a>
              <a href="thread.html#20620">[ thread ]</a>
              <a href="subject.html#20620">[ subject ]</a>
              <a href="author.html#20620">[ author ]</a>
         </LI>
       </UL>
</body></html>
