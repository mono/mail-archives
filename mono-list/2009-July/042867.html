<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Not all subscribers to event are being called...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Not%20all%20subscribers%20to%20event%20are%20being%20called...&In-Reply-To=8cca42d80907061543g706154c6nc6ff22c9ef035ce3%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042865.html">
   <LINK REL="Next"  HREF="042877.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Not all subscribers to event are being called...</H1>
    <B>Mark Probst</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Not%20all%20subscribers%20to%20event%20are%20being%20called...&In-Reply-To=8cca42d80907061543g706154c6nc6ff22c9ef035ce3%40mail.gmail.com"
       TITLE="[Mono-list] Not all subscribers to event are being called...">mark.probst at gmail.com
       </A><BR>
    <I>Mon Jul  6 19:43:14 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="042865.html">[Mono-list] Announcing the release of Mono 2.4.2.1
</A></li>
        <LI>Next message: <A HREF="042877.html">[Mono-list] Not all subscribers to event are being called...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42867">[ date ]</a>
              <a href="thread.html#42867">[ thread ]</a>
              <a href="subject.html#42867">[ subject ]</a>
              <a href="author.html#42867">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ryan Kirkpatrick wrote:
&gt;<i> This change swapped the order of the optimized delegate invocation with
</I>&gt;<i> the standard (non-virtual) delegate invocation. Apparently that
</I>&gt;<i> optimized version, using delegate trampolines, broke my code. This
</I>&gt;<i> optimization is only enabled if
</I>&gt;<i> MONO_ARCH_HAVE_CREATE_DELEGATE_TRAMPOLINE is defined (in my case in
</I>&gt;<i> mini-x86.h), and when it was not enabled (by commenting out the
</I>&gt;<i> #define), then current versions of Mono (namely the SVN trunk HEAD) was
</I>&gt;<i> able to run my code without issue.
</I>&gt;<i>
</I>&gt;<i> I tried, but failed (again, short on brain cycles :), to understand how
</I>&gt;<i> this change was breaking my code. Apparently these delegate trampoline
</I>&gt;<i> optimizations and the events in my code do not mix well. I do not have a
</I>&gt;<i> test case I can provide, so if some one can resolve this issue based on
</I>&gt;<i> the above (and original problem description below), that would be great.
</I>
Are there by any chance generic classes or generic methods involved in
the code that breaks?

Have you tried running the app with generic sharing disabled (set the
environment variable MONO_GENERIC_SHARING=none)?

Could you please test whether your app works with r122085 (or earlier)?

Mark
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042865.html">[Mono-list] Announcing the release of Mono 2.4.2.1
</A></li>
	<LI>Next message: <A HREF="042877.html">[Mono-list] Not all subscribers to event are being called...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42867">[ date ]</a>
              <a href="thread.html#42867">[ thread ]</a>
              <a href="subject.html#42867">[ subject ]</a>
              <a href="author.html#42867">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
