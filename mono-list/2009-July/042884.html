<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Couldn't create thread exception for ThreadPool.QueueUserWorkItem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Couldn%27t%20create%20thread%20exception%20for%0A%20ThreadPool.QueueUserWorkItem&In-Reply-To=1247027629.5433.5.camel%40lalo-laptop">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042881.html">
   <LINK REL="Next"  HREF="042885.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Couldn't create thread exception for ThreadPool.QueueUserWorkItem</H1>
    <B>Arthur Valadares</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20Couldn%27t%20create%20thread%20exception%20for%0A%20ThreadPool.QueueUserWorkItem&In-Reply-To=1247027629.5433.5.camel%40lalo-laptop"
       TITLE="[Mono-list] Couldn't create thread exception for ThreadPool.QueueUserWorkItem">arthursv at linux.vnet.ibm.com
       </A><BR>
    <I>Wed Jul  8 08:08:25 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="042881.html">[Mono-list] Couldn't create thread exception for ThreadPool.QueueUserWorkItem
</A></li>
        <LI>Next message: <A HREF="042885.html">[Mono-list] Couldn't create thread exception for ThreadPool.QueueUserWorkItem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42884">[ date ]</a>
              <a href="thread.html#42884">[ thread ]</a>
              <a href="subject.html#42884">[ subject ]</a>
              <a href="author.html#42884">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Gonzalo, thanks for the reply,

I know there is a limit, but by reading the MSDN page about
QueueUserWorkItem, it was suggested that if you request a thread beyond
the ThreadPool limit, it would wait until a thread is freed to give it
to the request, and not crash. The exception doens't even come from the
ThreadPool,but from the ExecutionEngineException. That's what led me to
believe it might not be expected behavior.

It's a callback that keeps firing and it's job is to send an image.
Since sending an image can take a while, it stays alive for some time. I
already did some work to do a consumer-producer queue, but I would like
to avoid it if possible, since my application is being built to stress
performance in exactly this point.

Thanks,

&gt;<i> Using the threadpool is ok. There's already a configurable limit (see
</I>&gt;<i> mono(1)) that is roughly 15 threads per CPU. Unless you have 100cpus, I
</I>&gt;<i> don't see the threadpool exhausting the number of threads you're
</I>&gt;<i> creating. Do you really need to create all those extra threads?
</I>&gt;<i> 
</I>&gt;<i> -Gonzalo
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mono-list maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">Mono-list at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/mono-list">http://lists.ximian.com/mailman/listinfo/mono-list</A>
</I>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042881.html">[Mono-list] Couldn't create thread exception for ThreadPool.QueueUserWorkItem
</A></li>
	<LI>Next message: <A HREF="042885.html">[Mono-list] Couldn't create thread exception for ThreadPool.QueueUserWorkItem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42884">[ date ]</a>
              <a href="thread.html#42884">[ thread ]</a>
              <a href="subject.html#42884">[ subject ]</a>
              <a href="author.html#42884">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
