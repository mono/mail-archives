<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list]  String.GetHashcode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20%20String.GetHashcode&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042957.html">
   <LINK REL="Next"  HREF="042958.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list]  String.GetHashcode</H1>
    <B>Juan Urroa</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20%20String.GetHashcode&In-Reply-To="
       TITLE="[Mono-list]  String.GetHashcode">observer1 at hotmail.es
       </A><BR>
    <I>Wed Jul 15 13:56:14 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="042957.html">[Mono-list] Embedding Mono : Classes
</A></li>
        <LI>Next message: <A HREF="042958.html">[Mono-list]  WinForm windowsState not maximized on RedHat?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43271">[ date ]</a>
              <a href="thread.html#43271">[ thread ]</a>
              <a href="subject.html#43271">[ subject ]</a>
              <a href="author.html#43271">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,
I must duplicate the behavior of .net string.GetHashCode in mono I used
reflector to get this code:
public static class HashCode {
		public static unsafe int GetCode(string value) {
			fixed(char* str = ((char*)value)) {
				char* chPtr = str;
				int num = 0x15051505;
				int num2 = num;
				int* numPtr = (int*)chPtr;
				for(int i = value.Length; i &gt; 0; i -= 4) {
					num = (((num &lt;&lt; 5) + num) + (num &gt;&gt; 0x1b)) ^ numPtr[0];
					if(i &lt;= 2) {
						break;
					}
					num2 = (((num2 &lt;&lt; 5) + num2) + (num2 &gt;&gt; 0x1b)) ^ numPtr[1];
					numPtr += 2;
				}
				return (num + (num2 * 0x5d588b65));
			}
		}
	}
but it doesn't compile the error is 'Cannot convert type 'string' to
'char*''

Can somebody help me with this

Thanks

-- 
View this message in context: <A HREF="http://www.nabble.com/String.GetHashcode-tp24502903p24502903.html">http://www.nabble.com/String.GetHashcode-tp24502903p24502903.html</A>
Sent from the Mono - General mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042957.html">[Mono-list] Embedding Mono : Classes
</A></li>
	<LI>Next message: <A HREF="042958.html">[Mono-list]  WinForm windowsState not maximized on RedHat?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43271">[ date ]</a>
              <a href="thread.html#43271">[ thread ]</a>
              <a href="subject.html#43271">[ subject ]</a>
              <a href="author.html#43271">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
