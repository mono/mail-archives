<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] TlsTest.exe throws CERT_E_CHAINING even with certificates imported via certmgr
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.dot.net?Subject=Re%3A%20%5BMono-list%5D%20TlsTest.exe%20throws%20CERT_E_CHAINING%20even%20with%0A%20certificates%20imported%20via%20certmgr&In-Reply-To=%3CCAMAmFi60EeE6WaGQ30-BUJt5oLXqrS9bXep4imiAcZicYW7VEA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052428.html">
   <LINK REL="Next"  HREF="052430.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] TlsTest.exe throws CERT_E_CHAINING even with certificates imported via certmgr</H1>
    <B>El Rico</B> 
    <A HREF="mailto:mono-list%40lists.dot.net?Subject=Re%3A%20%5BMono-list%5D%20TlsTest.exe%20throws%20CERT_E_CHAINING%20even%20with%0A%20certificates%20imported%20via%20certmgr&In-Reply-To=%3CCAMAmFi60EeE6WaGQ30-BUJt5oLXqrS9bXep4imiAcZicYW7VEA%40mail.gmail.com%3E"
       TITLE="[Mono-list] TlsTest.exe throws CERT_E_CHAINING even with certificates imported via certmgr">rico at elrico.net
       </A><BR>
    <I>Thu Apr 20 19:33:53 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052428.html">[Mono-list] it's so cool!
</A></li>
        <LI>Next message (by thread): <A HREF="052430.html">[Mono-list] How to use cert-sync on Windows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52429">[ date ]</a>
              <a href="thread.html#52429">[ thread ]</a>
              <a href="subject.html#52429">[ subject ]</a>
              <a href="author.html#52429">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

On Linux, I'm running into SSL certificate validation issues attempting to
connect to <A HREF="https://google.com.">https://google.com.</A> I've run mozroots --import --sync, used
cert-sync on a Mozilla derived CA bundle and imported the certificates via
certmgr -ssl <A HREF="https://google.com.">https://google.com.</A> For good measure, I've run the same
commands for the machine stores. However the issue still persists. Does
anybody have any pointers on how to fix this?

I'm using Mono JIT compiler version 4.6.2 (Stable 4.6.2.7/08fd525 Wed Nov
23 12:56:10 EST 2016)

The output from certmgr -ssl <A HREF="https://google.com">https://google.com</A> is

Mono Certificate Manager - version 4.6.2.0
Manage X.509 certificates and CRL from stores.
Copyright 2002, 2003 Motus Technologies. Copyright 2004-2008 Novell. BSD
licensed.


X.509 Certificate v3
   Issued from: C=US, O=Equifax, OU=Equifax Secure Certificate Authority
   Issued to:   C=US, O=GeoTrust Inc., CN=GeoTrust Global CA
   Valid from:  5/21/2002 4:00:00 AM
   Valid until: 8/21/2018 4:00:00 AM
   *** WARNING: Certificate signature is INVALID ***
This certificate is already in the CA store.

X.509 Certificate v3
   Issued from: C=US, O=GeoTrust Inc., CN=GeoTrust Global CA
   Issued to:   C=US, O=Google Inc, CN=Google Internet Authority G2
   Valid from:  4/1/2015 12:00:00 AM
   Valid until: 12/31/2017 11:59:59 PM
   *** WARNING: Certificate signature is INVALID ***
This certificate is already in the CA store.

X.509 Certificate v3
   Issued from: C=US, O=Google Inc, CN=Google Internet Authority G2
   Issued to:   C=US, S=California, L=Mountain View, O=Google Inc, CN=*.
google.com
   Valid from:  4/12/2017 2:19:56 PM
   Valid until: 7/5/2017 1:29:00 PM
This certificate is already in the AddressBook store.

No certificate were added to the stores.

The output from mono TlsTest.exe <A HREF="https://google.com">https://google.com</A> is

<A HREF="https://google.com">https://google.com</A>
[Subject]
  CN=*.google.com, O=Google Inc, L=Mountain View, S=California, C=US

[Issuer]
  CN=Google Internet Authority G2, O=Google Inc, C=US

[Not Before]
  4/12/2017 4:19:56 PM

[Not After]
  7/5/2017 3:29:00 PM

[Thumbprint]
  659785A076AA7B417C4282F121B0E99BCD34B183


        Valid From:  4/12/2017 4:19:56 PM
        Valid Until: 7/5/2017 3:29:00 PM

Error #-2146762486: CERT_E_CHAINING 0x800B010A

The signature warnings in the certmgr output concern me, but I couldn't
find anything definitive regarding them.

Best regards,

Rico
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/mono-list/attachments/20170420/53c3b84f/attachment.html">http://lists.dot.net/pipermail/mono-list/attachments/20170420/53c3b84f/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052428.html">[Mono-list] it's so cool!
</A></li>
	<LI>Next message (by thread): <A HREF="052430.html">[Mono-list] How to use cert-sync on Windows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52429">[ date ]</a>
              <a href="thread.html#52429">[ thread ]</a>
              <a href="subject.html#52429">[ subject ]</a>
              <a href="author.html#52429">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
