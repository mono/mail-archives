<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] How to use cert-sync on Windows?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.dot.net?Subject=Re%3A%20%5BMono-list%5D%20How%20to%20use%20cert-sync%20on%20Windows%3F&In-Reply-To=%3CCC6CC5B5-AD25-42C9-9E95-3029BDC8E6E6%40microsoft.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052432.html">
   <LINK REL="Next"  HREF="052434.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] How to use cert-sync on Windows?</H1>
    <B>Alexander Köplinger</B> 
    <A HREF="mailto:mono-list%40lists.dot.net?Subject=Re%3A%20%5BMono-list%5D%20How%20to%20use%20cert-sync%20on%20Windows%3F&In-Reply-To=%3CCC6CC5B5-AD25-42C9-9E95-3029BDC8E6E6%40microsoft.com%3E"
       TITLE="[Mono-list] How to use cert-sync on Windows?">alkpli at microsoft.com
       </A><BR>
    <I>Sat Apr 22 01:53:41 UTC 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052432.html">[Mono-list] How to use cert-sync on Windows?
</A></li>
        <LI>Next message (by thread): <A HREF="052434.html">[Mono-list] New Linux repository layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52433">[ date ]</a>
              <a href="thread.html#52433">[ thread ]</a>
              <a href="subject.html#52433">[ subject ]</a>
              <a href="author.html#52433">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The problem with mozroots in general is that it has a hardcoded URL to Mozilla's Mercurial source code repository embedded where it grabs the certificate list from.
This breaks when they change their repo and then mozroots is broken (which has happened in the past).
Another problem is that the connection over which this happens can't use SSL (because when you're using mozroots you typically won't yet have any trusted CAs) which is just bad.

Granted, this doesn't affect the use on Windows that much as you can just pass it the file but was a problem on the majority use case which is Linux where we used it during package installation.

cert-sync in turn supports importing from the Linux OpenSSL certificate locations and also imports into the Mono trust store that is used by the new BoringSSL TLS provider.
Thus it's easier to just standardize on one tool.

Hope this helps,
Alex


On 22.04.2017, at 00:24, Matt Johnson (AZURE) &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">matt.johnson at microsoft.com</A>&lt;mailto:<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">matt.johnson at microsoft.com</A>&gt;&gt; wrote:

Since that’s sourced from Mozilla anyway, how is this different than using the mozroots utility?

Thanks,
Matt

From: Alexander Köplinger
Sent: Friday, April 21, 2017 2:48 PM
To: Matt Johnson (AZURE) &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">matt.johnson at microsoft.com</A>&lt;mailto:<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">matt.johnson at microsoft.com</A>&gt;&gt;
Cc: <A HREF="http://lists.dot.net/mailman/listinfo/mono-list">mono-list at lists.dot.net</A>&lt;mailto:<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">mono-list at lists.dot.net</A>&gt;
Subject: Re: [Mono-list] How to use cert-sync on Windows?

You can just download curl's list of certificates from <A HREF="https://curl.haxx.se/ca/cacert.pem">https://curl.haxx.se/ca/cacert.pem</A> and then import the list via &quot;cert-sync --user cacert.pem&quot;.

As far as I'm aware we don't currently support reading the certificates from the Windows certificate store.

- Alex


On 21.04.2017, at 22:24, Matt Johnson (AZURE) via Mono-list &lt;<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">mono-list at lists.dot.net</A>&lt;mailto:<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">mono-list at lists.dot.net</A>&gt;&gt; wrote:

Reading the SSL/TLS FAQ here: <A HREF="http://www.mono-project.com/docs/faq/security/&lt;https://na01.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.mono-project.com%2Fdocs%2Ffaq%2Fsecurity%2F&amp;data=02%7C01%7Calkpli%40microsoft.com%7C4b57b0b174684614db6e08d488f46d99%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636284030781577238&amp;sdata=mVjubGhaGJcAt%2FfS8HlEeG7owXrE0L43lYIFC3EpAok%3D&amp;reserved=0">http://www.mono-project.com/docs/faq/security/&lt;https://na01.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.mono-project.com%2Fdocs%2Ffaq%2Fsecurity%2F&amp;data=02%7C01%7Calkpli%40microsoft.com%7C4b57b0b174684614db6e08d488f46d99%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636284030781577238&amp;sdata=mVjubGhaGJcAt%2FfS8HlEeG7owXrE0L43lYIFC3EpAok%3D&amp;reserved=0</A>&gt;
And the details on how to use cert-sync here: <A HREF="http://www.mono-project.com/docs/about-mono/releases/3.12.0/#cert-sync&lt;https://na01.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.mono-project.com%2Fdocs%2Fabout-mono%2Freleases%2F3.12.0%2F%23cert-sync&amp;data=02%7C01%7Calkpli%40microsoft.com%7C4b57b0b174684614db6e08d488f46d99%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636284030781577238&amp;sdata=McGLyj0YpzNHYU1NG7CauPD2KHF%2BkgnC59n4x3oMEpc%3D&amp;reserved=0">http://www.mono-project.com/docs/about-mono/releases/3.12.0/#cert-sync&lt;https://na01.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.mono-project.com%2Fdocs%2Fabout-mono%2Freleases%2F3.12.0%2F%23cert-sync&amp;data=02%7C01%7Calkpli%40microsoft.com%7C4b57b0b174684614db6e08d488f46d99%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636284030781577238&amp;sdata=McGLyj0YpzNHYU1NG7CauPD2KHF%2BkgnC59n4x3oMEpc%3D&amp;reserved=0</A>&gt;

I don’t see any details of how to get the ca-bundle.crt file on Windows.  The instructions only show  Linux and OSX.  One would assume it needs to be exported from the Windows certificate store?  How is that done?

I can use the mozroots utility for now, but it gives the deprecation warning so I’d like to use cert-sync instead.

Thanks,
Matt
_______________________________________________
Mono-list maillist  -  <A HREF="http://lists.dot.net/mailman/listinfo/mono-list">Mono-list at lists.dot.net</A>&lt;mailto:<A HREF="http://lists.dot.net/mailman/listinfo/mono-list">Mono-list at lists.dot.net</A>&gt;
<A HREF="https://na01.safelinks.protection.outlook.com/?url=http%3A%2F%2Flists.dot.net%2Fmailman%2Flistinfo%2Fmono-list&amp;data=02%7C01%7Calkpli%40microsoft.com%7C4b57b0b174684614db6e08d488f46d99%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636284030781577238&amp;sdata=z9m3mhxD35RU8aLmU8fFIEL13givzRLLJ3xEMySShr4%3D&amp;reserved=0">https://na01.safelinks.protection.outlook.com/?url=http%3A%2F%2Flists.dot.net%2Fmailman%2Flistinfo%2Fmono-list&amp;data=02%7C01%7Calkpli%40microsoft.com%7C4b57b0b174684614db6e08d488f46d99%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636284030781577238&amp;sdata=z9m3mhxD35RU8aLmU8fFIEL13givzRLLJ3xEMySShr4%3D&amp;reserved=0</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.dot.net/pipermail/mono-list/attachments/20170422/924844af/attachment.html">http://lists.dot.net/pipermail/mono-list/attachments/20170422/924844af/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052432.html">[Mono-list] How to use cert-sync on Windows?
</A></li>
	<LI>Next message (by thread): <A HREF="052434.html">[Mono-list] New Linux repository layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52433">[ date ]</a>
              <a href="thread.html#52433">[ thread ]</a>
              <a href="subject.html#52433">[ subject ]</a>
              <a href="author.html#52433">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.dot.net/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
