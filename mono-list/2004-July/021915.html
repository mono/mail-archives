<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Server using mod_mono
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:codejnki%40codejnki.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="021917.html">
   <LINK REL="Next"  HREF="021921.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Server using mod_mono
   </H1>
    <B>Patrick Stockton
    </B> 
    <A HREF="mailto:codejnki%40codejnki.com"
       TITLE="[Mono-list] Server using mod_mono">codejnki@codejnki.com
       </A><BR>
    <I>Wed, 07 Jul 2004 22:30:58 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="021917.html">[Mono-list] Using qt#
</A></li>
        <LI> Next message: <A HREF="021921.html">[Mono-list] Server using mod_mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21915">[ date ]</a>
              <a href="thread.html#21915">[ thread ]</a>
              <a href="subject.html#21915">[ subject ]</a>
              <a href="author.html#21915">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am trying to get mod_mono and apache2 working on a Gentoo Linux box.  I have been programming C# &amp; 
ASP.NET for about 2 years and using Linux for over 6.  I am brand new to Mono.

I have unmasked the ebuilds for the mod_mono package and it complied and installed just fine.

I have modified my apache2.conf file to linclude the following:
	AddType application/x-asp-net .aspx .ashx .asmx .ascx .asax .config .ascx
	LoadModule mono_module modules/mod_mono.so
	MonoUnixSocket /tmp/mod_mono_server
	Alias /mono &quot;/home/patrick/www.codejnki.com/dotnet/&quot;

I have changed to the directory I am trying to server pages from and run
this command:
	mono /usr/bin/mod-mono-server.exe --root . --applications /mono:.

After the mod-mono-server starts I
	chmod 666 /tmp/mod_mono_server
	chown apache:apache /tmp/mod_mono_server

At this point I try to pull up my test page which looks like this:

	&lt;%@Page language=&quot;c#&quot; %&gt;
	&lt;% string s = &quot;HELLO WORLD&quot;; %&gt;

	TEST: &lt;%= s %&gt;

At which point I promptly get an error page that looks like this:

	Server error in '/mono' application
	Description: Error processing request.

	Error Message: HTTP 500.

	Stack Trace:

	System.NullReferenceException: Object reference not set to an instance of an object
	in &lt;0x00049&gt; System.Web.QueueManager:.ctor ()
	in &lt;0x00077&gt; System.Web.HttpRuntime:OnFirstRequestStart(System.Web.HttpContext)

The first time I pull up the page nothing is displayed in the console that I am running the 
mod_mono_server from.  If I try to pull up the page a second time the following is output to the 
console:

System.NullReferenceException: Object reference not set to an instance of an object

Server stack trace:
in &lt;0x00061&gt; System.Web.HttpRuntime:ProcessRequest (System.Web.HttpWorkerRequest)
in &lt;0x0000a&gt; Mono.ASPNET.MonoWorkerRequest:ProcessRequest ()
in &lt;0x0004f&gt; Mono.ASPNET.BaseApplicationHost:ProcessRequest (Mono.ASPNET.MonoWorkerRequest)
in &lt;0x00056&gt; (wrapper remoting-invoke-with-check) Mono.ASPNET.BaseApplicationHost:ProcessRequest 
(Mono.ASPNET.MonoWorkerRequest)
in &lt;0x0011c&gt; Mono.ASPNET.ModMonoApplicationHost:ProcessRequest 
(int,string,string,string,string,string,int,string,int,string,string[],string[])
in (unmanaged) (wrapper managed-to-native) System.Runtime.Remoting.RemotingServices:InternalExecute 
(System.Reflection.MonoMethod,object,object[],object[]&amp;)
in &lt;0x00004&gt; (wrapper managed-to-native) System.Runtime.Remoting.RemotingServices:InternalExecute 
(System.Reflection.MonoMethod,object,object[],object[]&amp;)
in &lt;0x00171&gt; System.Runtime.Remoting.RemotingServices:InternalExecuteMessage 
(System.MarshalByRefObject,System.Runtime.Remoting.Messaging.IMethodCallMessage)


Exception rethrown at [0]:

in &lt;0x00601&gt; System.Runtime.Remoting.Proxies.RealProxy:PrivateInvoke 
(System.Runtime.Remoting.Proxies.RealProxy,System.Runtime.Remoting.Messaging.IMessage,System.Exception&amp;,object[]&amp;)

The only thing that shows up in the apache error log is this:
	[Thu Jul 08 22:46:59 2004] [notice] child pid 26346 exit signal Segmentation fault (11)


Needless to say I am totally stumped here.  The message is obviously comming from the 
mod_mono_server.  It is formatted the same as error messages I get from IIS servers.  It looks like 
something crashed but I'm not sure why or where to begin to look.  Any help in tracking down this 
error would be greatly appreciated.

Thanks

Patrick
---
[This E-mail scanned for viruses by Declude Virus]


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="021917.html">[Mono-list] Using qt#
</A></li>
	<LI> Next message: <A HREF="021921.html">[Mono-list] Server using mod_mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21915">[ date ]</a>
              <a href="thread.html#21915">[ thread ]</a>
              <a href="subject.html#21915">[ subject ]</a>
              <a href="author.html#21915">[ author ]</a>
         </LI>
       </UL>
</body></html>
