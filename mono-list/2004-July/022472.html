<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] how to receive console event signal in mono?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:arhra%40arslinux.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="022457.html">
   <LINK REL="Next"  HREF="022461.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] how to receive console event signal in mono?
   </H1>
    <B>mike roome
    </B> 
    <A HREF="mailto:arhra%40arslinux.com"
       TITLE="[Mono-list] how to receive console event signal in mono?">arhra@arslinux.com
       </A><BR>
    <I>Thu, 29 Jul 2004 05:02:49 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="022457.html">[Mono-list] how to receive console event signal in mono?
</A></li>
        <LI> Next message: <A HREF="022461.html">[Mono-list] HP-UX 11 support?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22472">[ date ]</a>
              <a href="thread.html#22472">[ thread ]</a>
              <a href="subject.html#22472">[ subject ]</a>
              <a href="author.html#22472">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>[oops, forgot to cc this to the list]

Sam Jost wrote:

&gt;<i>I'd like to know how I would receive a console event signal in a console
</I>&gt;<i>program written in mono (running on linux)
</I>&gt;<i>
</I>&gt;<i>On windows I would use interop and kernel32 &quot;SetConsoleCtrlHandler&quot; function
</I>&gt;<i>to capture a ctrl+break, but somehow I don't except this to work with linux.
</I>&gt;<i>
</I>&gt;<i>How would one capture signals with a mono console program in linux?
</I>&gt;<i>
</I>
Mono.Posix has wrappers for the POSIX signal-handling functions (in
particular, Mono.Posix.Syscall.signal() is the method you need, i
believe). I don't think there are any docs available for them (at least,
there's nothing on Mono.Posix in my local copy of Monodoc), but afaict,
they're just straight p/invoke wrappers around the native functions, so
just check the relevant man pages (man 2 signal and man 7 signal).

(actually... looking at the source, there's a Signals enum, which is
marked with a [Map] attribute, which the comments say needs to be run
through a c helper function to map the enum values to the correct
underlying value used by the system, BUT, Syscall.signal() takes a raw int
for the signum... so i have no idea if it will work portably at the
moment...)

-- 
Mike Roome



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="022457.html">[Mono-list] how to receive console event signal in mono?
</A></li>
	<LI> Next message: <A HREF="022461.html">[Mono-list] HP-UX 11 support?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22472">[ date ]</a>
              <a href="thread.html#22472">[ thread ]</a>
              <a href="subject.html#22472">[ subject ]</a>
              <a href="author.html#22472">[ author ]</a>
         </LI>
       </UL>
</body></html>
