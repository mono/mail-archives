<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] Problem with XmlTextReader
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:dwaite%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="022289.html">
   <LINK REL="Next"  HREF="022339.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] Problem with XmlTextReader
   </H1>
    <B>David Waite
    </B> 
    <A HREF="mailto:dwaite%40gmail.com"
       TITLE="[Mono-list] Problem with XmlTextReader">dwaite@gmail.com
       </A><BR>
    <I>Wed, 21 Jul 2004 13:19:31 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="022289.html">[Mono-list] Problem with XmlTextReader
</A></li>
        <LI> Next message: <A HREF="022339.html">[Mono-list] Sending POSIX signals to external processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22290">[ date ]</a>
              <a href="thread.html#22290">[ thread ]</a>
              <a href="subject.html#22290">[ subject ]</a>
              <a href="author.html#22290">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 22 Jul 2004 03:14:37 +0900, Atsushi Eno &lt;<A HREF="mailto:atsushi@ximian.com">atsushi@ximian.com</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> Assuming you also wanted to reply to the list...
</I>&gt;<i> 
</I>Oops :)

&gt;<i> David Waite wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; I might be misunderstanding the problem, but...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It seems like the stream could simply be Read() from; if there is no
</I>&gt;<i> &gt; data, the read will block, if there is data it can go into an internal
</I>&gt;<i> &gt; buffer. That buffer gets examined to see if there is enough
</I>&gt;<i> &gt; information to identify and represent the next event in the pull
</I>&gt;<i> &gt; parser; if not, you call Read() again, which may block again. MoveTo*
</I>&gt;<i> &gt; and Read* methods will just keep reading until the conditions
</I>&gt;<i> &gt; specified by the method are satisfied.
</I>&gt;<i> 
</I>&gt;<i> What I've written in the previous post is &quot;how Read() events do not
</I>&gt;<i> match with the *required* text stream consumption for one Read() call&quot;.
</I>&gt;<i> The TextReader (stream) is likely to be set as empty (not set any
</I>&gt;<i> contents) and thus it easily freezes. In such case are those stream
</I>&gt;<i> developers aware of how XmlTextReader consumes the stream at any time?
</I>
My misunderstanding - I thought you were saying in your previous
message that reading from the stream only when a Read() or Next*() was
called was impossible; it is possible, because you are doing it
already in your code :) What is infeasable is reading byte-by-byte,
just enough to determine the node type.
 
Yes, a Stream Read(byte[], int, int) is not meant to block until the
length is met. You may read more into an internal buffer than is
needed to represent the next event, but you will not block waiting for
more than needed.

&gt;<i> (BTW MoveTo*() never consumes the stream. Those methods must be
</I>&gt;<i> available for iterating attributes.)
</I>
Sorry, yes, only MoveToContent() performs reading.

&lt;snip&gt;

-David Waite

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="022289.html">[Mono-list] Problem with XmlTextReader
</A></li>
	<LI> Next message: <A HREF="022339.html">[Mono-list] Sending POSIX signals to external processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22290">[ date ]</a>
              <a href="thread.html#22290">[ thread ]</a>
              <a href="subject.html#22290">[ subject ]</a>
              <a href="author.html#22290">[ author ]</a>
         </LI>
       </UL>
</body></html>
