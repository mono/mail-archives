<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] XmlTextReader: MS compatibility, or W3C conformance?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:atsushi%40ximian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="021977.html">
   <LINK REL="Next"  HREF="021982.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] XmlTextReader: MS compatibility, or W3C conformance?
   </H1>
    <B>Atsushi Eno
    </B> 
    <A HREF="mailto:atsushi%40ximian.com"
       TITLE="[Mono-list] XmlTextReader: MS compatibility, or W3C conformance?">atsushi@ximian.com
       </A><BR>
    <I>Fri, 09 Jul 2004 12:31:49 +0900</I>
    <P><UL>
        <LI> Previous message: <A HREF="021977.html">[Mono-list] Re: Bootstrapping
</A></li>
        <LI> Next message: <A HREF="021982.html">[Mono-list] XmlTextReader: MS compatibility, or W3C conformance?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21980">[ date ]</a>
              <a href="thread.html#21980">[ thread ]</a>
              <a href="subject.html#21980">[ subject ]</a>
              <a href="author.html#21980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

On bugzilla we (Ian and I) were discussing on XmlTextReader conformance
to XML specification. MS XmlTextReader is buggy since it accepts
XML declaration as element content (that violates W3C XML specification
section 3 Logical Structures).
<A HREF="http://bugzilla.ximian.com/show_bug.cgi?id=61274">http://bugzilla.ximian.com/show_bug.cgi?id=61274</A>

However, there is another discussion that it is useful that new
XmlTextReader (xmlText, XmlNodeType.Element, null) accepts XML declaration.

Well, I agree that

	- that error-prone XmlTextReader might be useful (especially
	  for people who already depends on that behavior).
	- we did not always reject Microsoft badness; for example
	  we are copying System.Xml.XmlCDataSection that violates
	  W3C DOM interface hierarchy (!)

So it is case by case. I believe we should not allow such use of
XmlTextReader, but I understand what Ian wants me to do. The &quot;fix&quot;
can be very easily done.

I don't think it is major problem. Users can easily fix this problem
by calling MoveToContent(), or by skipping XmlDeclaration node with
Read() method (well, to call Read() safely, users have to check if
the reader state is Initial or not).

Any comments?

Atsushi Eno


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="021977.html">[Mono-list] Re: Bootstrapping
</A></li>
	<LI> Next message: <A HREF="021982.html">[Mono-list] XmlTextReader: MS compatibility, or W3C conformance?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21980">[ date ]</a>
              <a href="thread.html#21980">[ thread ]</a>
              <a href="subject.html#21980">[ subject ]</a>
              <a href="author.html#21980">[ author ]</a>
         </LI>
       </UL>
</body></html>
