<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] ByteFX, mysql and UTF-8?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:kd%40techhouse.brown.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="022511.html">
   <LINK REL="Next"  HREF="022410.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] ByteFX, mysql and UTF-8?
   </H1>
    <B>Keith Dreibelbis
    </B> 
    <A HREF="mailto:kd%40techhouse.brown.edu"
       TITLE="[Mono-list] ByteFX, mysql and UTF-8?">kd@techhouse.brown.edu
       </A><BR>
    <I>Mon, 26 Jul 2004 19:49:11 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="022511.html">[Mono-list] Cross-platform GUI.
</A></li>
        <LI> Next message: <A HREF="022410.html">[Mono-list] Re: Mono DataAdapter problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22413">[ date ]</a>
              <a href="thread.html#22413">[ thread ]</a>
              <a href="subject.html#22413">[ subject ]</a>
              <a href="author.html#22413">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there,

Has anyone had success with getting ByteFX (mysql) to work with UTF-8?  I
am using ByteFX 7.6 with mysql 4.1.  I know there are a bunch of places to
tell mysql to use UTF-8, (&quot;character_set_client&quot;,
&quot;character_set_database&quot;, individual columns/tables etc) and I have tried
setting just about all of them.  (though maybe I'm missing one?)

In looking at the ByteFX source, I wonder if my problem has to do with
differences between mysql 4.0 and mysql 4.1.  It seems like 4.0 had a
single &quot;character_set&quot; variable to set, while 4.1 has a bunch of
&quot;character_set_*&quot; variables to set.  ByteFX's ConnectionInternal.cs:83
seems to be looking for a single &quot;character_set&quot; variable to determine
encoding, 4.0 style.  Is there a newer version of ByteFX I should be
using, or a patch for 4.1?  I'd try making the change in
mcs/classes/ByteFX.Data myself, but I can't seem to get it to compile.

This is the exception I get on a SELECT:

ByteFX.Data.MySqlClient.MySqlException:
Illegal mix of collations (latin1_swedish_ci,IMPLICIT) and
(utf8_general_ci,COERCIBLE) for operation '='
in &lt;0x000dc&gt; ByteFX.Data.MySqlClient.Driver:ReadPacket ()
in &lt;0x00086&gt; ByteFX.Data.MySqlClient.Driver:Send
(ByteFX.Data.MySqlClient.DBCmd,byte[])
in &lt;0x000b7&gt; ByteFX.Data.MySqlClient.MySqlCommand:ExecuteBatch (bool)
in &lt;0x0005a&gt; (wrapper remoting-invoke-with-check)
ByteFX.Data.MySqlClient.MySqlCommand:ExecuteBatch (bool)
in &lt;0x00077&gt; ByteFX.Data.MySqlClient.MySqlDataReader:NextResult ()
in &lt;0x0005d&gt; (wrapper remoting-invoke-with-check)
ByteFX.Data.MySqlClient.MySqlDataReader:NextResult ()
in &lt;0x00156&gt; ByteFX.Data.MySqlClient.MySqlCommand:ExecuteReader
(System.Data.CommandBehavior)
in &lt;0x00054&gt; (wrapper remoting-invoke-with-check)
ByteFX.Data.MySqlClient.MySqlCommand:ExecuteReader
(System.Data.CommandBehavior)
[... etc etc ...]

Does anyone have any thoughts or experience with this?  Apologies if this
has already been answered elsewhere.


-kd

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="022511.html">[Mono-list] Cross-platform GUI.
</A></li>
	<LI> Next message: <A HREF="022410.html">[Mono-list] Re: Mono DataAdapter problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22413">[ date ]</a>
              <a href="thread.html#22413">[ thread ]</a>
              <a href="subject.html#22413">[ subject ]</a>
              <a href="author.html#22413">[ author ]</a>
         </LI>
       </UL>
</body></html>
