<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Mono-list] XSD indirect importing problem with XsdSchemaSet
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20XSD%20indirect%20importing%20problem%20with%20XsdSchemaSet&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043599.html">
   <LINK REL="Next"  HREF="043601.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mono-list] XSD indirect importing problem with XsdSchemaSet</H1>
    <B>&#39759;&#29614;</B> 
    <A HREF="mailto:mono-list%40lists.ximian.com?Subject=%5BMono-list%5D%20XSD%20indirect%20importing%20problem%20with%20XsdSchemaSet&In-Reply-To="
       TITLE="[Mono-list] XSD indirect importing problem with XsdSchemaSet">shazhouke at gmail.com
       </A><BR>
    <I>Wed Oct 14 09:37:56 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="043599.html">[Mono-list] XSD indirect importing problem with XsdSchemaSet
</A></li>
        <LI>Next message: <A HREF="043601.html">[Mono-list]  user32.dll &amp; gdi32.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43600">[ date ]</a>
              <a href="thread.html#43600">[ thread ]</a>
              <a href="subject.html#43600">[ subject ]</a>
              <a href="author.html#43600">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, guys,

Sorry for spamming, if you receive this mail twice. It's my first time to
use this mail list, I didn't receive my first post, I suspect it was lost.

I ran into this problem when working with the XsdSchemaSet:

Take an example:

There are 3 schemas, say a.xsd, b.xsd, c.xsd
a.xsd imports b.xsd, b.xsd imports c.xsd
a.xsd and c.xsd have the SAME target namespace

a.xsd:
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;xs:schema targetNamespace=&quot;<A HREF="http://nsA&quot;">http://nsA&quot;</A> xmlns:xs=&quot;
<A HREF="http://www.w3.org/2001/XMLSchema&quot;">http://www.w3.org/2001/XMLSchema&quot;</A>&gt;
  &lt;xs:import targetNamespace=<A HREF="http://nsB">http://nsB</A> &lt;<A HREF="http://nsb/">http://nsb/</A>&gt;&quot; target=&quot;b.xsd&quot;/&gt;
  &lt;xs:element name=&quot;a&quot;&gt;
  &lt;/xs:element&gt;
&lt;/xs:schema&gt;

b.xsd:
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;xs:schema targetNamespace=&quot;<A HREF="http://nsB&quot;">http://nsB&quot;</A> xmlns:xs=&quot;
<A HREF="http://www.w3.org/2001/XMLSchema&quot;">http://www.w3.org/2001/XMLSchema&quot;</A>&gt;
  &lt;xs:import targetNamespace=<A HREF="http://nsA">http://nsA</A> &lt;<A HREF="http://nsa/">http://nsa/</A>&gt;&quot; target=&quot;c.xsd&quot;/&gt;
  &lt;xs:element name=&quot;b&quot;&gt;
  &lt;/xs:element&gt;
&lt;/xs:schema&gt;

c.xsd
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;xs:schema targetNamespace=&quot;<A HREF="http://nsA&quot;">http://nsA&quot;</A> xmlns:xs=&quot;
<A HREF="http://www.w3.org/2001/XMLSchema&quot;">http://www.w3.org/2001/XMLSchema&quot;</A>&gt;
  &lt;xs:element name=&quot;c&quot;&gt;
  &lt;/xs:element&gt;
&lt;/xs:schema&gt;

An error saying &quot;Target namespace must be different from that of included
schema&quot;, when I was running the following program

using System;
using System.Xml;
using System.Xml.Schema;

namespace testSchema
{
    class Program
    {
        static void Main(string[] args)
        {
            XmlSchemaSet xss = new XmlSchemaSet();
            xss.Add(null, &quot;a.xsd&quot;)
            xss.Compile();
        }
    }
}

I have tried:
1. Run the program with Mono 2.4.2.3 , got the error &quot;Target namespace must
be different from that of included schema&quot;,
2. Run the program with Visiual Studio 2008, no error.
3. Include c.xsd in a.xsd, before importing,
     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
    &lt;xs:schema targetNamespace=&quot;<A HREF="http://nsA&quot;">http://nsA&quot;</A> xmlns:xs=&quot;
<A HREF="http://www.w3.org/2001/XMLSchema&quot;">http://www.w3.org/2001/XMLSchema&quot;</A>&gt;
      &lt;xs:include schemaLocation=&quot;c.xsd&quot;/&gt;
      &lt;xs:import targetNamespace=<A HREF="http://nsB">http://nsB</A> &lt;<A HREF="http://nsb/">http://nsb/</A>&gt;&quot;
schemaLocation=&quot;b.xsd&quot;/&gt;
      &lt;xs:element name=&quot;a&quot;&gt;
      &lt;/xs:element&gt;
    &lt;/xs:schema&gt;
    run with Mono 2.4.2.3, no error.

I want to know:

Is there any method to resolve this error except adding includes (If no, I
have to modify a lot schema files)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/mono-list/attachments/20091014/62d4d5b8/attachment.html">http://lists.ximian.com/pipermail/mono-list/attachments/20091014/62d4d5b8/attachment.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043599.html">[Mono-list] XSD indirect importing problem with XsdSchemaSet
</A></li>
	<LI>Next message: <A HREF="043601.html">[Mono-list]  user32.dll &amp; gdi32.dll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43600">[ date ]</a>
              <a href="thread.html#43600">[ thread ]</a>
              <a href="subject.html#43600">[ subject ]</a>
              <a href="author.html#43600">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-list">More information about the Mono-list
mailing list</a><br>
</body></html>
