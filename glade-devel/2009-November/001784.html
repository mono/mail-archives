<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] please help: bug: glade2 file conversion to	glade3 failed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-devel%40lists.ximian.com?Subject=%5BGlade-devel%5D%20please%20help%3A%20bug%3A%20glade2%20file%20conversion%20to%0A%09glade3%20failed&In-Reply-To=1da960aa0911240806n5256889bxfd73a829b0e17a84%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001783.html">
   <LINK REL="Next"  HREF="001785.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] please help: bug: glade2 file conversion to	glade3 failed</H1>
    <B>Tristan Van Berkom</B> 
    <A HREF="mailto:glade-devel%40lists.ximian.com?Subject=%5BGlade-devel%5D%20please%20help%3A%20bug%3A%20glade2%20file%20conversion%20to%0A%09glade3%20failed&In-Reply-To=1da960aa0911240806n5256889bxfd73a829b0e17a84%40mail.gmail.com"
       TITLE="[Glade-devel] please help: bug: glade2 file conversion to	glade3 failed">tristan.van.berkom at gmail.com
       </A><BR>
    <I>Tue Nov 24 11:39:43 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001783.html">[Glade-devel] please help: bug: glade2 file conversion to	glade3 failed
</A></li>
        <LI>Next message: <A HREF="001785.html">[Glade-devel] please help: bug: glade2 file conversion to	glade3 failed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1784">[ date ]</a>
              <a href="thread.html#1784">[ thread ]</a>
              <a href="subject.html#1784">[ subject ]</a>
              <a href="author.html#1784">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Nov 24, 2009 at 2:06 PM, Saku Masukita
&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-devel">sakumasukita at googlemail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Nov 23, 2009 at 4:41 PM, Tristan Van Berkom
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-devel">tristan.van.berkom at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Mon, Nov 23, 2009 at 2:29 PM, Saku Masukita
</I>&gt;&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-devel">sakumasukita at googlemail.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Well, apparently the script comes from a package
</I>&gt;&gt;<i> &gt; called libglade2-dev as the following output shows:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; $ dpkg-query -S /usr/bin/libglade-convert
</I>&gt;&gt;<i> &gt; libglade2-dev: /usr/bin/libglade-convert
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thats an old conversion script to convert files from
</I>&gt;&gt;<i> Glade 1 format to a format readable by libglade.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> By now libglade is &#160;deprecated and people are migrating
</I>&gt;&gt;<i> to GtkBuilder (which essentially does what libglade did,
</I>&gt;&gt;<i> except has some advantages such as doing it natively
</I>&gt;&gt;<i> from the GTK+ widget code).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> OK so that might as well mean that I can uninstall libglade
</I>&gt;<i> completely from my Ubuntu 9.04 Linux system.
</I>
Not exactly, it means that eventually this can be the case
and it will be phased out, but surely there is plenty of code
still using libglade on your system.

&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You dont need a conversion tool to load a file created
</I>&gt;&gt;<i> with Glade 2, in Glade 3 - just open the file in Glade 3.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You will encounter a bug where everything seems horizontally
</I>&gt;&gt;<i> oriented (because the file was created with Glade 2 in an
</I>&gt;&gt;<i> old version, it wont output the orientation property needed
</I>&gt;&gt;<i> to tell VBoxes that they need to be vertical, sorry about that).
</I>&gt;<i>
</I>&gt;<i> Too bad this could not have been fixed in the code.
</I>&gt;<i> &#160;What are the reasons for it not working out of the box?
</I>&gt;<i> Are there some widget property incompatibilities?
</I>
Yes the full description is here:
   <A HREF="https://bugzilla.gnome.org/show_bug.cgi?id=587256">https://bugzilla.gnome.org/show_bug.cgi?id=587256</A>

&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> libgnomeui is an old library that does lots of gnome specific
</I>&gt;&gt;<i> stuff, it pulls in lots of dependencies you dont want to build
</I>&gt;&gt;<i> nowadays and most of the widgets if not all, have equal
</I>&gt;&gt;<i> coverage in GTK+ by now (i.e. its another old and deprecated
</I>&gt;&gt;<i> widget library).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> OK so it looks like I will be uninstalling libgnomeui as well.
</I>&gt;<i> I never liked the idea of gnome-specific widgets which cannot
</I>&gt;<i> then be ported to other platforms anyway.
</I>&gt;<i>
</I>&gt;&gt;<i> You can at least start by loading the file in Glade, fixing
</I>&gt;&gt;<i> the orientation property where you need to (search vbox
</I>&gt;&gt;<i> in the search entry should help), then convert it to GtkBuilder
</I>&gt;&gt;<i> (use the project preferences dialog) and see what deprecated
</I>&gt;&gt;<i> widgets dissapear in the conversion - should give you an idea
</I>&gt;&gt;<i> of what widget types you need to replace to move on to GtkBuilder.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Looks like I am going to have to learn how to use GtkBuilder
</I>&gt;<i> to port my C code which worked with glade 2 code to C code
</I>&gt;<i> that works with glade 3.
</I>
Yes, generally that just means replacing calls to glade_xml_new()
with gtk_builder_add_from_file(), and then glade_xml_get_widget()
with gtk_builder_get_object() (i.e. the api is very small).

The bulk of your work to use GtkBuilder would be to get rid
of the gnome widgets essentially, which is something you
would want to do anyway for new code.

&gt;<i>
</I>&gt;<i> Obviously something needs to be done for me to be able to open the
</I>&gt;<i> file with glade-3, but I am not sure exactly what. Any ideas?
</I>
The warnings are normal (as we actually need people to contribute
artwork for those missing icons), the segfault I cant tell by looking into
your file, but I was able to do something with it.

After looking at the segfault (which I didnt reproduce because I didnt
build the gnome catalog here...) I found that you do not use any gnome
widgets (good first of all for you), only gnome stock icons.

So, after removing the &lt;requires/&gt; line from your Glade file I loaded
up with no segfault, but horizontally.

To fix the horizontalness, I'm not sure if someone attached a script
to the bug that does that (since your file is considerably large and
a PITA to fix by hand), fixing it by hand means fixing the orientation
property of each vbox/vpaned etc in the project.

I got a bunch of errors from CList, seems support for CList somehow
got broken in Glade, however your file still seems to load and save ok,
Im not sure whats going on with your CList children (ofcourse you will
have to drop deprecated GtkCList anyway to move on to GtkBuilder).

In terms of litterature I think there is not much, its better for you to
stick with some tutorials, reference manuals, the source and irc I
would think.

Cheers,
       -Tristan
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001783.html">[Glade-devel] please help: bug: glade2 file conversion to	glade3 failed
</A></li>
	<LI>Next message: <A HREF="001785.html">[Glade-devel] please help: bug: glade2 file conversion to	glade3 failed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1784">[ date ]</a>
              <a href="thread.html#1784">[ thread ]</a>
              <a href="subject.html#1784">[ subject ]</a>
              <a href="author.html#1784">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-devel">More information about the Glade-devel
mailing list</a><br>
</body></html>
