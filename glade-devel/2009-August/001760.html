<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel]  glade &amp; gsettings
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-devel%40lists.ximian.com?Subject=%5BGlade-devel%5D%20%20glade%20%26%20gsettings&In-Reply-To=567b57dd0908111911g77a3d083yb425e3d327c3f7cb%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001759.html">
   <LINK REL="Next"  HREF="001761.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel]  glade &amp; gsettings</H1>
    <B>Sam Thursfield</B> 
    <A HREF="mailto:glade-devel%40lists.ximian.com?Subject=%5BGlade-devel%5D%20%20glade%20%26%20gsettings&In-Reply-To=567b57dd0908111911g77a3d083yb425e3d327c3f7cb%40mail.gmail.com"
       TITLE="[Glade-devel]  glade &amp; gsettings">ssssam at gmail.com
       </A><BR>
    <I>Tue Aug 11 22:11:58 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001759.html">[Glade-devel] glade &amp; gsettings
</A></li>
        <LI>Next message: <A HREF="001761.html">[Glade-devel] glade &amp; gsettings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1760">[ date ]</a>
              <a href="thread.html#1760">[ thread ]</a>
              <a href="subject.html#1760">[ subject ]</a>
              <a href="author.html#1760">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Aug 11, 2009 at 8:13 PM, Tristan Van
Berkom&lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-devel">tristan.van.berkom at gmail.com</A>&gt; wrote:
&gt;<i> One important detail is that you should expose the widget
</I>&gt;<i> not as a dialog, but as a widget proper (possibly could come
</I>&gt;<i> with a utility function to fire a dialog, but that could be coded
</I>&gt;<i> into the core).
</I>
Will do.

...
&gt;<i> &#160; - In the binding editor:
</I>
the binding editor at the moment is just a treeview in a dialog with a
'remove' button. properties are added to the treeview when you go
&quot;connect to setting&quot; from a context menu on the property in the
inspector.

&gt;<i> &#160; &#160; &#160; &#160; - properties that are insensitive/disabled cannot be bound; a
</I>&gt;<i> text or tooltip
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; explaining why it cannot be bound should show up (this text
</I>&gt;<i> is generically
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; accessible on GladeProperty instances)
</I>
okay, i already don't allow binding packing props for example

&gt;<i> &#160; &#160; &#160; &#160; - properties that are invisible should not even show up.
</I>i don't think is is relevant given the fact that properties only
appear in the editor when first bound

&gt;<i> &#160; &#160; &#160; &#160; - properties that are in the future from the target project
</I>&gt;<i> version should
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; show a warning icon/text (also generically accessible).
</I>
i'm not sure what you mean here .. :(

&gt;<i> Its also important to note that glade_project_verify() codepaths still need to
</I>&gt;<i> produce expectable results - that means when saving a project that binds
</I>&gt;<i> properties outside of the target toolkit version range - the error explaining
</I>&gt;<i> why should still popup.
</I>
will look into this.

&gt;<i> Also, now that a GladeProperty can be bindable, I suppose this adds api
</I>&gt;<i> to GladeProperty (and then similar api to GladeCommand), how is the binding
</I>&gt;<i> data to be saved (as a new attribute to the &lt;property&gt; tag) ?
</I>
yes it does. the bindings will be saved (this isn't implemented in
glade but is in gtkbuilder) as a &quot;setting&quot; attribute on the &lt;property&gt;
tag. The top of the .ui file has a declaration such as &lt;settings
schema=&quot;org.gnome.foo&quot; path=&quot;/apps/frobozz/&quot; /&gt; which I just realised
will also need to be exposed in GLADE somewhere .. I guess in the
project settings, since this is a global thing.

&gt;<i> In an abstract way, lets say that this changes the nature of GladeProperty
</I>&gt;<i> from a single state object, to a concurrent state object, this may present some
</I>&gt;<i> problems in the core, we have to brainstorm a little together about how this is
</I>&gt;<i> going to fit in...
</I>&gt;<i>
</I>&gt;<i> Consider that from the POV of the plugin, a GladeProperty represents the
</I>&gt;<i> value assigned to a property - this property is not serialized if its
</I>&gt;<i> at the default
</I>&gt;<i> value (unless specified as &quot;save-always&quot;) - a property can also have
</I>&gt;<i> i18n metadata
</I>&gt;<i> on it, but that data is useless when the property is default (i.e. we
</I>&gt;<i> dont save empty
</I>&gt;<i> strings just to say that they are translatable and give context), so
</I>&gt;<i> you can safely
</I>&gt;<i> say that a default property is unset and meaningless.
</I>&gt;<i>
</I>&gt;<i> So,... you can bet that the plugin already makes assumptions in a few places
</I>&gt;<i> about a property being default or not, as specially at load time to decide
</I>&gt;<i> configuration modes of buttons and images etc, at the same time changing
</I>&gt;<i> the behavior and return value of glade_property_orig_default() should be out
</I>&gt;<i> of the question.
</I>&gt;<i>
</I>&gt;<i> It would be possible to split up the data or maintain a separate list on
</I>&gt;<i> the GladeWidget that points to the bound properties - but I think I would
</I>&gt;<i> at this point rather live with some minor api breakage than the convoluted
</I>&gt;<i> complex code that may result in separating those datum.
</I>
I don't really understand the problem here. The value of a property
inside GLADE is unaffected by whether it's bound to a setting or not,
surely? sorry if I'm missing the point totally but I can't quite get
my head around this :)

&gt;<i> Well anyway, Im eager to hear your thoughts about how to address this
</I>&gt;<i> area, it might help if you came up with the new apis for GladeProperty
</I>&gt;<i> or GladeWidget and proposed them here for discussion.
</I>
will post these tomorrow (tired now :)

sam
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001759.html">[Glade-devel] glade &amp; gsettings
</A></li>
	<LI>Next message: <A HREF="001761.html">[Glade-devel] glade &amp; gsettings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1760">[ date ]</a>
              <a href="thread.html#1760">[ thread ]</a>
              <a href="subject.html#1760">[ subject ]</a>
              <a href="author.html#1760">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-devel">More information about the Glade-devel
mailing list</a><br>
</body></html>
