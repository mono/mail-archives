<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] [patch, glade3] remove some declarations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pborelli%40katamail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000118.html">
   <LINK REL="Next"  HREF="000120.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] [patch, glade3] remove some declarations
   </H1>
    <B>paolo borelli
    </B> 
    <A HREF="mailto:pborelli%40katamail.com"
       TITLE="[Glade-devel] [patch, glade3] remove some declarations">pborelli@katamail.com
       </A><BR>
    <I>24 Apr 2003 18:34:25 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="000118.html">[Glade-devel] [patch, glade3] editor.c cleanup
</A></li>
        <LI> Next message: <A HREF="000120.html">[Glade-devel] [PATCH] Cut/Paste and Undo/Redo crash fix.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#119">[ date ]</a>
              <a href="thread.html#119">[ thread ]</a>
              <a href="subject.html#119">[ subject ]</a>
              <a href="author.html#119">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-rnrOc/EXzE0ZYEK0eStc
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hi!

The attached trivial patch move some functions in glade-project-window.c
so that the declarations at the top of the file can be removed. It also
makes sense because after the patch all the callbacks for the menu items
are consecutive.

ciao
	paolo

--=-rnrOc/EXzE0ZYEK0eStc
Content-Disposition: attachment; filename=kill_declarations.patch
Content-Type: text/x-patch; name=kill_declarations.patch; charset=UTF-8
Content-Transfer-Encoding: 7bit

diff -upr gnome2/glade3/ChangeLog glade3/ChangeLog
--- gnome2/glade3/ChangeLog	2003-04-23 04:42:11.000000000 +0200
+++ glade3/ChangeLog	2003-04-24 18:26:57.000000000 +0200
@@ -1,3 +1,7 @@
+2003-04-24  Paolo Borelli &lt;<A HREF="mailto:pborelli@katamail.com">pborelli@katamail.com</A>&gt;
+
+	* src/glade-project-window.c: cleanups.
+
 2003-04-22  Joaquin Cuenca Abela  &lt;<A HREF="mailto:e98cuenc@yahoo.com">e98cuenc@yahoo.com</A>&gt;
 
 	* src/main.c: remove the command line that you usually get on a
diff -upr gnome2/glade3/src/glade-project-window.c glade3/src/glade-project-window.c
--- gnome2/glade3/src/glade-project-window.c	2003-04-23 04:42:12.000000000 +0200
+++ glade3/src/glade-project-window.c	2003-04-24 16:32:31.000000000 +0200
@@ -42,21 +42,6 @@
 #include &lt;gdk/gdkkeysyms.h&gt;
 #include &lt;gtk/gtkstock.h&gt;
 
-static void gpw_new_cb (void);
-static void gpw_open_cb (void);
-static void gpw_save_cb (void);
-static void gpw_save_as_cb (void);
-static void gpw_quit_cb (void);
-
-static void gpw_toggle_palette_cb (void);
-static void gpw_toggle_editor_cb (void);
-static void gpw_toggle_widget_tree_cb (void);
-static void gpw_toggle_clipboard_cb (void);
-
-static void gpw_undo_cb (void);
-static void gpw_redo_cb (void);
-static void gpw_about_cb (void) {}
-
 
 static void
 gpw_new_cb (void)
@@ -335,189 +320,6 @@ gpw_redo_cb (void)
 	glade_command_redo ();
 }
 
-static GtkItemFactoryEntry menu_items[] =
-{
-  /* ============ FILE ============ */
-  { &quot;/_File&quot;, NULL, 0, 0, &quot;&lt;Branch&gt;&quot; },
-  { &quot;/File/_New&quot;,        &quot;&lt;control&gt;N&quot;,        gpw_new_cb,     1, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_NEW },
-  { &quot;/File/_Open&quot;,       &quot;&lt;control&gt;O&quot;,        gpw_open_cb,    2, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_OPEN },
-  { &quot;/File/sep1&quot;,        NULL,                NULL,           0, &quot;&lt;Separator&gt;&quot; },
-  { &quot;/File/_Save&quot;,       &quot;&lt;control&gt;S&quot;,        gpw_save_cb,    3, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_SAVE },
-  { &quot;/File/Save _As...&quot;, &quot;&lt;control&gt;&lt;shift&gt;S&quot;, gpw_save_as_cb, 4, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_SAVE_AS },
-  { &quot;/File/sep2&quot;,        NULL,                NULL,           0, &quot;&lt;Separator&gt;&quot; },
-  { &quot;/File/_Quit&quot;,       &quot;&lt;control&gt;Q&quot;,        gpw_quit_cb,    5, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_QUIT },
-
-  /* ============ EDIT ============ */
-  { &quot;/Edit&quot;, NULL, 0, 0, &quot;&lt;Branch&gt;&quot; },
-  { &quot;/Edit/_Undo&quot;,   &quot;&lt;control&gt;Z&quot;, gpw_undo_cb,    6, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_UNDO },
-  { &quot;/Edit/_Redo&quot;,   &quot;&lt;control&gt;R&quot;, gpw_redo_cb,    7, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_REDO },
-  { &quot;/Edit/sep1&quot;,    NULL,         NULL,           0, &quot;&lt;Separator&gt;&quot; },
-  { &quot;/Edit/C_ut&quot;,    NULL,         gpw_cut_cb,     8, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_CUT },
-  { &quot;/Edit/_Copy&quot;,   NULL,         gpw_copy_cb,    9, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_COPY },
-  { &quot;/Edit/_Paste&quot;,  NULL,         gpw_paste_cb,  10, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_PASTE },
-  { &quot;/Edit/_Delete&quot;, &quot;Delete&quot;,     gpw_delete_cb, 11, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_DELETE },
-
-  /* ============ VIEW ============ */
-  { &quot;/View&quot;, NULL, 0, 0, &quot;&lt;Branch&gt;&quot; },
-  { &quot;/View/_Palette&quot;,         NULL, gpw_toggle_palette_cb,     12, &quot;&lt;ToggleItem&gt;&quot; },
-  { &quot;/View/Property _Editor&quot;, NULL, gpw_toggle_editor_cb,      13, &quot;&lt;ToggleItem&gt;&quot; },
-  { &quot;/View/_Widget Tree&quot;,     NULL, gpw_toggle_widget_tree_cb, 14, &quot;&lt;ToggleItem&gt;&quot; },
-  { &quot;/View/_Clipboard&quot;,       NULL, gpw_toggle_clipboard_cb,   15, &quot;&lt;ToggleItem&gt;&quot; },
-
-  /* =========== PROJECT ========== */
-  { &quot;/Project&quot;, NULL, 0, 0, &quot;&lt;Branch&gt;&quot; },
-
-  /* ============ HELP ============ */
-  { &quot;/_Help&quot;,       NULL, NULL, 0, &quot;&lt;Branch&gt;&quot; },
-  { &quot;/Help/_About&quot;, NULL, gpw_about_cb, 16 },
-};
-
-/*
- * Note! The action number in menu_items MUST match the position in this array
- */
-static const gchar *menu_tips[] =
-{
-	NULL,					/* action 0 (branches and separators) */
-	N_(&quot;Create a new project file&quot;),	/* action 1 (New)  */
-	N_(&quot;Open a project file&quot;),		/* action 2 (Open) */
-	N_(&quot;Save the current project file&quot;),	/* action 3 (Save) */
-	N_(&quot;Save the current project file with a different name&quot;),	/* action 4 (Save as) */ 
-	N_(&quot;Quit the program&quot;),			/* action 5 (Quit) */
-
-	N_(&quot;Undo the last action&quot;),		/* action 6  (Undo) */ 
-	N_(&quot;Redo the last action&quot;),		/* action 7  (Redo) */
-	N_(&quot;Cut the selection&quot;),		/* action 8  (Cut)  */
-	N_(&quot;Copy the selection&quot;),		/* action 9  (Copy) */
-	N_(&quot;Paste the clipboard&quot;),		/* action 10 (Paste) */
-	N_(&quot;Delete the selection&quot;),		/* action 11 (Delete) */
-
-	N_(&quot;Change the visibility of the palette of widgets&quot;),	/* action 12 (Palette) */
-	N_(&quot;Change the visibility of the property editor&quot;),	/* action 13 (Editor) */
-	N_(&quot;Change the visibility of the project widget tree&quot;),	/* action 14 (Tree) */
-	N_(&quot;Change the visibility of the clipboard&quot;),		/* action 15 (Clipboard) */
-
-	N_(&quot;About this application&quot;),		/* action 16 (About) */
-};
-
-
-static void
-gpw_push_statusbar_hint (GtkWidget* menuitem, const char *tip)
-{
-	GladeProjectWindow *gpw;
-
-	gpw = glade_project_window_get ();
-	gtk_statusbar_push (GTK_STATUSBAR (gpw-&gt;statusbar), gpw-&gt;statusbar_menu_context_id, tip);
-}
-
-static void
-gpw_pop_statusbar_hint (GtkWidget* menuitem, gpointer not_used)
-{
-	GladeProjectWindow *gpw;
-
-	gpw = glade_project_window_get ();
-	gtk_statusbar_pop (GTK_STATUSBAR (gpw-&gt;statusbar), gpw-&gt;statusbar_menu_context_id);
-}
-
-static void
-gpw_construct_menu (GladeProjectWindow *gpw)
-{
-	GtkItemFactory *item_factory;
-	GtkAccelGroup *accel_group;
-	unsigned int i;
-
-	/* Accelerators */
-	accel_group = gtk_accel_group_new ();
-	gtk_window_add_accel_group (GTK_WINDOW (gpw-&gt;window), accel_group);
-      
-	/* Item factory */
-	item_factory = gtk_item_factory_new (GTK_TYPE_MENU_BAR, &quot;&lt;main&gt;&quot;, accel_group);
-	gpw-&gt;item_factory = item_factory;
-	g_object_ref (G_OBJECT (item_factory));
-	gtk_object_sink (GTK_OBJECT (item_factory));
-	g_object_set_data_full (G_OBJECT (gpw-&gt;window),
-				&quot;&lt;main&gt;&quot;,
-				item_factory,
-				(GDestroyNotify) g_object_unref);
-	
-	/* create menu items */
-	gtk_item_factory_create_items (item_factory, G_N_ELEMENTS (menu_items),
-				       menu_items, gpw-&gt;window);
-	gtk_box_pack_start_defaults (GTK_BOX (gpw-&gt;main_vbox),
-				     gtk_item_factory_get_widget (item_factory, &quot;&lt;main&gt;&quot;));
-
-	/* set the tooltips */
-	for (i = 1; i &lt; G_N_ELEMENTS (menu_tips); i++) {
-		GtkWidget *item;
-
-		item = gtk_item_factory_get_widget_by_action (item_factory, i);
-		g_signal_connect (G_OBJECT (item), &quot;select&quot;,
-				  G_CALLBACK (gpw_push_statusbar_hint),
-				  (void*) menu_tips[i]);
-		g_signal_connect (G_OBJECT (item), &quot;deselect&quot;,
-				  G_CALLBACK (gpw_pop_statusbar_hint),
-				  NULL);
-	}
-}
-
-static void
-gpw_construct_toolbar (GladeProjectWindow *gpw)
-{
-	GtkWidget *toolbar;
-
-	toolbar = gtk_toolbar_new ();
-	
-	gtk_toolbar_insert_stock (GTK_TOOLBAR (toolbar),
-				  GTK_STOCK_OPEN,
-				  &quot;Open project&quot;,
-				  NULL,
-				  G_CALLBACK (gpw_open_cb),
-				  gpw, -1);
-	gtk_toolbar_insert_stock (GTK_TOOLBAR (toolbar),
-				  GTK_STOCK_SAVE,
-				  &quot;Save the current project&quot;,
-				  NULL,
-				  G_CALLBACK (gpw_save_cb),
-				  gpw, -1);
-	gtk_toolbar_append_space (GTK_TOOLBAR (toolbar));
-	gtk_toolbar_insert_stock (GTK_TOOLBAR (toolbar),
-				  GTK_STOCK_UNDO,
-				  &quot;Undo the last action&quot;,
-				  NULL,
-				  G_CALLBACK (gpw_undo_cb),
-				  gpw, -1);
-	gtk_toolbar_insert_stock (GTK_TOOLBAR (toolbar),
-				  GTK_STOCK_REDO,
-				  &quot;Redo the last action&quot;,
-				  NULL,
-				  G_CALLBACK (gpw_redo_cb),
-				  gpw, -1);
-	gtk_toolbar_append_space (GTK_TOOLBAR (toolbar));
-	gtk_toolbar_insert_stock (GTK_TOOLBAR (toolbar),
-				  GTK_STOCK_QUIT,
-				  &quot;Quit glade&quot;,
-				  NULL,
-				  G_CALLBACK (gpw_quit_cb),
-				  gpw, -1);
-
-	gtk_widget_show (toolbar);
-	
-	gtk_box_pack_start_defaults (GTK_BOX (gpw-&gt;main_vbox),
-				     toolbar);
-}
-
-static void
-gpw_construct_statusbar (GladeProjectWindow *gpw)
-{
-	GtkWidget *statusbar;
-
-	statusbar = gtk_statusbar_new ();
-	gpw-&gt;statusbar = statusbar;
-	gpw-&gt;statusbar_menu_context_id = gtk_statusbar_get_context_id (GTK_STATUSBAR (statusbar), &quot;menu&quot;);
-	gpw-&gt;statusbar_actions_context_id = gtk_statusbar_get_context_id (GTK_STATUSBAR (statusbar), &quot;actions&quot;);
-		
-	gtk_box_pack_end_defaults (GTK_BOX (gpw-&gt;main_vbox), statusbar);	
-}
-
 static gboolean
 gpw_hide_palette_on_delete (GtkWidget *palette, gpointer not_used,
 		GtkItemFactory *item_factory)
@@ -884,6 +686,194 @@ gpw_toggle_clipboard_cb (void)
 		gpw_hide_clipboard_view (gpw);
 }
 
+static void gpw_about_cb (void)
+{
+/* write me... */
+}
+
+
+static GtkItemFactoryEntry menu_items[] =
+{
+  /* ============ FILE ============ */
+  { &quot;/_File&quot;, NULL, 0, 0, &quot;&lt;Branch&gt;&quot; },
+  { &quot;/File/_New&quot;,        &quot;&lt;control&gt;N&quot;,        gpw_new_cb,     1, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_NEW },
+  { &quot;/File/_Open&quot;,       &quot;&lt;control&gt;O&quot;,        gpw_open_cb,    2, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_OPEN },
+  { &quot;/File/sep1&quot;,        NULL,                NULL,           0, &quot;&lt;Separator&gt;&quot; },
+  { &quot;/File/_Save&quot;,       &quot;&lt;control&gt;S&quot;,        gpw_save_cb,    3, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_SAVE },
+  { &quot;/File/Save _As...&quot;, &quot;&lt;control&gt;&lt;shift&gt;S&quot;, gpw_save_as_cb, 4, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_SAVE_AS },
+  { &quot;/File/sep2&quot;,        NULL,                NULL,           0, &quot;&lt;Separator&gt;&quot; },
+  { &quot;/File/_Quit&quot;,       &quot;&lt;control&gt;Q&quot;,        gpw_quit_cb,    5, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_QUIT },
+
+  /* ============ EDIT ============ */
+  { &quot;/Edit&quot;, NULL, 0, 0, &quot;&lt;Branch&gt;&quot; },
+  { &quot;/Edit/_Undo&quot;,   &quot;&lt;control&gt;Z&quot;, gpw_undo_cb,    6, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_UNDO },
+  { &quot;/Edit/_Redo&quot;,   &quot;&lt;control&gt;R&quot;, gpw_redo_cb,    7, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_REDO },
+  { &quot;/Edit/sep1&quot;,    NULL,         NULL,           0, &quot;&lt;Separator&gt;&quot; },
+  { &quot;/Edit/C_ut&quot;,    NULL,         gpw_cut_cb,     8, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_CUT },
+  { &quot;/Edit/_Copy&quot;,   NULL,         gpw_copy_cb,    9, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_COPY },
+  { &quot;/Edit/_Paste&quot;,  NULL,         gpw_paste_cb,  10, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_PASTE },
+  { &quot;/Edit/_Delete&quot;, &quot;Delete&quot;,     gpw_delete_cb, 11, &quot;&lt;StockItem&gt;&quot;, GTK_STOCK_DELETE },
+
+  /* ============ VIEW ============ */
+  { &quot;/View&quot;, NULL, 0, 0, &quot;&lt;Branch&gt;&quot; },
+  { &quot;/View/_Palette&quot;,         NULL, gpw_toggle_palette_cb,     12, &quot;&lt;ToggleItem&gt;&quot; },
+  { &quot;/View/Property _Editor&quot;, NULL, gpw_toggle_editor_cb,      13, &quot;&lt;ToggleItem&gt;&quot; },
+  { &quot;/View/_Widget Tree&quot;,     NULL, gpw_toggle_widget_tree_cb, 14, &quot;&lt;ToggleItem&gt;&quot; },
+  { &quot;/View/_Clipboard&quot;,       NULL, gpw_toggle_clipboard_cb,   15, &quot;&lt;ToggleItem&gt;&quot; },
+
+  /* =========== PROJECT ========== */
+  { &quot;/Project&quot;, NULL, 0, 0, &quot;&lt;Branch&gt;&quot; },
+
+  /* ============ HELP ============ */
+  { &quot;/_Help&quot;,       NULL, NULL, 0, &quot;&lt;Branch&gt;&quot; },
+  { &quot;/Help/_About&quot;, NULL, gpw_about_cb, 16 },
+};
+
+/*
+ * Note! The action number in menu_items MUST match the position in this array
+ */
+static const gchar *menu_tips[] =
+{
+	NULL,					/* action 0 (branches and separators) */
+	N_(&quot;Create a new project file&quot;),	/* action 1 (New)  */
+	N_(&quot;Open a project file&quot;),		/* action 2 (Open) */
+	N_(&quot;Save the current project file&quot;),	/* action 3 (Save) */
+	N_(&quot;Save the current project file with a different name&quot;),	/* action 4 (Save as) */ 
+	N_(&quot;Quit the program&quot;),			/* action 5 (Quit) */
+
+	N_(&quot;Undo the last action&quot;),		/* action 6  (Undo) */ 
+	N_(&quot;Redo the last action&quot;),		/* action 7  (Redo) */
+	N_(&quot;Cut the selection&quot;),		/* action 8  (Cut)  */
+	N_(&quot;Copy the selection&quot;),		/* action 9  (Copy) */
+	N_(&quot;Paste the clipboard&quot;),		/* action 10 (Paste) */
+	N_(&quot;Delete the selection&quot;),		/* action 11 (Delete) */
+
+	N_(&quot;Change the visibility of the palette of widgets&quot;),	/* action 12 (Palette) */
+	N_(&quot;Change the visibility of the property editor&quot;),	/* action 13 (Editor) */
+	N_(&quot;Change the visibility of the project widget tree&quot;),	/* action 14 (Tree) */
+	N_(&quot;Change the visibility of the clipboard&quot;),		/* action 15 (Clipboard) */
+
+	N_(&quot;About this application&quot;),		/* action 16 (About) */
+};
+
+static void
+gpw_push_statusbar_hint (GtkWidget* menuitem, const char *tip)
+{
+	GladeProjectWindow *gpw;
+
+	gpw = glade_project_window_get ();
+	gtk_statusbar_push (GTK_STATUSBAR (gpw-&gt;statusbar), gpw-&gt;statusbar_menu_context_id, tip);
+}
+
+static void
+gpw_pop_statusbar_hint (GtkWidget* menuitem, gpointer not_used)
+{
+	GladeProjectWindow *gpw;
+
+	gpw = glade_project_window_get ();
+	gtk_statusbar_pop (GTK_STATUSBAR (gpw-&gt;statusbar), gpw-&gt;statusbar_menu_context_id);
+}
+
+static void
+gpw_construct_menu (GladeProjectWindow *gpw)
+{
+	GtkItemFactory *item_factory;
+	GtkAccelGroup *accel_group;
+	unsigned int i;
+
+	/* Accelerators */
+	accel_group = gtk_accel_group_new ();
+	gtk_window_add_accel_group (GTK_WINDOW (gpw-&gt;window), accel_group);
+      
+	/* Item factory */
+	item_factory = gtk_item_factory_new (GTK_TYPE_MENU_BAR, &quot;&lt;main&gt;&quot;, accel_group);
+	gpw-&gt;item_factory = item_factory;
+	g_object_ref (G_OBJECT (item_factory));
+	gtk_object_sink (GTK_OBJECT (item_factory));
+	g_object_set_data_full (G_OBJECT (gpw-&gt;window),
+				&quot;&lt;main&gt;&quot;,
+				item_factory,
+				(GDestroyNotify) g_object_unref);
+	
+	/* create menu items */
+	gtk_item_factory_create_items (item_factory, G_N_ELEMENTS (menu_items),
+				       menu_items, gpw-&gt;window);
+	gtk_box_pack_start_defaults (GTK_BOX (gpw-&gt;main_vbox),
+				     gtk_item_factory_get_widget (item_factory, &quot;&lt;main&gt;&quot;));
+
+	/* set the tooltips */
+	for (i = 1; i &lt; G_N_ELEMENTS (menu_tips); i++) {
+		GtkWidget *item;
+
+		item = gtk_item_factory_get_widget_by_action (item_factory, i);
+		g_signal_connect (G_OBJECT (item), &quot;select&quot;,
+				  G_CALLBACK (gpw_push_statusbar_hint),
+				  (void*) menu_tips[i]);
+		g_signal_connect (G_OBJECT (item), &quot;deselect&quot;,
+				  G_CALLBACK (gpw_pop_statusbar_hint),
+				  NULL);
+	}
+}
+
+static void
+gpw_construct_toolbar (GladeProjectWindow *gpw)
+{
+	GtkWidget *toolbar;
+
+	toolbar = gtk_toolbar_new ();
+	
+	gtk_toolbar_insert_stock (GTK_TOOLBAR (toolbar),
+				  GTK_STOCK_OPEN,
+				  &quot;Open project&quot;,
+				  NULL,
+				  G_CALLBACK (gpw_open_cb),
+				  gpw, -1);
+	gtk_toolbar_insert_stock (GTK_TOOLBAR (toolbar),
+				  GTK_STOCK_SAVE,
+				  &quot;Save the current project&quot;,
+				  NULL,
+				  G_CALLBACK (gpw_save_cb),
+				  gpw, -1);
+	gtk_toolbar_append_space (GTK_TOOLBAR (toolbar));
+	gtk_toolbar_insert_stock (GTK_TOOLBAR (toolbar),
+				  GTK_STOCK_UNDO,
+				  &quot;Undo the last action&quot;,
+				  NULL,
+				  G_CALLBACK (gpw_undo_cb),
+				  gpw, -1);
+	gtk_toolbar_insert_stock (GTK_TOOLBAR (toolbar),
+				  GTK_STOCK_REDO,
+				  &quot;Redo the last action&quot;,
+				  NULL,
+				  G_CALLBACK (gpw_redo_cb),
+				  gpw, -1);
+	gtk_toolbar_append_space (GTK_TOOLBAR (toolbar));
+	gtk_toolbar_insert_stock (GTK_TOOLBAR (toolbar),
+				  GTK_STOCK_QUIT,
+				  &quot;Quit glade&quot;,
+				  NULL,
+				  G_CALLBACK (gpw_quit_cb),
+				  gpw, -1);
+
+	gtk_widget_show (toolbar);
+	
+	gtk_box_pack_start_defaults (GTK_BOX (gpw-&gt;main_vbox),
+				     toolbar);
+}
+
+static void
+gpw_construct_statusbar (GladeProjectWindow *gpw)
+{
+	GtkWidget *statusbar;
+
+	statusbar = gtk_statusbar_new ();
+	gpw-&gt;statusbar = statusbar;
+	gpw-&gt;statusbar_menu_context_id = gtk_statusbar_get_context_id (GTK_STATUSBAR (statusbar), &quot;menu&quot;);
+	gpw-&gt;statusbar_actions_context_id = gtk_statusbar_get_context_id (GTK_STATUSBAR (statusbar), &quot;actions&quot;);
+		
+	gtk_box_pack_end_defaults (GTK_BOX (gpw-&gt;main_vbox), statusbar);	
+}
+
 static gboolean
 gpw_delete_event (GtkWindow *w, gpointer not_used)
 {

--=-rnrOc/EXzE0ZYEK0eStc--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000118.html">[Glade-devel] [patch, glade3] editor.c cleanup
</A></li>
	<LI> Next message: <A HREF="000120.html">[Glade-devel] [PATCH] Cut/Paste and Undo/Redo crash fix.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#119">[ date ]</a>
              <a href="thread.html#119">[ thread ]</a>
              <a href="subject.html#119">[ subject ]</a>
              <a href="author.html#119">[ author ]</a>
         </LI>
       </UL>
</body></html>
