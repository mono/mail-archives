<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] [patch, glade3] editor.c cleanup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pborelli%40katamail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000117.html">
   <LINK REL="Next"  HREF="000119.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] [patch, glade3] editor.c cleanup
   </H1>
    <B>paolo borelli
    </B> 
    <A HREF="mailto:pborelli%40katamail.com"
       TITLE="[Glade-devel] [patch, glade3] editor.c cleanup">pborelli@katamail.com
       </A><BR>
    <I>24 Apr 2003 18:34:10 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="000117.html">[Glade-devel] [patch, glade3] missing include and some cleanups
</A></li>
        <LI> Next message: <A HREF="000119.html">[Glade-devel] [patch, glade3] remove some declarations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#118">[ date ]</a>
              <a href="thread.html#118">[ thread ]</a>
              <a href="subject.html#118">[ subject ]</a>
              <a href="author.html#118">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-kEfnqdGM/VByYza0TRLJ
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Hi!

The patch attached is a trivial cleanups of glade-editor.c: mainly
gtk_object -&gt; g_object, some long-lines splitted and a couple of
functions moved near their callers.

ciao
	paolo

--=-kEfnqdGM/VByYza0TRLJ
Content-Disposition: attachment; filename=ed_cleanups.patch
Content-Type: text/x-patch; name=ed_cleanups.patch; charset=UTF-8
Content-Transfer-Encoding: 7bit

diff -upr gnome2/glade3/ChangeLog glade3/ChangeLog
--- gnome2/glade3/ChangeLog	2003-04-23 04:42:11.000000000 +0200
+++ glade3/ChangeLog	2003-04-24 18:05:07.000000000 +0200
@@ -1,3 +1,7 @@
+2003-04-24  Paolo Borelli &lt;<A HREF="mailto:pborelli@katamail.com">pborelli@katamail.com</A>&gt;
+
+	* src/glade-editor.c: cleanups (gtk_object -&gt; g_object);
+
 2003-04-22  Joaquin Cuenca Abela  &lt;<A HREF="mailto:e98cuenc@yahoo.com">e98cuenc@yahoo.com</A>&gt;
 
 	* src/main.c: remove the command line that you usually get on a
diff -upr gnome2/glade3/src/glade-editor.c glade3/src/glade-editor.c
--- gnome2/glade3/src/glade-editor.c	2003-04-22 22:21:28.000000000 +0200
+++ glade3/src/glade-editor.c	2003-04-24 18:03:46.000000000 +0200
@@ -21,8 +21,6 @@
  */
 
 
-#define GLADE_PROPERY_TABLE_ROW_SPACING 2
-
 #ifdef HAVE_CONFIG_H
 #include &lt;config.h&gt;
 #endif
@@ -236,44 +234,6 @@ glade_editor_widget_name_changed (GtkWid
 	glade_widget_set_name (widget, new_name);
 }
 
-static void
-glade_editor_table_attach (GtkWidget *table, GtkWidget *child, gint pos, gint row)
-{
-	gtk_table_attach (GTK_TABLE (table), child,
-			  pos, pos+1, row, row +1,
-			  GTK_EXPAND | GTK_FILL, 0, 0, 0);
-}
-
-
-
-static GladeEditorTable *
-glade_editor_table_new (GladeWidgetClass *class)
-{
-	GladeEditorTable *table;
-
-	table = g_new0 (GladeEditorTable, 1);
-
-	table-&gt;glade_widget_class = class;
-	table-&gt;table_widget = gtk_table_new (0, 0, FALSE);
-	table-&gt;properties = NULL;
-	table-&gt;rows = 0;
-
-	gtk_table_set_row_spacings (GTK_TABLE (table-&gt;table_widget),
-				    GLADE_PROPERY_TABLE_ROW_SPACING);
-
-	return table;
-}
-
-
-
-
-
-
-
-
-
-
-
 /* ================================ Property Changed ==================================== */
 static void
 glade_editor_property_changed_text_common (GladeProperty *property, const gchar *text)
@@ -332,7 +292,7 @@ glade_editor_property_changed_text_view 
 
 static void
 glade_editor_property_changed_enum (GtkWidget *menu_item,
-				      GladeEditorProperty *property)
+				    GladeEditorProperty *property)
 {
 	GladeChoice *choice;
 	GValue *val;
@@ -343,7 +303,7 @@ glade_editor_property_changed_enum (GtkW
 	if (property-&gt;property-&gt;loading)
 		return;
 	
-	choice = gtk_object_get_data (GTK_OBJECT (menu_item),
+	choice = g_object_get_data (G_OBJECT (menu_item),
 				      GLADE_ENUM_DATA_TAG);
 	g_return_if_fail (choice != NULL);
 
@@ -392,7 +352,7 @@ glade_editor_property_changed_enabled (G
 	
 	state = gtk_toggle_button_get_active (GTK_TOGGLE_BUTTON (button));
 	gtk_widget_set_sensitive (spin, state);
-	property = gtk_object_get_user_data (GTK_OBJECT (button));
+	property = g_object_get_data (G_OBJECT (button), &quot;user_data&quot;);
 	property-&gt;property-&gt;enabled = state;
 }
 
@@ -409,7 +369,7 @@ glade_editor_property_changed_numeric (G
 	if (property-&gt;property-&gt;loading)
 		return;
 
-	numeric_type = GPOINTER_TO_INT (gtk_object_get_data (GTK_OBJECT (spin), &quot;NumericType&quot;));
+	numeric_type = GPOINTER_TO_INT (g_object_get_data (G_OBJECT (spin), &quot;NumericType&quot;));
 	val = g_new0 (GValue, 1);
 
 	switch (numeric_type) {
@@ -459,7 +419,8 @@ glade_editor_property_changed_boolean (G
 	val = g_new0 (GValue, 1);
 	g_value_init (val, G_TYPE_BOOLEAN);
 	g_value_set_boolean (val, state);
-	glade_command_set_property (G_OBJECT (property-&gt;property-&gt;widget-&gt;widget), property-&gt;property-&gt;class-&gt;id, val);
+	glade_command_set_property (G_OBJECT (property-&gt;property-&gt;widget-&gt;widget),
+				    property-&gt;property-&gt;class-&gt;id, val);
 	g_free (val);
 }
 
@@ -485,7 +446,8 @@ glade_editor_property_changed_unichar (G
 	val = g_new0 (GValue, 1);
 	g_value_init (val, G_TYPE_UINT);
 	g_value_set_uint (val, unich);
-	glade_command_set_property (G_OBJECT (property-&gt;property-&gt;widget-&gt;widget), property-&gt;property-&gt;class-&gt;id, val);
+	glade_command_set_property (G_OBJECT (property-&gt;property-&gt;widget-&gt;widget),
+				    property-&gt;property-&gt;class-&gt;id, val);
 	
 	g_free (val);
 	g_free (text);
@@ -496,7 +458,7 @@ static void glade_editor_property_delete
 						  gint            end_pos)
 {
 	gtk_editable_select_region (editable, 0, -1);
-	gtk_signal_emit_stop_by_name (GTK_OBJECT (editable), &quot;delete_text&quot;);
+	g_signal_stop_emission_by_name (G_OBJECT (editable), &quot;delete_text&quot;);
 }
 
 static void
@@ -506,39 +468,31 @@ glade_editor_property_insert_unichar (Gt
 				      gint        *position,
 				      gpointer     property)
 {
-	gtk_signal_handler_block_by_func (GTK_OBJECT (entry),
-					  GTK_SIGNAL_FUNC (glade_editor_property_changed_unichar),
-					  property);
-	gtk_signal_handler_block_by_func (GTK_OBJECT (entry),
-					  GTK_SIGNAL_FUNC (glade_editor_property_insert_unichar),
-					  property);
-	gtk_signal_handler_block_by_func (GTK_OBJECT (entry),
-					  GTK_SIGNAL_FUNC (glade_editor_property_delete_unichar),
-					  property);
+	g_signal_handlers_block_by_func (G_OBJECT (entry),
+					 G_CALLBACK (glade_editor_property_changed_unichar),
+					 property);
+	g_signal_handlers_block_by_func (G_OBJECT (entry),
+					 G_CALLBACK (glade_editor_property_insert_unichar),
+					 property);
+	g_signal_handlers_block_by_func (G_OBJECT (entry),
+					 G_CALLBACK (glade_editor_property_delete_unichar),
+					 property);
 	gtk_editable_delete_text (GTK_EDITABLE (entry), 0, -1);
 	*position = 0;
 	gtk_editable_insert_text (GTK_EDITABLE (entry), text, 1, position);
-	gtk_signal_handler_unblock_by_func (GTK_OBJECT (entry),
-					    GTK_SIGNAL_FUNC (glade_editor_property_changed_unichar),
-					    property);
-	gtk_signal_handler_unblock_by_func (GTK_OBJECT (entry),
-					    GTK_SIGNAL_FUNC (glade_editor_property_insert_unichar),
-					    property);
-	gtk_signal_handler_unblock_by_func (GTK_OBJECT (entry),
-					    GTK_SIGNAL_FUNC (glade_editor_property_delete_unichar),
-					    property);
-	gtk_signal_emit_stop_by_name (GTK_OBJECT (entry), &quot;insert_text&quot;);
+	g_signal_handlers_unblock_by_func (G_OBJECT (entry),
+					   G_CALLBACK (glade_editor_property_changed_unichar),
+					   property);
+	g_signal_handlers_unblock_by_func (G_OBJECT (entry),
+					   G_CALLBACK (glade_editor_property_insert_unichar),
+					   property);
+	g_signal_handlers_unblock_by_func (G_OBJECT (entry),
+					   G_CALLBACK (glade_editor_property_delete_unichar),
+					   property);
+	g_signal_stop_emission_by_name (G_OBJECT (entry), &quot;insert_text&quot;);
 	glade_editor_property_changed_unichar (entry, property);
 }
 
-
-
-
-
-
-
-
-
 /* ================================ Create inputs ==================================== */
 static GtkWidget *
 glade_editor_create_input_enum_item (GladeEditorProperty *property,
@@ -550,10 +504,11 @@ glade_editor_create_input_enum_item (Gla
 	name = choice-&gt;name;
 	menu_item = gtk_menu_item_new_with_label (name);
 
-	gtk_signal_connect (GTK_OBJECT (menu_item), &quot;activate&quot;,
-			    GTK_SIGNAL_FUNC (glade_editor_property_changed_enum), property);
+	g_signal_connect (G_OBJECT (menu_item), &quot;activate&quot;,
+			  G_CALLBACK (glade_editor_property_changed_enum),
+			  property);
 
-	gtk_object_set_data (GTK_OBJECT (menu_item), GLADE_ENUM_DATA_TAG, choice);
+	g_object_set_data (G_OBJECT (menu_item), GLADE_ENUM_DATA_TAG, choice);
 
 	return menu_item;
 }
@@ -601,8 +556,9 @@ glade_editor_create_input_text (GladeEdi
 		
 		entry = gtk_entry_new ();
 
-		gtk_signal_connect (GTK_OBJECT (entry), &quot;changed&quot;,
-				    GTK_SIGNAL_FUNC (glade_editor_property_changed_text), property);
+		g_signal_connect (G_OBJECT (entry), &quot;changed&quot;,
+				  G_CALLBACK (glade_editor_property_changed_text),
+				  property);
 
 		return entry;
 	} else {
@@ -615,7 +571,7 @@ glade_editor_create_input_text (GladeEdi
 		buffer = gtk_text_view_get_buffer (GTK_TEXT_VIEW (view));
 
 		g_signal_connect_data (G_OBJECT (buffer), &quot;changed&quot;,
-				       GTK_SIGNAL_FUNC (glade_editor_property_changed_text_view),
+				       G_CALLBACK (glade_editor_property_changed_text_view),
 				       property, NULL, 0);
 		
 		return view;
@@ -626,7 +582,7 @@ glade_editor_create_input_text (GladeEdi
 
 static GtkWidget *
 glade_editor_create_input_numeric (GladeEditorProperty *property,
-							GladeEditorNumericType numeric_type)
+				   GladeEditorNumericType numeric_type)
 {
 	GladePropertyClass *class;
 	GtkAdjustment *adjustment;
@@ -639,12 +595,12 @@ glade_editor_create_input_numeric (Glade
 	adjustment = glade_parameter_adjustment_new (class-&gt;parameters, class-&gt;def);
 
 	spin  = gtk_spin_button_new (adjustment, 10,
-						    numeric_type == GLADE_EDITOR_INTEGER ? 0 : 2);
+				     numeric_type == GLADE_EDITOR_INTEGER ? 0 : 2);
 
-	gtk_object_set_data (GTK_OBJECT (spin), &quot;NumericType&quot;, GINT_TO_POINTER (numeric_type));
-	gtk_signal_connect (GTK_OBJECT (spin), &quot;value_changed&quot;,
-			    GTK_SIGNAL_FUNC (glade_editor_property_changed_numeric),
-			    property);
+	g_object_set_data (G_OBJECT (spin), &quot;NumericType&quot;, GINT_TO_POINTER (numeric_type));
+	g_signal_connect (G_OBJECT (spin), &quot;value_changed&quot;,
+			  G_CALLBACK (glade_editor_property_changed_numeric),
+			  property);
 
 	/* Some numeric types are optional, for example the default window size, so
 	 * they have a toggle button right next to the spin button. 
@@ -656,10 +612,10 @@ glade_editor_create_input_numeric (Glade
 		hbox = gtk_hbox_new (FALSE, 0);
 		gtk_box_pack_start (GTK_BOX (hbox), check, FALSE, FALSE, 0);
 		gtk_box_pack_start (GTK_BOX (hbox), spin,  TRUE, TRUE, 0);
-		
-		gtk_signal_connect (GTK_OBJECT (check), &quot;toggled&quot;,
-				    GTK_SIGNAL_FUNC (glade_editor_property_changed_enabled),
-				    property);
+
+		g_signal_connect (G_OBJECT (check), &quot;toggled&quot;,
+				  G_CALLBACK (glade_editor_property_changed_enabled),
+				  property);
 		return hbox;
 	}
 
@@ -693,8 +649,9 @@ glade_editor_create_input_boolean (Glade
 
 	button = gtk_toggle_button_new_with_label (_(&quot;No&quot;));
 
-	gtk_signal_connect (GTK_OBJECT (button), &quot;toggled&quot;,
-			    GTK_SIGNAL_FUNC (glade_editor_property_changed_boolean), property);
+	g_signal_connect (G_OBJECT (button), &quot;toggled&quot;,
+			  G_CALLBACK (glade_editor_property_changed_boolean),
+			  property);
 
 	return button;
 }
@@ -710,29 +667,40 @@ glade_editor_create_input_unichar (Glade
 	/* it's 2 to prevent spirious beeps... */
 	gtk_entry_set_max_length (GTK_ENTRY (entry), 2);
 	
-	gtk_signal_connect (GTK_OBJECT (entry), &quot;changed&quot;,
-			    GTK_SIGNAL_FUNC (glade_editor_property_changed_unichar), property);
-	gtk_signal_connect (GTK_OBJECT (entry), &quot;insert_text&quot;,
-			    GTK_SIGNAL_FUNC (glade_editor_property_insert_unichar), property);
-	gtk_signal_connect (GTK_OBJECT (entry), &quot;delete_text&quot;,
-			    GTK_SIGNAL_FUNC (glade_editor_property_delete_unichar), property);
+	g_signal_connect (G_OBJECT (entry), &quot;changed&quot;,
+			  G_CALLBACK (glade_editor_property_changed_unichar), property);
+	g_signal_connect (G_OBJECT (entry), &quot;insert_text&quot;,
+			  G_CALLBACK (glade_editor_property_insert_unichar), property);
+	g_signal_connect (G_OBJECT (entry), &quot;delete_text&quot;,
+			  G_CALLBACK (glade_editor_property_delete_unichar), property);
 
 	return entry;
 }
 
 static GtkWidget *
-glade_editor_create_input_object (GladeEditorProperty *property, GladeEditorTable *table)
+glade_editor_create_input_object (GladeEditorProperty *property,
+				  GladeEditorTable *table)
 {
 	g_return_val_if_fail (GLADE_IS_EDITOR_TABLE (table), NULL);
 	g_return_val_if_fail (GLADE_IS_EDITOR_PROPERTY (property), NULL);
 
-	glade_editor_table_append_items (table, property-&gt;class-&gt;child, &amp;property-&gt;children, FALSE);
+	glade_editor_table_append_items (table, property-&gt;class-&gt;child,
+					 &amp;property-&gt;children, FALSE);
 
 	return NULL;
 }
 
+static void
+glade_editor_table_attach (GtkWidget *table, GtkWidget *child, gint pos, gint row)
+{
+	gtk_table_attach_defaults (GTK_TABLE (table), child,
+				   pos, pos+1, row, row +1);
+
+}
+
 static GtkWidget *
-glade_editor_append_item_real (GladeEditorTable *table, GladeEditorProperty *property)
+glade_editor_append_item_real (GladeEditorTable *table,
+			       GladeEditorProperty *property)
 {
 	GtkWidget *label;
 	GtkWidget *input = NULL;
@@ -783,7 +751,6 @@ glade_editor_append_item_real (GladeEdit
 		return gtk_label_new (&quot;Implement me !&quot;);
 	}
 
-
 	label = glade_property_class_create_label (property-&gt;class);
 	
 	glade_editor_table_attach (table-&gt;table_widget, label, 0, table-&gt;rows);
@@ -823,9 +790,9 @@ glade_editor_table_append_standard_field
 	gtk_misc_set_alignment (GTK_MISC (label), 0.0, 0.0);
 	entry = gtk_entry_new ();
 	table-&gt;name_entry = entry;
-	gtk_signal_connect (GTK_OBJECT (entry), &quot;changed&quot;,
-			    GTK_SIGNAL_FUNC (glade_editor_widget_name_changed),
-			    table-&gt;editor);
+	g_signal_connect (G_OBJECT (entry), &quot;changed&quot;,
+			  G_CALLBACK (glade_editor_widget_name_changed),
+			  table-&gt;editor);
 
 	glade_editor_table_attach (gtk_table, label, 0, table-&gt;rows);
 	glade_editor_table_attach (gtk_table, entry, 1, table-&gt;rows);
@@ -894,16 +861,39 @@ glade_editor_on_edit_menu_click (GtkButt
 		}
 	}
 
-	/* if the user was able to click on the &quot;Edit Menus...&quot;, that's because the menu bar was selected */
+	/* if the user was able to click on the &quot;Edit Menus...&quot;,
+	 * that's because the menu bar was selected
+	 */
 	g_assert (GTK_IS_MENU_BAR (menubar));
 	
 	menu_editor = glade_menu_editor_new (project, GTK_MENU_SHELL (menubar));
 	gtk_widget_show (GTK_WIDGET (menu_editor));
 }
 
+#define GLADE_PROPERY_TABLE_ROW_SPACING 2
 
 static GladeEditorTable *
-glade_editor_table_create (GladeEditor *editor, GladeWidgetClass *class, gboolean common)
+glade_editor_table_new (GladeWidgetClass *class)
+{
+	GladeEditorTable *table;
+
+	table = g_new0 (GladeEditorTable, 1);
+
+	table-&gt;glade_widget_class = class;
+	table-&gt;table_widget = gtk_table_new (0, 0, FALSE);
+	table-&gt;properties = NULL;
+	table-&gt;rows = 0;
+
+	gtk_table_set_row_spacings (GTK_TABLE (table-&gt;table_widget),
+				    GLADE_PROPERY_TABLE_ROW_SPACING);
+
+	return table;
+}
+
+static GladeEditorTable *
+glade_editor_table_create (GladeEditor *editor,
+			   GladeWidgetClass *class,
+			   gboolean common)
 {
 	GladeEditorTable *table;
 
@@ -932,14 +922,15 @@ glade_editor_table_create (GladeEditor *
 	}
 
 	gtk_widget_show_all (table-&gt;table_widget);
-	editor-&gt;widget_tables = g_list_prepend (editor-&gt;widget_tables,
-						table);
+	editor-&gt;widget_tables = g_list_prepend (editor-&gt;widget_tables, table);
 
 	return table;
 }
 
 static GladeEditorTable *
-glade_editor_get_table_from_class (GladeEditor *editor, GladeWidgetClass *class, gboolean common)
+glade_editor_get_table_from_class (GladeEditor *editor,
+				   GladeWidgetClass *class,
+				   gboolean common)
 {
 	GladeEditorTable *table;
 	GList *list;
@@ -1039,38 +1030,6 @@ glade_editor_load_class (GladeEditor *ed
 	editor-&gt;loaded_class = class;
 }
 
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
 /* ================================ Load properties ================================== */
 static void
 glade_editor_property_set_tooltips (GladeEditorProperty *property)
@@ -1123,7 +1082,7 @@ glade_editor_property_load_integer (Glad
 		gtk_widget_set_sensitive (GTK_WIDGET (spin), property-&gt;property-&gt;enabled);
 		gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (button),
 					      property-&gt;property-&gt;enabled);
-		gtk_object_set_user_data (GTK_OBJECT (button), property);
+		g_object_set_data (G_OBJECT (button), &quot;user_data&quot;, property);
 	} else {
 		spin = property-&gt;input;
 	}
@@ -1137,7 +1096,7 @@ glade_editor_property_load_integer (Glad
 		val = g_value_get_float (property-&gt;property-&gt;value);
 
 	gtk_spin_button_set_value (GTK_SPIN_BUTTON (spin), val);
-	gtk_object_set_user_data (GTK_OBJECT (spin), property);
+	g_object_set_data (G_OBJECT (spin), &quot;user_data&quot;, property);
 }
 
 static void
@@ -1195,7 +1154,7 @@ glade_editor_property_load_enum (GladeEd
 	list = GTK_MENU_SHELL (GTK_OPTION_MENU (property-&gt;input)-&gt;menu)-&gt;children;
 	for (; list != NULL; list = list-&gt;next) {
 		GtkMenuItem *menu_item = list-&gt;data;
-		gtk_object_set_user_data (GTK_OBJECT (menu_item), property);
+		g_object_set_data (G_OBJECT (menu_item), &quot;user_data&quot;,  property);
 	}
 }
 
@@ -1230,7 +1189,7 @@ glade_editor_property_load_boolean (Glad
 	g_return_if_fail (GTK_IS_LABEL (label));
 	gtk_label_set_text (GTK_LABEL (label), text [state]);
 	
-	gtk_object_set_user_data (GTK_OBJECT (property-&gt;input), property);
+	g_object_set_data (G_OBJECT (property-&gt;input), &quot;user_data&quot;, property);
 }
 
 static void
@@ -1268,7 +1227,7 @@ glade_editor_property_load_text (GladeEd
 		g_warning (&quot;Invalid Text Widget type.&quot;);
 	}
 
-	gtk_object_set_user_data (GTK_OBJECT (property-&gt;input), property);
+	g_object_set_data (G_OBJECT (property-&gt;input), &quot;user_data&quot;, property);
 }
 
 static void
@@ -1292,14 +1251,15 @@ glade_editor_property_load_unichar (Glad
 		gtk_editable_insert_text (editable, utf8st, 1, &amp;insert_pos);
 	}
 
-	gtk_object_set_user_data (GTK_OBJECT (property-&gt;input), property);
+	g_object_set_data (G_OBJECT (property-&gt;input), &quot;user_data&quot;, property);
 }
 
 /* We are recursing so we need the prototype beforehand. Don't you love C ? */
 static void glade_editor_property_load (GladeEditorProperty *property, GladeWidget *widget);
 
 static void
-glade_editor_property_load_object (GladeEditorProperty *property, GladeWidget *widget)
+glade_editor_property_load_object (GladeEditorProperty *property,
+				   GladeWidget *widget)
 {
 	GladeEditorProperty *child;
 	GList *list;
@@ -1449,9 +1409,9 @@ glade_editor_property_connect_signals (G
 {
 	GladeProperty *property = editor_property-&gt;property;
 
-	gtk_signal_connect (GTK_OBJECT (property), &quot;changed&quot;,
-			    GTK_SIGNAL_FUNC (glade_editor_property_changed_cb),
-			    editor_property);
+	g_signal_connect (G_OBJECT (property), &quot;changed&quot;,
+			  G_CALLBACK (glade_editor_property_changed_cb),
+			  editor_property);
 }
 
 static void
@@ -1537,8 +1497,9 @@ glade_editor_select_widget (GladeEditor 
 }
 
 void
-glade_editor_add_signal (GladeEditor *editor, guint signal_id,
-			      const char *callback_name)
+glade_editor_add_signal (GladeEditor *editor,
+			 guint signal_id,
+			 const char *callback_name)
 {
 	const char *widget_name;
 	const char *signal_name;

--=-kEfnqdGM/VByYza0TRLJ--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000117.html">[Glade-devel] [patch, glade3] missing include and some cleanups
</A></li>
	<LI> Next message: <A HREF="000119.html">[Glade-devel] [patch, glade3] remove some declarations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#118">[ date ]</a>
              <a href="thread.html#118">[ thread ]</a>
              <a href="subject.html#118">[ subject ]</a>
              <a href="author.html#118">[ author ]</a>
         </LI>
       </UL>
</body></html>
