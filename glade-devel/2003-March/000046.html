<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] commit -- add_signal signal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:damon%40karuna.uklinux.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000044.html">
   <LINK REL="Next"  HREF="000049.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] commit -- add_signal signal
   </H1>
    <B>Damon Chaplin
    </B> 
    <A HREF="mailto:damon%40karuna.uklinux.net"
       TITLE="[Glade-devel] commit -- add_signal signal">damon@karuna.uklinux.net
       </A><BR>
    <I>Thu, 13 Mar 2003 20:54:43 +0000</I>
    <P><UL>
        <LI> Previous message: <A HREF="000044.html">[Glade-devel] Re: help for libglade-convert
</A></li>
        <LI> Next message: <A HREF="000049.html">[Glade-devel] commit -- add_signal signal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46">[ date ]</a>
              <a href="thread.html#46">[ thread ]</a>
              <a href="subject.html#46">[ subject ]</a>
              <a href="author.html#46">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2003-03-08 at 16:24, Joaquin Cuenca Abela wrote:
 &gt; I've added a &quot;add_signal&quot; to the GladeEditor widget (the properties
 &gt; window).
 &gt;
 &gt; To generate a prototype of the signal, you can do:
 &gt;
 &gt; static void
 &gt; glade_editor_add_signal_cb (GladeEditor *editor, const char *widget_id,
 &gt;                           GType widget_type, guint signal_id,
 &gt;                           const char *callback_name)
 &gt; {
 &gt;       GSignalQuery query;
 &gt;       unsigned int i;
 &gt;
 &gt;       g_signal_query (signal_id, &amp;query);
 &gt;       printf (&quot;%s %s(%s widget, &quot;, g_type_name (query.return_type),
 &gt; callback_name, g_type_name (query.itype));
 &gt;
 &gt;       for (i = 0; i &lt; query.n_params; i++)
 &gt;               printf (&quot;%s arg%d, &quot;, g_type_name 
(query.param_types[i]), i);
 &gt;
 &gt;       printf (&quot;gpointer data);\n&quot;);
 &gt; }
 &gt;
 &gt; and hook the glade_editor_add_signal_cb to the &quot;add_signal&quot; of the
 &gt; GladeEditor widget.

You might want to pinch glade-2 code here, as it provides nice argument
names instead of &quot;argXX&quot; (at least for standard GTK+/GNOME signals).
It uses a hard-coded table, that I had to create manually. That isn't
ideal, but is the best we can do at present. (Or maybe you could put
this stuff into the widget description XML files.)

The code is in gb_widget_write_signal_handler_source() and
lookup_signal_arg_names() in glade/gbsource.c.

Damon


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000044.html">[Glade-devel] Re: help for libglade-convert
</A></li>
	<LI> Next message: <A HREF="000049.html">[Glade-devel] commit -- add_signal signal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46">[ date ]</a>
              <a href="thread.html#46">[ thread ]</a>
              <a href="subject.html#46">[ subject ]</a>
              <a href="author.html#46">[ author ]</a>
         </LI>
       </UL>
</body></html>
