<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] I'm back.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pborelli%40katamail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000231.html">
   <LINK REL="Next"  HREF="000233.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] I'm back.
   </H1>
    <B>paolo borelli
    </B> 
    <A HREF="mailto:pborelli%40katamail.com"
       TITLE="[Glade-devel] I'm back.">pborelli@katamail.com
       </A><BR>
    <I>27 Jun 2003 12:19:18 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="000231.html">[Glade-devel] I'm back.
</A></li>
        <LI> Next message: <A HREF="000233.html">[Glade-devel] Test
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#232">[ date ]</a>
              <a href="thread.html#232">[ thread ]</a>
              <a href="subject.html#232">[ subject ]</a>
              <a href="author.html#232">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2003-06-26 at 00:29, Joaquin Cuenca Abela wrote:
&gt;<i> I hope that others will agree that the way I did it it's the right one.
</I>&gt;<i> Having it working with a ~5 lines change is anyway a nice side effect
</I>&gt;<i> ;-)
</I>&gt;<i> 
</I>
After reading the code I think the patch is good.

&gt;<i> Maybe, I don't remember if the list of children on the GladeWidget is
</I>&gt;<i> useful in others part of the code, but if it serves no purpose other
</I>&gt;<i> than duplicating the info that we already have with gtk, without giving
</I>&gt;<i> us any benefice (like better performance or something) then I'm all for
</I>&gt;<i> removing it.
</I>&gt;<i> 
</I>
OK, but I think that it has to wait; things seem to work now: glade-3 is
a rewrite, let's try to not rewrite the rewrite ;)

&gt;<i> 
</I>&gt;<i> P.S.: Archit seems to experience hangs when saving after this patch, but
</I>&gt;<i> it's working here (on windows).  Do you have a backtrace?
</I>&gt;<i> 
</I>&gt;<i> 
</I>
At first simple tests I couldn't reproduce them, but today I noticed a
couple of hangs doing for example Save &amp; Close. Not always though...
Archit do you have a case that always hangs?

Anyway I suspect that it's more related to close than to save, as a
matter of fact here is the backtrace of crash that happened opening a
project 1, adding some widgets to it, opening a project 2, adding some
widgets to it and closing project 2 (no saving involved).

ciao
	paolo



[<A HREF="mailto:paolo@flatlandia">paolo@flatlandia</A> glade3]$ gdb src/glade-3
GNU gdb Red Hat Linux (5.3post-0.20021129.18rh)
Copyright 2003 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you
are
welcome to change it and/or distribute copies of it under certain
conditions.
Type &quot;show copying&quot; to see the conditions.
There is absolutely no warranty for GDB.  Type &quot;show warranty&quot; for
details.
This GDB was configured as &quot;i386-redhat-linux-gnu&quot;...
(gdb) r
Starting program: /home/paolo/cvs/glade3/src/glade-3
[New Thread 1080564576 (LWP 14141)]
 
(glade-3:14141): Glade-WARNING **: Invalid property [packstart] for
container [vbox1]
 
 
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 1080564576 (LWP 14141)]
0x4207940a in strcmp () from /lib/tls/libc.so.6
(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
 
Starting program: /home/paolo/cvs/glade3/src/glade-3
[New Thread 1080564576 (LWP 14142)]
 
(glade-3:14142): GLib-GObject-WARNING **: gsignal.c:2010: instance
`0x8204638' has no handler with id `2625'
 
Program received signal SIGINT, Interrupt.
[Switching to Thread 1080564576 (LWP 14142)]
0xffffe002 in ?? ()
(gdb) bt
#0  0xffffe002 in ?? ()
#1  0x080536ee in log_handler (domain=0x4032cb1b &quot;GLib-GObject&quot;,
level=14142,
    message=0xbfffde80 &quot;gsignal.c:2010: instance `0x8204638' has no
handler with id `2625'&quot;, data=0x0) at main.c:96
#2  0x403732a5 in g_logv (log_domain=0x4032cb1b &quot;GLib-GObject&quot;,
    log_level=G_LOG_LEVEL_WARNING,
    format=0x4032fdc0 &quot;%s: instance `%p' has no handler with id `%lu'&quot;,
    args1=0xbfffe2dc &quot;\204\<A HREF="mailto:0053@8F">0053@8F</A> \bA\n&quot;) at gmessages.c:493
#3  0x403734ab in g_log (log_domain=0x4032cb1b &quot;GLib-GObject&quot;,
    log_level=G_LOG_LEVEL_WARNING,
    format=0x4032fdc0 &quot;%s: instance `%p' has no handler with id `%lu'&quot;)
    at gmessages.c:527
#4  0x4031d239 in g_signal_handler_disconnect (instance=0x8204638,
    handler_id=2625) at gsignal.c:2010
#5  0x08063fa6 in glade_util_remove_nodes (widget=0x8204638)
    at glade-utils.c:461
#6  0x08053f26 in glade_project_selection_clear (project=0x822ad40,
    emit_signal=0) at glade-project.c:344
#7  0x08057904 in glade_project_window_set_project (project=0x81e3dd0)
    at glade-project-window.c:1104
#8  0x080564c2 in gpw_close_cb () at glade-project-window.c:325
#9  0x400bb9c2 in gtk_item_factory_callback_marshal (widget=0x2,
    func_data=0x404a1208) at gtkitemfactory.c:235
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#10 0x4031f7e4 in g_cclosure_marshal_VOID__VOID (closure=0x816ba18,
    return_value=0x0, n_param_values=1, param_values=0x4032cb1b,
    invocation_hint=0xbfffe508, marshal_data=0x0) at gmarshal.c:77
#11 0x4030f962 in g_closure_invoke (closure=0x816ba18, return_value=0x0,
    n_param_values=1, param_values=0xbfffe600,
invocation_hint=0xbfffe508)
    at gclosure.c:437
#12 0x4031f40e in signal_emit_unlocked_R (node=0x816f140, detail=0,
    instance=0x816bb00, emission_return=0x0,
instance_and_params=0xbfffe600)
    at gsignal.c:2822
#13 0x4031e56a in g_signal_emit_valist (instance=0x816bb00,
signal_id=188,
    detail=0, var_args=0xbfffe78c &quot;\005&quot;) at gsignal.c:2554
#14 0x4031e763 in g_signal_emit (instance=0x816bb00, signal_id=188,
detail=0)
    at gsignal.c:2612
#15 0x4018e898 in gtk_widget_activate (widget=0x816bb00) at
gtkwidget.c:3301
#16 0x400de771 in gtk_menu_shell_activate_item (menu_shell=0x80c83b8,
    menu_item=0x816bb00, force_deactivate=1) at gtkmenushell.c:914
#17 0x400ddb2a in gtk_menu_shell_button_release (widget=0x80c83b8,
    event=0x81d5210) at gtkmenushell.c:528
#18 0x400d8073 in gtk_menu_button_release (widget=0x80c83b8,
event=0x81d5210)
    at gtkmenu.c:1972
#19 0x400d17bd in _gtk_marshal_BOOLEAN__BOXED (closure=0x809a008,
    return_value=0xbfffe970, n_param_values=2, param_values=0xbfffea90,
    invocation_hint=0xbfffe998, marshal_data=0x400d8010) at
gtkmarshalers.c:82
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#20 0x4030fc02 in g_type_class_meta_marshal (closure=0x809a008,
    return_value=0xbfffe970, n_param_values=2, param_values=0xbfffea90,
    invocation_hint=0xbfffe998, marshal_data=0x80c88d8) at
gclosure.c:514
#21 0x4030f962 in g_closure_invoke (closure=0x809a008,
    return_value=0xbfffe970, n_param_values=2, param_values=0xbfffea90,
    invocation_hint=0xbfffe998) at gclosure.c:437
#22 0x4031ef14 in signal_emit_unlocked_R (node=0x8099538, detail=0,
    instance=0x80c83b8, emission_return=0xbfffea30,
    instance_and_params=0xbfffea90) at gsignal.c:2860
#23 0x4031e39d in g_signal_emit_valist (instance=0x80c83b8, signal_id=0,
    detail=0, var_args=0xbfffec20 &quot;8￿￿￿(w\n\bH￿￿￿￿￿\030@￿\203\f\b8￿￿￿&quot;)
    at gsignal.c:2564
#24 0x4031e763 in g_signal_emit (instance=0x80c83b8, signal_id=28,
detail=0)
    at gsignal.c:2612
#25 0x4018e6e7 in gtk_widget_event_internal (widget=0x80c83b8,
event=0x81d5210)
    at gtkwidget.c:3269
#26 0x400d15e8 in gtk_propagate_event (widget=0x80c83b8,
event=0x81d5210)
    at gtkmain.c:2268
#27 0x400d067f in gtk_main_do_event (event=0x81d5210) at gtkmain.c:1503
#28 0x4025af5a in gdk_event_dispatch (source=0x15, callback=0,
user_data=0x0)
    at gdkevents-x11.c:2005
#29 0x4036c43a in g_main_dispatch (context=0x8091af8) at gmain.c:1720
#30 0x4036d369 in g_main_context_dispatch (context=0x8091af8) at
gmain.c:2268
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#31 0x4036d66f in g_main_context_iterate (context=0x8091af8, block=1,
    dispatch=1, self=0x8092108) at gmain.c:2349
#32 0x4036dcce in g_main_loop_run (loop=0x81e5948) at gmain.c:2569
#33 0x400cff3b in gtk_main () at gtkmain.c:1093
#34 0x080538bd in main (argc=1, argv=0xbfffee24) at main.c:201
#35 0x42015574 in __libc_start_main () from /lib/tls/libc.so.6
(gdb)



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000231.html">[Glade-devel] I'm back.
</A></li>
	<LI> Next message: <A HREF="000233.html">[Glade-devel] Test
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#232">[ date ]</a>
              <a href="thread.html#232">[ thread ]</a>
              <a href="subject.html#232">[ subject ]</a>
              <a href="author.html#232">[ author ]</a>
         </LI>
       </UL>
</body></html>
