<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] Cut/Paste + Undo/Redo bug
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pborelli%40katamail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000207.html">
   <LINK REL="Next"  HREF="000193.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] Cut/Paste + Undo/Redo bug
   </H1>
    <B>paolo borelli
    </B> 
    <A HREF="mailto:pborelli%40katamail.com"
       TITLE="[Glade-devel] Cut/Paste + Undo/Redo bug">pborelli@katamail.com
       </A><BR>
    <I>07 Jun 2003 13:21:16 +0200</I>
    <P><UL>
        <LI> Previous message: <A HREF="000207.html">[Glade-devel] Cut/Paste + Undo/Redo bug
</A></li>
        <LI> Next message: <A HREF="000193.html">[Glade-devel] help :)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#208">[ date ]</a>
              <a href="thread.html#208">[ thread ]</a>
              <a href="subject.html#208">[ subject ]</a>
              <a href="author.html#208">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2003-06-07 at 11:42, Joaquin Cuenca Abela wrote:
&gt;<i> I've committed the patch, but I've changed where the ref happens.
</I>&gt;<i> 
</I>&gt;<i> Now, we ref a widget &amp; the placeholder when we create/destroy/cut/paste
</I>&gt;<i> it.  That's, at the very beginning of the operation (as we're
</I>&gt;<i> referencing the widgets on cmd-&gt;widget &amp; cmd-&gt;placeholder).
</I>&gt;<i> 
</I>&gt;<i> When we destroy the operation, we unref them.
</I>&gt;<i> 
</I>&gt;<i> When we replace the widget with a new placeholder, then we ref the new
</I>&gt;<i> placeholder.
</I>&gt;<i> 
</I>&gt;<i> That's all.  This way we should be safe &amp; not leak.  At least it's
</I>&gt;<i> working here[TM], and it looks more natural than the current &quot;ops, we're
</I>&gt;<i> going to remove the widget from its parent, reference it now or it will
</I>&gt;<i> be destroyed&quot; :-)
</I>&gt;<i> 
</I>
Great!

&gt;<i> P.S.: Paolo, am I still missing some of your patches, or this big patch
</I>&gt;<i> had everything?
</I>&gt;<i> 
</I>
If I remember correctly it should have everything, I'll recheck if
something is missing and in case I'll commit it myself, since apart from
the above bugfix there were just cleanups.

The only thing that was not in the patch, is the bugfix for the
selection of a placeholder that also trigger the selection of its
container: I posted a patch that fixed it sometime ago, but I didn't
like it a lot, so if you come up with a better fix it would be great :)

ciao
	paolo


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000207.html">[Glade-devel] Cut/Paste + Undo/Redo bug
</A></li>
	<LI> Next message: <A HREF="000193.html">[Glade-devel] help :)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#208">[ date ]</a>
              <a href="thread.html#208">[ thread ]</a>
              <a href="subject.html#208">[ subject ]</a>
              <a href="author.html#208">[ author ]</a>
         </LI>
       </UL>
</body></html>
