<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] Feature requests for the next version of Glade
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jeannot12%40linuxmail.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000202.html">
   <LINK REL="Next"  HREF="000205.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] Feature requests for the next version of Glade
   </H1>
    <B>Jeannot Langlois
    </B> 
    <A HREF="mailto:jeannot12%40linuxmail.org"
       TITLE="[Glade-devel] Feature requests for the next version of Glade">jeannot12@linuxmail.org
       </A><BR>
    <I>Thu, 05 Jun 2003 11:47:40 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000202.html">[Glade-devel] BUGS found in Glade 2.0.0
</A></li>
        <LI> Next message: <A HREF="000205.html">[Glade-devel] [PATCH/Glade-2.0.0] Re-enabling signal handler's &quot;user_data&quot;
 parameter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#203">[ date ]</a>
              <a href="thread.html#203">[ thread ]</a>
              <a href="subject.html#203">[ subject ]</a>
              <a href="author.html#203">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,



After working with Glade 2.0.0 for some time, I have thought of two features which could be *GREATLY* appreciated in the next release of Glade...:

----------------------------------------------------------------


1.  In the &quot;Properties&quot; window's &quot;Signals&quot; tab, I'd like a new TextEntry field to be added for the user to enter extra data which could be passed to the designated handler function (using every handler's last &quot;gpointer user_data&quot; parameter).  

This would be *VERY* handy. 

Example: when needing to pass a GtkWidget* pointer to a &quot;clicked&quot; or &quot;activate&quot; or whatever event handler function, the gtk_widget_destroy() function could be called properly within the event handler using the &quot;user_data&quot; gpointer parameter, just like this:

...first the callback would be registered this way in the &quot;interface.c&quot; file (code which would be generated by Glade):

g_signal_connect ((gpointer) mainwindow_quit_button, 
                  &quot;clicked&quot;,
                  G_CALLBACK (on_mainwindow_quit_button_clicked),
                  topLevelWindow);   /* topLevelWindow is a GtkWidget* pointer which represents the ROOT window;
                                        it has been entered by the user in Glade &gt;&gt; Properties &gt;&gt; Signals &gt;&gt; extra param            
                                        TextEntry field */


...the callback would be looking like this in the &quot;callbacks.c&quot; file (code within the callback would be generated manually by the user):

void on_mainwindow_quit_button_clicked(GtkButton *button, gpointer user_data)
{
    gtk_widget_destroy(GTK_WIDGET(user_data));  /* &quot;topLevelWindow&quot; is received as a gpointer and casted as a GTK_WIDGET */
}


I can actually achieve this result very easily in my case by editing the &quot;interface.c&quot; file and replacing the &quot;NULL&quot; fourth parameter by &quot;topLevelWindow&quot; in the g_signal_connect(...) function call which is generated by Glade 2.0.0, but this change is LOST everytime the interface.c file is regenerated by Glade 2.0.0...  

Code regeneration by Glade 2.0.0 happens *QUITE* often when designing/maintaining a UI, so that's why I'd like to suggest a new TextEntry field in the &quot;Signals&quot; tab which could be used by the user to pass an optional parameter to signal handlers using the &quot;gpointer user_data&quot; parameter without the need to manually edit &quot;interface.c&quot; all the time.


----------------------------------------------------------------


2.  When using custom (= NON-stock) pixmaps (mostly PNG files but I guess this applies to XPM as well) in the &quot;&lt;projectname&gt;/pixmaps&quot; directory, after a &quot;make install&quot; is performed during a normal &lt;projectname&gt; installation, the pixmaps cannot be found when running &lt;projectname&gt;:


(myprojectname:27937): GnomeUI-WARNING **: Could not find GNOME pixmap file myprojectname/channels.png



It turns out that pixmaps which are used by GnomeUIInfo menu entries like this one...

{
    GNOME_APP_UI_ITEM, N_(&quot;Channels...&quot;),
    NULL,
    (gpointer) on_channel_menuChoice, NULL, NULL,
    GNOME_APP_PIXMAP_FILENAME, &quot;myprojectname/channels.png&quot;,
    0, (GdkModifierType) 0, NULL
}

...are looked up in the default GNOME pixmaps directory, which appears to be &quot;/usr/share/pixmaps/&lt;projectname&gt;&quot; on my system.  

Could it be possible to the user to MANUALLY configure the pixmaps's location PREFIX (by example, a TextEntry could be added somewhere in &quot;Properties&quot; for the user to enter a specific PREFIX, like &quot;/usr/local/share/pixmaps/&quot; -- which seems to be a default for &quot;make install&quot; (?)).  I can actually workaround this problem by defining a...

AC_DEFINE_UNQUOTED(GNOME_ICONDIR, &quot;${ac_default_prefix}/share/pixmaps&quot;, [Location of custom GNOME icons])

...or a...

AC_DEFINE_UNQUOTED(GNOME_ICONDIR, &quot;${prefix}/share/pixmaps&quot;, [Location of custom GNOME icons])

...constant in my &quot;configure.in&quot; file so I can prefix all my GnomeUIInfo entries who use custom pixmaps like this:

{
    GNOME_APP_UI_ITEM, N_(&quot;Channel...&quot;),
    NULL,
    (gpointer) on_channel_menuChoice, NULL, NULL,
    GNOME_APP_PIXMAP_FILENAME, GNOME_ICONDIR &quot;myprojectname/channels.png&quot;,  /* GNOME_ICONDIR added */
    0, (GdkModifierType) 0, NULL
}

...and they get opened properly because GNOME_ICONDIR &quot;myprojectname/channels.png&quot; gets transformed into &quot;/usr/local/share/pixmaps/myprojectname/channels.png&quot; after preprocessing.

Again, this requires constant modification to the &quot;interface.c&quot; file as it gets overwritten by Glade 2.0.0 constantly when changes are made to the UI.

----------------------------------------------------------------



When replying, please CC: me at &quot;jeannot12 AT linuxmail DOT org&quot; since I may not be subscribed to the Glade devel mailing list for long (web mail quotas are small... :-).

All your comments are welcome.  I can provide more details if necessary.


I hope these suggestions will be appreciated, as I'm sure they would help quite a few people who've encountered these problems with Glade 2.0.0.

Regards,


--
Jeannot Langlois
B. Sc. Computer Science
jeannot12 AT linuxmail DOT org
-- 
______________________________________________
<A HREF="http://www.linuxmail.org/">http://www.linuxmail.org/</A>
Now with e-mail forwarding for only US$5.95/yr

Powered by Outblaze

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000202.html">[Glade-devel] BUGS found in Glade 2.0.0
</A></li>
	<LI> Next message: <A HREF="000205.html">[Glade-devel] [PATCH/Glade-2.0.0] Re-enabling signal handler's &quot;user_data&quot;
 parameter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#203">[ date ]</a>
              <a href="thread.html#203">[ thread ]</a>
              <a href="subject.html#203">[ subject ]</a>
              <a href="author.html#203">[ author ]</a>
         </LI>
       </UL>
</body></html>
