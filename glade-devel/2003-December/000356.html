<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] libglade usage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:taf2%40lehigh.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000355.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] libglade usage
   </H1>
    <B>Todd Fisher
    </B> 
    <A HREF="mailto:taf2%40lehigh.edu"
       TITLE="[Glade-devel] libglade usage">taf2@lehigh.edu
       </A><BR>
    <I>Tue, 30 Dec 2003 17:29:53 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000355.html">[Glade-devel] libglade usage
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#356">[ date ]</a>
              <a href="thread.html#356">[ thread ]</a>
              <a href="subject.html#356">[ subject ]</a>
              <a href="author.html#356">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Olexiy Avramchenko wrote:

&gt;<i> Todd Fisher wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I have a very simple libglade application.  I used glade-2.0.1 to 
</I>&gt;&gt;<i> generate a
</I>&gt;&gt;<i> .glade file which contains a gtkWindow and a GtkButton nothing else.  
</I>&gt;&gt;<i> It defines
</I>&gt;&gt;<i> two signal handlers.   A  realize and destroy signal for the 
</I>&gt;&gt;<i> GtkWindow. when i use the following as my main applicaion the realize 
</I>&gt;&gt;<i> signal handler is not
</I>&gt;&gt;<i> called.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;...&gt;
</I>&gt;<i>
</I>&gt;&gt;<i> I expect to run the program see my window pop up and see hello 
</I>&gt;&gt;<i> printed at the terminal.
</I>&gt;&gt;<i> I get no Gtk Warnings or Errors instead.  I think its important to 
</I>&gt;&gt;<i> have this realize signal
</I>&gt;&gt;<i> handler called because I want to initialize my application here.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> any ideas?  Am i misuing the api? is this a bug in libglade?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've tested this with the lastest unstable release of libglade and a 
</I>&gt;&gt;<i> fairly recent cvs version and
</I>&gt;&gt;<i> noticed the same behavoir.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Your window is just realized before glade_xml_signal_autoconnect() 
</I>&gt;<i> call. Possible solutions:
</I>&gt;<i> 1. (the nice one) Test your main window widget with 
</I>&gt;<i> GTK_WIDGET_REALIZED() macro.
</I>&gt;<i> 2. (the worse and untested) Set &quot;Visible&quot; flag (&quot;Common&quot; tab in 
</I>&gt;<i> &quot;Properties&quot; notebook) to FALSE, get a pointer to your window (with 
</I>&gt;<i> call like 'glade_xml_get_widget(xml, &quot;window1&quot;)') and call 
</I>&gt;<i> gtk_widget_show_all() on it before gtk_main().
</I>&gt;<i>
</I>&gt;<i>    Olexiy
</I>&gt;<i>
</I>I have a work around for my problem that i'd like to share. basically it 
involves
creating the window manually and only reading in the part of the glade file
that i want to embed into my application.

&gt;<i> int main( int argc, char **argv )
</I>&gt;<i> {
</I>&gt;<i>   App app;
</I>&gt;<i>   GtkWidget *hero_win;
</I>&gt;<i>   GtkWidget *glade_widget_hook;
</I>&gt;<i>                                                                                
</I>&gt;<i>  
</I>&gt;<i>   gtk_init( &amp;argc, &amp;argv );
</I>&gt;<i>                                                                                
</I>&gt;<i>  
</I>&gt;<i>   /* load the interface */
</I>&gt;<i>   app.xml = glade_xml_new( &quot;gui.glade&quot;, &quot;vbox1&quot;, NULL );
</I>&gt;<i>   if( app.xml == NULL ){
</I>&gt;<i>     g_error( &quot;Failed to initialize glade_xml file&quot; );
</I>&gt;<i>     return 1;
</I>&gt;<i>   }
</I>&gt;<i>   /* connect the signals in the interface */
</I>&gt;<i>   glade_xml_signal_autoconnect_with_data( app.xml, &amp;app );
</I>&gt;<i>                                                                                
</I>&gt;<i>  
</I>&gt;<i>   glade_widget_hook = glade_xml_get_widget( app.xml, &quot;vbox1&quot; );
</I>&gt;<i>                                                                                
</I>&gt;<i>  
</I>&gt;<i>   hero_win = gtk_window_new (GTK_WINDOW_TOPLEVEL);
</I>&gt;<i>   gtk_window_set_title( GTK_WINDOW( hero_win ), &quot;HERO&quot; );
</I>&gt;<i>   gtk_container_add( GTK_CONTAINER( hero_win ), glade_widget_hook );
</I>&gt;<i>                                                                                
</I>&gt;<i>  
</I>&gt;<i>   g_signal_connect ((gpointer) hero_win, &quot;destroy&quot;,
</I>&gt;<i>                     G_CALLBACK (on_hero_win_destroy),
</I>&gt;<i>                     &amp;app );
</I>&gt;<i>   g_signal_connect ((gpointer) hero_win, &quot;realize&quot;,
</I>&gt;<i>                     G_CALLBACK (on_hero_win_realize),
</I>&gt;<i>                     &amp;app );
</I>&gt;<i>   gtk_widget_show( hero_win );
</I>&gt;<i>                                                                                
</I>&gt;<i>  
</I>&gt;<i>   /* start the event loop */
</I>&gt;<i>   gtk_main();
</I>




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000355.html">[Glade-devel] libglade usage
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#356">[ date ]</a>
              <a href="thread.html#356">[ thread ]</a>
              <a href="subject.html#356">[ subject ]</a>
              <a href="author.html#356">[ author ]</a>
         </LI>
       </UL>
</body></html>
