<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] glade2: Colors in gnome druid are wrong
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:hampton%40employees.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000320.html">
   <LINK REL="Next"  HREF="000325.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] glade2: Colors in gnome druid are wrong
   </H1>
    <B>David Hampton
    </B> 
    <A HREF="mailto:hampton%40employees.org"
       TITLE="[Glade-devel] glade2: Colors in gnome druid are wrong">hampton@employees.org
       </A><BR>
    <I>09 Sep 2003 19:59:06 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="000320.html">[Glade-devel] GladeMenuEditor update.
</A></li>
        <LI> Next message: <A HREF="000325.html">[Glade-devel] glade2: Colors in gnome druid are wrong
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#321">[ date ]</a>
              <a href="thread.html#321">[ thread ]</a>
              <a href="subject.html#321">[ subject ]</a>
              <a href="author.html#321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--=-2juqTggeP85u3aic944T
Content-Type: multipart/mixed; boundary=&quot;=-R750oG/8oId3ic28I1jk&quot;


--=-R750oG/8oId3ic28I1jk
Content-Type: text/plain
Content-Transfer-Encoding: quoted-printable

glade-2 extracts the wrong color information when working with a
GnomeDruidPageStandard widget (at least on my 2.2 system).  The colors
are read correctly from the xml file and applied to the widget on the
screen, but when you read from the screen widget (to put up a property
box or to write out the file) you get garbage.  This is trivial to
reproduce.  Just open a druid, select a &quot;standard&quot; page, and look at the
property box.  The colors won't match the colors on the page you just
selected.  The problem appears to be a disconnect in the arguments to
g_object_get on the GnomeDruidPageStandard widget.  Glade-2 passes in a
GdkColor*, while GnomeDruidPageStandard expects a GdkColor**.  I've
attached a fix for the problem to the end of this mail.

David




--=-R750oG/8oId3ic28I1jk
Content-Disposition: inline; filename=UDiffs
Content-Type: text/x-patch; name=UDiffs; charset=ISO-8859-1
Content-Transfer-Encoding: base64

SW5kZXg6IGdsYWRlL2dub21lL2dub21lZHJ1aWRwYWdlc3RhbmRhcmQuYw0KPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
UkNTIGZpbGU6IC9jdnMvZ25vbWUvZ2xhZGUvZ2xhZGUvZ25vbWUvZ25vbWVkcnVpZHBhZ2VzdGFu
ZGFyZC5jLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS40LjIuNA0KZGlmZiAtdSAtcjEuNC4yLjQg
Z25vbWVkcnVpZHBhZ2VzdGFuZGFyZC5jDQotLS0gZ2xhZGUvZ25vbWUvZ25vbWVkcnVpZHBhZ2Vz
dGFuZGFyZC5jCTExIE1hciAyMDAyIDE4OjEyOjIwIC0wMDAwCTEuNC4yLjQNCisrKyBnbGFkZS9n
bm9tZS9nbm9tZWRydWlkcGFnZXN0YW5kYXJkLmMJMTAgU2VwIDIwMDMgMDI6MjM6MzMgLTAwMDAN
CkBAIC0xMDksNyArMTA5LDcgQEANCiAJCQkJCSAgICAgR2JXaWRnZXRHZXRBcmdEYXRhICogZGF0
YSkNCiB7DQogICBHbm9tZURydWlkUGFnZVN0YW5kYXJkICpwYWdlOw0KLSAgR2RrQ29sb3IgdGl0
bGVfY29sb3IsIGJhY2tncm91bmRfY29sb3IsIGxvZ29fYmFja2dyb3VuZF9jb2xvcjsNCisgIEdk
a0NvbG9yICp0aXRsZV9jb2xvciwgKmJhY2tncm91bmRfY29sb3IsICpsb2dvX2JhY2tncm91bmRf
Y29sb3I7DQogICBnYm9vbGVhbiB0aXRsZV9jb2xvcl9zZXQsIGJhY2tncm91bmRfY29sb3Jfc2V0
LCBsb2dvX2JhY2tncm91bmRfY29sb3Jfc2V0Ow0KIA0KICAgcGFnZSA9IEdOT01FX0RSVUlEX1BB
R0VfU1RBTkRBUkQgKHdpZGdldCk7DQpAQCAtMTI5LDEzICsxMjksMTMgQEANCiAJCU5VTEwpOw0K
IA0KICAgaWYgKGRhdGEtPmFjdGlvbiA9PSBHQl9TSE9XSU5HIHx8IHRpdGxlX2NvbG9yX3NldCkN
Ci0gICAgZ2Jfd2lkZ2V0X291dHB1dF9jb2xvciAoZGF0YSwgVGl0bGVDb2xvciwgJnRpdGxlX2Nv
bG9yKTsNCisgICAgZ2Jfd2lkZ2V0X291dHB1dF9jb2xvciAoZGF0YSwgVGl0bGVDb2xvciwgdGl0
bGVfY29sb3IpOw0KIA0KICAgaWYgKGRhdGEtPmFjdGlvbiA9PSBHQl9TSE9XSU5HIHx8IGJhY2tn
cm91bmRfY29sb3Jfc2V0KQ0KLSAgICBnYl93aWRnZXRfb3V0cHV0X2NvbG9yIChkYXRhLCBCYWNr
Z3JvdW5kQ29sb3IsICZiYWNrZ3JvdW5kX2NvbG9yKTsNCisgICAgZ2Jfd2lkZ2V0X291dHB1dF9j
b2xvciAoZGF0YSwgQmFja2dyb3VuZENvbG9yLCBiYWNrZ3JvdW5kX2NvbG9yKTsNCiANCiAgIGlm
IChkYXRhLT5hY3Rpb24gPT0gR0JfU0hPV0lORyB8fCBsb2dvX2JhY2tncm91bmRfY29sb3Jfc2V0
KQ0KLSAgICBnYl93aWRnZXRfb3V0cHV0X2NvbG9yIChkYXRhLCBMb2dvQmFja2dyb3VuZENvbG9y
LCAmbG9nb19iYWNrZ3JvdW5kX2NvbG9yKTsNCisgICAgZ2Jfd2lkZ2V0X291dHB1dF9jb2xvciAo
ZGF0YSwgTG9nb0JhY2tncm91bmRDb2xvciwgbG9nb19iYWNrZ3JvdW5kX2NvbG9yKTsNCiANCiAg
IC8qIEZJWE1FOiBHTk9NRSAyIGJ1ZyB3b3JrYXJvdW5kLiBJdCBkb2Vzbid0IGluc3RhbGwgdGhl
IHByb3BlcnRpZXMgZm9yDQogICAgICB0aGVzZSwgc28gd2UgaGF2ZSB0byBkbyBpdCBvdXJzZWx2
ZXMuICovDQo=

--=-R750oG/8oId3ic28I1jk--

--=-2juqTggeP85u3aic944T
Content-Type: application/pgp-signature; name=signature.asc
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)

iD8DBQA/XpN6lSwHWMdNRQQRAgvaAKCh2c7qZLPbwhNypsn4fcU4fntKEwCeJOM2
j6GitdrU7ZTQhBPraht6rSY=
=tPdo
-----END PGP SIGNATURE-----

--=-2juqTggeP85u3aic944T--

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000320.html">[Glade-devel] GladeMenuEditor update.
</A></li>
	<LI> Next message: <A HREF="000325.html">[Glade-devel] glade2: Colors in gnome druid are wrong
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#321">[ date ]</a>
              <a href="thread.html#321">[ thread ]</a>
              <a href="subject.html#321">[ subject ]</a>
              <a href="author.html#321">[ author ]</a>
         </LI>
       </UL>
</body></html>
