#include <gtk/gtk.h>
#include <glade/glade.h>

void gtk_widget_show1(GtkWidget *widget, gpointer user_data)
{
	//  GladeXML *window;
	//  GTKWidget *widget;
	//  window=glade_xml_new ("signalevent.glade",NULL,NULL);
	//  widget = glade_xml_get_widget (main_window, "mudialog");

	  printf ("Thanks for trying out my program.\n");
	 // gtk_window_set_default_size (GTK_WINDOW (dialog), 10, 20);
	  gtk_widget_show(user_data);
	    gtk_main_quit ();
}

int main (int argc, char *argv[])
{
	  GladeXML  *main_window;
	  GtkWidget *widget;

	  gtk_init (&argc, &argv);

	  /* load the interface */
	  main_window = glade_xml_new ("signalevent.glade", NULL, NULL);

	  /* connect the signals in the interface */
	  /* Have the ok button call the ok_button_clicked callback */
	  widget = glade_xml_get_widget (main_window, "button1");
          g_signal_connect (G_OBJECT (widget), "clicked",G_CALLBACK (gtk_widget_show1),"mydialog");

          /* Have the delete event (window close) end the program */
          widget = glade_xml_get_widget (main_window, "window1");
          g_signal_connect (G_OBJECT (widget), "delete_event",G_CALLBACK (gtk_main_quit), NULL);

	  /* start the event loop */
	  gtk_main ();

			    return 0;
}
