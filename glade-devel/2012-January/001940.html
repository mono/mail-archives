<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] glade: populating table/list with headers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-devel%40lists.ximian.com?Subject=Re%3A%20%5BGlade-devel%5D%20glade%3A%20populating%20table/list%20with%20headers&In-Reply-To=%3C1326606172.1723.18.camel%40ragamuffin%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001939.html">
   <LINK REL="Next"  HREF="001942.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] glade: populating table/list with headers</H1>
    <B>Tristan Van Berkom</B> 
    <A HREF="mailto:glade-devel%40lists.ximian.com?Subject=Re%3A%20%5BGlade-devel%5D%20glade%3A%20populating%20table/list%20with%20headers&In-Reply-To=%3C1326606172.1723.18.camel%40ragamuffin%3E"
       TITLE="[Glade-devel] glade: populating table/list with headers">tristanvb at openismus.com
       </A><BR>
    <I>Sun Jan 15 05:42:52 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001939.html">[Glade-devel] glade: populating table/list with headers
</A></li>
        <LI>Next message: <A HREF="001942.html">[Glade-devel] glade: populating table/list with headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1940">[ date ]</a>
              <a href="thread.html#1940">[ thread ]</a>
              <a href="subject.html#1940">[ subject ]</a>
              <a href="author.html#1940">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2012-01-14 at 20:54 +0100, Saku Masukita wrote:
&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Sorry for the late reply...
</I>&gt;<i> 
</I>&gt;<i> On Sun, Nov 13, 2011 at 1:13 AM, Tristan Van Berkom
</I>&gt;<i> &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-devel">tristanvb at openismus.com</A>&gt; wrote:
</I>&gt;<i>         On Sat, 2011-11-12 at 20:29 +0100, Saku Masukita wrote:
</I>&gt;<i>         &gt;
</I>&gt;<i>         &gt; Hello,
</I>&gt;<i>         &gt;
</I>&gt;<i>         &gt; I need to populate a list/table in glade with some headers
</I>&gt;<i>         &gt; which label the columns. Could anyone point me in the
</I>&gt;<i>         &gt; right direction. Do I need to use a GtkTreeView? Is the
</I>&gt;<i>         &gt; old CList no longer supported for this? Do I have to
</I>&gt;<i>         &gt; build my own custom widget and import it into glade?
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i>         Hi Saku,
</I>&gt;<i>           If you are displaying dynamic content, and that content
</I>&gt;<i>         might be larger than say, 5 or 10 rows of data... then you
</I>&gt;<i>         should definitely use a GtkTreeView.
</I>&gt;<i>         
</I>&gt;<i>         Note that the ultimate problem with the old clist widgets
</I>&gt;<i>         was that they use an unreasonable amount of resources to
</I>&gt;<i>         display a list of dynamic data, so you do not want to relive
</I>&gt;<i>         that by creating widgets for each row yourself (once you have
</I>&gt;<i>         around 100 rows it can start to take a long time just to
</I>&gt;<i>         create
</I>&gt;<i>         those widgets).
</I>&gt;<i>         
</I>&gt;<i>         To do this in Glade,
</I>&gt;<i>          o Create a GtkTreeView
</I>&gt;<i>          o Create a GtkListStore (it may be an option while creating
</I>&gt;<i>         the view)
</I>&gt;<i>          o Then select the &quot;Edit&quot; toolbar item with the treeview
</I>&gt;<i>         selected
</I>&gt;<i> 
</I>&gt;<i> , I have tried clicking on a GtkTreeView
</I>&gt;<i> and placing it down. A popup window shows up asking me to
</I>&gt;<i> enter a GtkTreeView TreeView Model. I create a new object
</I>&gt;<i> called liststore1. I then right click the Tree View and select
</I>&gt;<i> Edit and get the following errors which crash glade altogether
</I>&gt;<i> (I see no way on the Edit toolbar to assign datatypes). How
</I>&gt;<i> should I proceed???
</I>&gt;<i> 
</I>&gt;<i> (glade:9725): Gtk-CRITICAL **: gtk_cell_view_set_displayed_row:
</I>&gt;<i> assertion `GTK_IS_TREE_MODEL (cell_view-&gt;priv-&gt;model)' failed
</I>&gt;<i> 
</I>&gt;<i> (glade:9725): Gtk-WARNING **: /build/buildd/gtk
</I>&gt;<i> +3.0-3.2.0/./gtk/gtktreeview.c:1944: invalid property id 14 for
</I>&gt;<i> &quot;ubuntu-almost-fixed-height-mode&quot; of type `GParamBoolean' in
</I>&gt;<i> `GtkTreeView'
</I>&gt;<i> 
</I>&gt;<i> (glade:9725): Gtk-WARNING **: GtkContainerClass::add not implemented
</I>&gt;<i> for `GtkTreeView'
</I>&gt;<i> 
</I>&gt;<i> Gtk-ERROR **: GtkBox child GladeEditorTable minimum height: -4 &lt; 0
</I>&gt;<i> Trace/breakpoint trap
</I>
This is a very well known GTK+ bug which was in fact fixed almost
two full months ago in GTK+ git master.

I don't know why but it seems most distributions of GTK+ still
have this bug (because I hear a lot about it), to track the progress
of this you can follow:
    <A HREF="https://bugzilla.gnome.org/show_bug.cgi?id=660139">https://bugzilla.gnome.org/show_bug.cgi?id=660139</A>

It seems the fix should be available in an upcoming 3.2 release
(as per Benjamin's (Company's) comment that the fix has been
backported to the 3.2 branch).

If you can't get your hands on a recent version of GTK+ that
contains the fix, I can give you a quick pointer on how
to hack around that with Glade sources:

  o cd ~/path/to/glade/sources/
  o grep -r gtk_grid_set_column_spacing .
  o grep -r gtk_grid_set_row_spacing
  o edit any of column/row spacing assigned to a GtkGrid
    in Glade, you can simply remove these lines or change
    the set value to '0'
  o recompile and install Glade

That will avoid the crash for the time being.

Sorry for the inconvenience.

Cheers,
        -Tristan

&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> 
</I>&gt;<i> Saku
</I>&gt;<i>  
</I>&gt;<i>          o In the main page... assign data types to your list store,
</I>&gt;<i>            for instance you might have a column named 'name' which is
</I>&gt;<i>            of type 'gchararray' (GType-speak for a string)
</I>&gt;<i>          o Then go to the 'Hierarchy' tab of the editor
</I>&gt;<i>          o Press the 'Add' button on the bottom left, this will add
</I>&gt;<i>            a GtkTreeViewColumn to your view
</I>&gt;<i>          o Right Click on the newly created treeview column which
</I>&gt;<i>         appears
</I>&gt;<i>            in the treeview editor window
</I>&gt;<i>          o In this context menu you can create GtkCellRenderers to
</I>&gt;<i>         show
</I>&gt;<i>            data in your view... Add some renderers, a text renderer to
</I>&gt;<i>            render text, etc.
</I>&gt;<i>          o Now that you have a renderer selected, on the right hand
</I>&gt;<i>         you
</I>&gt;<i>            will have a list of properties... only here instead of
</I>&gt;<i>         strict
</I>&gt;<i>            values (which are still possible), you can attribute the
</I>&gt;<i>         cell
</I>&gt;<i>            renderer properties to be set from specific values in the
</I>&gt;<i>            GtkTreeStore which you defined earlier
</I>&gt;<i>         
</I>&gt;<i>            So in this final step, you say that the
</I>&gt;<i>         GtkCellRendererText:text
</I>&gt;<i>            property should be driven by the 'name' column which you
</I>&gt;<i>         defined
</I>&gt;<i>            in your GtkTreeStore as a 'gchararray' (string).
</I>&gt;<i>         
</I>&gt;<i>         After that, in code you generally have a loop where you call
</I>&gt;<i>         apis like gtk_list_store_append() to add the data you need.
</I>&gt;<i>         
</I>&gt;<i>         Cheers,
</I>&gt;<i>                 -Tristan
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i> 
</I>

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001939.html">[Glade-devel] glade: populating table/list with headers
</A></li>
	<LI>Next message: <A HREF="001942.html">[Glade-devel] glade: populating table/list with headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1940">[ date ]</a>
              <a href="thread.html#1940">[ thread ]</a>
              <a href="subject.html#1940">[ subject ]</a>
              <a href="author.html#1940">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-devel">More information about the Glade-devel
mailing list</a><br>
</body></html>
