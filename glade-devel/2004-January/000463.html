<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> Signal editor (was Re: [Glade-devel] small patch)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:e98cuenc%40free.fr">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000449.html">
   <LINK REL="Next"  HREF="000466.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Signal editor (was Re: [Glade-devel] small patch)
   </H1>
    <B>Joaquin Cuenca Abela
    </B> 
    <A HREF="mailto:e98cuenc%40free.fr"
       TITLE="Signal editor (was Re: [Glade-devel] small patch)">e98cuenc@free.fr
       </A><BR>
    <I>Tue, 13 Jan 2004 22:11:05 +0100</I>
    <P><UL>
        <LI> Previous message: <A HREF="000449.html">[Glade-devel] small patch
</A></li>
        <LI> Next message: <A HREF="000466.html">Signal editor (was Re: [Glade-devel] small patch)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#463">[ date ]</a>
              <a href="thread.html#463">[ thread ]</a>
              <a href="subject.html#463">[ subject ]</a>
              <a href="author.html#463">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

I've been hacking a bit on the signal editor.

What do you think of an interface like that one:

<A HREF="http://e98cuenc.free.fr/signals.png">http://e98cuenc.free.fr/signals.png</A>

You add a new signal handler just typing the name of the handler, and you
remove it just erasing the name of the handler.

I want to also add the name of the class that each signal belongs (as with
the current &quot;add a signal handler dialog&quot;).

I've just done the interface of the screenshot, but I've not yet made it to
work (that will be for tomorrow).

It looks to me much simpler to use than the current one (for those that
don't know, the current one is a clone of the glade2 one).

Cheers,
 
Paolo wrote:
&gt;<i> 
</I>&gt;<i> On Tue, 2004-01-13 at 14:10, Sridhar R wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> Hi Sridhar,
</I>&gt;<i> 	I've not tried the patch (yet), but if I understand it 
</I>&gt;<i> correctly the result is that, e.g. for a GtkButton, the 
</I>&gt;<i> GtkButton signals list node in the tree is expanded.
</I>&gt;<i> Did I get it right? If yes, I like it :) [if someone else 
</I>&gt;<i> doesn't feel free to voice your opinion]
</I>&gt;<i> 
</I>&gt;<i> Some comments (nitpicks mostly) on the patch follow:
</I>&gt;<i> 
</I>&gt;<i> 1) it seems to me that your mailer ate the patch a bit (it 
</I>&gt;<i> breaks some lines). If you use Evolution you can send the 
</I>&gt;<i> patch as an attachment and it will be sent in plain text, 
</I>&gt;<i> don't know if other mail apps do the same...
</I>&gt;<i> 
</I>&gt;<i> &gt; I'm all new to collabarative developments.  Here is my
</I>&gt;<i> &gt; (initial) small patch to CVS glade-signal-editor.c, regarding 
</I>&gt;<i> &gt; usability.  That is, it will now expand the first row of 
</I>&gt;<i> signal-list 
</I>&gt;<i> &gt; dialog, which is what any user would do more often.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Here goes the diff (diff --context=2 . .)
</I>&gt;<i> 
</I>&gt;<i> please use diff -pu (the p option tells in which function the 
</I>&gt;<i> changes are made, making the patch more readable. The default 
</I>&gt;<i> context (3 iirc is just fine).
</I>&gt;<i> Beside also provide a ChangeLog entry.
</I>&gt;<i> 
</I>&gt;<i> &gt; *** ../../glade3.orig/src/glade-signal-editor.c Mon Jan 12 21:38:09 
</I>&gt;<i> &gt; 2004
</I>&gt;<i> &gt; --- glade-signal-editor.c       Mon Jan 12 22:04:06
</I>&gt;<i> &gt; 2004
</I>&gt;<i> &gt; ***************
</I>&gt;<i> &gt; *** 158,161 ****
</I>&gt;<i> &gt; --- 158,162 ----
</I>&gt;<i> &gt;         GtkTreeIter *parent = NULL;
</I>&gt;<i> &gt;         GList *list = NULL;
</I>&gt;<i> &gt; +       GtkTreePath *path_first = NULL;
</I>&gt;<i> &gt;         GladeWidgetClassSignal *signal;
</I>&gt;<i> &gt;     
</I>&gt;<i> 
</I>&gt;<i> No need to initialize local vars to NULL as far as I can see, 
</I>&gt;<i> while you are at it remove it also from the other vars; 
</I>&gt;<i> beside, not related to your code, but usually a TreeIter is 
</I>&gt;<i> allocated on the stack: i.e.
</I>&gt;<i> GtkTreeIter iter;
</I>&gt;<i> gtk_tree_functio (..., &amp;iter, ...);
</I>&gt;<i> 
</I>&gt;<i> &gt; ***************
</I>&gt;<i> &gt; *** 174,177 ****
</I>&gt;<i> &gt; --- 175,182 ----
</I>&gt;<i> &gt;                
</I>&gt;<i> &gt; glade_signal_editor_dialog_append_signal (lst_model,
</I>&gt;<i> &gt; signal-&gt;nam
</I>&gt;<i> &gt; e, parent);
</I>&gt;<i> &gt;         }
</I>&gt;<i> &gt; +       /* Sridhar R: Expand the first row */
</I>&gt;<i> &gt; +       path_first = gtk_tree_path_new_first();
</I>&gt;<i> &gt; +       gtk_tree_view_expand_row(GTK_TREE_VIEW (view),
</I>&gt;<i> &gt; path_first, FALSE);
</I>&gt;<i> &gt; +       gtk_tree_path_free(path_first);
</I>&gt;<i> &gt;   }
</I>&gt;<i> &gt;   
</I>&gt;<i> 
</I>&gt;<i> We usually don't add comments like &quot;paolo: did this&quot; for each 
</I>&gt;<i> patch because they would fastly clutter the code. In this 
</I>&gt;<i> particular case the whole comment seems superflous, since 
</I>&gt;<i> it's just stating what the 3 line under it do.
</I>&gt;<i> 
</I>&gt;<i> &gt; ***************
</I>&gt;<i> &gt; *** 183,186 ****
</I>&gt;<i> &gt; --- 188,193 ----
</I>&gt;<i> &gt;         gint response;
</I>&gt;<i> &gt;   
</I>&gt;<i> &gt; +       g_assert(editor);
</I>&gt;<i> &gt; +       g_assert(editor-&gt;class);
</I>&gt;<i> &gt;         g_return_if_fail (editor-&gt;class-&gt;signals != NULL);
</I>&gt;<i> &gt;   
</I>&gt;<i> 
</I>&gt;<i> Use g_return_if_fail instead of assert to check function args.
</I>&gt;<i> 
</I>&gt;<i> &gt; ***************
</I>&gt;<i> &gt; *** 663,665 ****
</I>&gt;<i> &gt;         }
</I>&gt;<i> &gt;   }
</I>&gt;<i> &gt; -
</I>&gt;<i> &gt; --- 670,671 ----
</I>&gt;<i> &gt; I have also attached the diff file.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Well, what are all the stuffs that I can start working on?
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> If you want to continue with ui stuff on the signal editor 
</I>&gt;<i> there is a detailed bug in bugzilla.gnome.org, suggesting 
</I>&gt;<i> some changes that can be made. I don't have the bug number at 
</I>&gt;<i> hand, but since at the moment the open bugs against glade3 
</I>&gt;<i> are just 2, you should find it pretty easily :)
</I>&gt;<i> 
</I>&gt;<i> Thanks for your work, I'm sure that once you get started 
</I>&gt;<i> things will go more smoothly!
</I>&gt;<i> 
</I>&gt;<i> ciao
</I>&gt;<i> 	paolo
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000449.html">[Glade-devel] small patch
</A></li>
	<LI> Next message: <A HREF="000466.html">Signal editor (was Re: [Glade-devel] small patch)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#463">[ date ]</a>
              <a href="thread.html#463">[ thread ]</a>
              <a href="subject.html#463">[ subject ]</a>
              <a href="author.html#463">[ author ]</a>
         </LI>
       </UL>
</body></html>
