<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] Glade and GObject introspection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-devel%40lists.ximian.com?Subject=%5BGlade-devel%5D%20Glade%20and%20GObject%20introspection&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001582.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] Glade and GObject introspection</H1>
    <B>Nathan Robertson</B> 
    <A HREF="mailto:glade-devel%40lists.ximian.com?Subject=%5BGlade-devel%5D%20Glade%20and%20GObject%20introspection&In-Reply-To="
       TITLE="[Glade-devel] Glade and GObject introspection">nathanr at nathanr.net
       </A><BR>
    <I>Tue Feb 26 07:48:17 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001582.html">[Glade-devel] [PATCH] Implement preview feature in glade-3
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1580">[ date ]</a>
              <a href="thread.html#1580">[ thread ]</a>
              <a href="subject.html#1580">[ subject ]</a>
              <a href="author.html#1580">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've been looking at the Glade source code for the last few days, as I'm
trying to get GObject introspection working, and I knew that Glade would be
a good example to look at for how to do this. Basically, in Java I would do:

Class sc = Class.forName(&quot;java.lang.String&quot;).getSuperclass();
System.out.println(&quot;Superclass is: &quot; + sc.getName());

After a bit of reading the documentation and GTK+, libglade and Glade source
code I've so far come up with:

GType button_type, parent_type;
gtk_init(&amp;argc, &amp;argv);
button_type = g_type_from_name(&quot;GtkButton&quot;);
parent_type = g_type_parent(button_type);
printf(&quot;%s, %s\n&quot;, g_type_name(button_type), g_type_name(parent_type));

Now, I'm guessing that Glade reads in gtk+.xml, and looks up the name=&quot;&quot;
types for each of the &lt;glade-widget-class&gt; entries, and then looks up the
GType from the name. However, the above code returns NULL on line 3 unless I
put before it:

button_type = GTK_TYPE_BUTTON;

So obviously I'm missing some initialization that reads in all the types,
which is what the documentation for g_type_from_name() hints at.

My question is what is this missing initialization code? I've been looking
through the Glade source code and must have missed it, and I'd appreciate
if someone could point me in the direction of the code that implements it in
Glade.

Many thanks,
Nathan.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001582.html">[Glade-devel] [PATCH] Implement preview feature in glade-3
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1580">[ date ]</a>
              <a href="thread.html#1580">[ thread ]</a>
              <a href="subject.html#1580">[ subject ]</a>
              <a href="author.html#1580">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-devel">More information about the Glade-devel
mailing list</a><br>
</body></html>
