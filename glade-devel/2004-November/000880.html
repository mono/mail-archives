<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] Glade-3/libglade non-widgets RFC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:shane_b%40users.sourceforge.net">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000878.html">
   <LINK REL="Next"  HREF="000881.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] Glade-3/libglade non-widgets RFC
   </H1>
    <B>Shane Butler
    </B> 
    <A HREF="mailto:shane_b%40users.sourceforge.net"
       TITLE="[Glade-devel] Glade-3/libglade non-widgets RFC">shane_b@users.sourceforge.net
       </A><BR>
    <I>Fri, 05 Nov 2004 17:22:12 +1100</I>
    <P><UL>
        <LI> Previous message: <A HREF="000878.html">[Glade-devel] Glade-3/libglade non-widgets RFC
</A></li>
        <LI> Next message: <A HREF="000881.html">[Glade-devel] Glade-3/libglade non-widgets RFC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#880">[ date ]</a>
              <a href="thread.html#880">[ thread ]</a>
              <a href="subject.html#880">[ subject ]</a>
              <a href="author.html#880">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Tristan,

I guess it is important to know if James has any plans for future
versions of libglade that are along these lines.

BTW, one of other thing that I have wondered is how the glade xml format
could integrate with GtkUIManager XML files? 

Regards, Shane

On Thu, 2004-11-04 at 06:57, Tristan Van Berkom wrote:
&gt;<i> I am about to start coding non-widget support in glade-3.
</I>&gt;<i> 
</I>&gt;<i>    For those who are confused about non-widgets, non-widgets are all GObject
</I>&gt;<i> derivative types that are in some way widget delagetes and pertain somehow
</I>&gt;<i> to the UI.
</I>&gt;<i> 
</I>&gt;<i> Some examples of these are:
</I>&gt;<i>     - GtkSizeGroup
</I>&gt;<i>     - GtkTreeViewColumn
</I>&gt;<i>     - GtkEntryCompletion
</I>&gt;<i>     - GtkAdjustment
</I>&gt;<i>     - GnomeCanvasItem
</I>&gt;<i> 
</I>&gt;<i> This is the basic design I'm thinking will work:
</I>&gt;<i> 
</I>&gt;<i>     o GladeWidget[Class] will now be GladeObject[Class]
</I>&gt;<i>       
</I>&gt;<i>       This is just a clarification, the entire implementation from
</I>&gt;<i> here on out is
</I>&gt;<i>       GObject based and not GtkWidget based (ofcourse some extra
</I>&gt;<i> functionality will
</I>&gt;<i>       be provided for GtkWidget derivitives, such as painting
</I>&gt;<i> selections on them etc).
</I>&gt;<i> 
</I>&gt;<i>     o Every GladeObjectClass is allowed to act as a &quot;container&quot;
</I>&gt;<i> 
</I>&gt;<i>       A GladeObjectClass that acts as a container will have a list of
</I>&gt;<i> GladeChildInfo
</I>&gt;<i>       records that will contain information such as:
</I>&gt;<i>       
</I>&gt;<i>       - GType of this supported child type
</I>&gt;<i>       - add_child function for this child type
</I>&gt;<i>       - boolean representing whether there can be more than one child
</I>&gt;<i>         of this type or not.
</I>&gt;<i>       - boolean representing whether this child is to actualy be built or if it
</I>&gt;<i>         is just a reference.
</I>&gt;<i>       - ... anything else ?
</I>&gt;<i> 
</I>&gt;<i>       Note that the &quot;supported type&quot; should include all derived types, so
</I>&gt;<i>       GtkContainer essentialy supports type GtkWidget as a child etc.
</I>&gt;<i>       Children of the GtkContainerClass will inherit this behaviour and possibly
</I>&gt;<i>       override it.
</I>&gt;<i> 
</I>&gt;<i>     o Object type properties will be handled as children.
</I>&gt;<i> 
</I>&gt;<i>       I just dont see an easier way around this problem, if object
</I>&gt;<i> type properties are
</I>&gt;<i>       dubbed &quot;child objects&quot;, they can be selected in the editor
</I>&gt;<i> through the same
</I>&gt;<i>       pipelines as actual children; the same goes for libglade, custom
</I>&gt;<i> &quot;add-child&quot;
</I>&gt;<i>       methods can easily be implemented which create an object with 
</I>&gt;<i>       glade_xml_build_object() on the child node and proceed by
</I>&gt;<i> calling g_object_set()
</I>&gt;<i> 
</I>&gt;<i>     o Some child types will only be &quot;references&quot; and will not be &quot;owned&quot;
</I>&gt;<i>       by the parenting object.
</I>&gt;<i> 
</I>&gt;<i>       An example of this is GtkEntryCompletion, The GtkEntry, would
</I>&gt;<i> support a child
</I>&gt;<i>       of type GtkEntryCompletion and GtkEntryCompletion would support
</I>&gt;<i> a child of type
</I>&gt;<i>       GtkTreeModel (Note that &quot;parenting&quot; isn't quite the word, in
</I>&gt;<i> glade we consider
</I>&gt;<i>       it a parent / child relationship strictly for practical reasons).
</I>&gt;<i> 
</I>&gt;<i>       This I think is going to be pretty tough, first question that
</I>&gt;<i> comes to mind is
</I>&gt;<i>       &quot;how am I going to add a child through the glade ui which is
</I>&gt;<i> just a reference to
</I>&gt;<i>        another object in the ui ?&quot;
</I>&gt;<i> 
</I>&gt;<i>       I think that as far as xml files and libglade goes, this can be
</I>&gt;<i> accomplished
</I>&gt;<i>       with little effort:
</I>&gt;<i>           - Every Object needs to have a &quot;name&quot;
</I>&gt;<i>           - Nested in the &lt;child&gt; tag we can do something like:
</I>&gt;<i>             &lt;child&gt;
</I>&gt;<i>                 &lt;reference name=&quot;object_name&quot;/&gt;
</I>&gt;<i>                 &lt;packing&gt;
</I>&gt;<i>                     &lt;property ... so and so&gt;
</I>&gt;<i>                 &lt;/packing&gt;
</I>&gt;<i>             &lt;/child&gt;
</I>&gt;<i>           - Adding the actual &quot;referenced&quot; children the the parenting
</I>&gt;<i> objects can
</I>&gt;<i>             be completely deffered to after the parsing process, to
</I>&gt;<i> ensure that the
</I>&gt;<i>             referred to object actualy exists come parenting time.
</I>&gt;<i> 
</I>&gt;<i> Well; that pretty much wraps up todays brain-storm,
</I>&gt;<i> please send back your comments/sugestions.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i>                                                                      -Tristan
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Glade-devel maillist  -  <A HREF="mailto:Glade-devel@lists.ximian.com">Glade-devel@lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/glade-devel">http://lists.ximian.com/mailman/listinfo/glade-devel</A>
</I>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000878.html">[Glade-devel] Glade-3/libglade non-widgets RFC
</A></li>
	<LI> Next message: <A HREF="000881.html">[Glade-devel] Glade-3/libglade non-widgets RFC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#880">[ date ]</a>
              <a href="thread.html#880">[ thread ]</a>
              <a href="subject.html#880">[ subject ]</a>
              <a href="author.html#880">[ author ]</a>
         </LI>
       </UL>
</body></html>
