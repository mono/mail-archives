<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] Request For Comments: a proposal for an	alternative to libglade
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-devel%40lists.ximian.com?Subject=%5BGlade-devel%5D%20Request%20For%20Comments%3A%20a%20proposal%20for%20an%0A%09alternative%20to%20libglade&In-Reply-To=B334DFC6EB0D4D47AA90DE6AD68543FC05304E%40ussunex02.palmsource.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001282.html">
   <LINK REL="Next"  HREF="001284.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] Request For Comments: a proposal for an	alternative to libglade</H1>
    <B>Andy Somerville</B> 
    <A HREF="mailto:glade-devel%40lists.ximian.com?Subject=%5BGlade-devel%5D%20Request%20For%20Comments%3A%20a%20proposal%20for%20an%0A%09alternative%20to%20libglade&In-Reply-To=B334DFC6EB0D4D47AA90DE6AD68543FC05304E%40ussunex02.palmsource.com"
       TITLE="[Glade-devel] Request For Comments: a proposal for an	alternative to libglade">andy.somerville at gmail.com
       </A><BR>
    <I>Thu Jul 27 15:46:03 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="001282.html">[Glade-devel] Request For Comments: a proposal for an alternative to libglade
</A></li>
        <LI>Next message: <A HREF="001284.html">[Glade-devel] Request For Comments: a proposal for	an	alternative to libglade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1283">[ date ]</a>
              <a href="thread.html#1283">[ thread ]</a>
              <a href="subject.html#1283">[ subject ]</a>
              <a href="author.html#1283">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think it would be worth while to have a compiled format alongside
the current method iff it was significantly faster. If you are going
to be doing it anyways, why not?

On 7/27/06, Jeff Westerinen &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/glade-devel">Jeff.Westerinen at palmsource.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     We were looking at the time and memory costs of libglade, and are
</I>&gt;<i> particularly concerned about the cost of the XML parser. While it might be
</I>&gt;<i> possible to reduce the cost (by going to a SAX-based parser, or requiring
</I>&gt;<i> simplified-XML) parsing is still being performed.
</I>&gt;<i>
</I>&gt;<i>     What would the reaction be to a pre-compiled Glade format? A simple
</I>&gt;<i> compiler (we have a prototype knocked together with Perl) would read the
</I>&gt;<i> Glade XML, translating it into pre-parsed byte-code that describes the
</I>&gt;<i> widget tree in a very lean format. A separate run-time would be needed to
</I>&gt;<i> instantiate a widget tree from the compiled format, however the amount of
</I>&gt;<i> code needed is greatly reduced.
</I>&gt;<i>
</I>&gt;<i>     (An obvious question is &quot;what about Fast Infoset&quot;, or other related
</I>&gt;<i> binary or compressed XML techniques: those systems still preserve the full
</I>&gt;<i> expressiveness of XML. In this case, we don't see the need for that
</I>&gt;<i> expressiveness on the run-time side. Our desire is only to instantiate Gtk
</I>&gt;<i> widgets as fast as possible. Hence, converting to a non-XML, specialized
</I>&gt;<i> format, becomes attractive.)
</I>&gt;<i>
</I>&gt;<i>     The simpler the format, and the more work that is done on the compiling
</I>&gt;<i> side, the less time it takes to instantiate the widgets. No XML parsing
</I>&gt;<i> needs to be done at run-time. This can also remove the need for character
</I>&gt;<i> set conversions, if you deem the compiled format to always be stored in
</I>&gt;<i> UTF-8.
</I>&gt;<i>
</I>&gt;<i>     Version compatibility issues can be ameliorated by storing both the
</I>&gt;<i> original Glade XML file and a compiled glade file in an app's resources: a
</I>&gt;<i> fallback to libglade would always be possible if the compiled format isn't
</I>&gt;<i> appropriate. Since the compiled format can be significantly smaller than the
</I>&gt;<i> XML (since it is simply less verbose) the storage cost would be minimal.
</I>&gt;<i>
</I>&gt;<i>     (A very quick and dodgy test suggested that a compiled glade file would
</I>&gt;<i> be under a quarter the size of the XML version, and the run-time to load the
</I>&gt;<i> compiled glade code could be extremely tiny, on the order of a few dozen K).
</I>&gt;<i>
</I>&gt;<i>     Given some of the discussions about Glade3 and GTK changing to directly
</I>&gt;<i> support loading Glade files, we thought we should mention this idea to the
</I>&gt;<i> group now. We're probably going to implement something along these lines in
</I>&gt;<i> any case (as a stand-alone Glade XML translator), but would be interested in
</I>&gt;<i> collaborating on a design.
</I>&gt;<i>
</I>&gt;<i>     Our interests are on an embedded platform, where we have severe
</I>&gt;<i> constraints on memory and speed, however it seems possible that this
</I>&gt;<i> approach could provide benefits even with desktop Gtk apps.
</I>&gt;<i>
</I>&gt;<i>     Please respond with any comments, questions, or concerns, as well as
</I>&gt;<i> ideas of what other forums would be appropriate to which to send this RFC.
</I>&gt;<i>
</I>&gt;<i> - Jeff Westerinen -- PalmSource, Inc.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Glade-devel maillist  -  <A HREF="http://lists.ximian.com/mailman/listinfo/glade-devel">Glade-devel at lists.ximian.com</A>
</I>&gt;<i> <A HREF="http://lists.ximian.com/mailman/listinfo/glade-devel">http://lists.ximian.com/mailman/listinfo/glade-devel</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001282.html">[Glade-devel] Request For Comments: a proposal for an alternative to libglade
</A></li>
	<LI>Next message: <A HREF="001284.html">[Glade-devel] Request For Comments: a proposal for	an	alternative to libglade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1283">[ date ]</a>
              <a href="thread.html#1283">[ thread ]</a>
              <a href="subject.html#1283">[ subject ]</a>
              <a href="author.html#1283">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-devel">More information about the Glade-devel
mailing list</a><br>
</body></html>
