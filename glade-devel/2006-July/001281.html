<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Glade-devel] Request For Comments: a proposal for an alternative	to libglade
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glade-devel%40lists.ximian.com?Subject=%5BGlade-devel%5D%20Request%20For%20Comments%3A%20a%20proposal%20for%20an%20alternative%0A%09to%20libglade&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001280.html">
   <LINK REL="Next"  HREF="001282.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Glade-devel] Request For Comments: a proposal for an alternative	to libglade</H1>
    <B>Jeff Westerinen</B> 
    <A HREF="mailto:glade-devel%40lists.ximian.com?Subject=%5BGlade-devel%5D%20Request%20For%20Comments%3A%20a%20proposal%20for%20an%20alternative%0A%09to%20libglade&In-Reply-To="
       TITLE="[Glade-devel] Request For Comments: a proposal for an alternative	to libglade">Jeff.Westerinen at palmsource.com
       </A><BR>
    <I>Thu Jul 27 14:57:13 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="001280.html">[Glade-devel] GtkEntry and GtkTextView improvement
</A></li>
        <LI>Next message: <A HREF="001282.html">[Glade-devel] Request For Comments: a proposal for an alternative to libglade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1281">[ date ]</a>
              <a href="thread.html#1281">[ thread ]</a>
              <a href="subject.html#1281">[ subject ]</a>
              <a href="author.html#1281">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>    We were looking at the time and memory costs of libglade, and are
particularly concerned about the cost of the XML parser. While it might
be possible to reduce the cost (by going to a SAX-based parser, or
requiring simplified-XML) parsing is still being performed.
 
    What would the reaction be to a pre-compiled Glade format? A simple
compiler (we have a prototype knocked together with Perl) would read the
Glade XML, translating it into pre-parsed byte-code that describes the
widget tree in a very lean format. A separate run-time would be needed
to instantiate a widget tree from the compiled format, however the
amount of code needed is greatly reduced.
 
    (An obvious question is &quot;what about Fast Infoset&quot;, or other related
binary or compressed XML techniques: those systems still preserve the
full expressiveness of XML. In this case, we don't see the need for that
expressiveness on the run-time side. Our desire is only to instantiate
Gtk widgets as fast as possible. Hence, converting to a non-XML,
specialized format, becomes attractive.)
 
    The simpler the format, and the more work that is done on the
compiling side, the less time it takes to instantiate the widgets. No
XML parsing needs to be done at run-time. This can also remove the need
for character set conversions, if you deem the compiled format to always
be stored in UTF-8.
 
    Version compatibility issues can be ameliorated by storing both the
original Glade XML file and a compiled glade file in an app's resources:
a fallback to libglade would always be possible if the compiled format
isn't appropriate. Since the compiled format can be significantly
smaller than the XML (since it is simply less verbose) the storage cost
would be minimal.
 
    (A very quick and dodgy test suggested that a compiled glade file
would be under a quarter the size of the XML version, and the run-time
to load the compiled glade code could be extremely tiny, on the order of
a few dozen K).
 
    Given some of the discussions about Glade3 and GTK changing to
directly support loading Glade files, we thought we should mention this
idea to the group now. We're probably going to implement something along
these lines in any case (as a stand-alone Glade XML translator), but
would be interested in collaborating on a design.
 
    Our interests are on an embedded platform, where we have severe
constraints on memory and speed, however it seems possible that this
approach could provide benefits even with desktop Gtk apps.
 
    Please respond with any comments, questions, or concerns, as well as
ideas of what other forums would be appropriate to which to send this
RFC.
 
- Jeff Westerinen -- PalmSource, Inc.
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.ximian.com/pipermail/glade-devel/attachments/20060727/ce8911ec/attachment.html">http://lists.ximian.com/pipermail/glade-devel/attachments/20060727/ce8911ec/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001280.html">[Glade-devel] GtkEntry and GtkTextView improvement
</A></li>
	<LI>Next message: <A HREF="001282.html">[Glade-devel] Request For Comments: a proposal for an alternative to libglade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1281">[ date ]</a>
              <a href="thread.html#1281">[ thread ]</a>
              <a href="subject.html#1281">[ subject ]</a>
              <a href="author.html#1281">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/glade-devel">More information about the Glade-devel
mailing list</a><br>
</body></html>
