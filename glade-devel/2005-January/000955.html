<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> FW: [Glade-devel] RE: Win32 port of GTK+2.6.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:fanzhe.cui%40intel.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000957.html">
   <LINK REL="Next"  HREF="000956.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>FW: [Glade-devel] RE: Win32 port of GTK+2.6.1
   </H1>
    <B>Cui, Fanzhe
    </B> 
    <A HREF="mailto:fanzhe.cui%40intel.com"
       TITLE="FW: [Glade-devel] RE: Win32 port of GTK+2.6.1">fanzhe.cui@intel.com
       </A><BR>
    <I>Tue, 11 Jan 2005 23:16:27 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000957.html">[Glade-devel] XML DTD description document location in
 glade....
</A></li>
        <LI> Next message: <A HREF="000956.html">[Glade-devel] Proposal: new website design
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#955">[ date ]</a>
              <a href="thread.html#955">[ thread ]</a>
              <a href="subject.html#955">[ subject ]</a>
              <a href="author.html#955">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Tor and Ivan,

Thank you for building and posting the GTK+2.6.1 for win32 port. The
package was great, and I was able to use g_fopen() in the program. I
built the project of gtk-demo (I call it gtk-demo_win32) with MS VC++
7.3, and most of them are working except a couple of things.=20

So I want to provide some feedback. I know you still working on some
issues of this release, and I am not sure the problem I am seeing was
related to the issue you mentioned.

After I started gtk-demo_win32 I was able to select the functions like
&quot;Button Boxes&quot; and &quot;Change Display&quot; etc, which behaved the exactly same
as gtk-demo which came with the installation of gtk+, and these
functions were working. But When I selected &quot;Images&quot; from
gtk-demo_win32, I got error a dialog box with error message: &quot;Failure
reading image file 'alphatest.png': Bad file descriptor&quot;. The image file
exists on the right folder with other image files. I think the problem
was caused by a kind of compatibility between cygwin (mingw) and msvc.=20

Regards,
Fanz



-----Original Message-----
From: Cui, Fanzhe=20
Sent: Tuesday, January 11, 2005 8:17 AM
To: 'Ivan Wong'
Subject: RE: [Glade-devel] RE: Win32 port of GTK+2.6.1

Hi, Ivan,

That's great! I am going to try that immediately.

Cheers!
Fanz=20

-----Original Message-----
From: Ivan Wong [mailto:<A HREF="mailto:email@ivanwong.info">email@ivanwong.info</A>]=20
Sent: Tuesday, January 11, 2005 8:00 AM
To: Cui, Fanzhe
Subject: Re: [Glade-devel] RE: Win32 port of GTK+2.6.1

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi Cui,

I just released the new installer:

<A HREF="http://gladewin32.sourceforge.net">http://gladewin32.sourceforge.net</A>

However, as Tor said, he will apply a couple of important patches to the
~ official binaries. As soon as he makes a release, I will update the
installer again.

Rgrds,
Ivan.

-----Original Message-----
From: <A HREF="mailto:glade-devel-admin@lists.ximian.com">glade-devel-admin@lists.ximian.com</A>
[mailto:<A HREF="mailto:glade-devel-admin@lists.ximian.com">glade-devel-admin@lists.ximian.com</A>] On Behalf Of Cui, Fanzhe
Sent: Monday, January 10, 2005 1:59 PM
To: Tor Lillqvist
Cc: <A HREF="mailto:glade-devel@lists.ximian.com">glade-devel@lists.ximian.com</A>
Subject: [Glade-devel] RE: Win32 port of GTK+2.6.1

Tor,

Thank you for the descriptions on current GTK+2.6.1, and I am excited to
hear that the GTK+2.6.1 win32 port will be release some time in the
future. Do you have in your mind something about when win32 port will
roughly be available. I am considering if I want to wait for the release
or to try to build the win32 port by myself.

Regards,
Fanz=20

-----Original Message-----
From: Tor Lillqvist [mailto:<A HREF="mailto:tml@iki.fi">tml@iki.fi</A>]=20
Sent: Monday, January 10, 2005 12:51 PM
To: Cui, Fanzhe
Cc: <A HREF="mailto:tml@iki.fi">tml@iki.fi</A>; <A HREF="mailto:glade-devel@lists.ximian.com">glade-devel@lists.ximian.com</A>
Subject: Win32 port of GTK+2.6.1

Cui, Fanzhe writes:
 &gt; Does anybody know when the Win32 port will be posted on web,
 &gt; or any ideas how to make it available?

There are still a couple of relatively important (IMHO) open Win32
issues in the GTK+ 2.6.1 sources. As soon as they have been resolved
(fixes committed), I will build and release Win32 binaries (i.e. a
2.6.1-timestamp snapshot unless 2.6.2 happens to be relased suitably).

A warning to people thinking of building software for Windows against
GTK+ 2.6.1: Plase read and ponder what it says in the README file:

  * GLib 2.6 introduces the concept of 'GLib filename encoding', which
is the
    on-disk encoding on Unix, but UTF-8 on Windows. All GLib functions
    returning or accepting pathnames have been changed to expect
    filenames in this encoding, and the common POSIX functions dealing
    with pathnames have been wrapped. These wrappers are declared in the
    header &lt;glib/gstdio.h&gt; which must be included explicitly; it is not
    included through &lt;glib.h&gt;.

    On current (NT-based) Windows versions, where the on-disk file names
    are Unicode, these wrappers use the wide-character API in the C
    library. Thus applications can handle file names containing any
    Unicode characters through GLib's own API and its POSIX wrappers,
    not just file names restricted to characters in the system codepage.

    To keep binary compatibility with applications compiled against
    older versions of GLib, the Windows DLL still provides entry points
    with the old semantics using the old names, and applications
    compiled against GLib 2.6 will actually use new names for the
    functions. This is transparent to the programmer.

    When compiling against GLib 2.6, applications intended to be
    portable to Windows must take the UTF-8 file name encoding into
    consideration, and use the gstdio wrappers to access files whose
    names have been constructed from strings returned from GLib.

  * Likewise, g_get_user_name() and g_get_real_name() have been changed=20
    to return UTF-8 on Windows, while keeping the old semantics for=20
    applications compiled against older versions of GLib.

I.e., if you construct file names from strings returned from GLib
(g_get_user_name, g_dir_read_name, g_get_current_dir, etc), you *must*
use the so-called gstdio wrappers (g_open, g_fopen, etc) with these
file names. (No ifdefs needed, it doesn't to use the wrappers on Unix,
too, although they don't do anything.)

--tml


_______________________________________________
Glade-devel maillist  -  <A HREF="mailto:Glade-devel@lists.ximian.com">Glade-devel@lists.ximian.com</A>
<A HREF="http://lists.ximian.com/mailman/listinfo/glade-devel">http://lists.ximian.com/mailman/listinfo/glade-devel</A>

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000957.html">[Glade-devel] XML DTD description document location in
 glade....
</A></li>
	<LI> Next message: <A HREF="000956.html">[Glade-devel] Proposal: new website design
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#955">[ date ]</a>
              <a href="thread.html#955">[ thread ]</a>
              <a href="subject.html#955">[ subject ]</a>
              <a href="author.html#955">[ author ]</a>
         </LI>
       </UL>
</body></html>
