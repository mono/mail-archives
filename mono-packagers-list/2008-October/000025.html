<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [mono-packagers] Startup Scripts Inconsistency in Mono 2.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mono-packagers-list%40lists.ximian.com?Subject=%5Bmono-packagers%5D%20Startup%20Scripts%20Inconsistency%20in%20Mono%202.0&In-Reply-To=1224449230.6192.122.camel%40lina.magi.jprl.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000024.html">
   <LINK REL="Next"  HREF="000027.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mono-packagers] Startup Scripts Inconsistency in Mono 2.0</H1>
    <B>Mirco Bauer</B> 
    <A HREF="mailto:mono-packagers-list%40lists.ximian.com?Subject=%5Bmono-packagers%5D%20Startup%20Scripts%20Inconsistency%20in%20Mono%202.0&In-Reply-To=1224449230.6192.122.camel%40lina.magi.jprl.com"
       TITLE="[mono-packagers] Startup Scripts Inconsistency in Mono 2.0">meebey at debian.org
       </A><BR>
    <I>Mon Oct 20 16:27:47 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000024.html">[mono-packagers] Startup Scripts Inconsistency in Mono 2.0
</A></li>
        <LI>Next message: <A HREF="000027.html">[mono-packagers] Disabling moonlight extensions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25">[ date ]</a>
              <a href="thread.html#25">[ thread ]</a>
              <a href="subject.html#25">[ subject ]</a>
              <a href="author.html#25">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 19 Oct 2008 16:47:10 -0400
Jonathan Pryor &lt;<A HREF="http://lists.ximian.com/mailman/listinfo/mono-packagers-list">jonpryor at vt.edu</A>&gt; wrote:

&gt;<i> On Sun, 2008-10-19 at 17:00 +0200, Mirco Bauer wrote:
</I>&gt;<i> Ignore Mono for the moment.  If I have gcc 3.x and 4.x installed,
</I>&gt;<i> which version should `gcc` refer to?  If I have multiple versions of
</I>&gt;<i> Java installed, which does `java` refer to (by default)?  What about
</I>&gt;<i> for Python?
</I>
No need to argue here, I am with you.

&gt;<i> 
</I>&gt;<i> Tools should always default to their most recent versions, full stop.
</I>&gt;<i> Anything else is asking for pain, pain that has been going on for
</I>&gt;<i> years, and pain that we should stop if at all possible.
</I>
Yes it should, but it doesn't.

&gt;<i> Agreed, the tools need to be consistent, and (as stated above) they
</I>&gt;<i> should default to the 2.0 profile in all cases.  (And when .NET 4.0
</I>&gt;<i> comes out -- assuming it requires a different profile -- then the
</I>&gt;<i> tools should run under the 4.0 profile, etc., etc., such that the
</I>&gt;<i> tools *always* run under the *current* framework version.)
</I>
Yes, then please make this happening!

One thing that needs to be solved too is the compiler. There is no
improvement when an application uses mcs and al at build time making it
mixed 1.0 and 2.0 with Mono 2.0.

Rather we should introduce a compiler default that always points to the
latest runtime version, e.g. csc pointing to gmcs. This way developers
can use the known tools: csc/al/sn/gacutil and always get them for the
latest installed runtime version. That's what I call consistency at
least.

Right now, there is only mcs (1.0), al (2.0), sn (1.0), gacutil (1.0),
which is the inconstent mix I am referring to.

&gt;<i> However, by that logic there is NO way to support the conventional
</I>&gt;<i> &quot;unversioned apps default to the most recent version&quot;, unless you
</I>&gt;<i> start introducing alternatives (as with update-alternatives(8), which
</I>&gt;<i> iirc is how many of the Java packages handle things).
</I>&gt;<i> 
</I>&gt;<i> Which is perhaps what we should be doing, relying on the alternatives
</I>&gt;<i> infrastructure...
</I>
Well we could (and should) go this route if there is no interest in
solving this right in Mono (using symlinks or the &quot;default scripts&quot;).

&gt;<i> 
</I>&gt;<i> &gt; So please lets find a solution that is a) consistent and b)
</I>&gt;<i> &gt; back-wards compatible! (compared to &lt; 2.0 of course)
</I>&gt;<i> 
</I>&gt;<i> Yes, let's find a solution that's consistent.  I personally don't care
</I>&gt;<i> as much about backwards compatibility, because (as mentioned above)
</I>&gt;<i> the current situation is horribly broken (to &quot;newbies&quot;) and
</I>&gt;<i> inconsistent with everything else.  If backward compatibility needs
</I>&gt;<i> to be broken, so be it, as long as the result is newby-friendly,
</I>&gt;<i> coherent, and consistent.
</I>
I welcome your solution with make all default scripts (without the
version number) pointing to the latest runtime version and supply for
backwards compatibility and other needs the versioned scripts like foo1
and foo2.

But please make sure that we do the _same_ thing with the compiler else
this will not make IMHO anything better.

I need some final decision for this before I can finish the Debian
packages for Mono 2.0, as I have no intention to make the packages ugly
(by using Replaces everywhere) because of moving things to a non-final
solution.

&gt;<i> 
</I>&gt;<i> Another point: not all tools _need_ to be listed under multiple
</I>&gt;<i> profiles.  Take mono-shlib-cop, for example, which looks for all
</I>&gt;<i> DllImport-attribute methods in an assembly and checks that the
</I>&gt;<i> specified library is actually loadable.  Unless you need to run this
</I>&gt;<i> on mscorlib.dll, it doesn't matter if it's a 2.0-profile app, as it
</I>&gt;<i> can still load 1.0 assemblies.  However, if it were a 1.0-profile
</I>&gt;<i> app, it could NOT load 2.0 assemblies, so only providing a 2.0
</I>&gt;<i> version makes perfect sense.  (Except it results in a &quot;movement&quot; of
</I>&gt;<i> the program from mono-1.0-devel to mono-2.0-devel, but this is a
</I>&gt;<i> user-friendly change, and I'm not sure how otherwise to handle it...)
</I>
ACK, not all tools really need a 1.0 and a 2.0 version, anything that
reads or produces something (like assemblies) should though, as it might
be incompatible otherwise.

&gt;<i> 
</I>&gt;<i>  - Jon
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-- 
Regards,

Mirco 'meebey' Bauer

PGP-Key ID: 0xEEF946C8

FOSS Developer    <A HREF="http://lists.ximian.com/mailman/listinfo/mono-packagers-list">meebey at meebey.net</A>  <A HREF="http://www.meebey.net/">http://www.meebey.net/</A>
PEAR Developer    <A HREF="http://lists.ximian.com/mailman/listinfo/mono-packagers-list">meebey at php.net</A>     <A HREF="http://pear.php.net/">http://pear.php.net/</A>
Debian Developer  <A HREF="http://lists.ximian.com/mailman/listinfo/mono-packagers-list">meebey at debian.org</A>  <A HREF="http://www.debian.org/">http://www.debian.org/</A>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000024.html">[mono-packagers] Startup Scripts Inconsistency in Mono 2.0
</A></li>
	<LI>Next message: <A HREF="000027.html">[mono-packagers] Disabling moonlight extensions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25">[ date ]</a>
              <a href="thread.html#25">[ thread ]</a>
              <a href="subject.html#25">[ subject ]</a>
              <a href="author.html#25">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.ximian.com/mailman/listinfo/mono-packagers-list">More information about the mono-packagers-list
mailing list</a><br>
</body></html>
