<tt>
&lt;html&nbsp;xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;&nbsp;xmlns:w=&quot;urn:schemas-microsoft-com:office:word&quot;&nbsp;xmlns:m=&quot;http://schemas.microsoft.com/office/2004/12/omml&quot;&nbsp;xmlns=&quot;http://www.w3.org/TR/REC-html40&quot;&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Title&quot;&nbsp;content=&quot;&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Keywords&quot;&nbsp;content=&quot;&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Microsoft&nbsp;Word&nbsp;15&nbsp;(filtered&nbsp;medium)&quot;&gt;<br>
&lt;style&gt;&lt;!--<br>
/*&nbsp;Font&nbsp;Definitions&nbsp;*/<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;Courier&nbsp;New&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;7&nbsp;3&nbsp;9&nbsp;2&nbsp;2&nbsp;5&nbsp;2&nbsp;4&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;Cambria&nbsp;Math&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;4&nbsp;5&nbsp;3&nbsp;5&nbsp;4&nbsp;6&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;15&nbsp;5&nbsp;2&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
/*&nbsp;Style&nbsp;Definitions&nbsp;*/<br>
p.MsoNormal,&nbsp;li.MsoNormal,&nbsp;div.MsoNormal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{margin:0cm;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:.0001pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:12.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:Calibri;}<br>
a:link,&nbsp;span.MsoHyperlink<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:#0563C1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
a:visited,&nbsp;span.MsoHyperlinkFollowed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:#954F72;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
span.EmailStyle17<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:personal;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:windowtext;}<br>
span.EmailStyle18<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:personal;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:windowtext;}<br>
span.EmailStyle19<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:personal;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:windowtext;}<br>
span.EmailStyle20<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:personal-reply;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:windowtext;}<br>
span.msoIns<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:export-only;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mso-style-name:&quot;&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:teal;}<br>
.MsoChpDefault<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:export-only;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:10.0pt;}<br>
@page&nbsp;WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{size:595.0pt&nbsp;842.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin:70.85pt&nbsp;3.0cm&nbsp;70.85pt&nbsp;3.0cm;}<br>
div.WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{page:WordSection1;}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;white&quot;&nbsp;lang=&quot;EN-US&quot;&nbsp;link=&quot;#0563C1&quot;&nbsp;vlink=&quot;#954F72&quot;&gt;<br>
&lt;div&nbsp;class=&quot;WordSection1&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;c.c.&nbsp;the&nbsp;android&nbsp;email&nbsp;list&nbsp;so&nbsp;we&nbsp;can&nbsp;have&nbsp;more&nbsp;feedback&nbsp;and&nbsp;a&nbsp;shared&nbsp;solution&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;div&nbsp;style=&quot;border:none;border-top:solid&nbsp;#B5C4DF&nbsp;1.0pt;padding:3.0pt&nbsp;0cm&nbsp;0cm&nbsp;0cm&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;From:&nbsp;&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style=&quot;color:black&quot;&gt;macios-devel&nbsp;&lt;macios-devel-bounces@lists.dot.net&gt;&nbsp;on&nbsp;behalf&nbsp;of&nbsp;Rolf&nbsp;Kvinge&nbsp;via&nbsp;macios-devel&nbsp;&lt;macios-devel@lists.dot.net&gt;&lt;br&gt;<br>
&lt;b&gt;Reply-To:&nbsp;&lt;/b&gt;Rolf&nbsp;Kvinge&nbsp;&lt;Rolf.Kvinge@microsoft.com&gt;&lt;br&gt;<br>
&lt;b&gt;Date:&nbsp;&lt;/b&gt;Friday,&nbsp;September&nbsp;16,&nbsp;2016&nbsp;at&nbsp;2:13&nbsp;AM&lt;br&gt;<br>
&lt;b&gt;To:&nbsp;&lt;/b&gt;&quot;macios-devel@lists.dot.net&quot;&nbsp;&lt;macios-devel@lists.dot.net&gt;&lt;br&gt;<br>
&lt;b&gt;Subject:&nbsp;&lt;/b&gt;[macios-devel]&nbsp;Signal-chaining&nbsp;&amp;&nbsp;crash&nbsp;reporters&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&quot;Times&nbsp;New&nbsp;Roman&quot;&quot;&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;Hi!&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;Recently&nbsp;we've&nbsp;realized&nbsp;that&nbsp;third-party&nbsp;libraries&nbsp;that&nbsp;do&nbsp;crash&nbsp;reporting&nbsp;(such&nbsp;as&nbsp;Insights&nbsp;or&nbsp;HockeyApp)&nbsp;are&nbsp;not&nbsp;notified&nbsp;when&nbsp;crashes&nbsp;occur&nbsp;(SIGSEGV).&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;These&nbsp;third-party&nbsp;libraries&nbsp;have&nbsp;typically&nbsp;adopted&nbsp;code&nbsp;similar&nbsp;to&nbsp;this:<br>
&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=http%3a%2f%2fstackoverflow.com%2fa%2f14499336%2f183422&amp;data=02%7c01%7csepoulio%40microsoft.com%7c3ce39e771237412153d308d3ddf8a605%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636096032415594012&amp;sdata=%2b%2fxmh%2bB5fgOx8PMXwZqnQHoa2syScTzbJjD0Mn8T%2bUw%3d&quot;&gt;<br>
http://stackoverflow.com/a/14499336/183422&lt;/a&gt;&nbsp;to&nbsp;cope&nbsp;with&nbsp;the&nbsp;fact&nbsp;that&nbsp;the&nbsp;Mono&nbsp;runtime<br>
&lt;i&gt;must&lt;/i&gt;&nbsp;handle&nbsp;SIGSEGV&nbsp;and&nbsp;SIGBUS&nbsp;before&nbsp;anybody&nbsp;else&nbsp;(SIGSEGVs&nbsp;occur&nbsp;for&nbsp;NullReferenceExceptions,&nbsp;and&nbsp;the&nbsp;GC&nbsp;uses&nbsp;SIGBUS&nbsp;frequently&nbsp;for&nbsp;its&nbsp;own&nbsp;purposes).&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;The&nbsp;current&nbsp;sequence&nbsp;of&nbsp;events&nbsp;is&nbsp;this:&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;a)&nbsp;The&nbsp;app&nbsp;launches,&nbsp;and&nbsp;Xamarin.iOS&nbsp;initializes&nbsp;the&nbsp;Mono&nbsp;runtime.&nbsp;At&nbsp;that&nbsp;time&nbsp;the&nbsp;Mono&nbsp;runtime&nbsp;checks&nbsp;if&nbsp;there&nbsp;are&nbsp;any&nbsp;existing&nbsp;signal&nbsp;handlers,&nbsp;and&nbsp;store&nbsp;those&nbsp;handlers&nbsp;(so&nbsp;that&nbsp;they&nbsp;can&nbsp;be&nbsp;invoked&nbsp;if&nbsp;the<br>
&nbsp;Mono&nbsp;runtime&nbsp;determines&nbsp;a&nbsp;SIGSEGV&nbsp;did&nbsp;not&nbsp;occur&nbsp;in&nbsp;managed&nbsp;code).&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;b)&nbsp;Managed&nbsp;code&nbsp;starts&nbsp;running,&nbsp;and&nbsp;the&nbsp;actual&nbsp;app&nbsp;initializes&nbsp;any&nbsp;third-party&nbsp;libraries.&nbsp;At&nbsp;this&nbsp;point&nbsp;third-party&nbsp;libraries&nbsp;typically&nbsp;do&nbsp;something&nbsp;like&nbsp;this:&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Fetches&nbsp;current&nbsp;signal&nbsp;handlers&nbsp;(which&nbsp;would&nbsp;be&nbsp;Mono's&nbsp;signal&nbsp;handlers)&nbsp;and&nbsp;stores&nbsp;them.&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;*&nbsp;Initializes&nbsp;third-party&nbsp;crash-reporting&nbsp;libraries,&nbsp;which&nbsp;installs&nbsp;signal&nbsp;handlers.&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Restores&nbsp;the&nbsp;stored&nbsp;signal&nbsp;handlers.&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;Sample&nbsp;HockeyApp&nbsp;code:&nbsp;&lt;a&nbsp;href=&quot;https://na01.safelinks.protection.outlook.com/?url=https%3a%2f%2fgithub.com%2fbitstadium%2fHockeySDK-Xamarin%2fblob%2fmaster%2fsource%2fHockeySDK.iOSBindings%2fAdditions.cs%23L30-L52&amp;data=02%7c01%7csepoulio%40microsoft.com%7c3ce39e771237412153d308d3ddf8a605%7c72f988bf86f141af91ab2d7cd011db47%7c1%7c0%7c636096032415594012&amp;sdata=UUYFTCO4lC21KMKVcgpOqVsPMHFJCfaGPbKu0q3hU9g%3d&quot;&gt;<br>
https://github.com/bitstadium/HockeySDK-Xamarin/blob/master/source/HockeySDK.iOSBindings/Additions.cs&nbsp;-&nbsp;L30-L52&lt;/a&gt;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;c)&nbsp;Something&nbsp;goes&nbsp;wrong&nbsp;(in&nbsp;native&nbsp;code),&nbsp;and&nbsp;the&nbsp;app&nbsp;receives&nbsp;a&nbsp;SIGSEGV.&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Mono's&nbsp;signal&nbsp;handler&nbsp;is&nbsp;invoked&nbsp;and&nbsp;determines&nbsp;it's&nbsp;not&nbsp;a&nbsp;NullReferenceException.&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Mono&nbsp;calls&nbsp;the&nbsp;signal&nbsp;handler&nbsp;it&nbsp;stored&nbsp;during&nbsp;initialization.&nbsp;As&nbsp;you&nbsp;can&nbsp;see&nbsp;this&nbsp;is<br>
&lt;i&gt;not&lt;/i&gt;&nbsp;the&nbsp;third-party&nbsp;library's&nbsp;signal&nbsp;handler,&nbsp;it's&nbsp;the&nbsp;OS'&nbsp;default&nbsp;signal&nbsp;handler,&nbsp;which&nbsp;causes&nbsp;the&nbsp;process&nbsp;to&nbsp;exit&nbsp;(without&nbsp;notifying&nbsp;the&nbsp;third-party&nbsp;crash-reporting&nbsp;library)&nbsp;and&nbsp;the&nbsp;OS&nbsp;generates&nbsp;a&nbsp;crash&nbsp;report&nbsp;(which&nbsp;the&nbsp;app&nbsp;developer&nbsp;will&nbsp;not&nbsp;see,<br>
&nbsp;because&nbsp;he&nbsp;believes&nbsp;the&nbsp;third-party&nbsp;crash-reporting&nbsp;library&nbsp;reports&nbsp;those).&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;So&nbsp;how&nbsp;do&nbsp;we&nbsp;fix&nbsp;this?&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;A&nbsp;couple&nbsp;of&nbsp;ideas:&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;1)&nbsp;Add&nbsp;an&nbsp;API&nbsp;to&nbsp;select/set&nbsp;the&nbsp;signal&nbsp;handler&nbsp;Mono&nbsp;chains&nbsp;to:&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:36.0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;namespace&nbsp;ObjCRuntime&nbsp;{&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:36.0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;class&nbsp;Runtime&nbsp;{&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:36.0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;struct&nbsp;SigAction&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:36.0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:36.0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;IntPtr&nbsp;Handler;&nbsp;//&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:36.0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;uint&nbsp;Mask;&nbsp;//&nbsp;sa_mask&nbsp;=&gt;&nbsp;sigset_t&nbsp;=&gt;&nbsp;__darwin_sigset_t&nbsp;=&gt;&nbsp;uint32_t&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:36.0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;int&nbsp;Flags;&nbsp;//&nbsp;sa_flags&nbsp;=&gt;&nbsp;int&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:36.0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:36.0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:36.0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;bool&nbsp;InstallSignalHandler&nbsp;(int&nbsp;signal,&nbsp;SigAction&nbsp;handler,&nbsp;out&nbsp;SigAction&nbsp;previous_handler);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:36.0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:36.0pt&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;}&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;idea&nbsp;being&nbsp;to&nbsp;do&nbsp;something&nbsp;like&nbsp;this&nbsp;(modified&nbsp;code&nbsp;from&nbsp;HockeyApp's&nbsp;link&nbsp;from&nbsp;above):&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Store&nbsp;Mono&nbsp;SIGSEGV&nbsp;and&nbsp;SIGBUS&nbsp;handlers&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sigaction(Signal.SIGBUS,&nbsp;IntPtr.Zero,&nbsp;sigbus);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sigaction(Signal.SIGSEGV,&nbsp;IntPtr.Zero,&nbsp;sigsegv);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Enable&nbsp;crash&nbsp;reporting&nbsp;libraries&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DoStartManager();&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#43;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Runtime.SigAction&nbsp;handler,&nbsp;previous_handler;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#43;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IntPtr&nbsp;hockey_signal&nbsp;=&nbsp;Marshal.AllocHGlobal&nbsp;(512);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#43;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(var&nbsp;signal&nbsp;in&nbsp;new&nbsp;Signal&nbsp;[]&nbsp;{&nbsp;Signal.SIGBUS,&nbsp;Signal.SIGSEGV&nbsp;})&nbsp;{&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#43;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sigaction&nbsp;(signal,&nbsp;IntPtr.Zero,&nbsp;hockey_signal);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#43;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler&nbsp;=&nbsp;(Runtime.SigAction)&nbsp;Marshal.PtrToStructure&nbsp;(hockey_signal,&nbsp;typeof&nbsp;(Runtime.SigAction));&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#43;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;rv&nbsp;=&nbsp;Runtime.InstallSignalHandler&nbsp;((int)&nbsp;signal,&nbsp;handler,&nbsp;out&nbsp;previous_handler);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#43;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#43;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marshal.FreeHGlobal&nbsp;(hockey_signal);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Restore&nbsp;Mono&nbsp;SIGSEGV&nbsp;and&nbsp;SIGBUS&nbsp;handlers&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sigaction(Signal.SIGBUS,&nbsp;sigbus,&nbsp;IntPtr.Zero);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sigaction(Signal.SIGSEGV,&nbsp;sigsegv,&nbsp;IntPtr.Zero);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;IMHO&nbsp;this&nbsp;is&nbsp;ugly,&nbsp;and&nbsp;also&nbsp;it&nbsp;can't&nbsp;be&nbsp;implemented&nbsp;in&nbsp;current&nbsp;third-party&nbsp;bindings&nbsp;without&nbsp;losing&nbsp;support&nbsp;for&nbsp;older&nbsp;versions&nbsp;of&nbsp;Xamarin.iOS.&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;OTOH&nbsp;it&nbsp;does&nbsp;not&nbsp;put&nbsp;any&nbsp;restrictions&nbsp;on&nbsp;the&nbsp;signal&nbsp;handler&nbsp;to&nbsp;chain&nbsp;to&nbsp;(more&nbsp;flexibility).&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;2)&nbsp;Add&nbsp;an&nbsp;attribute&nbsp;that&nbsp;gives&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;signal&nbsp;handler,&nbsp;and&nbsp;then&nbsp;Xamarin.iOS&nbsp;generates&nbsp;the&nbsp;required&nbsp;code&nbsp;to&nbsp;make&nbsp;sure&nbsp;these&nbsp;signal&nbsp;handlers&nbsp;are&nbsp;called&nbsp;for&nbsp;signals&nbsp;Mono&nbsp;doesn't&nbsp;handle:&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[assembly:&nbsp;SignalHandler&nbsp;(Signal.SIGSEGV,&nbsp;&quot;third_party_signal_handler&quot;,&nbsp;EnableAtStartup:&nbsp;false)]&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[assembly:&nbsp;SignalHandler&nbsp;(Signal.SIGBUS,&nbsp;&quot;third_party_signal_handler&quot;,&nbsp;EnableAtStartup:&nbsp;false)]&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;problem&nbsp;here&nbsp;is&nbsp;that&nbsp;the&nbsp;signal&nbsp;handler&nbsp;might&nbsp;be&nbsp;called&nbsp;before&nbsp;the&nbsp;third-party&nbsp;library&nbsp;is&nbsp;initialized&nbsp;(Xamarin.iOS&nbsp;would&nbsp;enable&nbsp;this&nbsp;signal&nbsp;handler<br>
&lt;i&gt;before&lt;/i&gt;&nbsp;mono&nbsp;is&nbsp;initialized,&nbsp;which&nbsp;means&nbsp;that&nbsp;the&nbsp;app&nbsp;has&nbsp;not&nbsp;had&nbsp;time&nbsp;to&nbsp;initialize&nbsp;the&nbsp;third-party&nbsp;library).&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;could&nbsp;be&nbsp;solved&nbsp;adding&nbsp;a&nbsp;simple&nbsp;function&nbsp;to&nbsp;enable&nbsp;the&nbsp;attribute's&nbsp;signal&nbsp;handler:&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;ObjCRuntime.Runtime.EnableCustomSignalHandlers&nbsp;();<br>
&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;big&nbsp;advantage&nbsp;here&nbsp;is&nbsp;that&nbsp;it&nbsp;can&nbsp;catch&nbsp;crashes&nbsp;during&nbsp;app&nbsp;initialization&nbsp;(including&nbsp;Mono's&nbsp;initialization).&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;3)&nbsp;A&nbsp;mix&nbsp;of&nbsp;both&nbsp;of&nbsp;the&nbsp;above:&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ObjCRuntime.Runtime.EnableCustomSignalHandler&nbsp;(Signals.SIGSEGV,&nbsp;&quot;third_party_signal_handler&quot;);<br>
&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;The&nbsp;problem&nbsp;here&nbsp;is&nbsp;that&nbsp;we'd&nbsp;have&nbsp;to&nbsp;use&nbsp;dlsym&nbsp;to&nbsp;lookup&nbsp;the&nbsp;function&nbsp;pointer&nbsp;for&nbsp;third_party_signal_handler,&nbsp;which&nbsp;can&nbsp;be&nbsp;problematic&nbsp;sometimes&nbsp;(#1&nbsp;just&nbsp;gets&nbsp;the&nbsp;function&nbsp;pointer&nbsp;from&nbsp;the&nbsp;signal&nbsp;handler<br>
&nbsp;the&nbsp;native&nbsp;third-party&nbsp;library&nbsp;installed,&nbsp;and&nbsp;for&nbsp;#2&nbsp;generate&nbsp;native&nbsp;code&nbsp;that&nbsp;references&nbsp;the&nbsp;function&nbsp;instead).&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;4)&nbsp;A&nbsp;mix&nbsp;of&nbsp;all&nbsp;of&nbsp;the&nbsp;above:&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;A&nbsp;function&nbsp;that&nbsp;fetches&nbsp;the&nbsp;current&nbsp;signal&nbsp;handler&nbsp;and&nbsp;makes&nbsp;mono&nbsp;chain&nbsp;to&nbsp;this&nbsp;signal&nbsp;handler&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ObjCRuntime.Runtime.EnableCurrentSignalHandler&nbsp;(Signals.SIGSEGV);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;Which&nbsp;would&nbsp;be&nbsp;used&nbsp;like&nbsp;this:&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Store&nbsp;Mono&nbsp;SIGSEGV&nbsp;and&nbsp;SIGBUS&nbsp;handlers&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sigaction(Signal.SIGBUS,&nbsp;IntPtr.Zero,&nbsp;sigbus);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sigaction(Signal.SIGSEGV,&nbsp;IntPtr.Zero,&nbsp;sigsegv);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Enable&nbsp;crash&nbsp;reporting&nbsp;libraries&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DoStartManager();&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#43;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ObjCRuntime.Runtime.EnableCurrentSignalHandler&nbsp;(Signals.SIGSEGV);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#43;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ObjCRuntime.Runtime.EnableCurrentSignalHandler&nbsp;(Signals.SIGBUS);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Restore&nbsp;Mono&nbsp;SIGSEGV&nbsp;and&nbsp;SIGBUS&nbsp;handlers&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sigaction(Signal.SIGBUS,&nbsp;sigbus,&nbsp;IntPtr.Zero);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt;font-family:&quot;Courier&nbsp;New&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sigaction(Signal.SIGSEGV,&nbsp;sigsegv,&nbsp;IntPtr.Zero);&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;Any&nbsp;other&nbsp;ideas?&nbsp;Suggestions&nbsp;for&nbsp;better&nbsp;naming&nbsp;for&nbsp;the&nbsp;API?&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;BTW&nbsp;this&nbsp;is&nbsp;multiple-choice:&nbsp;we&nbsp;can&nbsp;implement&nbsp;all&nbsp;of&nbsp;these,&nbsp;they're&nbsp;not&nbsp;mutually&nbsp;exclusive.&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;I&nbsp;think&nbsp;#4&nbsp;looks&nbsp;like&nbsp;the&nbsp;best&nbsp;option&nbsp;for&nbsp;now,&nbsp;so&nbsp;I'll&nbsp;start&nbsp;implementing&nbsp;that&nbsp;one&nbsp;unless&nbsp;someone&nbsp;says&nbsp;otherwise.&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;&nbsp;&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:11.0pt&quot;&gt;Rolf&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
